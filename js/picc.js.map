{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/src/picc.js","js/src/d3.js","js/src/index.js","js/src/search.js","js/src/school.js","node_modules/querystring-es3/index.js","js/src/components/index.js","node_modules/querystring-es3/decode.js","node_modules/querystring-es3/encode.js","js/src/components/aria-accordion.js","js/src/components/picc-meter.js","js/src/components/picc-range.js","js/src/components/picc-slider.js","js/src/components/multi-select.js","js/src/components/compat/custom-event.js","node_modules/formdb/formdb.js","node_modules/aight/aight.js","node_modules/async/lib/async.js","node_modules/tagalong/index.js","node_modules/d3-selection/build/d3-selection.js","node_modules/d3-scale/build/d3-scale.js","node_modules/d3-format/build/d3-format.js","node_modules/d3-xhr/build/xhr.cjs.js","node_modules/process/browser.js","node_modules/document-register-element/build/document-register-element.js","node_modules/d3-scale/node_modules/d3-arrays/build/d3-arrays.js","node_modules/d3-scale/node_modules/d3-time/build/d3-time.js","node_modules/d3-xhr/node_modules/d3-arrays/build/arrays.cjs.js","node_modules/d3-xhr/node_modules/d3-dsv/build/dsv.js","node_modules/d3-color/build/d3-color.js","node_modules/d3-interpolate/build/d3-interpolate.js","node_modules/d3-time-format/build/d3-time-format.js","node_modules/d3-dispatch/build/d3-dispatch.js","node_modules/d3-array/build/d3-array.js"],"names":["getter","key","d","indexOf","bits","split","len","length","i","undefined","window","require","querystring","d3","async","formdb","picc","errors","NO_SCHOOL_ID","NO_SUCH_SCHOOL","RACE_ETHNICITY_LABELS","aian","asian","asian_pacific_islander","black","black_non_hispanic","hispanic","nhpi","non_resident_alien","two_or_more","unknown","white","white_non_hispanic","API","addAPIKey","params","param","collapseArrays","stringify","join","list","glue","str","String","charAt","substr","obj","Array","isArray","url","schoolEndpoint","idField","get","uri","done","arguments","console","info","json","error","data","endpoint","search","getSchool","id","res","meta","metadata","total","responseText","warn","results","getAll","urls","Object","keys","forEach","method","shift","push","apply","parallel","NA","format","formatter","fmt","_empty","round","match","empty","functor","access","v","value","call","this","isNaN","Math","map","fallback","range","ranges","dollars","percent","number","plural","singular","values","control","1","2","3","controlClass","preddeg","notEmpty","sizeCategory","Infinity","sizeCategoryClass","locale","11","12","13","21","22","23","31","32","33","41","42","43","localeClass","href","fields","ID","NAME","CITY","STATE","ZIP_CODE","SCHOOL_URL","LOCATION","OWNERSHIP","LOCALE","REGION_ID","RELIGIOUS","OPERATING","SIZE","ONLINE_ONLY","WOMEN_ONLY","MEN_ONLY","MINORITY_SERVING","PREDOMINANT_DEGREE","HIGHEST_DEGREE","UNDER_INVESTIGATION","NET_PRICE","NET_PRICE_BY_INCOME","COMPLETION_RATE","RETENTION_RATE","REPAYMENT_RATE","AVERAGE_TOTAL_DEBT","MONTHLY_LOAN_PAYMENT","AID_PERCENTAGE","PELL_PERCENTAGE","MEDIAN_EARNINGS","EARNINGS_GT_25K","PROGRAM_PERCENTAGE","PROGRAM_OFFERED","DEGREE_OFFERED","PART_TIME_SHARE","FEMALE_SHARE","RACE_ETHNICITY","AGE_ENTRY","ACT_25TH_PCTILE","ACT_75TH_PCTILE","ACT_MIDPOINT","SAT_CUMULATIVE_AVERAGE","SAT_READING_25TH_PCTILE","SAT_READING_75TH_PCTILE","SAT_READING_MIDPOINT","SAT_MATH_25TH_PCTILE","SAT_MATH_75TH_PCTILE","SAT_MATH_MIDPOINT","SAT_WRITING_25TH_PCTILE","SAT_WRITING_75TH_PCTILE","SAT_WRITING_MIDPOINT","NET_PRICE_CALC_URL","composed","key0","key1","key2","slice","_keys","_key","publicPrivate","ownership","yearDesignation","degree","nationalStat","stat","suffix","getAttribute","netPrice","netPriceByIncomeLevel","level","earningsMedian","earnings25k","completionRate","partTimeShare","retentionRate","retention","four_year","full_time","lt_four_year","size","location","specialDesignations","designations","SPECIAL_DESIGNATIONS","women_only","men_only","religious","RELIGIOUS_AFFILIATIONS_BY_NUMBER","minorityServing","programAreas","dictionary","field","programs","replace","dictKey","name","label","program","filter","nullify","template","_k","resolve","school","directives","BASE_URL","underInvestigation","@aria-hidden","flag","years","title","link","text","@href","school_link","share_link","encodeURIComponent","document","response_link","city","state","under_investigation","under_investigation2","size_number","@class","locale_name","size_category","special_designations","average_cost","average_cost_meter","@value","average","net_price_income1","net_price_income2","net_price_income3","net_price_income4","net_price_income5","advantage_rate","grad_rate","grad_rate_meter","average_salary","average_salary_meter","repayment_rate_percent","repayment_rate_meter","average_total_debt","average_monthly_loan_payment","federal_aid_percentage","pell_grant_percentage","earnings_gt_25k","earnings_gt_25k_meter","retention_rate_value","retention_rate_meter","full_time_percent","pt","part_time_percent","gender_values","female","race_ethnicity_values","available_programs","areas","sort","a","b","ascending","num_available_programs","popular_programs","sum","descending","programs_plural","age_entry","age","more_link","act_scores_visible","act_scores_invisible","act_scores","@lower","@upper","sat_reading_scores_visible","sat_reading_scores_invisible","sat_reading_scores","sat_math_scores_visible","sat_math_scores_invisible","sat_math_scores","sat_writing_scores_visible","sat_writing_scores_invisible","sat_writing_scores","net_price_calculator","form","mappings","advantage","salary","avg_net_price","completion_rate","public","private","profit","small","medium","large","minifyQueryString","Form","on","e","element","action","preventDefault","prepareParams","mapSize","mapControl","alias","median_earnings","monthly_payments","serving","query","zip","distance","rangify","region","major","subfield","k","extend","ui","expandAccordions","selector","expanded","selectAll","property","ready","callback","readyState","addEventListener","debounce","fn","delay","timeout","context","args","clearTimeout","setTimeout","delegate","root","qualify","event","listener","listeners","_listener","target","arg","Number","previous","min","max","pop","selectKeys","copy","tooltip","show","__tooltipShowTimeout","getElementById","parent","ref","querySelector","setAttribute","click","win","select","contains","hide","constrain","type","originalParent","appendChild","toggle","parentNode","removeChild","content","style","removeProperty","outer","getBoundingClientRect","rect","margin","offsetWidth","width","halfWidth","bump","left","leftEdge","right","rightEdge","innerWidth","bottom","height","above","innerHeight","classList","pages","index","described","body","hasAttribute","ontouchstart","focus","blur","mouseenter","mouseleave","__dragTimeout","add","remove","module","exports","d3Selection","d3Xhr","d3Array","scale","d3Format","x","d3Bundle","xhr","hash","tagalong","onChange","submit","updateDistanceDisabled","getData","_drawer","diffExcept","previousParams","page","qs","poppingState","alreadyLoaded","diff","history","pushState","replaceState","attr","req","abort","resultsRoot","incremental","paginator","time","bottomPaginator","timeEnd","showError","log","heading","results_word","results_total","perPage","per_page","getPages","@data-index","arrow","@data-page","innerHTML","pageLinks","_page","each","p","selected","set","change","resultsList","ie","removeAllChildren","numPages","ceil","next","MAX_PAGES","end","start","first","unshift","last","message","textContent","copyUnsetKeys","from","into","hasOwnProperty","updateSlider","input","lower","upper","dist","getInputsByName","disabled","scrollIntoView","node","lastChild","parse","documentMode","sliders","toggles","opened","close","keyCode","inputs","querySelectorAll","some","setData","hashChange","found","getSchoolId","container","createMap","lat","lon","center","L","latLng","zoomControl","panControl","attributionControl","dragging","scrollWheelZoom","touchZoom","doubleClickZoom","boxZoom","setView","tileLayer","addTo","attribution","position","prefix","addAttribution","marker","circle","color","opacity","strokeWidth","fillColor","fillOpacity","bindPopup","loadable","classed","referrer","averageLabels","below","about","icon","className","sections","concat","bars","datum","klass","toLowerCase","linear","domain","section","decode","encode","prop","prototype","sep","eq","options","regexp","maxKeys","kstr","vstr","idx","decodeURIComponent","xs","toString","f","stringifyPrimitive","isFinite","objectKeys","ks","getTrigger","trigger","getContent","contentId","getAriaBoolean","el","EXPANDED","HIDDEN","TOGGLE_EVENTS","ARIAAccordion","registerElement","create","HTMLElement","attachedCallback","__trigger","__content","nodeName","bind","toggleAndCancel","__toggleAndCancel","update","detachedCallback","removeEventListener","dispatchEvent","CustomEvent","open","deferUpdate","meter","__timeout","getAttr","getBar","bar","CLASS_PREFIX","createElement","getLine","line","num","NaN","classify","classes","PICCMeter","attributeChangedCallback","prev","setProperty","no_data","above_average","below_average","about_average","toFixed","numbers","lo","hi","__min","__max","__value","__average","ELEMENT_NAME","LABEL_TYPES","PICCRange","middle","span","__lower","__middle","__upper","button","__dragging","getClosestHandle","move","engage","getListener","keypress","release","handle","getMouseX","__left","step","roundTo","getSelection","removeAllRanges","err","removeAttribute","nudge","__right","proto","enumerable","createHandle","which","div","createLabel","createRange","createMark","getLabel","dl","abs","dr","touches","clientX","multiplier","clamp","formatDollars","n","roundFloat","formatPercent","PICCSlider","createdCallback","__range","__mark","enagage","mark","labels","nudgeThreshold","outerRect","onchange","__updating","getValue","multiselect","option","setValue","changed","reduce","bubbles","pollSourceSelect","__select","compare","removeEmptyOption","parseValues","nullish","ITEM_CLASS","MultiSelect","cloneNode","createTemplate","insertBefore","firstChild","__onchange","display","__pollID","setInterval","oldValue","newValue","items","__template","exit","enter","append","item","splice","html","createEvent","createCustomEvent","evt","cancelable","detail","initCustomEvent","Event","that","ARRAY","version","_inputs","_onClick","LISTENER_PROPERTY","getInputs","readInput","writeInput","reset","self","off","pressed","validInput","selectedIndex","checked","aight","aliasInterface","ns","expectedName","nonStandardName","commonEventLoop","currentTarget","$handlers","synthetic","continuePropagation","handlers","enrich","handler","handleEvent","stoppedImmediatePropagation","stoppedPropagation","defaultPrevented","commonDescriptor","configurable","commonTextContent","protoDest","protoSource","descriptor","getOwnPropertyDescriptor","defineProperty","eventPhase","find","array","getTextContent","tagName","textNode","arrayContent","nodeType","nextSibling","onReadyState","READYEVENTDISPATCHED","readyStateOK","test","detachEvent","ONREADYSTATECHANGE","initEvent","DOMCONTENTLOADED","setTextContent","createTextNode","verify","srcElement","fromElement","timeStamp","Date","getTime","nav","navigator","appName","appVersion","userAgent","parseFloat","browser","ie9","ie8","ie7","ie6","DUNNOABOUTDOMLOADED","SECRET","random","object","defineProperties","descriptors","o_O","ElementPrototype","Element","TextPrototype","Text","possiblyNativeEvent","types","HTMLCommentElement","HTMLScriptElement","HTMLTitleElement","HTMLStyleElement","styleSheet","CSSStyleSheet","firstElementChild","childNodes","lastElementChild","previousElementSibling","previousSibling","nextElementSibling","childElementCount","count","capture","ontype","temple","currentType","h","w","createEventObject","fireEvent","hasChildNodes","attachEvent","valid","XMLHttpRequest","writable","returnValue","stopPropagation","cancelBubble","stopImmediatePropagation","HTMLDocument","top","gonna","documentElement","doScroll","Class","Error","Window","getComputedStyle","ComputedStyle","_","PseudoComputedStyle","notpixel","re","place","$1","toUpperCase","getPropertyValue","result","rtLeft","currentStyle","runtimeStyle","pixelLeft","pseudo","textNodeIfString","mutationMacro","nodes","fragment","createDocumentFragment","head","verifyToken","DOMTokenList","__defineGetter__","trim","spaces","SPACE","token","force","Node","properties","matchesSelector","webkitMatchesSelector","khtmlMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matches","replaceWith","replaceChild","constructor","original","_svg","baseVal","j","getElementsByTagName","eventName","defaultInitDict","eventInitDict","CSSSDProto","bit","CSSStyleDeclaration","DocumentPrototype","createElementNS","addStyleSheet","ownerDocument","cssText","getElements","elements","html5","addElements","newElements","shivDocument","getExpandoData","expandoData","expando","expanID","supportsUnknownElements","cache","saveClones","createElem","canHaveChildren","reSkip","tagUrn","frag","clone","elems","l","shivMethods","createFrag","Function","shivCSS","supportsHtml5Styles","hasCSS","factory","define","amd","returnExports","toInteger","floor","isPrimitive","toPrimitive","val","valueOf","toStr","isFunction","TypeError","Empty","ArrayPrototype","ObjectPrototype","FunctionPrototype","StringPrototype","NumberPrototype","array_slice","array_splice","array_unshift","_toString","isRegex","isString","isArguments","isArgs","callee","supportsDescriptors","forceAssign","toObject","o","ToUint32","binder","bound","boundLength","boundArgs","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","owns","__defineSetter__","__lookupGetter__","__lookupSetter__","spliceNoopReturnsEmptyArray","deleteCount","spliceWorksWithEmptyObject","hasUnshiftReturnValueBug","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","__","fun","thisp","every","reduceCoercesToObject","___","reduceRightCoercesToObject","reduceRight","hasFirefox2IndexOfBug","sought","hasFirefox2LastIndexOfBug","lastIndexOf","hasDontEnumBug","propertyIsEnumerable","hasProtoEnumBug","dontEnums","dontEnumsLength","isFn","isObject","isStr","theKeys","skipProto","ctor","skipConstructor","dontEnum","keysWorksWithArguments","originalKeys","negativeDate","negativeYearString","hasNegativeDateBug","toISOString","year","month","RangeError","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","dateToJSONIsSupported","toJSON","toISO","tv","supportsExtendedYears","acceptsInvalidDates","doesNotParseY2KNewYear","NativeDate","Y","M","D","m","s","ms","date","dayFromMonth","t","months","toUTC","isoDateExpression","RegExp","now","UTC","string","exec","day","hour","minute","second","millisecond","isLocalTime","Boolean","signOffset","hourOffset","minuteOffset","hasToFixedBugs","toFixedHelpers","base","multiply","c","divide","numToString","pow","acc","fractionDigits","z","string_split","compliantExecNpcg","separator","limit","separator2","lastIndex","lastLength","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","source","str_replace","replaceReportsGroupsCorrectly","groups","group","searchValue","replaceValue","hasCapturingGroups","wrappedReplaceValue","originalLastIndex","string_substr","hasNegativeSubstrBug","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","parseInt","origParseInt","hexRegex","radix","doesGetOwnPropertyDescriptorWork","sentinel","exception","doesDefinePropertyWork","prototypeOfObject","getPrototypeOf","__proto__","getOwnPropertyDescriptorWorksOnObject","getOwnPropertyDescriptorWorksOnDom","getOwnPropertyDescriptorFallback","ERR_NON_OBJECT","notPrototypeOfObject","setter","getOwnPropertyNames","createEmpty","supportsProto","iframe","src","contentWindow","isPrototypeOf","toLocaleString","Type","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","definePropertiesFallback","ERR_NON_OBJECT_DESCRIPTOR","ERR_NON_OBJECT_TARGET","ERR_ACCESSORS_NOT_SUPPORTED","seal","freeze","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","noop","identity","toBool","notId","only_once","_once","_isArrayLike","arr","_isArray","_arrayEach","iterator","_map","_range","_reduce","memo","_forEachOf","_indexOf","_keyIterator","coll","_restParam","func","startIndex","rest","_withoutIndex","_eachOfLimit","nextKey","running","errored","replenish","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","_filter","_reject","cb","_createTester","check","getResult","iteratee","_findGetResult","_parallel","tasks","task","_concat","y","_queue","worker","concurrency","payload","_insert","q","pos","started","idle","setImmediate","drain","saturated","process","_next","workers","removed","workersList","paused","kill","pause","resume","resumeCount","_console_fn","_times","mapper","_applyEach","fns","go","ensureAsync","innerArgs","sync","previous_async","global","noConflict","_isObject","_setImmediate","_delay","nextTick","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","completed","iter","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","mapSeries","mapLimit","inject","foldl","foldr","reversed","reverse","transform","selectLimit","filterLimit","selectSeries","filterSeries","reject","rejectLimit","rejectSeries","any","someLimit","all","everyLimit","detect","detectSeries","detectLimit","sortBy","comparator","criteria","auto","addListener","removeListener","taskComplete","remainingTasks","runningTasks","hasError","requires","taskCallback","dep","safeResults","rkey","retry","times","parseTimes","DEFAULT_TIMES","interval","DEFAULT_INTERVAL","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","opts","attempts","series","waterfall","wrapIterator","parallelLimit","makeCallback","callArgs","concatSeries","whilst","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","priorityQueue","_compareTasks","priority","_binarySearch","sequence","beg","mid","cargo","dir","memoize","hasher","queues","has","memoized","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","constant","wrapSync","asyncify","then","bindObject","bindKey","bindArray","getChildren","ARRAY_TEMPLATE","nodeCount","dataCount","child","findKeyNode","bindScalar","getElementsByClassName","children","applyDirectives","interpolated","expandKeys","scalar","d3_selection","requote","requoteRe","selection_event","ancestor","ancestors","_parent","listenerOf","filterListenerOf","_capture","removeAll","_root","filterEvents","event1","event0","__data__","related","relatedTarget","compareDocumentPosition","sourceEvent","current","defaultView$1","defaultView","selection_dispatch","dispatchConstant","dispatchFunction","selection_datum","selection_remove","namespace","namespaces","space","local","selectorOf","selection_append","creator","insert","creatorOf","namespaceURI","creatorNS","selection_html","setConstant","setFunction","selection_text","selection_class","classedRe","classerOf","collapse","selection_property","selection_style","selection_attr","removeNS","removeAttributeNS","setConstantNS","setAttributeNS","setFunctionNS","getAttributeNS","selection_each","visit","depth","stack0","stack1","stack","_depth","selection_empty","selection_size","selection_node","firstNode","selection_nodes","selection_call","arrayify","selection","arrayifyNode","selection_sort","order","selection_order","orderNode","emptyOf","Selection","emptyNode","selection_exit","_exit","selection_enter","_enter","_update","selection_data","before","bindIndex","nodeLength","dataLength","minLength","EnterNode","keyValue","nodeByKeyValue","keyStack","keyValues","keyPrefix","valueOf_","selection_filter","subnodes","filterOf","selection_selectAll","subnode","selectorAllOf","selection_select","point","svg","ownerSVGElement","createSVGPoint","bug44083","scrollX","scrollY","padding","border","ctm","getScreenCTM","pageX","pageY","clientY","matrixTransform","inverse","clientLeft","clientTop","mouse","changedTouches","touch","identifier","points","xhtml","xlink","xml","xmlns","element$1","vendorMatches","class","dispatch","d3_scale","d3_color","d3_arrays","d3_interpolate","d3_format","d3_time_format","d3_time","d3Color","d3Arrays","d3Interpolate","d3TimeFormat","d3Time","steps","newOrdinal","ranger","rangeBand","xi","xk","rangePoints","stop","rangeRoundPoints","rangeBands","outerPadding","rangeRoundBands","rangeExtent","ordinal","category10","category20b","category20c","category20","nice","i0","i1","x0","x1","tickRange","LN10","e10","e5","e2","ticks","tickFormat$2","specifier","precisionFixed","formatSpecifier","precision","precisionPrefix","formatPrefix","precisionRound","uninterpolateClamp","uninterpolateNumber","bilinear","uninterpolate","interpolate","u","polylinear","bisect","newLinear","rescale","interpolateNumber","invert","rangeRound","interpolateRound","tickFormat","rebind","cubehelix","interpolateCubehelixLong","newIdentity","newLog","tickFormat10","tickFormatOther","newPow","exponent","powp","powb","sqrt","newQuantile","thresholds","quantile","quantiles","invertExtent","newQuantize","kx","quantize","rainbow","newThreshold","threshold","newDate","newTime","timeInterval","tickInterval","chooseTickInterval","t0","t1","bisectTickIntervals","tickIntervals","millisecondsPerYear","formatMillisecond","formatSecond","formatMinute","formatHour","week","formatDay","formatWeek","formatMonth","formatYear","getSeconds","getMinutes","getHours","getDate","getMonth","getFullYear","tickFormat$1","utcSecond","formatUTCMillisecond","utcMinute","formatUTCSecond","utcHour","formatUTCMinute","utcDay","formatUTCHour","utcMonth","utcWeek","formatUTCDay","formatUTCWeek","utcYear","formatUTCMonth","formatUTCYear","timeInterval$1","utcTime","utcFormat","millisecondsPerSecond","millisecondsPerMinute","millisecondsPerHour","millisecondsPerDay","millisecondsPerWeek","millisecondsPerMonth","bisector","formatDecimal","toExponential","coefficient","formatGroup","grouping","thousands","g","substring","formatPrefixAuto","prefixExponent","formatRounded","formatDefault","toPrecision","out","FormatSpecifier","fill","align","sign","symbol","zero","comma","formatTypes","currency","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","prefixes","decimal","localeFormat","definition","localeDefinitions","zhCn","svSe","ruRu","ptBr","plPl","nlNl","mkMk","koKr","jaJp","itIt","huHu","heIl","frFr","frCa","fiFi","esEs","enUs","enGb","enCa","deDe","deCh","caEs","","%","r","X","ca-ES","de-CH","de-DE","en-CA","en-GB","en-US","es-ES","fi-FI","fr-CA","fr-FR","he-IL","hu-HU","it-IT","ja-JP","ko-KR","mk-MK","nl-NL","pl-PL","pt-BR","ru-RU","sv-SE","zh-CN","defaultLocale","respond","status","request","hasResponse","response","load","mimeType","responseType","d3Dispatch","headers","XDomainRequest","onload","onerror","onreadystatechange","onprogress","progress","header","send","post","fixCallback","setRequestHeader","overrideMimeType","beforesend","xhrDsv","defaultMimeType","dsv","row","responseOf","xhrType","d3Dsv","tsv","csv","responseXML","JSON","createContextualFragment","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","env","argv","versions","once","removeAllListeners","emit","binding","cwd","chdir","umask","rt","vt","it","nt","ot","st","S","ut","at","attrChange","attrName","Q","prevValue","ft","lt","K","B","ct","G","ht","et","observe","J","Z","created","F","E","dt","tt","T","N","C","A","O","setPrototypeOf","mt","P","MutationObserver","WebKitMutationObserver","H","I","R","U","attributes","characterData","attributeOldValue","W","V","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","$","propertyName","addedNodes","removedNodes","attributeName","childList","subtree","innerHTMLHelper","ascendingComparator","variance","deviation","entries","extent","Map","mean","median","merge","arrays","merged","nest","createResult","setResult","rollup","sortValues","valuesByKey","sortKey","sortKeys","createObject","setObject","setMap","pairs","p0","p1","permute","indexes","permutes","Set","shuffle","transpose","matrix","ascendingBisect","bisectRight","bisectLeft","clear","newInterval","floori","offseti","d0","d1","offset","setTime","weekday","setHours","setDate","getDay","getTimezoneOffset","utcWeekday","setUTCHours","setUTCDate","getUTCDay","setMilliseconds","setSeconds","setMinutes","sunday","monday","tuesday","wednesday","thursday","friday","saturday","setMonth","setFullYear","setUTCMilliseconds","setUTCSeconds","setUTCMinutes","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","setUTCMonth","setUTCFullYear","milliseconds","seconds","minutes","hours","days","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","weeks","utcMillisecond","utcMilliseconds","utcSeconds","utcMinutes","utcHours","utcDays","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcWeeks","utcMonths","utcYears","transpose$1","values$1","range$1","pairs$1","nest$1","delimiter","parseRows","EOF","eol","EOL","delimiterCode","rows","formatRows","fieldSet","formatValue","formatRow","reFormat","Color","reHex3","rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reHslPercent","hsl","named","Rgb","Hsl","hsl2rgb","m1","m2","lab","Lab","Hcl","deg2rad","sin","cos","rgb2xyz","xyz2lab","Xn","Yn","Zn","t3","t2","lab2xyz","xyz2rgb","hcl","atan2","rad2deg","Cubehelix","BC_DA","ED","EB","bl","deltaHue","h1","h0","delta","interpolateCubehelixGamma","gamma","ah","as","al","bh","bs","interpolateCubehelixGammaLong","interpolateRgb","ar","ag","ab","br","bg","bb","interpolateHsl","interpolateHslLong","interpolateLab","aa","ba","interpolateHcl","ac","bc","interpolateHclLong","displayable","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellow","yellowgreen","darker","brighter","prototype$1","Kn","prototype$2","PI","prototype$3","prototype$4","cosh","sinh","interpolateCubehelix","interpolateArray","na","nb","n0","interpolateObject","interpolate0","interpolate1","interpolateString","am","bm","bi","reA","reB","interpolators","Transform","consolidate","r0","r1","normalize","kz","dot","ky","combine","rotate","translate","skew","interpolateTranslate","ta","tb","interpolateRotate","ra","rb","interpolateSkew","wa","wb","interpolateScale","ka","kb","interpolateTransform","exp","tanh","interpolateZoom","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","epsilon2","rho","b0","rho4","rho2","b1","coshr0","duration","SQRT2","localDate","utcDate","newYear","newFormat","formats","pad","pads","newParse","parseSpecifier","parses","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","parsePeriod","periodLookup","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","locale_months","formatPeriod","locale_periods","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCPeriod","dateTime","periods","shortDays","shortMonths","formatLookup","formatRe","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","names","numberRe","percentRe","getMilliseconds","formatIsoNative","locale$1","-","0","isoSpecifier","formatIso","isoFormat","d3_dispatch","Dispatch","parseType","callbacksByType","applier","callbackValue","callbacks","callbackByName","callback0","otherType","d3_array","number$1","tickStep","step0","step1","sturges","LN2","histogram","xz","tz","bin","bins","freedmanDiaconis","scott","scan","xj","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nif (typeof window !== 'undefined') {\n  // aight, for polyfilling common JS APIs\n  require('aight');\n  // web components\n  require('./components');\n}\n\nvar querystring = require('querystring');\nvar d3 = require('./d3');\nvar async = require('async');\nvar formdb = require('formdb');\n\n// create the global picc namespace\nvar picc = {};\n\npicc.d3 = d3;\n\n// common error messages\npicc.errors = {\n  NO_SCHOOL_ID: 'No school ID was provided.',\n  NO_SUCH_SCHOOL: 'No school found.'\n};\n\n// race-ethnicity labels\npicc.RACE_ETHNICITY_LABELS = {\n  aian:                   'American Indian/Alaska Native',\n  asian:                  'Asian',\n  asian_pacific_islander: 'Asian/Pacific Islander',\n  black:                  'Black',\n  black_non_hispanic:     'Black non-Hispanic',\n  hispanic:               'Hispanic',\n  nhpi:                   'Native Hawaiian/Pacific Islander',\n  non_resident_alien:     'Non-resident alien',\n  two_or_more:            'Two or more races',\n  unknown:                'Unknown',\n  white:                  'White',\n  white_non_hispanic:     'White non-Hispanic',\n};\n\n/**\n * picc.API is a singleton object with methods to query the open-data-maker\n * JSON API. Its base URL (`picc.API.url`) and API key (`picc.API.key`) are\n * filled in by Jekyll.\n *\n * All of the API's methods are asynchronous, and use \"error-first\"\n * (Node.js-style) callbacks:\n *\n * @example\n * picc.API.get('school', {id: 100}, function(error, res) {\n *   // error is an XMLHttpRequest object\n *   if (error) return alert(\"Error: \" + error.responseText);\n *   console.log('got data:', res);\n * });\n *\n */\npicc.API = (function() {\n  var API = {\n    url: '/api/v1/',\n    key: ''\n  };\n\n  // local alias for errors\n  var errors = picc.errors;\n\n  // the API endpoint (URI) at which to find school data\n  var schoolEndpoint = 'schools/';\n\n  // the school's primary key field\n  var idField = 'id';\n\n  /**\n   * get an endpoint with optional query string parameters, and call the\n   * `callback` function when the response is completed.\n   *\n   * @param {String}          uri       the URI to request, relative to\n   *                                    `picc.API.url`\n   * @param {String|Object?}  params    query string\n   * @param {Function}        callback  the error-first callback:\n   *                                    `callback(error, response)`\n   * @return {Object} the d3.xhr() wrapper object\n   */\n  API.get = function(uri, params, done) {\n    // console.info('[API] get(\"%s\", %s)', uri, JSON.stringify(params));\n    if (arguments.length === 2) {\n      done = params;\n      params = addAPIKey({});\n    } else if (params) {\n      params = addAPIKey(params);\n    }\n    if (params) uri = join([uri, params], '?');\n    var url = API.url ? join([API.url, uri], '/') : uri;\n    console.info('[API] get: \"%s\"', url);\n    return d3.json(url, function(error, data) {\n      if (data && data.errors && data.errors.length) {\n        error = data.errors[0];\n      }\n      return done(error, data);\n    });\n  };\n\n  /**\n   * Generate an endpoint function that hits a fixed URI.\n   *\n   * @example\n   * API.search = API.endpoint('search/');\n   *\n   * @param {String}    uri\n   * @return {Function} a function that calls `picc.API.get(uri)` with the\n   *                    provided parameters and callback.\n   */\n  API.endpoint = function(uri) {\n    return function endpoint(params, done) {\n      return API.get(uri, params, done);\n    };\n  };\n\n  // the search endpoint\n  API.search = API.endpoint(schoolEndpoint);\n\n  /**\n   * A helper function to get data for a single school.\n   *\n   * @param {String|Number} id  the school primary key identifier\n   * @param {Function} callback the callback function, as in\n   *                            `picc.API.get()`, that receives a single\n   *                            school's data as its second parameter on\n   *                            success.\n   */\n  API.getSchool = function(id, done) {\n    var params = {};\n    params[idField] = id;\n    return API.get(schoolEndpoint, params, function(error, res) {\n      var meta = res.metadata || res;\n      if (error || !meta.total) {\n        return done(error\n          ? error.responseText || error || errors.NO_SUCH_SCHOOL\n          : errors.NO_SUCH_SCHOOL);\n      } else if (res.total > 1) {\n        console.warn('More than one school found for ID: \"' + id + '\"');\n      }\n      return done(null, res.results[0]);\n    });\n  };\n\n  /**\n   * Get multiple URIs specified as an object, and call the `callback`\n   * function with a similarly structured object containing data for each\n   * URI.\n   *\n   * @example\n   * picc.API.getAll({\n   *   metadata: 'data.json',\n   *   school: [picc.API.getSchool, 100]\n   * }, function(error, data) {\n   *   console.log('got metadata:', data.metadata);\n   *   console.log('got school:', data.school);\n   * });\n   *\n   * @param {Object}    urls      a map of properties to either URIs or\n   *                              Arrays, in which the first element is the\n   *                              function to call and the rest are arguments.\n   * @param {Function}  callback  the callback function:\n   *                              `callback(error, data)`\n   */\n  API.getAll = function(urls, done) {\n    Object.keys(urls).forEach(function(key) {\n      var url = urls[key];\n      urls[key] = Array.isArray(url)\n        ? function(done) {\n          var method = url.shift();\n          if (typeof method === 'string') {\n            method = API[method];\n          }\n          url.push(done);\n          return method.apply(API, url);\n        }\n        : function(done) {\n          return API.get(url, done);\n        };\n    });\n    // console.log('getAll:', urls);\n    return async.parallel(urls, done);\n  };\n\n  /**\n   * add the API key (if set) to either an object or string of query\n   * parameters, and return the parameters as a query string.\n   *\n   * @param {String|Object} params\n   * @return {String}\n   */\n  function addAPIKey(params) {\n    var param = 'api_key';\n    if (typeof params === 'object') {\n      if (API.key) params[param] = API.key;\n      // collapse arrays into comma-separated strings\n      // per the API\n      collapseArrays(params);\n      params = querystring.stringify(params);\n    } else if (API.key) {\n      params += ['&', param, '=', API.key].join('');\n    }\n    return params;\n  }\n\n  /**\n   * Join an array of strings with a `glue` string and de-dupe repeated glue\n   * strings.\n   *\n   * @param {Array} list\n   * @param {String} glue\n   * @return {String}\n   */\n  function join(list, glue) {\n    for (var i = 0; i < list.length; i++) {\n      var str = String(list[i]);\n      if (str.charAt(0) === glue) {\n        list[i] = str.substr(1);\n      } else if (str.charAt(str.length - 1) === glue) {\n        list[i] = str.substr(0, str.length - 1);\n      }\n    }\n    return list.join(glue);\n  }\n\n  /**\n   * Iterate over the keys of an `object` and replace any that have Array\n   * values with strings joined with `glue`.\n   *\n   * @param {Object} obj\n   * @param {String?} glue\n   * @return {Object} the original object\n   */\n  function collapseArrays(obj, glue) {\n    if (!glue) glue = ',';\n    for (var key in obj) {\n      if (Array.isArray(obj[key])) {\n        obj[key] = obj[key].join(glue);\n      }\n    }\n    return obj;\n  }\n\n  return API;\n})();\n\n// this is our \"n/a\" string that we display for null numeric values\nvar NA = '--';\n\n/**\n * This is our format generator. Its methods are format generators for\n * specific types of values, and they take a key in the data object to\n * format. For instance:\n *\n * @example\n * var formatFoo = format.percent('foo');\n * formatFoo({foo: 0.5}) -> '50%'\n */\npicc.format = (function() {\n  var formatter = function(fmt, _empty) {\n    var round = false;\n    if (typeof fmt === 'string') {\n      round = !!fmt.match(/d$/);\n      fmt = d3.format(fmt);\n    }\n    return function(key, empty) {\n      empty = empty || _empty;\n      if (typeof empty === 'string') {\n        empty = d3.functor(empty);\n      }\n      key = key\n        ? picc.access(key)\n        : function(v) { return v; };\n      return function(d) {\n        var value = key.call(this, d);\n        if (empty && value === '' || isNaN(String(value))) {\n          return empty.call(d);\n        }\n        if (round) value = Math.round(value);\n        return fmt.call(d, value, key);\n      };\n    };\n  };\n\n  var map = function(keys, fallback) {\n    return function(key) {\n      return keys[key] || fallback;\n    };\n  };\n\n  var range = function(ranges) {\n    var len = ranges.length;\n    var i;\n    return function(value) {\n      value = +value;\n      for (i = 0; i < len; i++) {\n        var range = ranges[i];\n        if (value >= range[0] && value < range[1]) {\n          return range[2];\n        }\n      }\n    };\n  };\n\n  return {\n    // format.dollars('x')({x: 1000}) === '$1,000'\n    dollars: formatter('$,d', NA),\n    // format.percent('y')({x: 1000}) === '$1,000'\n    percent: formatter('.0%', NA),\n    number: formatter(',d', NA),\n\n    // format.plural('x', 'foo')({x: 1}) === 'foo'\n    // format.plural('x', 'foo')({x: 2}) === 'foos'\n    plural: function(key, singular, plural) {\n      key = picc.access(key);\n      if (!plural) plural = singular + 's';\n      return function(d) {\n        return key.call(this, d) == 1 ? singular : plural;\n      };\n    },\n\n    // format.map('x', {1: 'a'})({x: 1}) === 'a'\n    map: function(key, values, empty) {\n      return formatter(map(values))\n        .call(this, key, empty);\n    },\n\n    // format.control('control')({control: 1}) === 'Public'\n    // format.control('control')({control: 2}) === 'Private non-profit'\n    control: formatter(map({\n      '1': 'Public',\n      '2': 'Private',\n      '3': 'For-Profit'\n    }, 'control unknown')),\n\n    controlClass: formatter(map({\n      '1': 'icon-public',\n      '2': 'icon-private',\n      '3': 'icon-profit'\n    }, '')),\n\n    // format.preddeg('deg')({deg: 2}) === '2-year'\n    // format.preddeg('deg')({deg: 3}) === '4-year'\n    preddeg: formatter(map({\n      //'1': 'Certificate',\n      '2': '2',\n      '3': '4',\n      //'4': 'Graduate'\n    }, '')),\n\n    empty: function(key) {\n      key = picc.access(key);\n      return function(d) {\n        return !key.call(this, d);\n      };\n    },\n\n    notEmpty: function(key) {\n      key = picc.access(key);\n      return function(d) {\n        return !!key.call(this, d);\n      };\n    },\n\n    sizeCategory: formatter(range([\n      [0, 2000, 'Small'],\n      [2000, 15000, 'Medium'],\n      [15000, Infinity, 'Large']\n    ]), 'size unknown'),\n\n    sizeCategoryClass: formatter(range([\n      [0, 2000, 'icon-small'],\n      [2000, 15000, 'icon-medium'],\n      [15000, Infinity, 'icon-large']\n    ]), ''),\n\n    // format.locale('locale')({locale: 11}) === 'City: Large'\n    locale: formatter(map({\n      // '11': 'City: Large',\n      // '12': 'City: Midsize',\n      // '13': 'City: Small',\n      // '21': 'Suburb: Large',\n      // '22': 'Suburb: Midsize',\n      // '23': 'Suburb: Small',\n      // '31': 'Town: Fringe',\n      // '32': 'Town: Distant',\n      // '33': 'Town: Remote',\n      // '41': 'Rural: Fringe',\n      // '42': 'Rural: Distant',\n      // '43': 'Rural: Remote'\n      '11': 'City',\n      '12': 'City',\n      '13': 'City',\n      '21': 'Suburban',\n      '22': 'Suburban',\n      '23': 'Suburban',\n      '31': 'Town',\n      '32': 'Town',\n      '33': 'Town',\n      '41': 'Rural',\n      '42': 'Rural',\n      '43': 'Rural'\n    }, 'locale unknown')),\n\n    localeClass: formatter(map({\n      '11': 'icon-city',\n      '12': 'icon-city',\n      '13': 'icon-city',\n      '21': 'icon-suburban',\n      '22': 'icon-suburban',\n      '23': 'icon-suburban',\n      '31': 'icon-town',\n      '32': 'icon-town',\n      '33': 'icon-town',\n      '41': 'icon-rural',\n      '42': 'icon-rural',\n      '43': 'icon-rural'\n    }, '')),\n\n    href: function(key) {\n      key = picc.access(key);\n      return function(d) {\n        var url = key.call(this, d);\n        if (!url) return null;\n        else if (String(url).indexOf('http') !== 0) {\n          return 'http://' + url;\n        } else {\n          return url;\n        }\n      };\n    },\n\n  };\n})();\n\n\npicc.fields = {\n  ID:                   'id',\n  NAME:                 'school.name',\n  CITY:                 'school.city',\n  STATE:                'school.state',\n  ZIP_CODE:             'school.zip',\n\n  SCHOOL_URL:           'school.school_url',\n\n  LOCATION:             'location',\n  OWNERSHIP:            'school.ownership',\n  LOCALE:               'school.locale',\n  REGION_ID:            'school.region_id',\n\n  RELIGIOUS:            'school.religious_affiliation',\n  OPERATING:            'school.operating',\n\n  SIZE:                 '2013.student.size',\n  ONLINE_ONLY:          'school.online_only',\n\n  WOMEN_ONLY:           'school.women_only',\n  MEN_ONLY:             'school.men_only',\n  MINORITY_SERVING:     'school.minority_serving',\n\n  PREDOMINANT_DEGREE:   'school.degrees_awarded.predominant',\n  HIGHEST_DEGREE:   'school.degrees_awarded.highest',\n  UNDER_INVESTIGATION:  'school.under_investigation',\n\n  // net price\n  NET_PRICE:            '2013.cost.avg_net_price.overall',\n  NET_PRICE_BY_INCOME:  '2013.cost.net_price',\n\n  // completion rate\n  COMPLETION_RATE:      '2013.completion.rate_suppressed.overall',\n\n  RETENTION_RATE:       '2013.student.retention_rate',\n\n  REPAYMENT_RATE:       '2013.repayment.3_yr_repayment_suppressed.overall',\n\n  AVERAGE_TOTAL_DEBT:   '2013.aid.median_debt_suppressed.completers.overall',\n  MONTHLY_LOAN_PAYMENT: '2013.aid.median_debt_suppressed.completers.monthly_payments',\n\n  AID_PERCENTAGE:       '2013.aid.federal_loan_rate',\n  PELL_PERCENTAGE:      '2013.aid.pell_grant_rate',\n\n  MEDIAN_EARNINGS:      '2011.earnings.10_yrs_after_entry.median',\n\n  EARNINGS_GT_25K:      '2011.earnings.6_yrs_after_entry.percent_greater_than_25000',\n\n  PROGRAM_PERCENTAGE:   '2013.academics.program_percentage',\n  PROGRAM_OFFERED:      '2013.academics.program',\n  DEGREE_OFFERED:       '2013.academics.program_available',\n\n  PART_TIME_SHARE:      '2013.student.part_time_share',\n  FEMALE_SHARE:         '2013.student.demographics.female_share',\n  RACE_ETHNICITY:       '2013.student.demographics.race_ethnicity',\n  AGE_ENTRY:            '2013.student.demographics.age_entry',\n\n  ACT_25TH_PCTILE:      '2013.admissions.act_scores.25th_percentile.cumulative',\n  ACT_75TH_PCTILE:      '2013.admissions.act_scores.75th_percentile.cumulative',\n  ACT_MIDPOINT:         '2013.admissions.act_scores.midpoint.cumulative',\n\n  SAT_CUMULATIVE_AVERAGE:   '2013.admissions.sat_scores.average.overall',\n\n  SAT_READING_25TH_PCTILE:  '2013.admissions.sat_scores.25th_percentile.critical_reading',\n  SAT_READING_75TH_PCTILE:  '2013.admissions.sat_scores.75th_percentile.critical_reading',\n  SAT_READING_MIDPOINT:     '2013.admissions.sat_scores.midpoint.critical_reading',\n\n  SAT_MATH_25TH_PCTILE:     '2013.admissions.sat_scores.25th_percentile.math',\n  SAT_MATH_75TH_PCTILE:     '2013.admissions.sat_scores.75th_percentile.math',\n  SAT_MATH_MIDPOINT:        '2013.admissions.sat_scores.midpoint.math',\n\n  SAT_WRITING_25TH_PCTILE:  '2013.admissions.sat_scores.25th_percentile.writing',\n  SAT_WRITING_75TH_PCTILE:  '2013.admissions.sat_scores.75th_percentile.writing',\n  SAT_WRITING_MIDPOINT:     '2013.admissions.sat_scores.midpoint.writing',\n\n  NET_PRICE_CALC_URL:       'school.price_calculator_url'\n};\n\npicc.access = function(key) {\n  return (typeof key === 'function')\n    ? key\n    : getter(key);\n};\n\nfunction getter(key) {\n  if (typeof key !== 'string') {\n    return function(d) { return d[key]; };\n  }\n  if (key.indexOf('.') > -1) {\n    var bits = key.split('.');\n    var len = bits.length;\n    return function(d) {\n      if (key in d) return d[key];\n      for (var i = 0; i < len; i++) {\n        d = d[bits[i]];\n        if (d === null || d === undefined) return d;\n      }\n      return d;\n    };\n  }\n  return function(d) { return d[key]; };\n}\n\n/**\n * This is a function composer for nested field accessors. It\n * takes an arbitrary number of arugments that may be strings,\n * integers or functions; the latter of which is evaluated to\n * get a *key* into the current nested object. E.g.:\n *\n * @example\n * var f = picc.access.composed('foo', picc.access.yearDesignation);\n * assert.equal({common_degree: '2', {foo: {lt_four_year: 1}}}, 1);\n * assert.equal({common_degree: '3', {foo: {four_year: 1}}}, 1);\n *\n * @argument ... key\n * @return {*}\n */\npicc.access.composed = function(key0, key1, key2) {\n  var keys = [].slice.call(arguments);\n  var len = keys.length;\n  return function nested(d) {\n\n    var _keys = keys.map(function(key) {\n      return (typeof key === 'function')\n        ? key.call(this, d)\n        : key;\n    }, this);\n\n    var _key = _keys.join('.');\n    // console.log('_key:', _key);\n    if (_key in d) return d[_key];\n\n    var value = d;\n    for (var i = 0; i < len; i++) {\n      var key = keys[i];\n      if (typeof key === 'function') {\n        key = key.call(this, d);\n        if (key === null) return key;\n      }\n      value = getter(key)(value);\n      if (value === undefined || value === null) break;\n    }\n    return value;\n  };\n};\n\npicc.access.publicPrivate = function(d) {\n  var ownership = picc.access(picc.fields.OWNERSHIP)(d);\n  switch (+ownership) {\n    case 1: // public\n      return 'public';\n\n    case 2: // private\n    case 3:\n      return 'private';\n  }\n  return null;\n};\n\npicc.access.yearDesignation = function(d) {\n  var degree = picc.access(picc.fields.PREDOMINANT_DEGREE)(d);\n  switch (+degree) {\n    case 2: // 2-year (AKA less than 4-year)\n      return 'lt_four_year';\n    case 3: // 4-year\n      return 'four_year';\n  }\n  return null;\n};\n\npicc.access.nationalStat = function(stat, suffix) {\n  if (suffix) {\n    suffix = picc.access(suffix);\n    return function(d) {\n      var key = suffix.apply(this, arguments);\n      return this.getAttribute([\n        'data', stat, key\n      ].join('-'));\n    };\n  } else {\n    return function() {\n      return this.getAttribute('data-' + stat);\n    };\n  }\n};\n\npicc.access.netPrice = picc.access.composed(\n  picc.fields.NET_PRICE\n);\n\npicc.access.netPriceByIncomeLevel = function(level) {\n  return picc.access.composed(\n    picc.fields.NET_PRICE_BY_INCOME,\n    picc.access.publicPrivate,\n    'by_income_level',\n    level\n  );\n};\n\n\n/*\n// XXX this version of the median earnings accessor stringifies a\n// numeric earnings value so that the old version of tagalong\n// we're using doesn't treat 0 as empty\npicc.access.earningsMedian = function(d) {\n  var value = picc.access(picc.fields.MEDIAN_EARNINGS)(d);\n  return typeof value === 'number'\n    ? String(value)\n    : value;\n};\n*/\n\npicc.access.earningsMedian = picc.access.composed(\n  picc.fields.MEDIAN_EARNINGS\n);\n\npicc.access.earnings25k = picc.access.composed(\n  picc.fields.EARNINGS_GT_25K\n);\n\npicc.access.completionRate = picc.access.composed(\n  picc.fields.COMPLETION_RATE\n);\n\npicc.access.partTimeShare = picc.access.composed(\n  picc.fields.PART_TIME_SHARE\n);\n\n// only use full-time retention rate, branching on year designation\npicc.access.retentionRate = function(d) {\n  var retention = picc.access(picc.fields.RETENTION_RATE)(d);\n  /* jshint ignore:start */\n  return retention.four_year.full_time || retention.lt_four_year.full_time;\n  /* jshint ignore:end */\n};\n\npicc.access.size = picc.access.composed(\n  picc.fields.SIZE\n);\n\npicc.access.location = picc.access(picc.fields.LOCATION);\n\n/**\n * Returns an array of special designation strings for a given school object.\n *\n * @param {Object} school the school data object\n * @return {Array} an array of human-readable strings\n */\npicc.access.specialDesignations = function(d) {\n  var designations = [];\n  var SPECIAL_DESIGNATIONS = picc.SPECIAL_DESIGNATIONS || {};\n\n  if (+picc.access(picc.fields.WOMEN_ONLY)(d)) {\n    designations.push(SPECIAL_DESIGNATIONS.women_only);\n  } else if (+picc.access(picc.fields.MEN_ONLY)(d)) {\n    designations.push(SPECIAL_DESIGNATIONS.men_only);\n  }\n\n  var religious = picc.access(picc.fields.RELIGIOUS)(d);\n  if (religious in picc.RELIGIOUS_AFFILIATIONS_BY_NUMBER) {\n    designations.push(picc.RELIGIOUS_AFFILIATIONS_BY_NUMBER[religious]);\n  }\n\n  var minorityServing = picc.access(picc.fields.MINORITY_SERVING)(d);\n  if (minorityServing) {\n    for (var key in SPECIAL_DESIGNATIONS) {\n      if (+minorityServing[key]) {\n        designations.push(SPECIAL_DESIGNATIONS[key]);\n      }\n    }\n  }\n\n  return designations;\n};\n\n/**\n * Returns an array of program areas for a given school object from the API.\n *\n * @param {Object}  school    the school data object\n * @param {Object?} metadata  the optional API metadata object. If this is\n *                            falsy, we look for metadata in `school.metadata`.\n * @return {Array}  an Array of Objects, each with `program` (the name) and\n *                  `percent` (a decimal number or string representing its\n *                  share of student enrollment) properties.\n */\npicc.access.programAreas = function(d, metadata) {\n  if (!metadata) metadata = d.metadata;\n  if (!metadata || !metadata.dictionary) return [];\n\n  var dictionary = metadata.dictionary;\n  var field = picc.fields.PROGRAM_PERCENTAGE;\n  var programs = picc.access(field)(d);\n  if (!programs) return [];\n  // remove the year prefix\n  field = field.replace(/^\\d+\\./, '');\n  return Object.keys(programs || {})\n    .map(function(key) {\n      var value = programs[key];\n      var dictKey = [field, key].join('.');\n      var name = dictionary[dictKey]\n        ? (dictionary[dictKey].label || key)\n        : key;\n      return {\n        program: name,\n        percent: value\n      };\n    })\n    .filter(function(d) {\n      return +d.percent > 0;\n    });\n};\n\n/**\n * @param {*} value\n * @return {*} `null` if `value === \"NULL\"`, otherwise the value as-is.\n */\npicc.nullify = function(value) {\n  return value === 'NULL' ? null : value;\n};\n\npicc.template = function(template) {\n  template = String(template);\n  return function(data) {\n    return template.replace(/{\\s*(\\w+)\\s*}/g, function(_k, key) {\n      return picc.access(key)(data);\n    });\n  };\n};\n\npicc.template.resolve = function(template, data) {\n  return picc.template(template).call(this, data);\n};\n\n// namespace for school-related stuff\npicc.school = {};\n\n/**\n * Common directives for school templates, for use with tagalong.\n */\npicc.school.directives = (function() {\n  var access = picc.access;\n  var format = picc.format;\n  var percent = format.percent();\n  var fields = picc.fields;\n\n  var href = function(d) {\n    var name = access(fields.NAME)(d);\n    name = name ? name.replace(/\\W+/g, '-') : '(unknown)';\n    return [\n      picc.BASE_URL, '/school/?',\n      d.id, '-', name\n    ].join('');\n  };\n\n  var underInvestigation = {\n    '@aria-hidden': function(d) {\n      var flag = access(fields.UNDER_INVESTIGATION)(d);\n      return +flag !== 1;\n    }\n  };\n\n  var years = format.preddeg(fields.PREDOMINANT_DEGREE);\n\n  return {\n    title: {\n      link: {\n        text: access(fields.NAME),\n        '@href': href\n      }\n    },\n\n    school_link: {\n      '@href':  format.href(fields.SCHOOL_URL),\n      text: function(d) {\n        var url = picc.access(fields.SCHOOL_URL)(d);\n        if (!url) return url;\n        // grab the domain, strip the leading \"www.\"\n        return url.split('/').shift().replace(/^www\\./, '');\n      }\n    },\n\n    share_link: {\n      '@href': function(d) {\n        return picc.template.resolve(\n          this.getAttribute('data-href'),\n          {url: encodeURIComponent(document.location.href)}\n        );\n      }\n    },\n\n    response_link: {\n      '@href': function(d) {\n        var href = format.href(fields.SCHOOL_URL)(d);\n        if (href) {\n          var suffix = '/CollegeScorecard';\n          if (href.substr(-1) === '/') {\n            href += suffix.substr(1);\n          } else {\n            href += suffix;\n          }\n          return href;\n        }\n        return '';\n      }\n    },\n\n    name:           access(fields.NAME),\n    city:           access(fields.CITY),\n    state:          access(fields.STATE),\n\n    under_investigation: underInvestigation,\n\n    // FIXME this is a hack to deal with the issue of tagalong\n    // not applying a directive to multiple elements\n    under_investigation2: underInvestigation,\n\n    size_number:    format.number(fields.SIZE),\n    control: {\n      '@class': format.controlClass(fields.OWNERSHIP),\n      value: format.control(fields.OWNERSHIP)\n    },\n    locale_name: {\n      '@class': format.localeClass(fields.LOCALE),\n      value: format.locale(fields.LOCALE)\n    },\n\n    years: {\n      '@class': function(d) {\n        return years(d) ? 'n-year' : 'certificate';\n      },\n      number: years,\n      label: function(d) {\n        return years(d) ? 'Year' : 'Certificate';\n      }\n    },\n\n    size_category: {\n      '@class': format.sizeCategoryClass(fields.SIZE),\n      value: format.sizeCategory(fields.SIZE)\n    },\n\n    // this is a direct accessor because some designations\n    // (e.g. `women_only`) are at the object root, rather than\n    // nested in `minority_serving`.\n    special_designations: access.specialDesignations,\n\n    average_cost: format.dollars(access.netPrice),\n    average_cost_meter: {\n      // '@max':     access.nationalStat('max', access.publicPrivate),\n      // '@average': access.nationalStat('median', access.publicPrivate),\n      '@value':   access.netPrice,\n      label:      format.dollars(function() { return this.average; })\n    },\n\n    // income level net price stats\n    net_price_income1: format.dollars(access.netPriceByIncomeLevel('0-30000')),\n    net_price_income2: format.dollars(access.netPriceByIncomeLevel('30001-48000')),\n    net_price_income3: format.dollars(access.netPriceByIncomeLevel('48001-75000')),\n    net_price_income4: format.dollars(access.netPriceByIncomeLevel('75001-110000')),\n    net_price_income5: format.dollars(access.netPriceByIncomeLevel('110001-plus')),\n\n    advantage_rate: format.percent(fields.EARNINGS_GT_25K),\n\n    grad_rate: format.percent(access.completionRate),\n    grad_rate_meter: {\n      // '@average': access.nationalStat('median', access.yearDesignation),\n      '@value':   access.completionRate,\n      label:      format.percent(function() { return this.average; })\n    },\n\n    average_salary: format.dollars(access.earningsMedian),\n    average_salary_meter: {\n      '@value': access.earningsMedian,\n      // '@average': access.nationalStat('median', access.yearDesignation),\n      label:    format.dollars(function() { return this.average; })\n    },\n\n    repayment_rate_percent: format.percent(fields.REPAYMENT_RATE),\n    repayment_rate_meter: {\n      '@value': access(fields.REPAYMENT_RATE),\n      // '@average': access.nationalStat('median', access.yearDesignation),\n      label:    format.percent(function() { return this.average; })\n    },\n\n    average_total_debt: format.dollars(fields.AVERAGE_TOTAL_DEBT),\n    average_monthly_loan_payment: format.dollars(fields.MONTHLY_LOAN_PAYMENT),\n\n    federal_aid_percentage: format.percent(fields.AID_PERCENTAGE),\n    pell_grant_percentage: format.percent(fields.PELL_PERCENTAGE),\n\n    earnings_gt_25k: format.percent(access.earnings25k),\n    earnings_gt_25k_meter: {\n      '@value': access.earnings25k,\n      label:    format.percent(function() { return this.average; })\n    },\n\n    retention_rate_value: format.percent(access.retentionRate),\n    retention_rate_meter: {\n      '@value': access.retentionRate,\n      label:    format.percent(function() { return this.average; })\n    },\n\n    full_time_percent: format.number(function(d) {\n      var pt = access.partTimeShare(d);\n      return pt === null ? null : 100 * (1 - pt);\n    }),\n\n    part_time_percent: format.number(function(d) {\n      var pt = access.partTimeShare(d);\n      return pt === null ? null : 100 * pt;\n    }),\n\n    gender_values: function(d) {\n      var female = access(fields.FEMALE_SHARE)(d);\n      if (female === null) return [];\n      female = +female;\n      return [\n        {label: 'Female', value: female, percent: percent(female)},\n        {label: 'Male', value: 1 - female, percent: percent(1 - female)}\n      ];\n    },\n\n    race_ethnicity_values: function(d) {\n      if (!d.metadata) return [];\n      var values = access(fields.RACE_ETHNICITY)(d);\n      if (!values) return [];\n      return Object.keys(values)\n        .map(function(key) {\n          var value = picc.nullify(values[key]);\n          var label = picc.RACE_ETHNICITY_LABELS[key] || key;\n          return {\n            key:      key,\n            label:    label,\n            value:    value,\n            percent:  value >= .005\n              ? percent(value)\n              : '<1%'\n          };\n        })\n        .filter(function(d) {\n          return d.value > 0;\n        });\n    },\n\n    available_programs: function(d) {\n      var areas = access.programAreas(d);\n      return areas\n        .sort(function(a, b) {\n          return d3.ascending(a.program, b.program);\n        });\n    },\n\n    num_available_programs: format.number(function(d) {\n      return access.programAreas(d).length;\n    }),\n\n    popular_programs: function(d) {\n      var areas = access.programAreas(d);\n      if (areas.length) {\n        var total = d3.sum(areas, picc.access('percent'));\n        areas.forEach(function(d) {\n          d.value = +d.percent / total;\n          d.percent = percent(d.value);\n        });\n      }\n      return areas\n        .sort(function(a, b) {\n          return d3.descending(a.value, b.value);\n        })\n        .slice(0, 5);\n    },\n\n    programs_plural: format.plural(function(d) {\n      return access.programAreas(d).length;\n    }, 'Program'),\n\n    age_entry: function(d) {\n      var age = picc.access(fields.AGE_ENTRY)(d);\n      return age ? age : NA;\n    },\n\n    more_link: {\n      '@href': href\n    },\n\n    act_scores_visible: {\n      '@aria-hidden': format.empty(fields.ACT_MIDPOINT),\n    },\n    act_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.ACT_MIDPOINT),\n    },\n    act_scores: {\n      '@lower': access(fields.ACT_25TH_PCTILE),\n      '@upper': access(fields.ACT_75TH_PCTILE),\n      // '@middle': access(fields.ACT_MIDPOINT),\n    },\n\n    sat_reading_scores_visible: {\n      '@aria-hidden': format.empty(fields.SAT_READING_MIDPOINT),\n    },\n    sat_reading_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.SAT_READING_MIDPOINT),\n    },\n    sat_reading_scores: {\n      '@lower': access(fields.SAT_READING_25TH_PCTILE),\n      '@upper': access(fields.SAT_READING_75TH_PCTILE),\n      // '@middle': access(fields.SAT_READING_MIDPOINT),\n    },\n\n    sat_math_scores_visible: {\n      '@aria-hidden': format.empty(fields.SAT_MATH_MIDPOINT),\n    },\n    sat_math_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.SAT_MATH_MIDPOINT),\n    },\n    sat_math_scores: {\n      '@lower': access(fields.SAT_MATH_25TH_PCTILE),\n      '@upper': access(fields.SAT_MATH_75TH_PCTILE),\n      // '@middle': access(fields.SAT_MATH_MIDPOINT),\n    },\n\n    sat_writing_scores_visible: {\n      '@aria-hidden': format.empty(fields.SAT_WRITING_MIDPOINT),\n    },\n    sat_writing_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.SAT_WRITING_MIDPOINT),\n    },\n    sat_writing_scores: {\n      '@lower': access(fields.SAT_WRITING_25TH_PCTILE),\n      '@upper': access(fields.SAT_WRITING_75TH_PCTILE),\n      // '@middle': access(fields.SAT_WRITING_MIDPOINT),\n    },\n\n    net_price_calculator: {\n      '@href': format.href(fields.NET_PRICE_CALC_URL)\n    }\n  };\n\n})();\n\n\n// form utilities\npicc.form = {};\n\n/**\n * These are mappings of values for common form fields from\n * URL- (and human-) friendly values to ones that the API\n * recognizes.\n */\npicc.form.mappings = {\n  sort: {\n    advantage:          picc.fields.EARNINGS_GT_25K,\n    salary:             picc.fields.MEDIAN_EARNINGS,\n    name:               picc.fields.NAME,\n    size:               picc.fields.SIZE,\n    avg_net_price:      picc.fields.NET_PRICE,\n    completion_rate:    picc.fields.COMPLETION_RATE,\n  },\n\n  control: {\n    'public': 1,\n    'private': 2,\n    'profit': 3\n  },\n\n  size: {\n    small:  '..1999',\n    medium: '2000..15000',\n    large:  '15001..'\n  },\n\n  degree: {\n    a: '2',\n    b: '3'\n  }\n};\n\n/**\n * Adds a \"submit\" listener to the provided formdb.Form instance (or CSS\n * selector) that intercepts its data, formats it as a querystring, then does\n * a client-side redirect with window.location, effectively removing the\n * query string parameters for empty inputs.\n *\n * @param {String|Object} form  the form CSS selector or `formdb.Form`\n *                              instance.\n * @return {Object} the `formdb.Form` instance.\n */\npicc.form.minifyQueryString = function(form) {\n\n  // allow form to be a CSS selector\n  if (typeof form !== 'object') {\n    form = new formdb.Form(form);\n  }\n\n  form.on('submit', function(data, e) {\n    var url = [\n        form.element.action,\n        querystring.stringify(data)\n      ]\n      .join('?')\n      .replace('?&', '?')\n      .replace(/&{2,}/g, '&')\n      .replace(/&$/, '');\n\n    window.location = url;\n    e.preventDefault();\n    return false;\n  });\n\n  return form;\n};\n\n\n/**\n *\n */\npicc.form.prepareParams = (function() {\n  var fields = picc.fields;\n\n  var alias = {\n    name:                 fields.NAME,\n\n    // slider ranges\n    avg_net_price:        fields.NET_PRICE + '__range',\n    completion_rate:      fields.COMPLETION_RATE + '__range',\n    median_earnings:      fields.MEDIAN_EARNINGS + '__range',\n    monthly_payments:     fields.MONTHLY_LOAN_PAYMENT + '__range',\n\n    religious:            fields.RELIGIOUS,\n\n    // special designations: women/men only, minority groups\n    serving: function(query, value, key) {\n      var field = [fields.MINORITY_SERVING, value].join('.');\n      switch (value) {\n        case 'men_only':\n          field = fields.MEN_ONLY;\n          break;\n        case 'women_only':\n          field = fields.WOMEN_ONLY;\n          break;\n      }\n      query[field] = 1;\n      delete query[key];\n    },\n\n    state:                fields.STATE,\n\n    zip: function(query, value, key) {\n      // if there is no distance query, use the fully-qualified zip code\n      // field to match schools in that zip\n      if (!query.distance) {\n        query[fields.ZIP_CODE] = value;\n        delete query[key];\n      }\n      // (the default will submit `zip=x&distance=y`,\n      // which is what the API expects)\n    },\n\n    control: function(query, value, key) {\n      value = mapControl(value);\n      picc.data.rangify(query, fields.OWNERSHIP, value);\n      delete query[key];\n    },\n\n    region: function(query, value, key) {\n      picc.data.rangify(query, fields.REGION_ID, value);\n      delete query[key];\n    },\n\n    sort: function(query, value, key) {\n      var bits = String(value).split(':');\n      value = bits[0];\n      bits[0] = picc.form.mappings.sort[value];\n      if (!bits[0]) {\n        console.warn('unmapped sort value:', value);\n        bits[0] = value;\n      }\n      query[key] = bits.join(':');\n    },\n\n    major: function(query, value, key) {\n      var subfield = 'degree';\n      // XXX query.degree *may* have been mapped with mapDegree(),\n      // so we switch on either the input values or the output values\n      switch (query.degree) {\n        case 'a':\n        case '2':\n          subfield = 'assoc';\n          break;\n        case 'b':\n        case '3':\n          subfield = 'bachelors';\n          break;\n      }\n      var k = [fields.PROGRAM_OFFERED, subfield, value].join('.');\n      query[k + '__range'] = '1..';\n      delete query[key];\n    },\n\n    size: function(query, value, key) {\n      value = mapSize(value);\n      query[picc.fields.SIZE + '__range'] = Array.isArray(value)\n        ? value.join(',')\n        : value;\n      delete query[key];\n    },\n\n    degree: function(query, value, key) {\n      if (value === 'a') {\n        query[picc.fields.DEGREE_OFFERED + '.assoc'] = true;\n      } else if (value === 'b') {\n        query[picc.fields.DEGREE_OFFERED + '.bachelors'] = true;\n      }\n      delete query[key];\n    },\n\n    // XXX: this is only used for testing\n    under_investigation:  picc.fields.UNDER_INVESTIGATION,\n  };\n\n  // map a size or array of sizes to API-friendly range values\n  function mapSize(value) {\n    if (Array.isArray(value)) {\n      return value.map(mapSize);\n    }\n    return picc.form.mappings.size[value];\n  }\n\n  // map a degree string ('', 'a' or 'b') or array of strings to an\n  // API-friendly \"predominant degree\" range value\n  function mapDegree(value) {\n    if (Array.isArray(value)) {\n      return value.map(mapDegree);\n    }\n    return picc.form.mappings.degree[value];\n  }\n\n  function mapControl(value) {\n    if (Array.isArray(value)) {\n      return value.map(mapControl);\n    }\n    return picc.form.mappings.control[value];\n  }\n\n  // returns true if a value is an empty string, null, undefined, or an array\n  // with an empty 0 index value\n  function empty(value) {\n    return value === ''\n        || value === null\n        || value === undefined\n        || (Array.isArray(value) && empty(value[0]));\n  }\n\n  return function prepareParams(params) {\n\n    var query = picc.data.extend({}, params);\n\n    // only get open schools\n    query[fields.OPERATING] = 1;\n\n    // ignore distance if no zip is provided\n    if (query.distance && !query.zip) {\n      console.warn('distance provided without zip; ignoring', query);\n      delete query.distance;\n    }\n\n    // by default, filter out schools for which school.size is null\n    // with a numeric range query\n    if (!query.size) {\n      query[fields.SIZE + '__range'] = '0..';\n    }\n\n    /*\n    // if \"online\" is truthy, then we should *include* online schools,\n    // which means not filtering on that field\n    if (query.online) {\n    } else {\n      // otherwise (if query.online is falsy), filter by fields.ONLINE_ONLY=0\n      query[fields.ONLINE_ONLY] = 0;\n    }\n    delete query.online;\n    */\n\n    if (!query.degree) {\n      query[fields.DEGREE_OFFERED + '.assoc_or_bachelors'] = true;\n    }\n\n    for (var key in query) {\n      var v = query[key];\n\n      // delete empty keys\n      if (empty(v)) {\n        delete query[key];\n        continue;\n      }\n\n      var k = alias[key];\n      switch (typeof k) {\n        case 'function':\n          k(query, v, key);\n          break;\n\n        case 'string':\n          query[k] = v;\n          delete query[key];\n          break;\n      }\n    }\n\n    for (key in query) {\n      if (query[key] === null || query[key] === undefined) {\n        delete query[key];\n      }\n    }\n\n    // set the predominant degree to range '1..3' because ED expert guidance\n    query[picc.fields.PREDOMINANT_DEGREE + '__range'] = '1..3';\n\n    // set the highest degree to range '2..4' to exclude certificate only schools\n    query[picc.fields.HIGHEST_DEGREE + '__range'] = '2..4';\n\n    return query;\n  };\n\n})();\n\n\n// UI tools\npicc.ui = {};\n\n/**\n * Expand all of the accordions on the page (or only those matching the\n * provided selector) according to an `expanded` value or function.\n *\n * @param {String?} selector  an optional CSS selector to find accordions.\n *                            The default is `\"aria-accordion\"`.\n * @param {Boolean|Function} expanded a value or function that should return\n *                                    `true` for expanded accordions, and\n *                                    `false` otherwise.\n */\npicc.ui.expandAccordions = function(selector, expanded) {\n  if (arguments.length === 1) {\n    expanded = selector;\n    selector = null;\n  }\n  if (!selector) {\n    selector = 'aria-accordion';\n  }\n  expanded = d3.functor(expanded);\n  return d3.selectAll(selector)\n    .filter(function() {\n      return !!expanded.apply(this, arguments);\n    })\n    .property('expanded', true);\n};\n\n/**\n * Calls the `callback` function immediately if `document.readyState ===\n * 'complete'`, otherwise calls it when the window dispatches a `load` event.\n *\n * @param {Function} callback\n * @return {Boolean} `true` if called immediately, `false` otherwise.\n */\npicc.ready = function(callback) {\n  if (document.readyState === 'complete') {\n    callback();\n    return true;\n  } else {\n    window.addEventListener('load', callback);\n    return false;\n  }\n};\n\n/**\n * A function debouncer. This returns a function that will call `fn` after\n * `delay` milliseconds, and will squash previous calls to avoid race\n * conditions. In this example, the `update` function will only be called\n * once, 100ms later:\n *\n * @example\n * var deferredUpdate = picc.debounce(update, 100);\n * deferredUpdate();\n * deferredUpdate();\n *\n * @param {Function} fn   the function to call\n * @param {Number} delay  the call delay in milliseconds\n * @return {Function}     the wrapped function, which returns a\n *                        `setTimeout()` identifier for canceling.\n */\npicc.debounce = function(fn, delay) {\n  var timeout;\n  return function() {\n    var context = this;\n    var args = arguments;\n    clearTimeout(timeout);\n    return timeout = setTimeout(function() {\n      fn.apply(context, args);\n    }, delay);\n  };\n};\n\n/**\n * This is an event delegation helper that allows us to listen for events on\n * a parent element and call the handler iff (if and only if) the qualify\n * function returns true for the event's target element.\n *\n * The advantage of this approach is that we don't have to add listeners to\n * specific elements, which means that we don't have to add and remove\n * listeners whenever templated elements are added and removed from the DOM.\n *\n * We use this to implement tooltips by listening for mouseenter/mouseleave\n * and focus/blur events on the body and only calling the event handler if\n * the target element has an aria-describedy attribute that begins with\n * \"tip-\".\n *\n * @example\n * picc.delegate(document.body, function(target) {\n *   return target.hasAttribute('data-alert');\n * }, 'click', function(e) {\n *   alert(e.target.getAttribute('data-alert'));\n * });\n *\n * @argument {Element} root       the top-most element at which events should\n *                                be captured\n * @argument {Function} qualify   this function should return `true` for a\n *                                given element if the handler is to be called\n * @argument {*} event            the event or events to listen for, which\n *                                can be specified as a string (single event),\n *                                an Array (multiple events), or an Object\n *                                mapping event types to listeners.\n * @return {Object|Function}      the delegated event listener(s), which you\n *                                can pass to `root.removeEventListener()`.\n *                                The structure matches that of the `event`\n *                                parameter.\n */\npicc.delegate = function(root, qualify, event, listener) { if\n  (Array.isArray(event)) {\n    return event.map(function(e) {\n      return picc.delegate(root, qualify, e, listener);\n    });\n  }\n\n  if (typeof event === 'object') {\n    var listeners = {};\n    for (var e in event) {\n      listeners[e] = picc.delegate(root, qualify, e, event[e]);\n    }\n    return listeners;\n  }\n\n  var _listener = function(e) {\n    if (qualify.call(e.target, e)) {\n      listener.call(e.target, e);\n    }\n  };\n  root.addEventListener(event, _listener, true);\n  return listener;\n};\n\n// data tools\npicc.data = {};\n\npicc.data.extend = function(obj, a, b) {\n  for (var i = 1, len = arguments.length; i < len; i++) {\n    var arg = arguments[i];\n    if (typeof arg === 'object') {\n      for (var key in arg) obj[key] = arg[key];\n    }\n  }\n  return obj;\n};\n\npicc.data.rangify = function(obj, key, values) {\n  if (Array.isArray(values)) {\n    switch (values.length) {\n      case 0:\n        values = '';\n        break;\n      case 1:\n        values = values[0];\n        break;\n    }\n  }\n\n  if (!Array.isArray(values)) {\n    values = String(values);\n    if (values.indexOf('..') > -1) {\n      obj[key + '__range'] = values;\n    } else if (values) {\n      obj[key] = values;\n    }\n    return obj;\n  }\n\n  values = values.map(Number)\n    .sort(d3.ascending);\n\n  var range = [values.shift()];\n  var ranges = [range];\n  while (values.length) {\n    var value = values.shift();\n    var previous = range[range.length - 1];\n    if (value === previous + 1) {\n      range.push(value);\n    } else {\n      ranges.push(range = [value]);\n    }\n  }\n\n  obj[key + '__range'] = ranges.map(function(range, i) {\n    var min = range.shift();\n    var max = range.length ? range.pop() : min;\n    if (min === max) {\n      switch (i) {\n        case 0:\n          return '..' + min;\n        case ranges.length - 1:\n          return max + '..';\n      }\n    }\n    return [min, max].join('..');\n  }).join(',');\n\n  return obj;\n};\n\npicc.data.selectKeys = function(obj, keys) {\n  var copy = {};\n  keys.forEach(function(key) {\n    if (key in obj) {\n      copy[key] = obj[key];\n    } else {\n      console.warn('no such key in source object:', key, obj);\n    }\n  });\n  return copy;\n};\n\n/**\n * Tooltip helper functions.\n */\npicc.tooltip = {\n\n  /**\n   * This is an hover/focus event listener that will attach the corresponding\n   * tooltip to this element's tooltip-target.\n   */\n  show: function showTooltip(e) {\n    clearTimeout(this.__tooltipShowTimeout);\n\n    var tooltip = this.tooltip;\n    if (!tooltip) {\n      tooltip = document.getElementById(this.getAttribute('aria-describedby'));\n      if (!tooltip) {\n        return console.warn('no tooltip found for:', this);\n      }\n      this.tooltip = tooltip;\n    }\n\n    var parent = this;\n    var ref = this.querySelector('.tooltip-target') || this;\n    var show = function() {\n      // console.log('show tooltip:', this, tooltip);\n      tooltip.setAttribute('aria-hidden', false);\n      var click;\n      // d3 makes this a lot simpler with exclusive listeners\n      var win = d3.select(window)\n        .on('click.tooltip', click = function(e) {\n          win.on('click.tooltip', null);\n          if (parent.contains(tooltip)) {\n            picc.tooltip.hide.call(parent, e);\n          } else {\n            console.warn('ignoring click on unowned tooltip:', parent, tooltip);\n          }\n        }, true);\n      picc.tooltip.constrain(tooltip, ref);\n    };\n\n    if (e.type === 'click') {\n      show();\n    } else {\n      this.__tooltipShowTimeout = setTimeout(show, 200);\n    }\n  },\n\n  /**\n   * This is an leave/blur event listener that will hide the attached\n   * tooltip, but leave it in place for debugging.\n   */\n  hide: function hideTooltip() {\n    clearTimeout(this.__tooltipShowTimeout);\n    if (!this.tooltip) return;\n    this.tooltip.setAttribute('aria-hidden', true);\n    if (this.tooltip.originalParent) {\n      this.tooltip.originalParent.appendChild(this.tooltip);\n    }\n    this.tooltip = null;\n  },\n\n  toggle: function toggleTooltip(e) {\n    if (this.tooltip && this.tooltip.getAttribute('aria-hidden') !== 'false') {\n      picc.tooltip.hide.call(this, e);\n    } else {\n      picc.tooltip.show.call(this, e);\n    }\n  },\n\n  /**\n   * This helper function positions the tooltip relative to its target\n   * parent by measuring the size of both and their position relative to the\n   * viewport (`window.innerWidth` and `window.innerHeight`) so that the\n   * tooltip's content (`.tooltip-content`) can be shifted left, right, up or\n   * down accordingly.\n   */\n  constrain: function(tooltip, parent) {\n    // remove the tooltip so we can accurately calculate\n    // the outer element's size\n    if (parent === tooltip.parentNode) {\n      parent.removeChild(tooltip);\n    } else {\n      tooltip.originalParent = tooltip.parentNode;\n    }\n\n    var content = tooltip.querySelector('.tooltip-content') || tooltip;\n    content.style.removeProperty('left');\n\n    var outer = parent.getBoundingClientRect();\n    parent.appendChild(tooltip);\n\n    var rect = content.getBoundingClientRect();\n\n    var margin = 10;\n    var offsetWidth = (rect.width - outer.width) / 2;\n    var halfWidth = rect.width / 2;\n    var bump = -halfWidth;\n\n    var left = outer.left - offsetWidth;\n    var leftEdge = margin / 2;\n    var right = outer.right + offsetWidth;\n    var rightEdge = window.innerWidth - margin * 2;\n\n    if (right > rightEdge) {\n      bump -= right - rightEdge;\n    } else if (left < leftEdge) {\n      bump += leftEdge - left;\n    }\n\n    if (bump) {\n      content.style.left = Math.round(bump) + 'px';\n    } else {\n      content.style.removeProperty('left');\n    }\n\n    var bottom = outer.bottom + rect.height;\n    var above = bottom > window.innerHeight;\n    tooltip.classList.toggle('tooltip_above', above);\n    tooltip.classList.toggle('tooltip_below', !above);\n  }\n};\n\n/**\n * page-specific functions\n */\npicc.pages = {\n  index: require('./index'),\n  search: require('./search'),\n  school: require('./school')\n};\n\n\n// only do this stuff in the browser\nif (typeof document !== 'undefined') {\n\n  /**\n   * add event listeners for the tooltips by listening for mouseenter,\n   * mouseleave, focus and blur events on elements that have an\n   * aria-describedby attribute that begins with \"tip-\".\n   */\n  picc.ready(function() {\n    var described = 'aria-describedby';\n    picc.delegate(\n      document.body,\n      // if the element matches '[aria-describedby^=\"tip-\"]'\n      function() {\n        return this.hasAttribute(described)\n            && this.getAttribute(described).match(/^tip-/);\n      },\n      // XXX this is a *very* rudimentary way to detect whether the browser\n      // supports touch events.\n      document.body.ontouchstart\n        // with touch enabled, only show on focus/blur and click/tap\n        ? {\n          focus:      picc.tooltip.show,\n          blur:       picc.tooltip.hide,\n          click:      picc.tooltip.toggle\n        }\n        // otherwise, show on enter/leave and focus/blur\n        : {\n          mouseenter: picc.tooltip.show,\n          mouseleave: picc.tooltip.hide,\n          focus:      picc.tooltip.show,\n          blur:       picc.tooltip.hide,\n        }\n    );\n  });\n\n  // set the \"dragging\" class when the mouse is down\n  d3.select(document)\n    .on('mousedown', function(e) {\n      clearTimeout(this.__dragTimeout);\n      var body = this.body;\n      this.__dragTimeout = setTimeout(function() {\n        // console.info('+ drag');\n        body.classList.add('dragging');\n      }, 100);\n    })\n    .on('mouseup', function(e) {\n      clearTimeout(this.__dragTimeout);\n      // console.info('- drag');\n      this.body.classList.remove('dragging');\n    })\n    .on('click', function(e) {\n      clearTimeout(this.__dragTimeout);\n      // console.info('- drag');\n      this.body.classList.remove('dragging');\n    });\n}\n\nmodule.exports = picc;\n","/* jshint esnext: true, -W097 */\n'use strict';\n\nvar d3Selection = require('d3-selection');\nvar d3Xhr = require('d3-xhr');\nvar d3Array = require('d3-array');\nvar scale = require('d3-scale');\nvar d3Format = require('d3-format');\n\nconst functor = function(x) {\n  return (typeof x === 'function') ?\n    x :\n    function() { return x; };\n};\n\nvar d3Bundle = {\n  get event() { return d3Selection.event; },\n  select: d3Selection.select,\n  selectAll: d3Selection.selectAll,\n  functor: functor,\n  scale: scale,\n  format: d3Format.format,\n  range: d3Array.range,\n  ascending: d3Array.ascending,\n  descending: d3Array.descending,\n  sum: d3Array.sum,\n  json: d3Xhr.json,\n  xhr: d3Xhr.xhr\n};\n\nmodule.exports = d3Bundle;","var formdb = require('formdb');\n\nmodule.exports = function index() {\n\n  var form = new formdb.Form('#search-form');\n  picc.form.minifyQueryString(form);\n\n  picc.ready(function() {\n    if (location.hash.length > 1) {\n      var id = location.hash.substr(1);\n      picc.ui.expandAccordions(function() {\n        return this.id && this.id === id;\n      });\n      location.hash = '';\n      location.hash = '#' + id;\n    }\n  });\n\n};\n","// tagalong!\nvar tagalong = require('tagalong');\nvar formdb = require('formdb');\nvar querystring = require('querystring');\nvar d3 = require('./d3');\n\nmodule.exports = function search() {\n\n  var resultsRoot = document.querySelector('.search-results');\n  var paginator = resultsRoot.querySelector('.pagination');\n  var bottomPaginator = resultsRoot.querySelector('.pagination_bottom');\n\n  var form = new formdb.Form('#search-form');\n  var query = querystring.parse(location.search.substr(1));\n  // console.info('initial query:', query);\n\n  // the current outbound request\n  var req;\n\n  var previousParams = query || {};\n  var poppingState = false;\n  var ready = false;\n  var alreadyLoaded = false;\n\n  // are we in IE? hopefully not.\n  var ie = typeof document.documentMode === 'number';\n\n  // \"incremental\" updates will only hide the list of schools, and\n  // not any of the other elements (results total, sort, pages)\n  var incremental = false;\n\n  // if this flag is set to false, the search form will not resubmit\n  var submit = true;\n\n  // the maximum # of page links to show\n  var MAX_PAGES = 6;\n\n  var change = picc.debounce(onChange, 100);\n\n  // only render these directives, for performance (and IE11, *cough*)\n  var directives = picc.data.selectKeys(picc.school.directives, [\n    'title',\n    'school_link',\n    'name',\n    'city',\n    'state',\n    'under_investigation',\n    'size_number',\n    'average_cost',\n    'average_cost_meter',\n    'grad_rate',\n    'grad_rate_meter',\n    'average_salary',\n    'average_salary_meter',\n    'more_link'\n  ]);\n\n  var win = d3.select(window);\n\n  // get a reference to all of the sliders\n  var sliders = d3.selectAll('picc-slider');\n\n  // close other toggles when one opens\n  var toggles = d3.selectAll('.toggle-accordion')\n    .on('open', function() {\n      var opened = this;\n      toggles.each(function() {\n        if (this !== opened) this.close();\n      });\n\n      var event = 'click.toggle';\n      win.on(event, function() {\n        if (!opened.contains(d3.event.target)) {\n          win.on(event, null);\n          opened.close();\n        }\n      });\n    });\n\n  // close all toggles on escape\n  win.on('keyup.toggle', function() {\n    if (d3.event.keyCode === 27) {\n      toggles.property('expanded', false);\n    }\n  });\n\n  // expand (child) accordions that contain elements with values set\n  picc.ui.expandAccordions('.toggle-accordion aria-accordion', function() {\n    var inputs = this.querySelectorAll('[name]');\n    return [].some.call(inputs, function(input) {\n      return query[input.name];\n    });\n  });\n\n  picc.ready(function() {\n    ready = true;\n\n    // console.warn('setting form data:', query);\n    form.setData(query);\n\n    // for each of the sliders\n    sliders\n      // update them once first, so they don't fire a change event\n      .each(updateSlider)\n      .on('change', picc.debounce(function() {\n        // when the slider changes, update the input with a range value.\n        var input = this.querySelector('input');\n        if (input) {\n          if (this.lower > this.min || this.upper < this.max) {\n            var lower = this.lower > this.min ? this.lower : '';\n            var upper = this.upper < this.max ? this.upper : '';\n            // console.log('%d > %d || %d < %d', this.lower, this.min, this.upper, this.max);\n            input.value = [lower, upper].join('..');\n          } else {\n            // console.log('slider range @ limits:', this);\n            input.value = '';\n          }\n          change();\n        }\n      }, 200));\n\n    change();\n  });\n\n  form.on('change', change);\n\n  // sort is an \"incremental\" update\n  form.on('change:sort', function() {\n    // console.log('change sort!');\n    incremental = true;\n  });\n\n  // update the distance field's disabled flag when zip changes\n  form.on('change:zip', updateDistanceDisabled);\n\n  form.on('change:_drawer', function(value, e) {\n    submit = false;\n  });\n\n  form.on('submit', function(data, e) {\n    toggles.property('expanded', false);\n    scrollIntoView();\n\n    change();\n    e.preventDefault();\n    return false;\n  });\n\n  // update the form on popstate\n  window.addEventListener('popstate', function(e) {\n    if (!e.state) return;\n\n    // copy the unset keys (as `null`) from the previous state to clear any\n    // elements that aren't represented in the new state.\n    var state = copyUnsetKeys(previousParams, e.state);\n    // console.info('pop state:', e.state, '->', state);\n\n    // update all of the form elements\n    form.setData(state);\n\n    // update the slider values, too\n    sliders.each(updateSlider);\n\n    poppingState = true;\n    onChange();\n    poppingState = false;\n  });\n\n  function onChange() {\n    // XXX somehow, Firefox fires a change event before picc.ready() does its\n    // callback. This guards against any browser that does this from\n    // overwriting the query with default form data.\n    if (!ready) {\n      console.warn('onChange() before ready!');\n      return;\n    }\n\n    // XXX the submit flag is set to false when the drawer toggles.\n    if (!submit) {\n      // console.warn('not submitting this time!');\n      submit = true;\n      return;\n    }\n\n    // always update the distance disabled state\n    updateDistanceDisabled();\n\n    var params = form.getData();\n    // console.info('form data:', params);\n\n    // unset parameters that are \"empty\" arrays (with a single, falsy value)\n    for (var k in params) {\n      if (Array.isArray(params[k]) && !params[k][0]) {\n        // console.warn('ignoring empty array parameter:', k, params[k]);\n        delete params[k];\n      }\n    }\n\n    // don't submit the _drawer parameter\n    delete params._drawer;\n\n    if (diffExcept(previousParams, params, ['page'])) {\n      // console.warn('non-page change:', previousParams, '->', params);\n      delete params.page;\n    }\n\n    var query = picc.form.prepareParams(params);\n\n    // only query the fields that we care about\n    query.fields = [\n      // we need the id to link it\n      picc.fields.ID,\n      // basic display fields\n      picc.fields.NAME,\n      picc.fields.CITY,\n      picc.fields.STATE,\n      picc.fields.SIZE,\n      // to get \"public\" or \"private\"\n      picc.fields.OWNERSHIP,\n      // to get the \"four_year\" or \"lt_four_year\" bit\n      picc.fields.PREDOMINANT_DEGREE,\n      // get all of the net price values\n      picc.fields.NET_PRICE,\n      // completion rate\n      picc.fields.COMPLETION_RATE,\n      // this has no sub-fields\n      picc.fields.MEDIAN_EARNINGS,\n      // not sure if we need this, but let's get it anyway\n      picc.fields.EARNINGS_GT_25K,\n      // under investigation flag\n      picc.fields.UNDER_INVESTIGATION\n    ].join(',');\n\n    var qs = querystring.stringify(params);\n    qs = '?' + qs.replace(/^&+/, '')\n      .replace(/&{2,}/g, '&')\n      .replace(/%3A/g, ':');\n\n    if (poppingState) {\n      // console.info('popping state');\n      // history.replaceState(params, 'search', qs);\n    } else if (alreadyLoaded && diff(previousParams, params)) {\n      // console.info('push state:', qs, previousParams, '->', params);\n      // update the URL\n      history.pushState(params, 'search', qs);\n    } else {\n      // console.info('replace state:', qs);\n      history.replaceState(params, 'search', qs);\n    }\n\n    d3.select('a.results-share')\n      .attr('href', function() {\n        return picc.template.resolve(\n          this.getAttribute('data-href'),\n          {url: encodeURIComponent(document.location.href)}\n        );\n      });\n\n    if (req) req.abort();\n\n    resultsRoot.classList.toggle('js-incremental', incremental);\n\n    if (incremental) {\n      // incremental\n    } else {\n      resultsRoot.classList.add('js-loading');\n      resultsRoot.classList.remove('js-loaded');\n      resultsRoot.classList.remove('js-error');\n    }\n\n    paginator.classList.toggle('show-loading', incremental);\n\n    console.time && console.time('[load]');\n\n    req = picc.API.search(query, function(error, data) {\n      resultsRoot.classList.remove('js-loading');\n      resultsRoot.classList.remove('js-incremental');\n\n      paginator.classList.remove('show-loading');\n      bottomPaginator.classList.remove('show-loading');\n\n      previousParams = params;\n      incremental = false;\n\n      console.timeEnd && console.timeEnd('[load]');\n\n      if (error) {\n        resultsRoot.classList.add('js-error');\n        return showError(error);\n      }\n\n      resultsRoot.classList.add('js-loaded');\n\n      var format = picc.format;\n\n      console.log('loaded schools:', data);\n\n      console.time && console.time('[render]');\n\n      var meta = data.metadata || data;\n      // console.log('meta:', meta);\n      var total = meta.total;\n\n      // only update the heading\n      var heading = resultsRoot.querySelector('.results-main-alert');\n      tagalong(heading, meta, {\n        results_word: format.plural('total', 'Result'),\n        results_total: format.number('total', '0')\n      });\n\n      var page = +params.page || 0;\n      var perPage = meta.per_page;\n\n      var pages = getPages(total, perPage, page);\n\n      tagalong(paginator, {\n        pages: pages\n      }, {\n        pages: {\n          '@data-index': function(d) {\n            return String(d.index);\n          },\n          '@class': function(d) {\n            return d.index === page\n              ? 'pagination-page_selected'\n              : d.arrow ? 'pagination-arrow' : null;\n          },\n          link: {\n            text: 'page',\n            '@data-page': function(d) {\n              return String(d.index);\n            },\n            '@href': function(d) {\n              return d.index === page\n                ? null\n                : d.index === false\n                  ? null\n                  : '?' + querystring.stringify(picc.data.extend({}, params, {page: d.index}));\n            }\n          }\n        }\n      });\n\n      // duplicate the pagination structure below the search results\n      bottomPaginator.innerHTML = paginator.innerHTML;\n\n      var pageLinks = d3.select(resultsRoot)\n        .selectAll('a.select-page')\n          .on('click', function() {\n            d3.event.preventDefault();\n\n            var _page = this.getAttribute('data-page');\n            if (_page === 'false') return;\n\n            pageLinks.each(function() {\n              var p = this.getAttribute('data-page');\n              var selected = p == _page;\n              this.parentNode.classList\n                .toggle('pagination-page_selected', selected);\n              // console.log('selected?', p, page, selected, '->', this.parentNode);\n            });\n\n            form.set('page', _page);\n            incremental = true;\n            change();\n          });\n\n      var resultsList = resultsRoot.querySelector('.schools-list');\n\n      /*\n       * XXX this avoids a nasty hard crash in IE11, which seems to have some\n       * problems with tagalong's data joining algorithm (and/or, you know,\n       * it's just broken).\n       *\n       * Removing the children of the results list after it's already been\n       * rendered (iff `alreadyLoaded` is true) guarantees that tagalong has\n       * stashed a reference to the template node.\n       *\n       * Note: we _don't_ do this in other browsers because it has performance\n       * implications. Rendering will be much faster when the existing nodes\n       * are reused and modified in place, rather than being cloned anew each\n       * time.\n       */\n      if (ie && alreadyLoaded) {\n        removeAllChildren(resultsList);\n      }\n\n      tagalong(resultsList, data.results, directives);\n\n      alreadyLoaded = true;\n\n      console.timeEnd && console.timeEnd('[render]');\n    });\n  }\n\n  function getPages(total, perPage, page) {\n\n    var numPages = Math.ceil(total / perPage);\n    var previous = false;\n    var next = false;\n\n    if (numPages > MAX_PAGES) {\n      var end = Math.min(page + MAX_PAGES, numPages);\n      var start = end - MAX_PAGES;\n      // console.log('pages: %d -> %d', start, end);\n      pages = d3.range(start, start + MAX_PAGES);\n      previous = start > 0;\n      next = end < numPages;\n    } else {\n      pages = d3.range(0, numPages);\n    }\n\n    // console.log('pages:', numPages, '->', pages);\n\n    pages = pages.map(function(page) {\n      return {\n        page: page + 1,\n        index: page\n      };\n    });\n\n    if (previous) {\n      var first = pages[0];\n      pages.unshift({\n        index: first.index - 1,\n        page: '<',\n        arrow: true\n      });\n      if (first.index > 1) {\n        pages.unshift({\n          index: 0,\n          page: '<<',\n          arrow: true\n        });\n      }\n    }\n    if (next) {\n      var last = pages[pages.length - 1];\n      pages.push({\n        index: last.index + 1,\n        page: '>',\n        arrow: true\n      });\n      if (last.index < numPages - 1) {\n        pages.push({\n          index: numPages - 1,\n          page: '>>',\n          arrow: true\n        });\n      }\n    }\n\n    return pages;\n  }\n\n  function showError(error) {\n    console.error('error:', error);\n    var message = resultsRoot.querySelector('.error-message');\n    error = error.responseText || error;\n    message.textContent = String(error) || 'There was an unexpected API error.';\n  }\n\n  function diffExcept(a, b, keys) {\n    a = picc.data.extend({}, a);\n    b = picc.data.extend({}, b);\n    keys.forEach(function(key) {\n      delete a[key];\n      delete b[key];\n    });\n    // console.log('diff except:', a, b, keys);\n    return diff(a, b);\n  }\n\n  function diff(a, b) {\n    if ((typeof a) !== (typeof b)) {\n      // console.log('diff types:', typeof a, typeof b);\n      return true;\n    } else if (typeof a === 'object') {\n      for (k in a) if (diff(a[k], b[k])) return true;\n      for (k in b) if (diff(a[k], b[k])) return true;\n      return false;\n    }\n    return a != b;\n  }\n\n  function copyUnsetKeys(from, into) {\n    var copy = picc.data.extend({}, into);\n    for (var key in from) {\n      if (!copy.hasOwnProperty(key)) {\n        copy[key] = null;\n      }\n    }\n    return copy;\n  }\n\n\n  function updateSlider() {\n    // get the value of its hidden input (set by formdb),\n    // and parse it as a range\n    var input = this.querySelector('input');\n    if (input) {\n      var value = input.value.split('..').map(Number);\n      if (value.length === 2) {\n        this.lower = value[0] || this.min;\n        this.upper = value[1] || this.max;\n      } else {\n        // console.warn('bad slider input value:', value);\n      }\n    }\n  }\n\n  function updateDistanceDisabled() {\n    var zip = form.get('zip');\n    var dist = form.getInputsByName('distance')[0];\n    if (!dist) return;\n    dist.disabled = !zip;\n  }\n\n  function scrollIntoView() {\n    try {\n      form.element.scrollIntoView();\n    } catch (error) {\n      console.warn('unable to scroll results into view:', error);\n    }\n  }\n\n  function removeAllChildren(node) {\n    while (node.lastChild) {\n      node.removeChild(node.lastChild);\n    }\n  }\n\n};\n","var tagalong = require('tagalong');\nvar d3 = require('./d3');\n\nmodule.exports = function school() {\n\n  var loadable = d3.select('.loadable');\n\n  var id = getSchoolId();\n  if (!id) {\n    loadable.classed('js-error', true);\n    return showError(picc.errors.NO_SCHOOL_ID);\n  }\n\n  d3.select('#referrer-link')\n    .attr('href', document.referrer || null);\n\n  loadable.classed('js-loading', true);\n\n  picc.API.getAll({\n    metadata: 'data.json',\n    school: [picc.API.getSchool, id]\n  }, function onSchoolLoad(error, data) {\n    loadable.classed('js-loading', false);\n\n    // console.log('data:', data);\n    if (error) {\n      loadable.classed('js-error', true);\n      return showError(error);\n    }\n\n    loadable.classed('js-loaded', true);\n\n    var root = document.querySelector('#school');\n    var school = data.school;\n\n    var name = picc.access(picc.fields.NAME)(school);\n    document.title = name;\n\n    school.metadata = data.metadata;\n    console.log('got school:', school);\n    root.classList.remove('hidden');\n\n    var averageLabels = {\n      'above': 'Above average',\n      'below': 'Lower than average',\n      'about': 'About average'\n    };\n\n    // update the above/below average icons whenever the\n    // corresponding meters update\n    d3.selectAll('i.average-arrow[data-meter]')\n      .each(function() {\n        var icon = d3.select(this);\n        var meter = d3.select('#' + this.getAttribute('data-meter'))\n          .on('update', function updateMeterAverage() {\n            var match = this.className.match(/\\b(\\w+)_average\\b/);\n            var state = match ? match[1] : 'na';\n            icon\n              .classed('above_average fa-arrow-up', state === 'above')\n              .classed('below_average fa-arrow-down', state === 'below')\n              .classed('about_average fa-check', state === 'about');\n\n            var text = averageLabels[state];\n            icon.attr('title', text);\n            label\n              .classed('above_average', state === 'above')\n              .classed('below_average', state === 'below')\n              .classed('about_average', state === 'about')\n              .text(text);\n          });\n        var label = d3.select(this.parentNode)\n          .select('.average-label');\n      });\n\n    // this is necessary because tagalong only binds to\n    // the first instance for each data or directive key\n    var sections = root.querySelectorAll('.section-card_container-school');\n\n    // common school template directives\n    var directives = picc.school.directives;\n\n    [root]\n      .concat([].slice.call(sections))\n      .forEach(function(node) {\n        // console.log('binding to:', node);\n        tagalong(node, school, directives);\n      });\n\n    // render the bar charts\n    // FIXME this should be possible in tagalong!\n    var bars = d3.selectAll('ol.bars')\n      .selectAll('li')\n        .datum(function() {\n          return +this.querySelector('.value').textContent;\n        })\n        .sort(d3.descending)\n        .each(function() {\n          var label = this.querySelector('.label');\n          if (label) {\n            var klass = label.textContent\n              .toLowerCase()\n              .replace(/\\W+/g, '-');\n            this.classList.add('bar-' + klass);\n          }\n        });\n\n    bars.select('.value')\n      .remove();\n\n    var scale = d3.scale.linear()\n      .domain([0, 1])\n      .range(['1%', '100%']);\n\n    bars.select('.bar')\n      .style('width', function(d) {\n        return d > .005\n          ? scale(d)\n          : d ? '1px' : 0;\n      });\n\n    createMap(school, root.querySelector('.school-map'));\n  });\n\n  /**\n   * This `hashchange` callback function expands and collapses all of the\n   * accordions when the hash changes to match one of their ids. It returns the\n   * last expanded accordion.\n   */\n  function hashChange() {\n    var id = location.hash.substr(1);\n    var found = false;\n    picc.ui.expandAccordions(function() {\n      return this.id && this.id === id;\n    })\n    .each(function() {\n      found = this;\n    });\n    return found;\n  }\n\n  // listen for hashchange events\n  window.addEventListener('hashchange', hashChange);\n\n  // expand the accordions once and, if one is expanded, reset the hash to\n  // scroll to that element\n  var section = hashChange();\n  if (section) {\n    location.hash = '';\n    location.hash = '#' + section.id;\n  }\n\n  // get the school ID from the URL\n  function getSchoolId() {\n    if (!location.search) return null;\n    var match = location.search.match(/^\\?(\\d+)(\\b|-)/);\n    return match ? match[1] : null;\n  }\n\n  // show an error message\n  function showError(error) {\n    var container = document.querySelector('#error');\n    var target = container.querySelector('.error-message') || container;\n    error = error.responseText || error;\n    target.textContent = error;\n    return target;\n  }\n\n  /**\n   * Create a Leaflet map from a school's location. If there is no location, or\n   * if the location's latitude or longitude are zero, then no map is created.\n   *\n   * @param {Object}          school   the school data object\n   * @return {L.map|Boolean}  an L.map instance if successful, otherwise `false`\n   */\n  function createMap(school, container) {\n    if (!container) {\n      console.error('got null container in createMap(); bailing');\n      return false;\n    }\n\n    var location = picc.access.location(school);\n\n    if (!location || !+location.lat || !+location.lon) {\n      console.warn('missing or invalid location:', location, '; hiding the map');\n      container.classList.add('hidden');\n      return false;\n    }\n\n    var center = L.latLng(location.lat, location.lon);\n\n    var map = L.map(container, {\n        zoomControl:        false,\n        panControl:         false,\n        attributionControl: false,\n        dragging:           false,\n        scrollWheelZoom:    false,\n        touchZoom:          false,\n        doubleClickZoom:    false,\n        boxZoom:            false\n      })\n      .setView(center, 10);\n\n    L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png')\n      .addTo(map);\n\n    L.control.attribution({\n        position: 'bottomleft',\n        prefix: false\n      })\n      .addAttribution([\n        'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under ',\n        '<a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>.',\n        '<br>Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, ',\n        'under <a href=\"http://www.openstreetmap.org/copyright\">ODbL</a>.'\n      ].join(''))\n      .addTo(map);\n\n    var marker = L.circle(center, 1200, {\n        color: 'black',\n        opacity: 1,\n        strokeWidth: 1,\n        fillColor: 'white',\n        fillOpacity: 1\n      })\n      .addTo(map);\n\n    marker.bindPopup(school.school.name);\n    return map;\n  }\n\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// document.registerElement() polyfill\nrequire('document-register-element');\n\n// CustomEvent polyfill\nrequire('./compat/custom-event');\n\nrequire('./aria-accordion');\nrequire('./picc-meter');\nrequire('./picc-range');\nrequire('./picc-slider');\nrequire('./multi-select');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","(function(exports) {\n\n  var EXPANDED = 'aria-expanded';\n  var HIDDEN = 'aria-hidden';\n  var TOGGLE_EVENTS = ['click'];\n\n  exports.ARIAAccordion = document.registerElement('aria-accordion', {\n    prototype: Object.create(\n      HTMLElement.prototype,\n      {\n        attachedCallback: {value: function() {\n          var trigger = this.__trigger = getTrigger(this);\n          if (!trigger) return;\n\n          var content = this.__content = getContent(this, trigger);\n          if (!content) return;\n\n          // set role=\"button\" on the trigger element if it's not a <button>\n          if (trigger.nodeName !== 'BUTTON' && !trigger.hasAttribute('role')) {\n            trigger.setAttribute('role', 'button');\n          }\n\n          // reflect the aria-expanded attribute of the accordion to the\n          // trigger (button) if the attribute is unset\n          if (!trigger.hasAttribute(EXPANDED)) {\n            trigger.setAttribute(EXPANDED, getAriaBoolean(this, EXPANDED));\n          }\n\n          var toggle = this.toggle.bind(this);\n          var toggleAndCancel = this.__toggleAndCancel = function(e) {\n            toggle();\n            e.preventDefault();\n            return false;\n          };\n\n          TOGGLE_EVENTS.forEach(function(event) {\n            trigger.addEventListener(event, toggleAndCancel);\n          });\n\n          this.update();\n        }},\n\n        detachedCallback: {value: function() {\n          var trigger = this.__trigger;\n          if (!trigger) return;\n          var toggleAndCancel = this.__toggleAndCancel;\n          TOGGLE_EVENTS.forEach(function(event) {\n            trigger.removeEventListener(event, toggleAndCancel);\n          });\n        }},\n\n        update: {value: function() {\n          var expanded = this.expanded;\n          this.setAttribute(EXPANDED, expanded);\n          this.__trigger.setAttribute(EXPANDED, expanded);\n          this.__content.setAttribute(HIDDEN, !expanded);\n        }},\n\n        expanded: {\n          get: function() {\n            return getAriaBoolean(this.__trigger, EXPANDED);\n          },\n          set: function(value) {\n            value = !!value;\n            if (value !== this.expanded && this.__trigger) {\n              this.__trigger.setAttribute(EXPANDED, value);\n              this.update();\n              this.dispatchEvent(new CustomEvent(value ? 'open' : 'close'));\n            }\n          }\n        },\n\n        open: {value: function() {\n          this.expanded = true;\n        }},\n\n        close: {value: function() {\n          this.expanded = false;\n        }},\n\n        toggle: {value: function() {\n          this.expanded = !this.expanded;\n        }},\n\n        trigger: {\n          get: function() {\n            return this.__trigger;\n          }\n        },\n\n        content: {\n          get: function() {\n            return this.__content;\n          }\n        }\n      }\n    )\n  });\n\n  function getTrigger(root) {\n    var selector = root.getAttribute('trigger') || '[aria-controls]';\n    var trigger = root.querySelector(selector);\n    if (!trigger || !trigger.hasAttribute('aria-controls')) {\n      console.warn('no trigger found for selector: \"' + selector + '\"');\n      return;\n    }\n    return trigger;\n  }\n\n  function getContent(root, trigger) {\n    var contentId = trigger.getAttribute('aria-controls');\n    var content = document.getElementById(contentId);\n    if (!content) {\n      console.warn('no content element found with id: \"' + contentId + '\"');\n      return;\n    }\n    return content;\n  }\n\n  function getAriaBoolean(el, attr) {\n    return el && el.hasAttribute(attr) && el.getAttribute(attr) !== 'false';\n  }\n\n})(window);\n","var CLASS_PREFIX = 'picc-meter-';\n\nwindow.PICCMeter = document.registerElement('picc-meter', {\n  prototype: Object.create(\n    HTMLElement.prototype,\n    {\n\n      attachedCallback: {value: function() {\n        this.min = getAttr(this, 'min', 0);\n        this.max = getAttr(this, 'max', 1);\n        this.value = getAttr(this, 'value');\n        this.average = getAttr(this, 'average');\n\n        this.update();\n      }},\n\n      attributeChangedCallback: {value: function(attr, prev, value) {\n        // pass through attribute settings to\n        // properties for min, max, value an\n        // average\n        switch (attr) {\n          case 'min':\n          case 'max':\n          case 'value':\n          case 'average':\n            this[attr] = value;\n            return;\n        }\n      }},\n\n      update: {value: function() {\n        var min = this.min;\n        var max = this.max;\n        var value = this.value;\n        var average = this.average;\n\n        var bar = getBar(this);\n        var line = getLine(this);\n\n        if (typeof value !== 'number' || isNaN(value)) {\n          // console.log('bad value:', value);\n\n          // reset the bar\n          bar.style.setProperty('display', 'none');\n          bar.style.removeProperty('height');\n\n          // reset the line\n          line.style.setProperty('display', 'none');\n          line.style.removeProperty('bottom');\n\n          // classify and bail\n          classify(this, {\n            'no_data': true,\n            'above_average': false,\n            'below_average': false,\n            'about_average': false\n          });\n\n        } else {\n\n          classify(this, {no_data: false});\n\n          var scale = function(v) {\n            return (v - min) / (max - min);\n          };\n\n          var percent = function(v) {\n            return (scale(v) * 100).toFixed(1) + '%';\n          };\n\n          bar.style.removeProperty('display');\n          // prevent the bar from exceeding the height\n          bar.style.setProperty('height', percent(Math.min(value, max)));\n\n          if (this.hasAttribute('average-range')) {\n            var range = this.getAttribute('average-range');\n            var numbers = range.split('..').map(Number);\n            if (numbers.some(isNaN)) {\n              console.warn('invalid average-range:', range, numbers);\n              classify(this, {\n                'above_average': false,\n                'below_average': false,\n                'about_average': false\n              });\n            } else {\n              var lo = numbers[0];\n              var hi = numbers[1];\n              classify(this, {\n                'above_average': value > hi,\n                'below_average': value < lo,\n                'about_average': value >= lo && value <= hi\n              });\n            }\n          } else {\n            classify(this, {\n              'above_average': false,\n              'below_average': false,\n              'about_average': false\n            });\n          }\n\n          if (isNaN(average)) {\n            line.style.setProperty('display', 'none');\n          } else {\n            line.style.removeProperty('display');\n            line.style.setProperty('bottom', percent(average));\n          }\n\n        }\n\n        delete this.__timeout;\n\n        this.dispatchEvent(new CustomEvent('update'));\n      }},\n\n      min: {\n        get: function() {\n          return this.__min;\n        },\n        set: function(value) {\n          this.__min = number(value, 0);\n          deferUpdate(this);\n        }\n      },\n\n      max: {\n        get: function() {\n          return this.__max;\n        },\n        set: function(value) {\n          this.__max = number(value, 1);\n          deferUpdate(this);\n        }\n      },\n\n      value: {\n        get: function() {\n          return this.__value;\n        },\n        set: function(value) {\n          this.__value = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      average: {\n        get: function() {\n          return this.__average;\n        },\n        set: function(value) {\n          this.__average = number(value);\n          deferUpdate(this);\n        }\n      }\n    }\n  )\n});\n\nfunction deferUpdate(meter, delay) {\n  if (!delay) delay = 50;\n  if (!meter.__timeout) {\n    meter.__timeout = setTimeout(function() {\n      delete meter.__timeout;\n      meter.update();\n    }, delay);\n  }\n}\n\nfunction getAttr(node, attr, fallback) {\n  return node.hasAttribute(attr)\n    ? node.getAttribute(attr) || fallback\n    : fallback;\n}\n\nfunction getBar(meter) {\n  var bar = meter.querySelector('.' + CLASS_PREFIX + 'bar');\n  if (!bar) {\n    bar = meter.appendChild(document.createElement('div'));\n    bar.className = CLASS_PREFIX + 'bar';\n  }\n  return bar;\n}\n\nfunction getLine(meter) {\n  var line = meter.querySelector('.' + CLASS_PREFIX + 'line');\n  if (!line) {\n    line = meter.appendChild(document.createElement('div'));\n    line.className = CLASS_PREFIX + 'line';\n    line.appendChild(document.createElement('span'))\n      .setAttribute('class', 'label');\n  }\n  return line;\n}\n\nfunction number(value, fallback) {\n  var num = String(value).length ? +value : NaN;\n  // console.log('number(', value, ') ->', num);\n  if (arguments.length < 2) fallback = NaN;\n  return isNaN(num) ? fallback : num;\n}\n\nfunction classify(el, classes) {\n  for (var klass in classes) {\n    el.classList[classes[klass] ? 'add' : 'remove'](klass);\n  }\n}\n","var ELEMENT_NAME = 'picc-range';\nvar CLASS_PREFIX = ELEMENT_NAME + '-';\n\nvar LABEL_TYPES = ['min', 'max', 'lower', 'middle', 'upper'];\n\nwindow.PICCRange = document.registerElement(ELEMENT_NAME, {\n  prototype: Object.create(\n    HTMLElement.prototype,\n    {\n\n      attachedCallback: {value: function() {\n        var bar = this.appendChild(document.createElement('div'));\n        bar.className = CLASS_PREFIX + 'bar';\n\n        LABEL_TYPES.forEach(function(type) {\n          var label = this.appendChild(document.createElement('span'));\n          label.className = [\n            CLASS_PREFIX + 'label',\n            [CLASS_PREFIX, 'label-', type].join('')\n          ].join(' ');\n          label.appendChild(document.createElement('span'));\n        }, this);\n\n        this.min = getAttr(this, 'min', 0);\n        this.max = getAttr(this, 'max', 1);\n        this.lower = getAttr(this, 'lower');\n        this.middle = getAttr(this, 'middle');\n        this.upper = getAttr(this, 'upper');\n\n        this.update();\n      }},\n\n      attributeChangedCallback: {value: function(attr, prev, value) {\n        // pass through attribute settings to properties for min,\n        // max, lower and upper values\n        switch (attr) {\n          case 'min':\n          case 'max':\n          case 'lower':\n          case 'middle':\n          case 'upper':\n            this[attr] = value;\n            return;\n        }\n      }},\n\n      update: {value: function() {\n        var min = this.min;\n        var max = this.max;\n\n        var scale = function(v) {\n          return (v - min) / (max - min);\n        };\n\n        var percent = function(v) {\n          return (scale(v) * 100).toFixed(1) + '%';\n        };\n\n        var bar = this.querySelector('.' + CLASS_PREFIX + 'bar');\n        bar.style.setProperty('left', percent(this.lower));\n        bar.style.setProperty('right', percent(this.min + this.max - this.upper));\n\n        LABEL_TYPES.forEach(function(type) {\n          var label = this.querySelector('.' + CLASS_PREFIX + 'label-' + type);\n          if (!label) return;\n\n          var value = this[type];\n          if (typeof value !== 'number' || isNaN(value)) {\n            label.style.setProperty('display', 'none');\n          } else {\n            label.style.removeProperty('display');\n            label.style.setProperty('left', percent(value));\n            var span = label.querySelector('span');\n            if (span) {\n              span.textContent = String(Math.round(value));\n            }\n          }\n        }, this);\n\n        delete this.__timeout;\n      }},\n\n      min: {\n        get: function() {\n          return this.__min;\n        },\n        set: function(value) {\n          this.__min = number(value, 0);\n          deferUpdate(this);\n        }\n      },\n\n      max: {\n        get: function() {\n          return this.__max;\n        },\n        set: function(value) {\n          this.__max = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      lower: {\n        get: function() {\n          return this.__lower;\n        },\n        set: function(value) {\n          this.__lower = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      middle: {\n        get: function() {\n          return this.__middle;\n        },\n        set: function(value) {\n          this.__middle = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      upper: {\n        get: function() {\n          return this.__upper;\n        },\n        set: function(value) {\n          this.__upper = number(value);\n          deferUpdate(this);\n        }\n      }\n    }\n  )\n});\n\nfunction deferUpdate(meter, delay) {\n  if (!delay) delay = 50;\n  if (!meter.__timeout) {\n    meter.__timeout = setTimeout(function() {\n      delete meter.__timeout;\n      meter.update();\n    }, delay);\n  }\n}\n\nfunction getAttr(node, attr, fallback) {\n  return node.hasAttribute(attr)\n    ? node.getAttribute(attr) || fallback\n    : fallback;\n}\n\nfunction number(value, fallback) {\n  var num = +value;\n  return isNaN(value) ? fallback : num;\n}\n\nfunction classify(el, classes) {\n  for (var klass in classes) {\n    el.classList[classes[klass] ? 'add' : 'remove'](klass);\n  }\n}\n","var ELEMENT_NAME = 'picc-slider';\nvar CLASS_PREFIX = ELEMENT_NAME + '-';\n\nwindow.PICCSlider = registerElement(ELEMENT_NAME, {\n  createdCallback: function() {\n    this.__range = createRange.call(this);\n    this.__mark = createMark.call(this, 'average');\n    this.__left = createHandle.call(this, 'min');\n    this.__right = createHandle.call(this, 'max');\n\n    this.setAttribute('role', 'slider');\n    this.min = getAttr.call(this, 'min', 0);\n    this.max = getAttr.call(this, 'max', 100);\n    this.lower = getAttr.call(this, 'lower', this.min);\n    this.upper = getAttr.call(this, 'upper', this.max);\n    this.step = getAttr.call(this, 'step', 1);\n    this.average = getAttr.call(this, 'average');\n    this.format = getAttr.call(this, 'format');\n  },\n\n  attachedCallback: function() {\n    this.addEventListener('click', click);\n    this.addEventListener('mousedown', engage);\n    this.addEventListener('touchstart', engage);\n    // this.addEventListener('focus', engage, true);\n    this.update();\n  },\n\n  detachedCallback: function() {\n    this.removeEventListener('click', click);\n    this.removeEventListener('mousedown', enagage);\n    this.removeEventListener('touchstart', enagage);\n    // this.removeEventListener('focus', engage, true);\n  },\n\n  attributeChangedCallback: function(attr, prev, value) {\n    switch (attr) {\n      case 'min':\n      case 'max':\n      case 'value':\n      case 'step':\n      case 'average':\n      case 'format':\n        // console.log('picc-slider attr: ', attr, ' = ', value);\n        this[attr] = value;\n        this.update();\n        break;\n    }\n  },\n\n  update: function() {\n    var min = this.min;\n    var max = this.max;\n\n    // enforce lower/upper crossing\n    if (this.__dragging === this.__left && this.__lower >= this.__upper) {\n      this.__lower = this.__upper - this.step;\n    } else if (this.__dragging === this.__right && this.__upper <= this.__lower) {\n      this.__upper = this.__lower + this.step;\n    }\n\n    // enforce min/max bounds\n    this.__lower = Math.min(Math.max(this.__lower, min), max);\n    this.__upper = Math.max(Math.min(this.__upper, max), min);\n\n    var lower = this.lower;\n    var upper = this.upper;\n    var average = this.average;\n\n    var x = function(value) {\n      return 100 * (value - min) / (max - min);\n    };\n\n    var left = percent(x(lower));\n    var right = percent(x(upper));\n\n    this.__left.style.setProperty('left', left);\n    this.__right.style.setProperty('left', right);\n\n    this.__range.style.setProperty('left', left);\n    this.__range.style.setProperty('right', percent(x(max - upper)));\n\n    var mark = this.__mark;\n\n    var labels = [\n      {el: getLabel(this.__left), value: lower},\n      {el: getLabel(this.__right), value: upper},\n      {el: getLabel(mark), value: average},\n    ];\n\n    var format = function() { return ''; };\n    switch (this.format) {\n      case '%':\n        format = formatPercent;\n        break;\n      case '$':\n        format = formatDollars;\n        break;\n    }\n\n    var nudgeThreshold = 12;\n    var outerRect = this.getBoundingClientRect();\n    var leftEdge = outerRect.left + nudgeThreshold;\n    var rightEdge = outerRect.right;\n    labels.forEach(function(d, i) {\n      var label = d.el;\n      if (!label) return console.warn('no label:', i);\n      label.textContent = format(d.value);\n\n      /*\n      var offset = 0;\n      var bump = false;\n      label.style.removeProperty('left');\n      label.style.removeProperty('right');\n\n      var rect = label.getBoundingClientRect();\n      if (rect.left < leftEdge) {\n        bump = 'left';\n        offset = leftEdge - rect.left - rect.width / 2;\n        // console.log('bump left:', rect.left, leftEdge);\n        label.style.setProperty('left', offset + 'px');\n        label.style.removeProperty('right');\n      } else if (rect.right > rightEdge) {\n        bump = 'right';\n        offset = rect.right - rightEdge - label.parentNode.getBoundingClientRect().width;\n        // console.log('bump right:', rect.right, rightEdge);\n        label.style.setProperty('left', 'auto');\n        label.style.setProperty('right', offset + 'px');\n      }\n\n      label.classList.toggle('bump-left', bump === 'left');\n      label.classList.toggle('bump-right', bump === 'right');\n      */\n    });\n\n    if (isNaN(average)) {\n      mark.style.setProperty('display', 'none');\n    } else {\n      var p = percent(x(average));\n      // console.log('mark:', average, p);\n      mark.style.setProperty('left', p);\n      mark.style.removeProperty('display');\n    }\n\n    this.setAttribute('aria-valuemin', lower);\n    this.setAttribute('aria-valuemax', upper);\n\n  },\n\n  // clamp to min and max, round if snap === true\n  value: property('value', function(v) {\n    v = clamp(+v, this.min, this.max);\n    if (this.step) v = roundTo(v, this.step);\n    return v;\n  }),\n\n  // parse all of these as numbers\n  min:    property('min', Number),\n  max:    property('max', Number),\n  lower:  property('lower', Number),\n  upper:  property('upper', Number),\n  step:   property('step', Number),\n  average: property('average', Number),\n\n  format: property('format', String)\n});\n\nfunction click(e) {\n  // ignore right-clicks\n  if (e.button === 2) return;\n  // console.info('* click');\n  this.__dragging = getClosestHandle.call(this, e);\n  move.call(this, e);\n  this.__dragging = null;\n  this.dispatchEvent(new CustomEvent('change'));\n}\n\nfunction engage(e) {\n  // ignore right-clicks\n  if (e.button === 2) {\n    e.preventDefault();\n    return;\n  }\n  // console.info('+ engage', e.type);\n\n  this.__dragging = getClosestHandle.call(this, e);\n  this.__dragging.setAttribute('aria-grabbed', true);\n\n  if (e.type === 'focus') {\n    window.addEventListener('keyup', getListener(keypress, this));\n    this.addEventListener('blur', release, true);\n  } else {\n    window.addEventListener('mousemove', getListener(move, this));\n    window.addEventListener('mouseup', getListener(release, this));\n    window.addEventListener('touchmove', getListener(move, this));\n    window.addEventListener('touchend', getListener(release, this));\n  }\n}\n\nfunction move(e) {\n  if (!this.__dragging) {\n    console.warn('move() while not dragging');\n    return;\n  }\n\n  // console.info('* move', e.type);\n\n  var handle = this.__dragging;\n  var x = getMouseX.call(this, e);\n\n  var property = handle === this.__left ? 'lower' : 'upper';\n\n  var width = this.getBoundingClientRect().width;\n  x = Math.max(0, Math.min(x, width));\n\n  var value = this.min + (x / width) * (this.max - this.min);\n  if (this.step) value = roundTo(value, this.step);\n  this[property] = value;\n  this.update();\n\n  this.setAttribute('aria-valuenow', value);\n\n  var event = new CustomEvent('drag');\n  event.property = property;\n  event.value = value;\n  this.dispatchEvent(event);\n\n  e.preventDefault();\n\n  try {\n    window.getSelection().removeAllRanges();\n  } catch (err) {\n    console.warn('unable to clear ranges:', err);\n  }\n  return;\n}\n\nfunction release(e) {\n  // console.info('- release', e.type);\n\n  if (this.__dragging) {\n    this.__dragging.removeAttribute('aria-grabbed');\n  } else {\n    console.warn('release() while not dragging');\n  }\n\n  this.__dragging = false;\n  this.removeAttribute('aria-valuenow');\n\n  if (e.type === 'blur') {\n    window.removeEventListener('keyup', getListener(keypress, this));\n    this.removeEventListener('blur', release, true);\n  } else {\n    window.removeEventListener('mousemove', getListener(move, this));\n    window.removeEventListener('mouseup', getListener(release, this));\n    window.removeEventListener('touchmove', getListener(move, this));\n    window.removeEventListener('touchend', getListener(release, this));\n  }\n\n  this.dispatchEvent(new CustomEvent('change'));\n\n  e.preventDefault();\n  return;\n}\n\nfunction keypress(e) {\n  // console.info('* keypress:', e.keyCode);\n  switch (e.keyCode) {\n    case 37: // left\n      nudge.call(this, -1);\n      break;\n    case 39: // right\n      nudge.call(this, +1);\n      break;\n\n    case 36: // end\n    case 35: // home\n      switch (this.__dragging) {\n        case this.__left:\n          this.lower = this.min;\n          break;\n        case this.__right:\n          this.upper = this.max;\n          break;\n      }\n      break;\n  }\n}\n\nfunction getListener(fn, obj) {\n  var name = fn.name || fn.toString().match(/function (\\w+)/)[1];\n  var key = '__listener_' + name;\n  // console.log('listener:', name);\n  return obj[key] || (obj[key] = fn.bind(obj));\n}\n\nfunction registerElement(name, proto, parent) {\n  if (!parent) parent = HTMLElement;\n  for (var key in proto) {\n    if (typeof proto[key] === 'function') {\n      proto[key] = {value: proto[key]};\n      if (key.indexOf('__') === 0) {\n        proto[key].enumerable = false;\n      }\n    }\n  }\n  return document.registerElement(name, {\n    prototype: Object.create(\n      parent.prototype,\n      proto\n    )\n  });\n}\n\nfunction getAttr(name, fallback) {\n  return this.hasAttribute(name)\n    ? this.getAttribute(name)\n    : fallback;\n}\n\nfunction property(name, parse) {\n  var key = '__' + name;\n  return {\n    get: function propGetter() {\n      return this[key];\n    },\n    set: function propSetter(value) {\n      if (parse) value = parse.call(this, value, name);\n      if (value !== this[key]) {\n        this[key] = value;\n        this.update();\n      }\n    }\n  };\n}\n\nfunction createHandle(which) {\n  var div = document.createElement('div');\n  div.classList.add(CLASS_PREFIX + 'handle');\n  div.classList.add(CLASS_PREFIX + 'handle_' + which);\n  div.setAttribute('tabindex', 0);\n  div.appendChild(createLabel());\n  return this.appendChild(div);\n}\n\nfunction createRange() {\n  var div = document.createElement('div');\n  div.className = CLASS_PREFIX + 'range';\n  return this.appendChild(div);\n}\n\nfunction createMark(klass) {\n  var div = document.createElement('div');\n  div.className = CLASS_PREFIX + klass;\n  div.appendChild(createLabel());\n  return this.appendChild(div);\n}\n\nfunction createLabel() {\n  var label = document.createElement('span');\n  label.className = CLASS_PREFIX + 'label';\n  return label;\n}\n\nfunction getLabel(parent) {\n  return parent.querySelector('.' + CLASS_PREFIX + 'label');\n}\n\nfunction getClosestHandle(e) {\n  switch (e.target) {\n    case this.__left: return this.__left;\n    case this.__right: return this.__right;\n  }\n\n  var x = getMouseX.call(this, e);\n  var left = this.__left.getBoundingClientRect().left;\n  var right = this.__right.getBoundingClientRect().left;\n  // console.info('x: %d, left: %d, right: %d', x, left, right);\n  var dl = Math.abs(x - left);\n  var dr = Math.abs(x - right);\n  return dl < dr ? this.__left : this.__right;\n}\n\nfunction getMouseX(e) {\n  var rect = this.getBoundingClientRect();\n  var width = rect.width;\n  var x = (e.touches && e.touches.length)\n    ? e.touches[0].clientX\n    : e.clientX;\n  return x - rect.left;\n}\n\nfunction nudge(multiplier) {\n  var handle = this.__dragging;\n  if (!handle) return;\n\n  var property = handle === this.__left ? 'lower' : 'upper';\n  var step = this.step || .1;\n  this[property] += step * multiplier;\n}\n\nfunction clamp(x, min, max) {\n  if (x < min) return min;\n  else if (x > max) return max;\n  return x;\n}\n\nfunction roundTo(value, step) {\n  return Math.round(value / step) * step;\n}\n\nfunction percent(value) {\n  return value.toFixed(2) + '%';\n}\n\nfunction formatDollars(n) {\n  if (n >= 1000) {\n    return '$' + roundFloat(n / 1000) + 'K';\n  }\n  return '$' + Math.round(n);\n}\n\nfunction formatPercent(n) {\n  return Math.round(n * 100) + '%';\n}\n\nfunction roundFloat(n) {\n  return n.toFixed(1).replace(/\\.0$/, '');\n}\n","(function(exports) {\n\n  var ITEM_CLASS = 'multi-select_item';\n  var d3 = require('../d3');\n\n  exports.MultiSelect = document.registerElement('multi-select', {\n    prototype: Object.create(\n      HTMLElement.prototype,\n      {\n        createdCallback: {value: function() {\n        }},\n\n        attachedCallback: {value: function() {\n          var select = this.querySelector('select');\n          if (!select) return console.error('no <select> found in <multi-select>!');\n\n          // console.warn('<multi-select>');\n\n          // remove the multiple attribute, the clone it\n          select.removeAttribute('multiple');\n          this.__select = select.cloneNode(true);\n          removeEmptyOption(this.__select);\n\n          // remove the name from the templated one\n          select.name = '';\n\n          // then set the multiple attribute\n          this.__select.setAttribute('multiple', 'multiple');\n\n          this.createTemplate();\n          this.insertBefore(this.__select, this.firstChild);\n\n          this.value = select.value;\n\n          // listen for change events, and hide it\n          this.__select.addEventListener('change', this.__onchange = onchange.bind(this));\n          this.__select.style.display = 'none';\n          this.__select.setAttribute('aria-hidden', 'true');\n\n          this.__pollID = setInterval(pollSourceSelect.bind(this), 200);\n        }},\n\n        attributeChangedCallback: {value: function(attr, oldValue, newValue) {\n        }},\n\n        detachedCallback: {value: function() {\n          this.__select.removeEventListener('change', this.__onchange);\n          clearTimeout(this.__pollID);\n        }},\n\n        update: {value: function() {\n          var root = d3.select(this);\n          var values = this.value;\n          // console.log('[update]');\n\n          var set = (function(v, focus) {\n            // console.log('[set] values:', v);\n            this.value = v;\n            if (focus) {\n              this.querySelector('.' + ITEM_CLASS + ':last-child select').focus();\n            }\n          }).bind(this);\n\n          var items = root\n            .selectAll('.' + ITEM_CLASS)\n            .data(values);\n\n          var template = this.__template;\n          items.exit().remove();\n          items.enter()\n            .append(function() {\n              return template.cloneNode(true);\n            })\n            .classed(ITEM_CLASS, true);\n\n          items.select('select')\n            .property('value', function(d) {\n              return nullish(d) ? '' : String(d);\n            })\n            .on('change', function(d, i) {\n              // console.log('[change %d]', i, this.value);\n              values[i] = this.value;\n              set(values);\n            });\n\n          /*\n          items.select('button')\n            .attr('disabled', 'disabled');\n          */\n\n          items.selectAll('button')\n            .on('click.cancel', function() {\n              d3.event.preventDefault();\n            });\n\n          items.each(function(value, i) {\n            var item = d3.select(this);\n            item.select('.button-remove')\n              .on('click', remove);\n            item.select('.button-add')\n              .on('click', add);\n            function remove() {\n              item.remove();\n              values.splice(i, 1);\n              // console.log('[remove %d]:', i, value);\n              // console.log('values:', values);\n              set(values);\n            }\n          })\n\n          function add() {\n            values.push(null);\n            set(values, true);\n          }\n        }},\n\n        createTemplate: {value: function() {\n          if (!this.__template) {\n            var html = this.innerHTML;\n            var template = this.__template = document.createElement('div');\n            template.className = ITEM_CLASS;\n            template.innerHTML = html;\n            while (this.firstChild) {\n              this.removeChild(this.firstChild);\n            }\n            return template;\n          }\n          return this.__template;\n        }},\n\n        value: {\n          get: function() {\n            return Array.isArray(this.__value)\n              ? this.__value.slice()\n              : this.__value || [null];\n          },\n          set: function(value) {\n            // console.log('[set values]:', value);\n            if (compare(this.__value, value)) {\n              // console.warn('no change');\n              return;\n            }\n\n            this.__value = parseValues(value);\n\n            this.__updating = true;\n            this.update();\n            setValue(this.__select, this.__value);\n            this.__updating = false;\n          }\n        }\n      }\n    )\n  });\n\n  function onchange(e) {\n    if (this.__updating) return;\n    // console.log('source select change:', e.target);\n    this.value = getValue(e.target);\n  }\n\n  function getValue(multiselect) {\n    return [].filter.call(\n      multiselect.options, function(option) {\n        return option.selected;\n      })\n      .map(function(option) {\n        return option.value;\n      })\n  }\n\n  function setValue(multiselect, values) {\n    var changed = false;\n    var map = values.reduce(function(map, d) {\n      return map[d] = true, map;\n    }, {});\n\n    [].forEach.call(multiselect.options, function(option) {\n      var selected = !!map[option.value];\n      if (option.selected !== selected) {\n        option.selected = selected;\n        changed = true;\n      }\n    });\n    if (changed) {\n      multiselect.dispatchEvent(new CustomEvent('change', {\n        bubbles: true\n      }));\n    }\n  }\n\n  function pollSourceSelect() {\n    var value = getValue(this.__select);\n    if (this.__value.length > value.length) {\n      value.push(null);\n    }\n    if (!compare(this.__value, value)) {\n      this.value = value;\n    }\n  }\n\n  function removeEmptyOption(select) {\n    if (!select.options[0].value) {\n      select.removeChild(select.options[0]);\n    }\n  }\n\n  function parseValues(d) {\n    return Array.isArray(d)\n      ? d\n      : d ? String(d).split(/,/g) : [d];\n  }\n\n  function nullish(d) {\n    return d === null || d === undefined;\n  }\n\n  // Array comparison\n  function compare(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n      for (var i = 0, len = a.length; i < len; i++) {\n        if (b.indexOf(a[i]) === -1) return false;\n      }\n    }\n    return String(a) === String(b);\n  }\n\n})(this);\n","(function() {\n\n  try {\n    new CustomEvent('foo');\n  } catch (err) {\n\n    var createEvent = document.createCustomEvent || document.createEvent;\n\n    window.CustomEvent = function(event, params) {\n      var evt;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n      evt = createEvent.call(document, 'CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    };\n\n    window.CustomEvent.prototype = window.Event.prototype;\n  }\n\n})(this);\n","(function(formdb) {\n  'use strict';\n\n  formdb.version = '0.2.0';\n\n  var Form = function(element) {\n    if (!(this instanceof formdb.Form)) return new formdb.Form(element);\n    this.element = (typeof element === 'object')\n      ? element\n      : document.querySelector(element || 'form');\n    this._inputs = '[name]';\n    this.element.addEventListener('click', this._onClick.bind(this));\n  };\n\n  // where to stash a reference to the actual event listener\n  var LISTENER_PROPERTY = '_elementdb_listener';\n\n  Form.prototype = {\n\n    // set the form data as an object\n    getData: function() {\n      var data = {};\n      this.getInputs().forEach(function(input) {\n        formdb.readInput(input, data);\n      });\n      return data;\n    },\n\n    // set the form data using an object\n    setData: function(data) {\n      for (var key in data) {\n        this.set(key, data[key]);\n      }\n      return this;\n    },\n\n    // set a specific key from the form\n    get: function(key) {\n      var data = {};\n      this.getInputsByName(key).forEach(function(input) {\n        formdb.readInput(input, data);\n      });\n      return data[key];\n    },\n\n    // set a specific key/value\n    set: function(key, value) {\n      var data = {};\n      data[key] = value;\n      this.getInputsByName(key).forEach(function(input) {\n        formdb.writeInput(input, data);\n      });\n      return this;\n    },\n\n    reset: function() {\n      if (typeof this.element.reset === 'function') {\n        this.element.reset();\n      } else {\n        var data = {};\n        this.getInputs().forEach(function(input) {\n          formdb.writeInput(input, data);\n        });\n      }\n      return this;\n    },\n\n    // get the inputs as an array\n    getInputs: function(filter) {\n      var inputs = slice(this.element.querySelectorAll(this._inputs));\n      return filter ? inputs.filter(filter) : inputs;\n    },\n\n    // get inputs by name\n    getInputsByName: function(name) {\n      return this.getInputs(function(input) {\n        return input.name == name;\n      });\n    },\n\n    // add an event listneer\n    on: function(type, callback) {\n      var self = this,\n          listener;\n      if (type.match(/^change:/)) {\n        var name = type.split(':').pop();\n        listener = function listener(e) {\n          if (e.target.name === name) {\n            return callback.call(self, e.target.value, e);\n          }\n        };\n        callback[LISTENER_PROPERTY] = listener;\n        this.element.addEventListener('change', listener);\n      } else if (type === 'change' || type === 'submit') {\n        listener = function listener(e) {\n          return callback.call(self, self.getData(), e);\n        };\n        callback[LISTENER_PROPERTY] = listener;\n        this.element.addEventListener(type, listener);\n      } else {\n        this.element.addEventListener(type, callback);\n      }\n      return this;\n    },\n\n    off: function(type, callback) {\n      if (type.match(/^change:/)) {\n        type = 'change';\n      }\n      this.element.removeEventListener(type, callback[LISTENER_PROPERTY] || callback);\n      return this;\n    },\n\n\n    _onClick: function(e) {\n      var target = e.target;\n      // if a submit button was pressed...\n      if (target.type === 'submit') {\n        // toggle the pressed flag of all submit inputs accordingly\n        this.getInputs(function(input) {\n          return input.type === 'submit';\n        })\n        .forEach(function(input) {\n          input.pressed = (input === target);\n        });\n      }\n    }\n\n  }; // Form.prototype\n\n  formdb.Form = Form;\n\n  formdb.validInput = function(input) {\n    return input.name && !input.disabled;\n  };\n\n  formdb.readInput = function(input, data) {\n    if (!formdb.validInput(input)) return false;\n\n    var value;\n\n    switch (input.type) {\n      case 'select-one':\n        value = input.options[input.selectedIndex].value;\n        break;\n\n      case 'select-multiple':\n        value = filter(input.querySelectorAll('option'), function(option) {\n            return option.selected;\n          })\n          .map(function(option) {\n            return option.value;\n          });\n        break;\n\n      case 'checkbox':\n        if (!input.checked) break;\n        value = data[input.name];\n        if (Array.isArray(value)) {\n          value.push(input.value);\n        } else if (typeof value !== 'undefined') {\n          value = [value, input.value || true];\n        } else {\n          value = input.value || true;\n        }\n        break;\n\n      case 'radio':\n        if (input.checked) value = input.value;\n        break;\n\n      case 'submit':\n        if (input.pressed) value = input.value;\n        break;\n\n      default:\n        value = input.value;\n    }\n\n    if (typeof value !== 'undefined' && value !== '') {\n      data[input.name] = value;\n      return true;\n    }\n\n    return false;\n  }; // formdb.readInput\n\n  formdb.writeInput = function(input, data) {\n    if (!formdb.validInput(input)) return false;\n\n    var multiple = false,\n        value = data[input.name] || '',\n        list = Array.isArray(value) ? value : [value];\n\n    // coerce all values to strings for indexOf()\n    list = list.map(String);\n\n    switch (input.type) {\n      case 'select-one':\n        forEach(input.options, function(option) {\n          // TODO lint flag\n          option.selected = (option.value == value);\n        });\n        return true;\n\n      case 'select-multiple':\n        forEach(input.options, function(option) {\n          option.selected = list.indexOf(option.value) > -1;\n        });\n        return true;\n\n      case 'checkbox':\n        input.checked = input.value\n          ? list.indexOf(input.value) > -1\n          : !!value;\n        return true;\n\n      case 'radio':\n        input.checked = (value == input.value);\n        return true;\n    }\n\n    input.value = value;\n    return true;\n  }; // formdb.writeInput\n\n  /*\n   * private utility functions\n   */\n\n  var ARRAY = [];\n  // iterate over any array-like object\n  function forEach(list, fn, that) {\n    return ARRAY.forEach.call(list, fn, that || list);\n  }\n\n  // map any array-like object\n  function map(list, fn, that) {\n    return ARRAY.map.call(list, fn, that || list);\n  }\n\n  function filter(list, fn, that) {\n    return ARRAY.filter.call(list, fn, that || list);\n  }\n\n  // slice any array-like object\n  function slice(list, start, len) {\n    return ARRAY.slice.call(list, start, len);\n  }\n\n  // extend an object\n  function extend(a, b) {\n    for (var i = 1; i < arguments.length; i += 1) {\n      var o = arguments[i];\n      if (!o || typeof o !== 'object') return;\n      for (var k in o) a[k] = o[k];\n    }\n    return a;\n  }\n\n})(typeof module === 'object' ? module.exports : this.formdb = {});\n","/*\n * aight <http://github.com/shawnbot/aight/>\n * is a collection of JavaScript shims and polyfills that make IE8 (and other\n * legacy browsers) behave a lot more like modern ones.\n */\n;(function(aight) {\n\n  aight.version = \"2.1.1\";\n\n  var nav = null,\n      version = 0,\n      ie = false;\n  if (typeof navigator === \"object\") {\n    nav = navigator.appName;\n    version = navigator.appVersion;\n    ie = (nav === \"Microsoft Internet Explorer\");\n    if (ie) {\n      var match = navigator.userAgent.match(/MSIE ([0-9]{1,}[\\.0-9]{0,})/);\n      version = match ? parseFloat(match[1]) : 0;\n    }\n  }\n\n  aight.browser = {\n    name: nav,\n    ie:   ie ? version : false,\n    ie9:  ie && (version >= 9 && version < 10),\n    ie8:  ie && (version >= 8 && version < 9),\n    ie7:  ie && (version >= 7 && version < 8),\n    ie6:  ie && (version >= 6 && version < 7)\n  };\n\n  if (typeof window !== \"object\") return;\n\n  window.aight = aight;\n\n  function aliasInterface(ns, expectedName, nonStandardName) {\n    if (ns[nonStandardName] && !ns[expectedName]) {\n      ns[expectedName] = ns[nonStandardName];\n      return true;\n    }\n    return false;\n  }\n\n  aliasInterface(window, \"HTMLCommentElement\", \"Comment\");\n  aliasInterface(window, \"HTMLDocument\", \"Document\");\nif (aight.browser.ie < 9) {\n\n  /*! (C) WebReflection Mit Style License */\n  if (document.createEvent) return;\n  var\n    DUNNOABOUTDOMLOADED = true,\n    READYEVENTDISPATCHED = false,\n    ONREADYSTATECHANGE = 'onreadystatechange',\n    DOMCONTENTLOADED = 'DOMContentLoaded',\n    SECRET = '__IE8__' + Math.random(),\n    // Object = window.Object,\n    defineProperty = Object.defineProperty ||\n    // just in case ...\n    function (object, property, descriptor) {\n      object[property] = descriptor.value;\n    },\n    defineProperties = Object.defineProperties ||\n    // IE8 implemented defineProperty but not the plural...\n    function (object, descriptors) {\n      for(var key in descriptors) {\n        if (hasOwnProperty.call(descriptors, key)) {\n          try {\n            defineProperty(object, key, descriptors[key]);\n          } catch(o_O) {\n            if (window.console) {\n              console.log(key + ' failed on object:', object, o_O.message);\n            }\n          }\n        }\n      }\n    },\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    // here IE7 will break like a charm\n    ElementPrototype = window.Element.prototype,\n    TextPrototype = window.Text.prototype,\n    // none of above native constructors exist/are exposed\n    possiblyNativeEvent = /^[a-z]+$/,\n    // ^ actually could probably be just /^[a-z]+$/\n    readyStateOK = /loaded|complete/,\n    types = {},\n    div = document.createElement('div')\n  ;\n\n  function commonEventLoop(currentTarget, e, $handlers, synthetic) {\n    for(var\n      continuePropagation,\n      handlers = $handlers.slice(),\n      evt = enrich(e, currentTarget),\n      i = 0, length = handlers.length; i < length; i++\n    ) {\n      handler = handlers[i];\n      if (\n        typeof handler === 'object' &&\n        typeof handler.handleEvent === 'function'\n      ) {\n        handler.handleEvent(evt);\n      } else {\n        handler.call(currentTarget, evt);\n      }\n      if (evt.stoppedImmediatePropagation) break;\n    }\n    continuePropagation = !evt.stoppedPropagation;\n    /*\n    if (continuePropagation && !synthetic && !live(currentTarget)) {\n      evt.cancelBubble = true;\n    }\n    */\n    return (\n      synthetic &&\n      continuePropagation &&\n      currentTarget.parentNode\n    ) ?\n      currentTarget.parentNode.dispatchEvent(evt) :\n      !evt.defaultPrevented\n    ;\n  }\n\n  function commonDescriptor(get, set) {\n    return {\n      // if you try with enumerable: true\n      // IE8 will miserably fail\n      configurable: true,\n      get: get,\n      set: set\n    };\n  }\n\n  function commonTextContent(protoDest, protoSource, property) {\n    var descriptor = getOwnPropertyDescriptor(\n      protoSource || protoDest, property\n    );\n    defineProperty(\n      protoDest,\n      'textContent',\n      commonDescriptor(\n        function () {\n          return descriptor.get.call(this);\n        },\n        function (textContent) {\n          descriptor.set.call(this, textContent);\n        }\n      )\n    );\n  }\n\n  function enrich(e, currentTarget) {\n    e.currentTarget = currentTarget;\n    e.eventPhase = (\n      // AT_TARGET : BUBBLING_PHASE\n      e.target === e.currentTarget ? 2 : 3\n    );\n    return e;\n  }\n\n  function find(array, value) {\n    var i = array.length;\n    while(i-- && array[i] !== value);\n    return i;\n  }\n\n  function getTextContent() {\n    if (this.tagName === 'BR') return '\\n';\n    var\n      textNode = this.firstChild,\n      arrayContent = []\n    ;\n    while(textNode) {\n      if (textNode.nodeType !== 8 && textNode.nodeType !== 7) {\n        arrayContent.push(textNode.textContent);\n      }\n      textNode = textNode.nextSibling;\n    }\n    return arrayContent.join('');\n  }\n\n  function live(self) {\n    return self.nodeType !== 9 && document.documentElement.contains(self);\n  }\n\n  function onReadyState(e) {\n    if (!READYEVENTDISPATCHED && readyStateOK.test(\n      document.readyState\n    )) {\n      READYEVENTDISPATCHED = !READYEVENTDISPATCHED;\n      document.detachEvent(ONREADYSTATECHANGE, onReadyState);\n      e = document.createEvent('Event');\n      e.initEvent(DOMCONTENTLOADED, true, true);\n      document.dispatchEvent(e);\n    }\n  }\n\n  function setTextContent(textContent) {\n    var node;\n    while ((node = this.lastChild)) {\n      this.removeChild(node);\n    }\n    if (textContent != null) {\n      this.appendChild(document.createTextNode(textContent));\n    }\n  }\n\n  function verify(self, e) {\n    if (!e) {\n      e = window.event;\n    }\n    if (!e.target) {\n      e.target = e.srcElement || e.fromElement || document;\n    }\n    if (!e.timeStamp) {\n      e.timeStamp = (new Date).getTime();\n    }\n    return e;\n  }\n\n  // normalized textContent for:\n  //  comment, script, style, text, title\n  commonTextContent(\n    window.HTMLCommentElement.prototype,\n    ElementPrototype,\n    'nodeValue'\n  );\n\n  commonTextContent(\n    window.HTMLScriptElement.prototype,\n    null,\n    'text'\n  );\n\n  commonTextContent(\n    TextPrototype,\n    null,\n    'nodeValue'\n  );\n\n  commonTextContent(\n    window.HTMLTitleElement.prototype,\n    null,\n    'text'\n  );\n\n  defineProperty(\n    window.HTMLStyleElement.prototype,\n    'textContent',\n    (function(descriptor){\n      return commonDescriptor(\n        function () {\n          return descriptor.get.call(this.styleSheet);\n        },\n        function (textContent) {\n          descriptor.set.call(this.styleSheet, textContent);\n        }\n      );\n    }(getOwnPropertyDescriptor(window.CSSStyleSheet.prototype, 'cssText')))\n  );\n\n  defineProperties(\n    ElementPrototype,\n    {\n      // bonus\n      textContent: {\n        get: getTextContent,\n        set: setTextContent\n      },\n      // http://www.w3.org/TR/ElementTraversal/#interface-elementTraversal\n      firstElementChild: {\n        get: function () {\n          for(var\n            childNodes = this.childNodes || [],\n            i = 0, length = childNodes.length;\n            i < length; i++\n          ) {\n            if (childNodes[i].nodeType == 1) return childNodes[i];\n          }\n        }\n      },\n      lastElementChild: {\n        get: function () {\n          for(var\n            childNodes = this.childNodes || [],\n            i = childNodes.length;\n            i--;\n          ) {\n            if (childNodes[i].nodeType == 1) return childNodes[i];\n          }\n        }\n      },\n      previousElementSibling: {\n        get: function () {\n          var previousElementSibling = this.previousSibling;\n          while (previousElementSibling && previousElementSibling.nodeType != 1) {\n            previousElementSibling = previousElementSibling.previousSibling;\n          }\n          return previousElementSibling;\n        }\n      },\n      nextElementSibling: {\n        get: function () {\n          var nextElementSibling = this.nextSibling;\n          while (nextElementSibling && nextElementSibling.nodeType != 1) {\n            nextElementSibling = nextElementSibling.nextSibling;\n          }\n          return nextElementSibling;\n        }\n      },\n      childElementCount: {\n        get: function () {\n          for(var\n            count = 0,\n            childNodes = this.childNodes || [],\n            i = childNodes.length; i--; count += childNodes[i].nodeType == 1\n          );\n          return count;\n        }\n      },\n      /*\n      // children would be an override\n      // IE8 already supports them but with comments too\n      // not just nodeType 1\n      children: {\n        get: function () {\n          for(var\n            children = [],\n            childNodes = this.childNodes || [],\n            i = 0, length = childNodes.length;\n            i < length; i++\n          ) {\n            if (childNodes[i].nodeType == 1) {\n              children.push(childNodes[i]);\n            }\n          }\n          return children;\n        }\n      },\n      */\n      // DOM Level 2 EventTarget methods and events\n      addEventListener: {value: function (type, handler, capture) {\n        var\n          self = this,\n          ontype = 'on' + type,\n          temple =  self[SECRET] ||\n                      defineProperty(\n                        self, SECRET, {value: {}}\n                      )[SECRET],\n          currentType = temple[ontype] || (temple[ontype] = {}),\n          handlers  = currentType.h || (currentType.h = []),\n          e\n        ;\n        if (!hasOwnProperty.call(currentType, 'w')) {\n          currentType.w = function (e) {\n            // e[SECRET] is a silent notification needed to avoid\n            // fired events during live test\n            return e[SECRET] || commonEventLoop(self, verify(self, e), handlers, false);\n          };\n          // if not detected yet\n          if (!hasOwnProperty.call(types, ontype)) {\n            // and potentially a native event\n            if(possiblyNativeEvent.test(type)) {\n              // do this heavy thing\n              try {\n                // TODO:  should I consider tagName too so that\n                //        INPUT[ontype] could be different ?\n                e = document.createEventObject();\n                // do not clone ever a node\n                // specially a document one ...\n                // use the secret to ignore them all\n                e[SECRET] = true;\n                // document a part if a node has never been\n                // added to any other node, fireEvent might\n                // behave very weirdly (read: trigger unspecified errors)\n                if (self.nodeType != 9 && self.parentNode == null) {\n                  div.appendChild(self);\n                }\n                self.fireEvent(ontype, e);\n                types[ontype] = true;\n              } catch(e) {\n                types[ontype] = false;\n                while (div.hasChildNodes()) {\n                  div.removeChild(div.firstChild);\n                }\n              }\n            } else {\n              // no need to bother since\n              // 'x-event' ain't native for sure\n              types[ontype] = false;\n            }\n          }\n          if (currentType.n = types[ontype]) {\n            self.attachEvent(ontype, currentType.w);\n          }\n        }\n        if (find(handlers, handler) < 0) {\n          handlers[capture ? 'unshift' : 'push'](handler);\n        }\n      }},\n      dispatchEvent: {value: function (e) {\n        var\n          self = this,\n          ontype = 'on' + e.type,\n          temple =  self[SECRET],\n          currentType = temple && temple[ontype],\n          valid = !!currentType,\n          parentNode\n        ;\n        if (!e.target) e.target = self;\n        return (valid ? (\n          currentType.n /* && live(self) */ ?\n            self.fireEvent(ontype, e) :\n            commonEventLoop(\n              self,\n              e,\n              currentType.h,\n              true\n            )\n        ) : (\n          (parentNode = self.parentNode) /* && live(self) */ ?\n            parentNode.dispatchEvent(e) :\n            true\n        )), !e.defaultPrevented;\n      }},\n      removeEventListener: {value: function (type, handler, capture) {\n        var\n          self = this,\n          ontype = 'on' + type,\n          temple =  self[SECRET],\n          currentType = temple && temple[ontype],\n          handlers = currentType && currentType.h,\n          i = handlers ? find(handlers, handler) : -1\n        ;\n        if (-1 < i) handlers.splice(i, 1);\n      }}\n    }\n  );\n\n  // EventTarget methods for Text nodes too\n  defineProperties(TextPrototype, {\n    addEventListener: {value: ElementPrototype.addEventListener},\n    dispatchEvent: {value: ElementPrototype.dispatchEvent},\n    removeEventListener: {value: ElementPrototype.removeEventListener}\n  });\n\n  defineProperties(\n    window.XMLHttpRequest.prototype,\n    {\n      addEventListener: {value: function (type, handler, capture) {\n        var\n          self = this,\n          ontype = 'on' + type,\n          temple =  self[SECRET] ||\n                      defineProperty(\n                        self, SECRET, {value: {}}\n                      )[SECRET],\n          currentType = temple[ontype] || (temple[ontype] = {}),\n          handlers  = currentType.h || (currentType.h = [])\n        ;\n        if (find(handlers, handler) < 0) {\n          if (!self[ontype]) {\n            self[ontype] = function () {\n              var e = document.createEvent('Event');\n              e.initEvent(type, true, true);\n              self.dispatchEvent(e);\n            };\n          }\n          handlers[capture ? 'unshift' : 'push'](handler);\n        }\n      }},\n      dispatchEvent: {value: function (e) {\n        var\n          self = this,\n          ontype = 'on' + e.type,\n          temple =  self[SECRET],\n          currentType = temple && temple[ontype],\n          valid = !!currentType\n        ;\n        return valid && (\n          currentType.n /* && live(self) */ ?\n            self.fireEvent(ontype, e) :\n            commonEventLoop(\n              self,\n              e,\n              currentType.h,\n              true\n            )\n        );\n      }},\n      removeEventListener: {value: ElementPrototype.removeEventListener}\n    }\n  );\n\n  defineProperties(\n    window.Event.prototype,\n    {\n      bubbles: {value: true, writable: true},\n      cancelable: {value: true, writable: true},\n      preventDefault: {value: function () {\n        if (this.cancelable) {\n          this.defaultPrevented = true;\n          this.returnValue = false;\n        }\n      }},\n      stopPropagation: {value: function () {\n        this.stoppedPropagation = true;\n        this.cancelBubble = true;\n      }},\n      stopImmediatePropagation: {value: function () {\n        this.stoppedImmediatePropagation = true;\n        this.stopPropagation();\n      }},\n      initEvent: {value: function(type, bubbles, cancelable){\n        this.type = type;\n        this.bubbles = !!bubbles;\n        this.cancelable = !!cancelable;\n        if (!this.bubbles) {\n          this.stopPropagation();\n        }\n      }}\n    }\n  );\n\n  defineProperties(\n    window.HTMLDocument.prototype,\n    {\n      textContent: {\n        get: function () {\n          return this.nodeType === 11 ? getTextContent.call(this) : null;\n        },\n        set: function (textContent) {\n          if (this.nodeType === 11) {\n            setTextContent.call(this, textContent);\n          }\n        }\n      },\n      addEventListener: {value: function(type, handler, capture) {\n        var self = this;\n        ElementPrototype.addEventListener.call(self, type, handler, capture);\n        // NOTE:  it won't fire if already loaded, this is NOT a $.ready() shim!\n        //        this behaves just like standard browsers\n        if (\n          DUNNOABOUTDOMLOADED &&\n          type === DOMCONTENTLOADED &&\n          !readyStateOK.test(\n            self.readyState\n          )\n        ) {\n          DUNNOABOUTDOMLOADED = false;\n          self.attachEvent(ONREADYSTATECHANGE, onReadyState);\n          if (window == top) {\n            (function gonna(e){try{\n              self.documentElement.doScroll('left');\n              onReadyState();\n              }catch(o_O){\n              setTimeout(gonna, 50);\n            }}());\n          }\n        }\n      }},\n      dispatchEvent: {value: ElementPrototype.dispatchEvent},\n      removeEventListener: {value: ElementPrototype.removeEventListener},\n      createEvent: {value: function(Class){\n        var e;\n        if (Class !== 'Event') throw new Error('unsupported ' + Class);\n        e = document.createEventObject();\n        e.timeStamp = (new Date).getTime();\n        return e;\n      }}\n    }\n  );\n\n  defineProperties(\n    window.Window.prototype,\n    {\n      getComputedStyle: {value: function(){\n\n        var // partially grabbed from jQuery and Dean's hack\n          notpixel = /^(?:[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|))(?!px)[a-z%]+$/,\n          position = /^(top|right|bottom|left)$/,\n          re = /\\-([a-z])/g,\n          place = function (match, $1) {\n            return $1.toUpperCase();\n          }\n        ;\n\n        function ComputedStyle(_) {\n          this._ = _;\n        }\n\n        ComputedStyle.prototype.getPropertyValue = function (name) {\n          var\n            el = this._,\n            style = el.style,\n            currentStyle = el.currentStyle,\n            runtimeStyle = el.runtimeStyle,\n            result,\n            left,\n            rtLeft\n          ;\n          name = (name === 'float' ? 'style-float' : name).replace(re, place);\n          result = currentStyle ? currentStyle[name] : style[name];\n          if (notpixel.test(result) && !position.test(name)) {\n            left = style.left;\n            rtLeft = runtimeStyle && runtimeStyle.left;\n            if (rtLeft) {\n              runtimeStyle.left = currentStyle.left;\n            }\n            style.left = name === 'fontSize' ? '1em' : result;\n            result = style.pixelLeft + 'px';\n            style.left = left;\n            if (rtLeft) {\n              runtimeStyle.left = rtLeft;\n            }\n          }\n          return result == null ?\n            result : ((result + '') || 'auto');\n        };\n\n        // unsupported\n        function PseudoComputedStyle() {}\n        PseudoComputedStyle.prototype.getPropertyValue = function () {\n          return null;\n        };\n\n        return function (el, pseudo) {\n          return pseudo ?\n            new PseudoComputedStyle(el) :\n            new ComputedStyle(el);\n        };\n\n      }()},\n\n      addEventListener: {value: function (type, handler, capture) {\n        var\n          self = window,\n          ontype = 'on' + type,\n          handlers\n        ;\n        if (!self[ontype]) {\n          self[ontype] = function(e) {\n            return commonEventLoop(self, verify(self, e), handlers, false);\n          };\n        }\n        handlers = self[ontype][SECRET] || (\n          self[ontype][SECRET] = []\n        );\n        if (find(handlers, handler) < 0) {\n          handlers[capture ? 'unshift' : 'push'](handler);\n        }\n      }},\n      dispatchEvent: {value: function (e) {\n        var method = window['on' + e.type];\n        return method ? method.call(window, e) !== false && !e.defaultPrevented : true;\n      }},\n      removeEventListener: {value: function (type, handler, capture) {\n        var\n          ontype = 'on' + type,\n          handlers = (window[ontype] || Object)[SECRET],\n          i = handlers ? find(handlers, handler) : -1\n         ;\n        if (-1 < i) handlers.splice(i, 1);\n      }}\n    }\n  );\n} // if (aight.browser.ie < 9)\n(function(window){'use strict';\n  /* jshint loopfunc: true, noempty: false*/\n  // http://www.w3.org/TR/dom/#element\n  function textNodeIfString(node) {\n    return typeof node === 'string' ? window.document.createTextNode(node) : node;\n  }\n  function mutationMacro(nodes) {\n    if (nodes.length === 1) {\n      return textNodeIfString(nodes[0]);\n    }\n    for (var\n      fragment = window.document.createDocumentFragment(),\n      list = slice.call(nodes),\n      i = 0; i < nodes.length; i++\n    ) {\n      fragment.appendChild(textNodeIfString(list[i]));\n    }\n    return fragment;\n  }\n  for(var\n    defineProperty = Object.defineProperty || function (object, property, descriptor) {\n      object.__defineGetter__(property, descriptor.get);\n    },\n    indexOf = [].indexOf || function indexOf(value){\n      var length = this.length;\n      while(length--) {\n        if (this[length] === value) {\n          break;\n        }\n      }\n      return length;\n    },\n    head,\n    property,\n    verifyToken,\n    DOMTokenList,\n    trim = /^\\s+|\\s+$/g,\n    spaces = /\\s+/,\n    SPACE = '\\x20',\n    toggle = function toggle(token, force) {\n      if (this.contains(token)) {\n        if (!force) {\n          // force is not true (either false or omitted)\n          this.remove(token);\n        }\n      } else if(force === undefined || force) {\n        force = true;\n        this.add(token);\n      }\n      return !!force;\n    },\n    ElementPrototype = (window.Element || window.Node || window.HTMLElement).prototype,\n    properties = [\n      'matches', (\n        ElementPrototype.matchesSelector ||\n        ElementPrototype.webkitMatchesSelector ||\n        ElementPrototype.khtmlMatchesSelector ||\n        ElementPrototype.mozMatchesSelector ||\n        ElementPrototype.msMatchesSelector ||\n        ElementPrototype.oMatchesSelector ||\n        function matches(selector) {\n          var parentNode = this.parentNode;\n          return !!parentNode && -1 < indexOf.call(\n            parentNode.querySelectorAll(selector),\n            this\n          );\n        }\n      ),\n      'closest', function closest(selector) {\n        var parentNode = this, matches;\n        while (\n          // document has no .matches\n          (matches = parentNode && parentNode.matches) &&\n          !parentNode.matches(selector)\n        ) {\n          parentNode = parentNode.parentNode;\n        }\n        return matches ? parentNode : null;\n      },\n      'prepend', function prepend() {\n        var firstChild = this.firstChild,\n            node = mutationMacro(arguments);\n        if (firstChild) {\n          this.insertBefore(node, firstChild);\n        } else {\n          this.appendChild(node);\n        }\n      },\n      'append', function append() {\n        this.appendChild(mutationMacro(arguments));\n      },\n      'before', function before() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.insertBefore(\n            mutationMacro(arguments), this\n          );\n        }\n      },\n      'after', function after() {\n        var parentNode = this.parentNode,\n            nextSibling = this.nextSibling,\n            node = mutationMacro(arguments);\n        if (parentNode) {\n          if (nextSibling) {\n            parentNode.insertBefore(node, nextSibling);\n          } else {\n            parentNode.appendChild(node);\n          }\n        }\n      },\n      // WARNING - DEPRECATED - use .replaceWith() instead\n      'replace', function replace() {\n        this.replaceWith.apply(this, arguments);\n      },\n      'replaceWith', function replaceWith() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.replaceChild(\n            mutationMacro(arguments),\n            this\n          );\n        }\n      },\n      'remove', function remove() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.removeChild(this);\n        }\n      }\n    ],\n    slice = properties.slice,\n    i = properties.length; i; i -= 2\n  ) {\n    property = properties[i - 2];\n    if (!(property in ElementPrototype)) {\n      ElementPrototype[property] = properties[i - 1];\n    }\n  }\n  // most likely an IE9 only issue\n  // see https://github.com/WebReflection/dom4/issues/6\n  if (!document.createElement('a').matches('a')) {\n    ElementPrototype[property] = function(matches){\n      return function (selector) {\n        return matches.call(\n          this.parentNode ?\n            this :\n            document.createDocumentFragment().appendChild(this),\n          selector\n        );\n      };\n    }(ElementPrototype[property]);\n  }\n  // http://www.w3.org/TR/dom/#domtokenlist\n  // iOS 5.1 has completely screwed this property\n  // classList in ElementPrototype is false\n  // but it's actually there as getter\n  if (!('classList' in document.documentElement)) {\n    // http://www.w3.org/TR/domcore/#domtokenlist\n    verifyToken = function (token) {\n      if (!token) {\n        throw 'SyntaxError';\n      } else if (spaces.test(token)) {\n        throw 'InvalidCharacterError';\n      }\n      return token;\n    };\n    DOMTokenList = function (node) {\n      this._svg = typeof node.className === \"object\";\n      var className = (this._svg\n            ? node.className.baseVal\n            : node.className).replace(trim, '');\n      if (className) {\n        properties.push.apply(\n          this,\n          className.split(spaces)\n        );\n      }\n      this._ = node;\n    };\n    DOMTokenList.prototype = {\n      length: 0,\n      add: function add() {\n        for(var j = 0, token; j < arguments.length; j++) {\n          token = arguments[j];\n          if(!this.contains(token)) {\n            properties.push.call(this, property);\n          }\n        }\n        if (this._svg) {\n          this._.className.baseVal = '' + this;\n        } else {\n          this._.className = '' + this;\n        }\n      },\n      contains: (function(indexOf){\n        return function contains(token) {\n          i = indexOf.call(this, property = verifyToken(token));\n          return -1 < i;\n        };\n      }([].indexOf || function (token) {\n        i = this.length;\n        while(i-- && this[i] !== token){}\n        return i;\n      })),\n      item: function item(i) {\n        return this[i] || null;\n      },\n      remove: function remove() {\n        for(var j = 0, token; j < arguments.length; j++) {\n          token = arguments[j];\n          if(this.contains(token)) {\n            properties.splice.call(this, i, 1);\n          }\n        }\n        if (this._svg) {\n          this._.className.baseVal = '' + this;\n        } else {\n          this._.className = '' + this;\n        }\n      },\n      toggle: toggle,\n      toString: function toString() {\n        return properties.join.call(this, SPACE);\n      }\n    };\n    defineProperty(ElementPrototype, 'classList', {\n      get: function get() {\n        return new DOMTokenList(this);\n      },\n      set: function(){}\n    });\n  } else {\n    // iOS 5.1 and Nokia ASHA do not support multiple add or remove\n    // trying to detect and fix that in here\n    DOMTokenList = document.createElement('div').classList;\n    DOMTokenList.add('a', 'b', 'a');\n    if ('a\\x20b' != DOMTokenList) {\n      // no other way to reach original methods in iOS 5.1\n      ElementPrototype = DOMTokenList.constructor.prototype;\n      if (!('add' in ElementPrototype)) {\n        // ASHA double fails in here\n        ElementPrototype = window.DOMTokenList.prototype;\n      }\n      verifyToken = function (original) {\n        return function () {\n          var i = 0;\n          while (i < arguments.length) {\n            original.call(this, arguments[i++]);\n          }\n        };\n      };\n      ElementPrototype.add = verifyToken(ElementPrototype.add);\n      ElementPrototype.remove = verifyToken(ElementPrototype.remove);\n      // toggle is broken too ^_^ ... let's fix it\n      ElementPrototype.toggle = toggle;\n    }\n  }\n\n  if (!('head' in document)) {\n    defineProperty(document, 'head', {\n      get: function () {\n        return head || (\n          head = document.getElementsByTagName('head')[0]\n        );\n      }\n    });\n  }\n\n  // http://www.w3.org/TR/dom/#customevent\n  try{new window.CustomEvent('?');}catch(o_O){\n    window.CustomEvent = function(\n      eventName,\n      defaultInitDict\n    ){\n\n      // the infamous substitute\n      function CustomEvent(type, eventInitDict) {\n        /*jshint eqnull:true */\n        var event = document.createEvent(eventName);\n        if (typeof type != 'string') {\n          throw new Error('An event name must be provided');\n        }\n        if (eventName == 'Event') {\n          event.initCustomEvent = initCustomEvent;\n        }\n        if (eventInitDict == null) {\n          eventInitDict = defaultInitDict;\n        }\n        event.initCustomEvent(\n          type,\n          eventInitDict.bubbles,\n          eventInitDict.cancelable,\n          eventInitDict.detail\n        );\n        return event;\n      }\n\n      // attached at runtime\n      function initCustomEvent(\n        type, bubbles, cancelable, detail\n      ) {\n        /*jshint validthis:true*/\n        this.initEvent(type, bubbles, cancelable);\n        this.detail = detail;\n      }\n\n      // that's it\n      return CustomEvent;\n    }(\n      // is this IE9 or IE10 ?\n      // where CustomEvent is there\n      // but not usable as construtor ?\n      window.CustomEvent ?\n        // use the CustomEvent interface in such case\n        'CustomEvent' : 'Event',\n        // otherwise the common compatible one\n      {\n        bubbles: false,\n        cancelable: false,\n        detail: null\n      }\n    );\n  }\n\n}(window));\n/* CSS Object Model patches */\n(function(CSSSDProto) {\n\n  function getAttribute(property) {\n    return property.replace(/-[a-z]/g, function(bit) {\n      return bit[1].toUpperCase();\n    });\n  }\n\n  // patch CSSStyleDeclaration.prototype using IE8's methods\n  if (typeof CSSSDProto.setAttribute !== \"undefined\") {\n    CSSSDProto.setProperty = function(property, value) {\n      return this.setAttribute(getAttribute(property), String(value) /*, important */ );\n    };\n    CSSSDProto.getPropertyValue = function(property) {\n      return this.getAttribute(getAttribute(property)) || null;\n    };\n    CSSSDProto.removeProperty = function(property) {\n      var value = this.getPropertyValue(property);\n      this.removeAttribute(getAttribute(property));\n      return value;\n    };\n  }\n\n})(CSSStyleDeclaration.prototype);\nif (!('createElementNS' in document)) {\n  var DocumentPrototype = window.HTMLDocument.prototype;\n  DocumentPrototype.createElementNS = function(ns, name) {\n    if (ns) throw new Error(\"sorry, this browser does not support namespaces\");\n    return DocumentPrototype.createElement.call(this, name);\n  };\n}\n/**\n* @preserve HTML5 Shiv 3.7.2 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n*/\n;(function(window, document) {\n/*jshint evil:true */\n  /** version */\n  var version = '3.7.2';\n\n  /** Preset options */\n  var options = window.html5 || {};\n\n  /** Used to skip problem elements */\n  var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n  /** Not all elements can be cloned in IE **/\n  var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n  /** Detect whether the browser supports default html5 styles */\n  var supportsHtml5Styles;\n\n  /** Name of the expando, to work with multiple documents or to re-shiv one document */\n  var expando = '_html5shiv';\n\n  /** The id for the the documents expando */\n  var expanID = 0;\n\n  /** Cached data for each document */\n  var expandoData = {};\n\n  /** Detect whether the browser supports unknown elements */\n  var supportsUnknownElements;\n\n  (function() {\n    try {\n        var a = document.createElement('a');\n        a.innerHTML = '<xyz></xyz>';\n        //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a);\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n          // assign a false positive if unable to shiv\n          (document.createElement)('a');\n          var frag = document.createDocumentFragment();\n          return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n          );\n        }());\n    } catch(e) {\n      // assign a false positive if detection fails => unable to shiv\n      supportsHtml5Styles = true;\n      supportsUnknownElements = true;\n    }\n\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a style sheet with the given CSS text and adds it to the document.\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @param {String} cssText The CSS text.\n   * @returns {StyleSheet} The style element.\n   */\n  function addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n    p.innerHTML = 'x<style>' + cssText + '</style>';\n    return parent.insertBefore(p.lastChild, parent.firstChild);\n  }\n\n  /**\n   * Returns the value of `html5.elements` as an array.\n   * @private\n   * @returns {Array} An array of shived element node names.\n   */\n  function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n  }\n\n  /**\n   * Extends the built-in list of html5 elements\n   * @memberOf html5\n   * @param {String|Array} newElements whitespace separated list or array of new element names to shiv\n   * @param {Document} ownerDocument The context document.\n   */\n  function addElements(newElements, ownerDocument) {\n    var elements = html5.elements;\n    if(typeof elements != 'string'){\n      elements = elements.join(' ');\n    }\n    if(typeof newElements != 'string'){\n      newElements = newElements.join(' ');\n    }\n    html5.elements = elements +' '+ newElements;\n    shivDocument(ownerDocument);\n  }\n\n   /**\n   * Returns the data associated to the given document\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @returns {Object} An object of data.\n   */\n  function getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]];\n    if (!data) {\n        data = {};\n        expanID++;\n        ownerDocument[expando] = expanID;\n        expandoData[expanID] = data;\n    }\n    return data;\n  }\n\n  /**\n   * returns a shived element for the given nodeName and document\n   * @memberOf html5\n   * @param {String} nodeName name of the element\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived element.\n   */\n  function createElement(nodeName, ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName);\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument);\n    }\n    var node;\n\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode();\n    } else if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n    } else {\n        node = data.createElem(nodeName);\n    }\n\n    // Avoid adding some elements to fragments in IE < 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\n  }\n\n  /**\n   * returns a shived DocumentFragment for the given document\n   * @memberOf html5\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived DocumentFragment.\n   */\n  function createDocumentFragment(ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment();\n    }\n    data = data || getExpandoData(ownerDocument);\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length;\n    for(;i<l;i++){\n        clone.createElement(elems[i]);\n    }\n    return clone;\n  }\n\n  /**\n   * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n   * @private\n   * @param {Document|DocumentFragment} ownerDocument The document.\n   * @param {Object} data of the document.\n   */\n  function shivMethods(ownerDocument, data) {\n    if (!data.cache) {\n        data.cache = {};\n        data.createElem = ownerDocument.createElement;\n        data.createFrag = ownerDocument.createDocumentFragment;\n        data.frag = data.createFrag();\n    }\n\n\n    ownerDocument.createElement = function(nodeName) {\n      //abort shiv\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName);\n      }\n      return createElement(nodeName, ownerDocument, data);\n    };\n\n    ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n      'var n=f.cloneNode(),c=n.createElement;' +\n      'h.shivMethods&&(' +\n        // unroll the `createElement` calls\n        getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n          data.createElem(nodeName);\n          data.frag.createElement(nodeName);\n          return 'c(\"' + nodeName + '\")';\n        }) +\n      ');return n}'\n    )(html5, data.frag);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Shivs the given document.\n   * @memberOf html5\n   * @param {Document} ownerDocument The document to shiv.\n   * @returns {Document} The shived document.\n   */\n  function shivDocument(ownerDocument) {\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    var data = getExpandoData(ownerDocument);\n\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      );\n    }\n    if (!supportsUnknownElements) {\n      shivMethods(ownerDocument, data);\n    }\n    return ownerDocument;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The `html5` object is exposed so that more elements can be shived and\n   * existing shiving can be detected on iframes.\n   * @type Object\n   * @example\n   *\n   * // options can be changed before the script is included\n   * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n   */\n  var html5 = {\n\n    /**\n     * An array or space separated string of node names of the elements to shiv.\n     * @memberOf html5\n     * @type Array|String\n     */\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\n\n    /**\n     * current version of html5shiv\n     */\n    'version': version,\n\n    /**\n     * A flag to indicate that the HTML5 style sheet should be inserted.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivCSS': (options.shivCSS !== false),\n\n    /**\n     * Is equal to true if a browser supports creating unknown/HTML5 elements\n     * @memberOf html5\n     * @type boolean\n     */\n    'supportsUnknownElements': supportsUnknownElements,\n\n    /**\n     * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n     * methods should be overwritten.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivMethods': (options.shivMethods !== false),\n\n    /**\n     * A string to describe the type of `html5` object (\"default\" or \"default print\").\n     * @memberOf html5\n     * @type String\n     */\n    'type': 'default',\n\n    // shivs the document according to the specified `html5` object options\n    'shivDocument': shivDocument,\n\n    //creates a shived element\n    createElement: createElement,\n\n    //creates a shived documentFragment\n    createDocumentFragment: createDocumentFragment,\n\n    //extends list of elements\n    addElements: addElements\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose html5\n  window.html5 = html5;\n\n  // shiv the document\n  shivDocument(document);\n\n}(this, document));\n\n}).call(this, typeof module === \"object\" ? module.exports : this.aight = {});\n/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2014 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n//Add semicolon to prevent IIFE from being passed as argument to concatenated code.\n;\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n    }\n}(this, function () {\n\n/**\n * Brings an environment as close to ECMAScript 5 compliance\n * as is possible with the facilities of erstwhile engines.\n *\n * Annotated ES5: http://es5.github.com/ (specific links below)\n * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n */\n\n// Shortcut to an often accessed properties, in order to avoid multiple\n// dereference that costs universally.\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar NumberPrototype = Number.prototype;\nvar array_slice = ArrayPrototype.slice;\nvar array_splice = ArrayPrototype.splice;\nvar array_push = ArrayPrototype.push;\nvar array_unshift = ArrayPrototype.unshift;\nvar call = FunctionPrototype.call;\n\n// Having a toString local variable name breaks in Opera so use _toString.\nvar _toString = ObjectPrototype.toString;\n\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isRegex = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object RegExp]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === \"[object Array]\";\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === \"[object String]\";\n};\nvar isArguments = function isArguments(value) {\n    var str = _toString.call(value);\n    var isArgs = str === '[object Arguments]';\n    if (!isArgs) {\n        isArgs = !isArray(value)\n            && value !== null\n            && typeof value === 'object'\n            && typeof value.length === 'number'\n            && value.length >= 0\n            && isFunction(value.callee);\n    }\n    return isArgs;\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toStr;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (isFunction(valueOf)) {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toStr = input.toString;\n    if (isFunction(toStr)) {\n        val = toStr.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\n\n// ES5 9.9\n// http://es5.github.com/#x9.9\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + \" to object\");\n    }\n    return Object(o);\n};\n\nvar ToUint32 = function ToUint32(x) {\n    return x >>> 0;\n};\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push(\"$\" + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function(\"binder\", \"return function (\" + boundArgs.join(\",\") + \"){return binder.apply(this,arguments)}\")(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n// _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n// us it in defining shortcuts.\nvar owns = call.bind(ObjectPrototype.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(ObjectPrototype, \"__defineGetter__\"))) {\n    defineGetter = call.bind(ObjectPrototype.__defineGetter__);\n    defineSetter = call.bind(ObjectPrototype.__defineSetter__);\n    lookupGetter = call.bind(ObjectPrototype.__lookupGetter__);\n    lookupSetter = call.bind(ObjectPrototype.__lookupSetter__);\n}\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.12\nvar spliceNoopReturnsEmptyArray = (function () {\n    var a = [1, 2];\n    var result = a.splice();\n    return a.length === 2 && isArray(result) && result.length === 0;\n}());\ndefineProperties(ArrayPrototype, {\n    // Safari 5.0 bug where .splice() returns undefined\n    splice: function splice(start, deleteCount) {\n        if (arguments.length === 0) {\n            return [];\n        } else {\n            return array_splice.apply(this, arguments);\n        }\n    }\n}, spliceNoopReturnsEmptyArray);\n\nvar spliceWorksWithEmptyObject = (function () {\n    var obj = {};\n    ArrayPrototype.splice.call(obj, 0, 0, 1);\n    return obj.length === 1;\n}());\ndefineProperties(ArrayPrototype, {\n    splice: function splice(start, deleteCount) {\n        if (arguments.length === 0) { return []; }\n        var args = arguments;\n        this.length = Math.max(toInteger(this.length), 0);\n        if (arguments.length > 0 && typeof deleteCount !== 'number') {\n            args = array_slice.call(arguments);\n            if (args.length < 2) {\n                args.push(this.length - start);\n            } else {\n                args[1] = toInteger(deleteCount);\n            }\n        }\n        return array_splice.apply(this, args);\n    }\n}, !spliceWorksWithEmptyObject);\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.13\n// Return len+argCount.\n// [bugfix, ielt8]\n// IE < 8 bug: [].unshift(0) === undefined but should be \"1\"\nvar hasUnshiftReturnValueBug = [].unshift(0) !== 1;\ndefineProperties(ArrayPrototype, {\n    unshift: function () {\n        array_unshift.apply(this, arguments);\n        return this.length;\n    }\n}, hasUnshiftReturnValueBug);\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n// The IsCallable() check in the Array functions\n// has been replaced with a strict check on the\n// internal class of the object to trap cases where\n// the provided function was actually a regular\n// expression literal, which in V8 and\n// JavaScriptCore is a typeof \"function\".  Only in\n// V8 are regular expression literals permitted as\n// reduce parameters, so it is desirable in the\n// general case for the shim to match the more\n// strict and common behavior of rejecting regular\n// expressions.\n\n// ES5 15.4.4.18\n// http://es5.github.com/#x15.4.4.18\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n// Check failure of by-index access of string characters (IE < 9)\n// and failure of `0 in boxedString` (Rhino)\nvar boxedString = Object(\"a\");\nvar splitString = boxedString[0] !== \"a\" || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.19\n// http://es5.github.com/#x15.4.4.19\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\ndefineProperties(ArrayPrototype, {\n    map: function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                result[i] = fun.call(thisp, self[i], i, object);\n            }\n        }\n        return result;\n    }\n}, !properlyBoxesContext(ArrayPrototype.map));\n\n// ES5 15.4.4.20\n// http://es5.github.com/#x15.4.4.20\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\ndefineProperties(ArrayPrototype, {\n    filter: function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    }\n}, !properlyBoxesContext(ArrayPrototype.filter));\n\n// ES5 15.4.4.16\n// http://es5.github.com/#x15.4.4.16\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\ndefineProperties(ArrayPrototype, {\n    every: function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}, !properlyBoxesContext(ArrayPrototype.every));\n\n// ES5 15.4.4.17\n// http://es5.github.com/#x15.4.4.17\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\ndefineProperties(ArrayPrototype, {\n    some: function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}, !properlyBoxesContext(ArrayPrototype.some));\n\n// ES5 15.4.4.21\n// http://es5.github.com/#x15.4.4.21\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\nvar reduceCoercesToObject = false;\nif (ArrayPrototype.reduce) {\n    reduceCoercesToObject = typeof ArrayPrototype.reduce.call('es5', function (_, __, ___, list) { return list; }) === 'object';\n}\ndefineProperties(ArrayPrototype, {\n    reduce: function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value and an empty array\n        if (!length && arguments.length === 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    }\n}, !reduceCoercesToObject);\n\n// ES5 15.4.4.22\n// http://es5.github.com/#x15.4.4.22\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\nvar reduceRightCoercesToObject = false;\nif (ArrayPrototype.reduceRight) {\n    reduceRightCoercesToObject = typeof ArrayPrototype.reduceRight.call('es5', function (_, __, ___, list) { return list; }) === 'object';\n}\ndefineProperties(ArrayPrototype, {\n    reduceRight: function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value, empty array\n        if (!length && arguments.length === 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        if (i < 0) {\n            return result;\n        }\n\n        do {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    }\n}, !reduceRightCoercesToObject);\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n// ES5 15.4.4.15\n// http://es5.github.com/#x15.4.4.15\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nvar hasFirefox2LastIndexOfBug = Array.prototype.lastIndexOf && [0, 1].lastIndexOf(0, -3) !== -1;\ndefineProperties(ArrayPrototype, {\n    lastIndexOf: function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        // handle negative indices\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2LastIndexOfBug);\n\n//\n// Object\n// ======\n//\n\n// ES5 15.2.3.14\n// http://es5.github.com/#x15.2.3.14\n\n// http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\nvar hasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),\n    hasProtoEnumBug = (function () {}).propertyIsEnumerable('prototype'),\n    dontEnums = [\n        \"toString\",\n        \"toLocaleString\",\n        \"valueOf\",\n        \"hasOwnProperty\",\n        \"isPrototypeOf\",\n        \"propertyIsEnumerable\",\n        \"constructor\"\n    ],\n    dontEnumsLength = dontEnums.length;\n\ndefineProperties(Object, {\n    keys: function keys(object) {\n        var isFn = isFunction(object),\n            isArgs = isArguments(object),\n            isObject = object !== null && typeof object === 'object',\n            isStr = isObject && isString(object);\n\n        if (!isObject && !isFn && !isArgs) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var theKeys = [];\n        var skipProto = hasProtoEnumBug && isFn;\n        if (isStr || isArgs) {\n            for (var i = 0; i < object.length; ++i) {\n                theKeys.push(String(i));\n            }\n        } else {\n            for (var name in object) {\n                if (!(skipProto && name === 'prototype') && owns(object, name)) {\n                    theKeys.push(String(name));\n                }\n            }\n        }\n\n        if (hasDontEnumBug) {\n            var ctor = object.constructor,\n                skipConstructor = ctor && ctor.prototype === object;\n            for (var j = 0; j < dontEnumsLength; j++) {\n                var dontEnum = dontEnums[j];\n                if (!(skipConstructor && dontEnum === 'constructor') && owns(object, dontEnum)) {\n                    theKeys.push(dontEnum);\n                }\n            }\n        }\n        return theKeys;\n    }\n});\n\nvar keysWorksWithArguments = Object.keys && (function () {\n    // Safari 5.0 bug\n    return Object.keys(arguments).length === 2;\n}(1, 2));\nvar originalKeys = Object.keys;\ndefineProperties(Object, {\n    keys: function keys(object) {\n        if (isArguments(object)) {\n            return originalKeys(ArrayPrototype.slice.call(object));\n        } else {\n            return originalKeys(object);\n        }\n    }\n}, !keysWorksWithArguments);\n\n//\n// Date\n// ====\n//\n\n// ES5 15.9.5.43\n// http://es5.github.com/#x15.9.5.43\n// This function returns a String value represent the instance in time\n// represented by this Date object. The format of the String is the Date Time\n// string format defined in 15.9.1.15. All fields are present in the String.\n// The time zone is always UTC, denoted by the suffix Z. If the time value of\n// this object is not a finite Number a RangeError exception is thrown.\nvar negativeDate = -62198755200000;\nvar negativeYearString = \"-000001\";\nvar hasNegativeDateBug = Date.prototype.toISOString && new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1;\n\ndefineProperties(Date.prototype, {\n    toISOString: function toISOString() {\n        var result, length, value, year, month;\n        if (!isFinite(this)) {\n            throw new RangeError(\"Date.prototype.toISOString called on non-finite value.\");\n        }\n\n        year = this.getUTCFullYear();\n\n        month = this.getUTCMonth();\n        // see https://github.com/es-shims/es5-shim/issues/111\n        year += Math.floor(month / 12);\n        month = (month % 12 + 12) % 12;\n\n        // the date time string format is specified in 15.9.1.15.\n        result = [month + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds()];\n        year = (\n            (year < 0 ? \"-\" : (year > 9999 ? \"+\" : \"\")) +\n            (\"00000\" + Math.abs(year)).slice(0 <= year && year <= 9999 ? -4 : -6)\n        );\n\n        length = result.length;\n        while (length--) {\n            value = result[length];\n            // pad months, days, hours, minutes, and seconds to have two\n            // digits.\n            if (value < 10) {\n                result[length] = \"0\" + value;\n            }\n        }\n        // pad milliseconds to have three digits.\n        return (\n            year + \"-\" + result.slice(0, 2).join(\"-\") +\n            \"T\" + result.slice(2).join(\":\") + \".\" +\n            (\"000\" + this.getUTCMilliseconds()).slice(-3) + \"Z\"\n        );\n    }\n}, hasNegativeDateBug);\n\n\n// ES5 15.9.5.44\n// http://es5.github.com/#x15.9.5.44\n// This function provides a String representation of a Date object for use by\n// JSON.stringify (15.12.3).\nvar dateToJSONIsSupported = false;\ntry {\n    dateToJSONIsSupported = (\n        Date.prototype.toJSON &&\n        new Date(NaN).toJSON() === null &&\n        new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1 &&\n        Date.prototype.toJSON.call({ // generic\n            toISOString: function () {\n                return true;\n            }\n        })\n    );\n} catch (e) {\n}\nif (!dateToJSONIsSupported) {\n    Date.prototype.toJSON = function toJSON(key) {\n        // When the toJSON method is called with argument key, the following\n        // steps are taken:\n\n        // 1.  Let O be the result of calling ToObject, giving it the this\n        // value as its argument.\n        // 2. Let tv be toPrimitive(O, hint Number).\n        var o = Object(this),\n            tv = toPrimitive(o),\n            toISO;\n        // 3. If tv is a Number and is not finite, return null.\n        if (typeof tv === \"number\" && !isFinite(tv)) {\n            return null;\n        }\n        // 4. Let toISO be the result of calling the [[Get]] internal method of\n        // O with argument \"toISOString\".\n        toISO = o.toISOString;\n        // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n        if (typeof toISO !== \"function\") {\n            throw new TypeError(\"toISOString property is not callable\");\n        }\n        // 6. Return the result of calling the [[Call]] internal method of\n        //  toISO with O as the this value and an empty argument list.\n        return toISO.call(o);\n\n        // NOTE 1 The argument is ignored.\n\n        // NOTE 2 The toJSON function is intentionally generic; it does not\n        // require that its this value be a Date object. Therefore, it can be\n        // transferred to other kinds of objects for use as a method. However,\n        // it does require that any such object have a toISOString method. An\n        // object is free to use the argument key to filter its\n        // stringification.\n    };\n}\n\n// ES5 15.9.4.2\n// http://es5.github.com/#x15.9.4.2\n// based on work shared by Daniel Friesen (dantman)\n// http://gist.github.com/303249\nvar supportsExtendedYears = Date.parse('+033658-09-27T01:46:40.000Z') === 1e15;\nvar acceptsInvalidDates = !isNaN(Date.parse('2012-04-04T24:00:00.500Z')) || !isNaN(Date.parse('2012-11-31T23:59:59.000Z'));\nvar doesNotParseY2KNewYear = isNaN(Date.parse(\"2000-01-01T00:00:00.000Z\"));\nif (!Date.parse || doesNotParseY2KNewYear || acceptsInvalidDates || !supportsExtendedYears) {\n    // XXX global assignment won't work in embeddings that use\n    // an alternate object for the context.\n    Date = (function (NativeDate) {\n\n        // Date.length === 7\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            if (this instanceof NativeDate) {\n                var date = length === 1 && String(Y) === Y ? // isString(Y)\n                    // We explicitly pass it through parse:\n                    new NativeDate(Date.parse(Y)) :\n                    // We have to manually make calls depending on argument\n                    // length here\n                    length >= 7 ? new NativeDate(Y, M, D, h, m, s, ms) :\n                    length >= 6 ? new NativeDate(Y, M, D, h, m, s) :\n                    length >= 5 ? new NativeDate(Y, M, D, h, m) :\n                    length >= 4 ? new NativeDate(Y, M, D, h) :\n                    length >= 3 ? new NativeDate(Y, M, D) :\n                    length >= 2 ? new NativeDate(Y, M) :\n                    length >= 1 ? new NativeDate(Y) :\n                                  new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            }\n            return NativeDate.apply(this, arguments);\n        }\n\n        // 15.9.1.15 Date Time String Format.\n        var isoDateExpression = new RegExp(\"^\" +\n            \"(\\\\d{4}|[\\+\\-]\\\\d{6})\" + // four-digit year capture or sign +\n                                      // 6-digit extended year\n            \"(?:-(\\\\d{2})\" + // optional month capture\n            \"(?:-(\\\\d{2})\" + // optional day capture\n            \"(?:\" + // capture hours:minutes:seconds.milliseconds\n                \"T(\\\\d{2})\" + // hours capture\n                \":(\\\\d{2})\" + // minutes capture\n                \"(?:\" + // optional :seconds.milliseconds\n                    \":(\\\\d{2})\" + // seconds capture\n                    \"(?:(\\\\.\\\\d{1,}))?\" + // milliseconds capture\n                \")?\" +\n            \"(\" + // capture UTC offset component\n                \"Z|\" + // UTC capture\n                \"(?:\" + // offset specifier +/-hours:minutes\n                    \"([-+])\" + // sign capture\n                    \"(\\\\d{2})\" + // hours offset capture\n                    \":(\\\\d{2})\" + // minutes offset capture\n                \")\" +\n            \")?)?)?)?\" +\n        \"$\");\n\n        var months = [\n            0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365\n        ];\n\n        function dayFromMonth(year, month) {\n            var t = month > 1 ? 1 : 0;\n            return (\n                months[month] +\n                Math.floor((year - 1969 + t) / 4) -\n                Math.floor((year - 1901 + t) / 100) +\n                Math.floor((year - 1601 + t) / 400) +\n                365 * (year - 1970)\n            );\n        }\n\n        function toUTC(t) {\n            return Number(new NativeDate(1970, 0, 1, 0, 0, 0, t));\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        Date.now = NativeDate.now;\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = function parse(string) {\n            var match = isoDateExpression.exec(string);\n            if (match) {\n                // parse months, days, hours, minutes, seconds, and milliseconds\n                // provide default values if necessary\n                // parse the UTC offset component\n                var year = Number(match[1]),\n                    month = Number(match[2] || 1) - 1,\n                    day = Number(match[3] || 1) - 1,\n                    hour = Number(match[4] || 0),\n                    minute = Number(match[5] || 0),\n                    second = Number(match[6] || 0),\n                    millisecond = Math.floor(Number(match[7] || 0) * 1000),\n                    // When time zone is missed, local offset should be used\n                    // (ES 5.1 bug)\n                    // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n                    isLocalTime = Boolean(match[4] && !match[8]),\n                    signOffset = match[9] === \"-\" ? 1 : -1,\n                    hourOffset = Number(match[10] || 0),\n                    minuteOffset = Number(match[11] || 0),\n                    result;\n                if (\n                    hour < (\n                        minute > 0 || second > 0 || millisecond > 0 ?\n                        24 : 25\n                    ) &&\n                    minute < 60 && second < 60 && millisecond < 1000 &&\n                    month > -1 && month < 12 && hourOffset < 24 &&\n                    minuteOffset < 60 && // detect invalid offsets\n                    day > -1 &&\n                    day < (\n                        dayFromMonth(year, month + 1) -\n                        dayFromMonth(year, month)\n                    )\n                ) {\n                    result = (\n                        (dayFromMonth(year, month) + day) * 24 +\n                        hour +\n                        hourOffset * signOffset\n                    ) * 60;\n                    result = (\n                        (result + minute + minuteOffset * signOffset) * 60 +\n                        second\n                    ) * 1000 + millisecond;\n                    if (isLocalTime) {\n                        result = toUTC(result);\n                    }\n                    if (-8.64e15 <= result && result <= 8.64e15) {\n                        return result;\n                    }\n                }\n                return NaN;\n            }\n            return NativeDate.parse.apply(this, arguments);\n        };\n\n        return Date;\n    })(Date);\n}\n\n// ES5 15.9.4.4\n// http://es5.github.com/#x15.9.4.4\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\n\n\n//\n// Number\n// ======\n//\n\n// ES5.1 15.7.4.5\n// http://es5.github.com/#x15.7.4.5\nvar hasToFixedBugs = NumberPrototype.toFixed && (\n  (0.00008).toFixed(3) !== '0.000'\n  || (0.9).toFixed(0) !== '1'\n  || (1.255).toFixed(2) !== '1.25'\n  || (1000000000000000128).toFixed(0) !== \"1000000000000000128\"\n);\n\nvar toFixedHelpers = {\n  base: 1e7,\n  size: 6,\n  data: [0, 0, 0, 0, 0, 0],\n  multiply: function multiply(n, c) {\n      var i = -1;\n      while (++i < toFixedHelpers.size) {\n          c += n * toFixedHelpers.data[i];\n          toFixedHelpers.data[i] = c % toFixedHelpers.base;\n          c = Math.floor(c / toFixedHelpers.base);\n      }\n  },\n  divide: function divide(n) {\n      var i = toFixedHelpers.size, c = 0;\n      while (--i >= 0) {\n          c += toFixedHelpers.data[i];\n          toFixedHelpers.data[i] = Math.floor(c / n);\n          c = (c % n) * toFixedHelpers.base;\n      }\n  },\n  numToString: function numToString() {\n      var i = toFixedHelpers.size;\n      var s = '';\n      while (--i >= 0) {\n          if (s !== '' || i === 0 || toFixedHelpers.data[i] !== 0) {\n              var t = String(toFixedHelpers.data[i]);\n              if (s === '') {\n                  s = t;\n              } else {\n                  s += '0000000'.slice(0, 7 - t.length) + t;\n              }\n          }\n      }\n      return s;\n  },\n  pow: function pow(x, n, acc) {\n      return (n === 0 ? acc : (n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)));\n  },\n  log: function log(x) {\n      var n = 0;\n      while (x >= 4096) {\n          n += 12;\n          x /= 4096;\n      }\n      while (x >= 2) {\n          n += 1;\n          x /= 2;\n      }\n      return n;\n  }\n};\n\ndefineProperties(NumberPrototype, {\n    toFixed: function toFixed(fractionDigits) {\n        var f, x, s, m, e, z, j, k;\n\n        // Test for NaN and round fractionDigits down\n        f = Number(fractionDigits);\n        f = f !== f ? 0 : Math.floor(f);\n\n        if (f < 0 || f > 20) {\n            throw new RangeError(\"Number.toFixed called with invalid number of decimals\");\n        }\n\n        x = Number(this);\n\n        // Test for NaN\n        if (x !== x) {\n            return \"NaN\";\n        }\n\n        // If it is too big or small, return the string value of the number\n        if (x <= -1e21 || x >= 1e21) {\n            return String(x);\n        }\n\n        s = \"\";\n\n        if (x < 0) {\n            s = \"-\";\n            x = -x;\n        }\n\n        m = \"0\";\n\n        if (x > 1e-21) {\n            // 1e-21 < x < 1e21\n            // -70 < log2(x) < 70\n            e = toFixedHelpers.log(x * toFixedHelpers.pow(2, 69, 1)) - 69;\n            z = (e < 0 ? x * toFixedHelpers.pow(2, -e, 1) : x / toFixedHelpers.pow(2, e, 1));\n            z *= 0x10000000000000; // Math.pow(2, 52);\n            e = 52 - e;\n\n            // -18 < e < 122\n            // x = z / 2 ^ e\n            if (e > 0) {\n                toFixedHelpers.multiply(0, z);\n                j = f;\n\n                while (j >= 7) {\n                    toFixedHelpers.multiply(1e7, 0);\n                    j -= 7;\n                }\n\n                toFixedHelpers.multiply(toFixedHelpers.pow(10, j, 1), 0);\n                j = e - 1;\n\n                while (j >= 23) {\n                    toFixedHelpers.divide(1 << 23);\n                    j -= 23;\n                }\n\n                toFixedHelpers.divide(1 << j);\n                toFixedHelpers.multiply(1, 1);\n                toFixedHelpers.divide(2);\n                m = toFixedHelpers.numToString();\n            } else {\n                toFixedHelpers.multiply(0, z);\n                toFixedHelpers.multiply(1 << (-e), 0);\n                m = toFixedHelpers.numToString() + '0.00000000000000000000'.slice(2, 2 + f);\n            }\n        }\n\n        if (f > 0) {\n            k = m.length;\n\n            if (k <= f) {\n                m = s + '0.0000000000000000000'.slice(0, f - k + 2) + m;\n            } else {\n                m = s + m.slice(0, k - f) + '.' + m.slice(k - f);\n            }\n        } else {\n            m = s + m;\n        }\n\n        return m;\n    }\n}, hasToFixedBugs);\n\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === \"t\" ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec(\"\")[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== \"[object RegExp]\") {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? \"i\" : \"\") +\n                        (separator.multiline  ? \"m\" : \"\") +\n                        (separator.extended   ? \"x\" : \"\") + // Proposed for ES6\n                        (separator.sticky     ? \"y\" : \"\"), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + \"g\");\n            string += \"\"; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test(\"\")) {\n                    output.push(\"\");\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if (\"0\".split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\nvar str_replace = StringPrototype.replace;\nvar replaceReportsGroupsCorrectly = (function () {\n    var groups = [];\n    'x'.replace(/x(.)?/g, function (match, group) {\n        groups.push(group);\n    });\n    return groups.length === 1 && typeof groups[0] === 'undefined';\n}());\n\nif (!replaceReportsGroupsCorrectly) {\n    StringPrototype.replace = function replace(searchValue, replaceValue) {\n        var isFn = isFunction(replaceValue);\n        var hasCapturingGroups = isRegex(searchValue) && (/\\)[*?]/).test(searchValue.source);\n        if (!isFn || !hasCapturingGroups) {\n            return str_replace.call(this, searchValue, replaceValue);\n        } else {\n            var wrappedReplaceValue = function (match) {\n                var length = arguments.length;\n                var originalLastIndex = searchValue.lastIndex;\n                searchValue.lastIndex = 0;\n                var args = searchValue.exec(match) || [];\n                searchValue.lastIndex = originalLastIndex;\n                args.push(arguments[length - 2], arguments[length - 1]);\n                return replaceValue.apply(this, args);\n            };\n            return str_replace.call(this, searchValue, wrappedReplaceValue);\n        }\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = \"\".substr && \"0b\".substr(-1) !== \"b\";\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n\n// ES5 15.5.4.20\n// whitespace from: http://es5.github.io/#x15.5.4.20\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nvar zeroWidth = '\\u200b';\nvar wsRegexChars = \"[\" + ws + \"]\";\nvar trimBeginRegexp = new RegExp(\"^\" + wsRegexChars + wsRegexChars + \"*\");\nvar trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + \"*$\");\nvar hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() || !zeroWidth.trim());\ndefineProperties(StringPrototype, {\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    trim: function trim() {\n        if (this === void 0 || this === null) {\n            throw new TypeError(\"can't convert \" + this + \" to object\");\n        }\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    }\n}, hasTrimWhitespaceBug);\n\n// ES-5 15.1.2.2\nif (parseInt(ws + '08') !== 8 || parseInt(ws + '0x16') !== 22) {\n    parseInt = (function (origParseInt) {\n        var hexRegex = /^0[xX]/;\n        return function parseIntES5(str, radix) {\n            str = String(str).trim();\n            if (!Number(radix)) {\n                radix = hexRegex.test(str) ? 16 : 10;\n            }\n            return origParseInt(str, radix);\n        };\n    }(parseInt));\n}\n\n}));\n/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2014 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n//Add semicolon to prevent IIFE from being passed as argument to concated code.\n;\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n  }\n}(this, function () {\n\nvar call = Function.prototype.call;\nvar prototypeOfObject = Object.prototype;\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\");\nif (supportsAccessors) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\n\n// ES5 15.2.3.2\n// http://es5.github.com/#x15.2.3.2\nif (!Object.getPrototypeOf) {\n    // https://github.com/es-shims/es5-shim/issues#issue/2\n    // http://ejohn.org/blog/objectgetprototypeof/\n    // recommended by fschaefer on github\n    //\n    // sure, and webreflection says ^_^\n    // ... this will nerever possibly return null\n    // ... Opera Mini breaks here with infinite loops\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        var proto = object.__proto__;\n        if (proto || proto === null) {\n            return proto;\n        } else if (object.constructor) {\n            return object.constructor.prototype;\n        } else {\n            return prototypeOfObject;\n        }\n    };\n}\n\n//ES5 15.2.3.3\n//http://es5.github.com/#x15.2.3.3\n\nfunction doesGetOwnPropertyDescriptorWork(object) {\n    try {\n        object.sentinel = 0;\n        return Object.getOwnPropertyDescriptor(\n                object,\n                \"sentinel\"\n        ).value === 0;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n//check whether getOwnPropertyDescriptor works if it's given. Otherwise,\n//shim partially.\nif (Object.defineProperty) {\n    var getOwnPropertyDescriptorWorksOnObject = doesGetOwnPropertyDescriptorWork({});\n    var getOwnPropertyDescriptorWorksOnDom = typeof document === \"undefined\" ||\n    doesGetOwnPropertyDescriptorWork(document.createElement(\"div\"));\n    if (!getOwnPropertyDescriptorWorksOnDom || !getOwnPropertyDescriptorWorksOnObject) {\n        var getOwnPropertyDescriptorFallback = Object.getOwnPropertyDescriptor;\n    }\n}\n\nif (!Object.getOwnPropertyDescriptor || getOwnPropertyDescriptorFallback) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a non-object: \";\n\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object !== \"object\" && typeof object !== \"function\") || object === null) {\n            throw new TypeError(ERR_NON_OBJECT + object);\n        }\n\n        // make a valiant attempt to use the real getOwnPropertyDescriptor\n        // for I8's DOM elements.\n        if (getOwnPropertyDescriptorFallback) {\n            try {\n                return getOwnPropertyDescriptorFallback.call(Object, object, property);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If object does not owns property return undefined immediately.\n        if (!owns(object, property)) {\n            return;\n        }\n\n        // If object has a property then it's for sure both `enumerable` and\n        // `configurable`.\n        var descriptor =  { enumerable: true, configurable: true };\n\n        // If JS engine supports accessor properties then property may be a\n        // getter or setter.\n        if (supportsAccessors) {\n            // Unfortunately `__lookupGetter__` will return a getter even\n            // if object has own non getter property along with a same named\n            // inherited getter. To avoid misbehavior we temporary remove\n            // `__proto__` so that `__lookupGetter__` will return getter only\n            // if it's owned by an object.\n            var prototype = object.__proto__;\n            var notPrototypeOfObject = object !== prototypeOfObject;\n            // avoid recursion problem, breaking in Opera Mini when\n            // Object.getOwnPropertyDescriptor(Object.prototype, 'toString')\n            // or any other Object.prototype accessor\n            if (notPrototypeOfObject) {\n                object.__proto__ = prototypeOfObject;\n            }\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n\n            if (notPrototypeOfObject) {\n                // Once we have getter and setter we can put values back.\n                object.__proto__ = prototype;\n            }\n\n            if (getter || setter) {\n                if (getter) {\n                    descriptor.get = getter;\n                }\n                if (setter) {\n                    descriptor.set = setter;\n                }\n                // If it was accessor property we're done and return here\n                // in order to avoid adding `value` to the descriptor.\n                return descriptor;\n            }\n        }\n\n        // If we got this far we know that object has an own property that is\n        // not an accessor so we set it as a value and return descriptor.\n        descriptor.value = object[property];\n        descriptor.writable = true;\n        return descriptor;\n    };\n}\n\n// ES5 15.2.3.4\n// http://es5.github.com/#x15.2.3.4\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\n\n// ES5 15.2.3.5\n// http://es5.github.com/#x15.2.3.5\nif (!Object.create) {\n\n    // Contributed by Brandon Benvie, October, 2012\n    var createEmpty;\n    var supportsProto = !({__proto__:null} instanceof Object);\n                        // the following produces false positives\n                        // in Opera Mini => not a reliable check\n                        // Object.prototype.__proto__ === null\n    if (supportsProto || typeof document === 'undefined') {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        // In old IE __proto__ can't be used to manually set `null`, nor does\n        // any other method exist to make an object that inherits from nothing,\n        // aside from Object.prototype itself. Instead, create a new global\n        // object and *steal* its Object.prototype and strip it bare. This is\n        // used as the prototype to create nullary objects.\n        createEmpty = function () {\n            var iframe = document.createElement('iframe');\n            var parent = document.body || document.documentElement;\n            iframe.style.display = 'none';\n            parent.appendChild(iframe);\n            iframe.src = 'javascript:';\n            var empty = iframe.contentWindow.Object.prototype;\n            parent.removeChild(iframe);\n            iframe = null;\n            delete empty.constructor;\n            delete empty.hasOwnProperty;\n            delete empty.propertyIsEnumerable;\n            delete empty.isPrototypeOf;\n            delete empty.toLocaleString;\n            delete empty.toString;\n            delete empty.valueOf;\n            empty.__proto__ = null;\n\n            function Empty() {}\n            Empty.prototype = empty;\n            // short-circuit future calls\n            createEmpty = function () {\n                return new Empty();\n            };\n            return new Empty();\n        };\n    }\n\n    Object.create = function create(prototype, properties) {\n\n        var object;\n        function Type() {}  // An empty constructor.\n\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype !== \"object\" && typeof prototype !== \"function\") {\n                // In the native implementation `parent` can be `null`\n                // OR *any* `instanceof Object`  (Object|Function|Array|RegExp|etc)\n                // Use `typeof` tho, b/c in old IE, DOM elements are not `instanceof Object`\n                // like they are in modern browsers. Using `Object.create` on DOM elements\n                // is...err...probably inappropriate, but the native version allows for it.\n                throw new TypeError(\"Object prototype may only be an Object or null\"); // same msg as Chrome\n            }\n            Type.prototype = prototype;\n            object = new Type();\n            // IE has no built-in implementation of `Object.getPrototypeOf`\n            // neither `__proto__`, but this manually setting `__proto__` will\n            // guarantee that `Object.getPrototypeOf` will work as expected with\n            // objects created using `Object.create`\n            object.__proto__ = prototype;\n        }\n\n        if (properties !== void 0) {\n            Object.defineProperties(object, properties);\n        }\n\n        return object;\n    };\n}\n\n// ES5 15.2.3.6\n// http://es5.github.com/#x15.2.3.6\n\n// Patch for WebKit and IE8 standard mode\n// Designed by hax <hax.github.com>\n// related issue: https://github.com/es-shims/es5-shim/issues#issue/5\n// IE8 Reference:\n//     http://msdn.microsoft.com/en-us/library/dd282900.aspx\n//     http://msdn.microsoft.com/en-us/library/dd229916.aspx\n// WebKit Bugs:\n//     https://bugs.webkit.org/show_bug.cgi?id=36423\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n// check whether defineProperty works if it's given. Otherwise,\n// shim partially.\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document === \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty,\n            definePropertiesFallback = Object.defineProperties;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object !== \"object\" && typeof object !== \"function\") || object === null) {\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        }\n        if ((typeof descriptor !== \"object\" && typeof descriptor !== \"function\") || descriptor === null) {\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        }\n        // make a valiant attempt to use the real defineProperty\n        // for I8's DOM elements.\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If it's a data property.\n        if (owns(descriptor, \"value\")) {\n            // fail silently if \"writable\", \"enumerable\", or \"configurable\"\n            // are requested but not supported\n            /*\n            // alternate approach:\n            if ( // can't implement these features; allow false but not true\n                !(owns(descriptor, \"writable\") ? descriptor.writable : true) ||\n                !(owns(descriptor, \"enumerable\") ? descriptor.enumerable : true) ||\n                !(owns(descriptor, \"configurable\") ? descriptor.configurable : true)\n            )\n                throw new RangeError(\n                    \"This implementation of Object.defineProperty does not \" +\n                    \"support configurable, enumerable, or writable.\"\n                );\n            */\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                // As accessors are supported only on engines implementing\n                // `__proto__` we can safely override `__proto__` while defining\n                // a property to make sure that we don't hit an inherited\n                // accessor.\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                // Deleting a property anyway since getter / setter may be\n                // defined on object itself.\n                delete object[property];\n                object[property] = descriptor.value;\n                // Setting original `__proto__` back now.\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors) {\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            }\n            // If we got that far then getters and setters can be defined !!\n            if (owns(descriptor, \"get\")) {\n                defineGetter(object, property, descriptor.get);\n            }\n            if (owns(descriptor, \"set\")) {\n                defineSetter(object, property, descriptor.set);\n            }\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.7\n// http://es5.github.com/#x15.2.3.7\nif (!Object.defineProperties || definePropertiesFallback) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        // make a valiant attempt to use the real defineProperties\n        if (definePropertiesFallback) {\n            try {\n                return definePropertiesFallback.call(Object, object, properties);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        for (var property in properties) {\n            if (owns(properties, property) && property !== \"__proto__\") {\n                Object.defineProperty(object, property, properties[property]);\n            }\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.8\n// http://es5.github.com/#x15.2.3.8\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.9\n// http://es5.github.com/#x15.2.3.9\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// detect a Rhino bug and patch it\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object === \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\n\n// ES5 15.2.3.10\n// http://es5.github.com/#x15.2.3.10\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.11\n// http://es5.github.com/#x15.2.3.11\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.12\n// http://es5.github.com/#x15.2.3.12\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.13\n// http://es5.github.com/#x15.2.3.13\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        // 1. If Type(O) is not Object throw a TypeError exception.\n        if (Object(object) !== object) {\n            throw new TypeError(); // TODO message\n        }\n        // 2. Return the Boolean value of the [[Extensible]] internal property of O.\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\n\n}));\n\n","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","const ARRAY_TEMPLATE = '__array_template__';\n\nvar tagalong = function(node, data, directives) {\n  if (typeof node === 'string') {\n    var selector = node;\n    node = document.querySelector(node);\n    if (!node) throw new Error('no such element: ' + selector);\n  }\n\n  if (typeof directives === 'object') {\n    directives = expandKeys(directives);\n  } else if (typeof directives === 'function') {\n    directives = directives.call(node, data) || {};\n  } else {\n    directives = {};\n  }\n\n  if (Array.isArray(data)) {\n    return bindArray(node, data, directives);\n  } else {\n    applyDirectives(node, data, directives);\n  }\n\n  if (typeof data === 'object') {\n    return bindObject(node, data, directives);\n  }\n\n  return bindScalar(node, data, directives);\n};\n\ntagalong.object = bindObject;\ntagalong.array = bindArray;\ntagalong.scalar = bindScalar;\n\nmodule.exports = tagalong;\n\nfunction bindObject(node, data, directives) {\n  for (var key in data) {\n    if (!data.hasOwnProperty(key)) continue;\n    bindKey(node, key, data[key], directives[key]);\n  }\n  return node;\n}\n\nfunction bindArray(node, data, directives) {\n  var nodes = getChildren(node);\n  var template = node[ARRAY_TEMPLATE] || (node[ARRAY_TEMPLATE] = nodes[0]);\n  var nodeCount = nodes.length;\n  var dataCount = data.length;\n  if (nodeCount < dataCount) {\n    var last = nodes[nodeCount - 1] || template;\n    while (nodeCount < dataCount) {\n      var clone = template.cloneNode(true);\n      nodeCount = nodes.push(node.insertBefore(clone, last.nextSibling));\n      last = clone;\n    }\n  } else if (nodeCount > dataCount) {\n    while (nodeCount > dataCount) {\n      var child = nodes.shift();\n      node.removeChild(child);\n      nodeCount--;\n    }\n  }\n  for (var i = 0; i < dataCount; i++) {\n    tagalong(nodes[i], data[i], directives);\n  }\n  return node;\n}\n\nfunction bindKey(node, key, value, directives) {\n  var target = findKeyNode(node, key);\n  if (!target) {\n    return false;\n  }\n  return tagalong(target, value, directives);\n}\n\nfunction bindScalar(node, data, directives) {\n  var stringify = directives.stringify || String;\n  node.textContent = stringify.call(node, data);\n  return node;\n}\n\nfunction findKeyNode(node, key) {\n  var classed = node.getElementsByClassName(key)[0];\n  if (classed) return classed;\n\n  // Doing it this way, rather than:\n  //\n  // `querySelector('[data-bind=\"' + key + '\"]')`,\n  //\n  // ...ensures that we won't get an exception for keys that would produce\n  // invalid selectors.\n  var children = node.querySelectorAll('[data-bind]');\n  for (var i = 0, len = children.length; i < len; i++) {\n    if (children[i].getAttribute('data-bind') == key) {\n      return children[i];\n    }\n  }\n  return null;\n}\n\nfunction getChildren(node) {\n  var children = [];\n  for (var child = node.firstChild; child; child = child.nextSibling) {\n    if (child.nodeType === 1) {\n      children.push(child);\n    }\n  }\n  return children;\n}\n\nfunction applyDirectives(node, data, directives) {\n  function access(key, attr) {\n    var value = directives[key];\n    if (typeof value === 'function') {\n      return value.call(node, data);\n    } if (value === true) {\n      return data[attr || key];\n    }\n    return (typeof value === 'object')\n      ? value\n      : data[value];\n  }\n\n  var interpolated;\n  for (var key in directives) {\n    if (key.charAt(0) === '@') {\n      var attr = key.substr(1);\n      var value = access(key, attr) || '';\n      node.setAttribute(attr, value);\n    } else {\n      switch (key) {\n        case 'text':\n          node.textContent = access(key) || '';\n          break;\n      }\n      if (typeof directives[key] === 'object') {\n        bindKey(node, key, data, directives[key]);\n      } else {\n        if (!interpolated) interpolated = {};\n        interpolated[key] = access(key);\n      }\n    }\n  }\n\n  if (interpolated) {\n    return tagalong(node, interpolated);\n  }\n\n  return node;\n}\n\nfunction expandKeys(obj) {\n  var expanded = {};\n  for (var key in obj) {\n    if (key.indexOf('.') > 0) {\n      var bits = key.split('.');\n      var value = obj[key];\n      var d = expanded;\n      while (bits.length) {\n        d = d[bits.shift()] = bits.length ? {} : value;\n      }\n    } else {\n      expanded[key] = obj[key];\n    }\n  }\n  return expanded;\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-selection', ['exports'], factory) :\n  factory((global.d3_selection = {}));\n}(this, function (exports) { 'use strict';\n\n  var requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\n  function requote(string) {\n    return string.replace(requoteRe, \"\\\\$&\");\n  };\n\n  var filterEvents = {};\n\n  exports.event = null;\n\n  if (typeof document !== \"undefined\") {\n    var element = document.documentElement;\n    if (!(\"onmouseenter\" in element)) {\n      filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n    }\n  }\n\n  function selection_event(type, listener, capture) {\n    var n = arguments.length,\n        key = \"__on\" + type,\n        filter,\n        root = this._root;\n\n    if (n < 2) return (n = this.node()[key]) && n._listener;\n\n    if (n < 3) capture = false;\n    if ((n = type.indexOf(\".\")) > 0) type = type.slice(0, n);\n    if (filter = filterEvents.hasOwnProperty(type)) type = filterEvents[type];\n\n    function add() {\n      var ancestor = root, i = arguments.length >> 1, ancestors = new Array(i);\n      while (--i >= 0) ancestor = ancestor[arguments[(i << 1) + 1]], ancestors[i] = i ? ancestor._parent : ancestor;\n      var l = listenerOf(listener, ancestors, arguments);\n      if (filter) l = filterListenerOf(l);\n      remove.call(this);\n      this.addEventListener(type, this[key] = l, l._capture = capture);\n      l._listener = listener;\n    }\n\n    function remove() {\n      var l = this[key];\n      if (l) {\n        this.removeEventListener(type, l, l._capture);\n        delete this[key];\n      }\n    }\n\n    function removeAll() {\n      var re = new RegExp(\"^__on([^.]+)\" + requote(type) + \"$\"), match;\n      for (var name in this) {\n        if (match = name.match(re)) {\n          var l = this[name];\n          this.removeEventListener(match[1], l, l._capture);\n          delete this[name];\n        }\n      }\n    }\n\n    return this.each(listener\n        ? (n ? add : noop) // Attempt to add untyped listener is ignored.\n        : (n ? remove : removeAll));\n  };\n\n  function listenerOf(listener, ancestors, args) {\n    return function(event1) {\n      var i = ancestors.length, event0 = exports.event; // Events can be reentrant (e.g., focus).\n      while (--i >= 0) args[i << 1] = ancestors[i].__data__;\n      exports.event = event1;\n      try {\n        listener.apply(ancestors[0], args);\n      } finally {\n        exports.event = event0;\n      }\n    };\n  }\n\n  function filterListenerOf(listener) {\n    return function(event) {\n      var related = event.relatedTarget;\n      if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n        listener(event);\n      }\n    };\n  }\n\n  function noop() {}\n\n  function sourceEvent() {\n    var current = exports.event, source;\n    while (source = current.sourceEvent) current = source;\n    return current;\n  };\n\n  function defaultView$1(node) {\n    return node\n        && ((node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n            || (node.document && node) // node is a Window\n            || node.defaultView); // node is a Document\n  };\n\n  function selection_dispatch(type, params) {\n\n    function dispatchConstant() {\n      return dispatchEvent(this, type, params);\n    }\n\n    function dispatchFunction() {\n      return dispatchEvent(this, type, params.apply(this, arguments));\n    }\n\n    return this.each(typeof params === \"function\" ? dispatchFunction : dispatchConstant);\n  };\n\n  function dispatchEvent(node, type, params) {\n    var window = defaultView$1(node),\n        event = window.CustomEvent;\n\n    if (event) {\n      event = new event(type, params);\n    } else {\n      event = window.document.createEvent(\"Event\");\n      if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n      else event.initEvent(type, false, false);\n    }\n\n    node.dispatchEvent(event);\n  }\n\n  function selection_datum(value) {\n    return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n  };\n\n  function selection_remove() {\n    return this.each(function() {\n      var parent = this.parentNode;\n      if (parent) parent.removeChild(this);\n    });\n  };\n\n  var namespaces = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: \"http://www.w3.org/1999/xhtml\",\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n\n  function namespace(name) {\n    var i = name.indexOf(\":\"), prefix = name;\n    if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n    return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n  };\n\n  function selectorOf(selector) {\n    return function() {\n      return this.querySelector(selector);\n    };\n  };\n\n  function selection_append(creator, selector) {\n    if (typeof creator !== \"function\") creator = creatorOf(creator);\n\n    function append() {\n      return this.appendChild(creator.apply(this, arguments));\n    }\n\n    function insert() {\n      return this.insertBefore(creator.apply(this, arguments), selector.apply(this, arguments) || null);\n    }\n\n    return this.select(arguments.length < 2\n        ? append\n        : (typeof selector !== \"function\" && (selector = selectorOf(selector)), insert));\n  };\n\n  function creatorOf(name) {\n    name = namespace(name);\n\n    function creator() {\n      var document = this.ownerDocument,\n          uri = this.namespaceURI;\n      return uri\n          ? document.createElementNS(uri, name)\n          : document.createElement(name);\n    }\n\n    function creatorNS() {\n      return this.ownerDocument.createElementNS(name.space, name.local);\n    }\n\n    return name.local ? creatorNS : creator;\n  }\n\n  function selection_html(value) {\n    if (!arguments.length) return this.node().innerHTML;\n\n    function setConstant() {\n      this.innerHTML = value;\n    }\n\n    function setFunction() {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    }\n\n    if (value == null) value = \"\";\n\n    return this.each(typeof value === \"function\" ? setFunction : setConstant);\n  };\n\n  function selection_text(value) {\n    if (!arguments.length) return this.node().textContent;\n\n    function setConstant() {\n      this.textContent = value;\n    }\n\n    function setFunction() {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    }\n\n    if (value == null) value = \"\";\n\n    return this.each(typeof value === \"function\" ? setFunction : setConstant);\n  };\n\n  function selection_class(name, value) {\n    name = (name + \"\").trim().split(/^|\\s+/);\n    var n = name.length;\n\n    if (arguments.length < 2) {\n      var node = this.node(), i = -1;\n      if (value = node.classList) { // SVG elements may not support DOMTokenList!\n        while (++i < n) if (!value.contains(name[i])) return false;\n      } else {\n        value = node.getAttribute(\"class\");\n        while (++i < n) if (!classedRe(name[i]).test(value)) return false;\n      }\n      return true;\n    }\n\n    name = name.map(classerOf);\n\n    function setConstant() {\n      var i = -1;\n      while (++i < n) name[i](this, value);\n    }\n\n    function setFunction() {\n      var i = -1, x = value.apply(this, arguments);\n      while (++i < n) name[i](this, x);\n    }\n\n    return this.each(typeof value === \"function\" ? setFunction : setConstant);\n  };\n\n  function classerOf(name) {\n    var re;\n    return function(node, value) {\n      if (c = node.classList) return value ? c.add(name) : c.remove(name);\n      if (!re) re = classedRe(name);\n      var c = node.getAttribute(\"class\") || \"\";\n      if (value) {\n        re.lastIndex = 0;\n        if (!re.test(c)) node.setAttribute(\"class\", collapse(c + \" \" + name));\n      } else {\n        node.setAttribute(\"class\", collapse(c.replace(re, \" \")));\n      }\n    };\n  }\n\n  function collapse(string) {\n    return string.trim().replace(/\\s+/g, \" \");\n  }\n\n  function classedRe(name) {\n    return new RegExp(\"(?:^|\\\\s+)\" + requote(name) + \"(?:\\\\s+|$)\", \"g\");\n  }\n\n  function selection_property(name, value) {\n    if (arguments.length < 2) return this.node()[name];\n\n    function remove() {\n      delete this[name];\n    }\n\n    function setConstant() {\n      this[name] = value;\n    }\n\n    function setFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) delete this[name];\n      else this[name] = x;\n    }\n\n    return this.each(value == null ? remove : typeof value === \"function\" ? setFunction : setConstant);\n  };\n\n  function selection_style(name, value, priority) {\n    var n = arguments.length;\n\n    if (n < 2) return defaultView$1(n = this.node()).getComputedStyle(n, null).getPropertyValue(name);\n\n    if (n < 3) priority = \"\";\n\n    function remove() {\n      this.style.removeProperty(name);\n    }\n\n    function setConstant() {\n      this.style.setProperty(name, value, priority);\n    }\n\n    function setFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.style.removeProperty(name);\n      else this.style.setProperty(name, x, priority);\n    }\n\n    return this.each(value == null ? remove : typeof value === \"function\" ? setFunction : setConstant);\n  };\n\n  function selection_attr(name, value) {\n    name = namespace(name);\n\n    if (arguments.length < 2) {\n      var node = this.node();\n      return name.local\n          ? node.getAttributeNS(name.space, name.local)\n          : node.getAttribute(name);\n    }\n\n    function remove() {\n      this.removeAttribute(name);\n    }\n\n    function removeNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n\n    function setConstant() {\n      this.setAttribute(name, value);\n    }\n\n    function setConstantNS() {\n      this.setAttributeNS(name.space, name.local, value);\n    }\n\n    function setFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttribute(name);\n      else this.setAttribute(name, x);\n    }\n\n    function setFunctionNS() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttributeNS(name.space, name.local);\n      else this.setAttributeNS(name.space, name.local, x);\n    }\n\n    return this.each(value == null\n        ? (name.local ? removeNS : remove)\n        : (typeof value === \"function\"\n            ? (name.local ? setFunctionNS : setFunction)\n            : (name.local ? setConstantNS : setConstant)));\n  };\n\n  function selection_each(callback) {\n    var depth = this._depth,\n        stack = new Array(depth);\n\n    function visit(nodes, depth) {\n      var i = -1,\n          n = nodes.length,\n          node;\n\n      if (--depth) {\n        var stack0 = depth * 2,\n            stack1 = stack0 + 1;\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[stack0] = node._parent.__data__, stack[stack1] = i;\n            visit(node, depth);\n          }\n        }\n      }\n\n      else {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[0] = node.__data__, stack[1] = i;\n            callback.apply(node, stack);\n          }\n        }\n      }\n    }\n\n    visit(this._root, depth);\n    return this;\n  };\n\n  function selection_empty() {\n    return !this.node();\n  };\n\n  function selection_size() {\n    var size = 0;\n    this.each(function() { ++size; });\n    return size;\n  };\n\n  function selection_node() {\n    return firstNode(this._root, this._depth);\n  };\n\n  function firstNode(nodes, depth) {\n    var i = -1,\n        n = nodes.length,\n        node;\n\n    if (--depth) {\n      while (++i < n) {\n        if (node = nodes[i]) {\n          if (node = firstNode(node, depth)) {\n            return node;\n          }\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (node = nodes[i]) {\n          return node;\n        }\n      }\n    }\n  }\n\n  function selection_nodes() {\n    var nodes = new Array(this.size()), i = -1;\n    this.each(function() { nodes[++i] = this; });\n    return nodes;\n  };\n\n  function selection_call() {\n    var callback = arguments[0];\n    callback.apply(arguments[0] = this, arguments);\n    return this;\n  };\n\n  // The leaf groups of the selection hierarchy are initially NodeList,\n  // and then lazily converted to arrays when mutation is required.\n  function arrayify(selection) {\n    return selection._root = arrayifyNode(selection._root, selection._depth);\n  };\n\n  function arrayifyNode(nodes, depth) {\n    var i = -1,\n        n = nodes.length,\n        node;\n\n    if (--depth) {\n      while (++i < n) {\n        if (node = nodes[i]) {\n          nodes[i] = arrayifyNode(node, depth);\n        }\n      }\n    }\n\n    else if (!Array.isArray(nodes)) {\n      var array = new Array(n);\n      while (++i < n) array[i] = nodes[i];\n      array._parent = nodes._parent;\n      nodes = array;\n    }\n\n    return nodes;\n  }\n\n  function selection_sort(comparator) {\n    if (!comparator) comparator = ascending;\n\n    function compare(a, b) {\n      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;\n    }\n\n    function visit(nodes, depth) {\n      if (--depth) {\n        var i = -1,\n            n = nodes.length,\n            node;\n        while (++i < n) {\n          if (node = nodes[i]) {\n            visit(node, depth);\n          }\n        }\n      }\n\n      else {\n        nodes.sort(compare);\n      }\n    }\n\n    visit(arrayify(this), this._depth);\n    return this.order();\n  };\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function selection_order() {\n    orderNode(this._root, this._depth);\n    return this;\n  };\n\n  function orderNode(nodes, depth) {\n    var i = nodes.length,\n        node,\n        next;\n\n    if (--depth) {\n      while (--i >= 0) {\n        if (node = nodes[i]) {\n          orderNode(node, depth);\n        }\n      }\n    }\n\n    else {\n      next = nodes[--i];\n      while (--i >= 0) {\n        if (node = nodes[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n  }\n\n  function emptyOf(selection) {\n    return new Selection(emptyNode(arrayify(selection), selection._depth), selection._depth);\n  };\n\n  function emptyNode(nodes, depth) {\n    var i = -1,\n        n = nodes.length,\n        node,\n        empty = new Array(n);\n\n    if (--depth) {\n      while (++i < n) {\n        if (node = nodes[i]) {\n          empty[i] = emptyNode(node, depth);\n        }\n      }\n    }\n\n    empty._parent = nodes._parent;\n    return empty;\n  }\n\n  // Lazily constructs the exit selection for this (update) selection.\n  // Until this selection is joined to data, the exit selection will be empty.\n  function selection_exit() {\n    return this._exit || (this._exit = emptyOf(this));\n  };\n\n  // Lazily constructs the enter selection for this (update) selection.\n  // Until this selection is joined to data, the enter selection will be empty.\n  function selection_enter() {\n    if (!this._enter) {\n      this._enter = emptyOf(this);\n      this._enter._update = this;\n    }\n    return this._enter;\n  };\n\n  var keyPrefix = \"$\";\n\n  // The value may either be an array or a function that returns an array.\n  // An optional key function may be specified to control how data is bound;\n  // if no key function is specified, data is bound to nodes by index.\n  // Or, if no arguments are specified, this method returns all bound data.\n  function selection_data(value, key) {\n    if (!value) {\n      var data = new Array(this.size()), i = -1;\n      this.each(function(d) { data[++i] = d; });\n      return data;\n    }\n\n    var depth = this._depth - 1,\n        stack = new Array(depth * 2),\n        bind = key ? bindKey : bindIndex;\n\n    if (typeof value !== \"function\") value = valueOf_(value);\n    visit(this._root, this.enter()._root, this.exit()._root, depth);\n\n    function visit(update, enter, exit, depth) {\n      var i = -1,\n          n,\n          node;\n\n      if (depth--) {\n        var stack0 = depth * 2,\n            stack1 = stack0 + 1;\n\n        n = update.length;\n\n        while (++i < n) {\n          if (node = update[i]) {\n            stack[stack0] = node._parent.__data__, stack[stack1] = i;\n            visit(node, enter[i], exit[i], depth);\n          }\n        }\n      }\n\n      else {\n        var j = 0,\n            before;\n\n        bind(update, enter, exit, value.apply(update._parent, stack));\n        n = update.length;\n\n        // Now connect the enter nodes to their following update node, such that\n        // appendChild can insert the materialized enter node before this node,\n        // rather than at the end of the parent node.\n        while (++i < n) {\n          if (before = enter[i]) {\n            if (i >= j) j = i + 1;\n            while (!(node = update[j]) && ++j < n);\n            before._next = node || null;\n          }\n        }\n      }\n    }\n\n    function bindIndex(update, enter, exit, data) {\n      var i = 0,\n          node,\n          nodeLength = update.length,\n          dataLength = data.length,\n          minLength = Math.min(nodeLength, dataLength);\n\n      // Clear the enter and exit arrays, and then initialize to the new length.\n      enter.length = 0, enter.length = dataLength;\n      exit.length = 0, exit.length = nodeLength;\n\n      for (; i < minLength; ++i) {\n        if (node = update[i]) {\n          node.__data__ = data[i];\n        } else {\n          enter[i] = new EnterNode(update._parent, data[i]);\n        }\n      }\n\n      // Note: we don’t need to delete update[i] here because this loop only\n      // runs when the data length is greater than the node length.\n      for (; i < dataLength; ++i) {\n        enter[i] = new EnterNode(update._parent, data[i]);\n      }\n\n      // Note: and, we don’t need to delete update[i] here because immediately\n      // following this loop we set the update length to data length.\n      for (; i < nodeLength; ++i) {\n        if (node = update[i]) {\n          exit[i] = update[i];\n        }\n      }\n\n      update.length = dataLength;\n    }\n\n    function bindKey(update, enter, exit, data) {\n      var i,\n          node,\n          dataLength = data.length,\n          nodeLength = update.length,\n          nodeByKeyValue = {},\n          keyStack = new Array(2).concat(stack),\n          keyValues = new Array(nodeLength),\n          keyValue;\n\n      // Clear the enter and exit arrays, and then initialize to the new length.\n      enter.length = 0, enter.length = dataLength;\n      exit.length = 0, exit.length = nodeLength;\n\n      // Compute the keys for each node.\n      for (i = 0; i < nodeLength; ++i) {\n        if (node = update[i]) {\n          keyStack[0] = node.__data__, keyStack[1] = i;\n          keyValues[i] = keyValue = keyPrefix + key.apply(node, keyStack);\n\n          // Is this a duplicate of a key we’ve previously seen?\n          // If so, this node is moved to the exit selection.\n          if (nodeByKeyValue[keyValue]) {\n            exit[i] = node;\n          }\n\n          // Otherwise, record the mapping from key to node.\n          else {\n            nodeByKeyValue[keyValue] = node;\n          }\n        }\n      }\n\n      // Now clear the update array and initialize to the new length.\n      update.length = 0, update.length = dataLength;\n\n      // Compute the keys for each datum.\n      for (i = 0; i < dataLength; ++i) {\n        keyStack[0] = data[i], keyStack[1] = i;\n        keyValue = keyPrefix + key.apply(update._parent, keyStack);\n\n        // Is there a node associated with this key?\n        // If not, this datum is added to the enter selection.\n        if (!(node = nodeByKeyValue[keyValue])) {\n          enter[i] = new EnterNode(update._parent, data[i]);\n        }\n\n        // Did we already bind a node using this key? (Or is a duplicate?)\n        // If unique, the node and datum are joined in the update selection.\n        // Otherwise, the datum is ignored, neither entering nor exiting.\n        else if (node !== true) {\n          update[i] = node;\n          node.__data__ = data[i];\n        }\n\n        // Record that we consumed this key, either to enter or update.\n        nodeByKeyValue[keyValue] = true;\n      }\n\n      // Take any remaining nodes that were not bound to data,\n      // and place them in the exit selection.\n      for (i = 0; i < nodeLength; ++i) {\n        if ((node = nodeByKeyValue[keyValues[i]]) !== true) {\n          exit[i] = node;\n        }\n      }\n    }\n\n    return this;\n  };\n\n  function EnterNode(parent, datum) {\n    this.ownerDocument = parent.ownerDocument;\n    this.namespaceURI = parent.namespaceURI;\n    this._next = null;\n    this._parent = parent;\n    this.__data__ = datum;\n  }\n\n  EnterNode.prototype = {\n    appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n    insertBefore: function(child, next) { return this._parent.insertBefore(child, next || this._next); }\n  };\n\n  function valueOf_(value) { // XXX https://github.com/rollup/rollup/issues/12\n    return function() {\n      return value;\n    };\n  }\n\n  // The filter may either be a selector string (e.g., \".foo\")\n  // or a function that returns a boolean.\n  function selection_filter(filter) {\n    var depth = this._depth,\n        stack = new Array(depth * 2);\n\n    if (typeof filter !== \"function\") filter = filterOf(filter);\n\n    function visit(nodes, depth) {\n      var i = -1,\n          n = nodes.length,\n          node,\n          subnodes;\n\n      if (--depth) {\n        var stack0 = depth * 2,\n            stack1 = stack0 + 1;\n        subnodes = new Array(n);\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[stack0] = node._parent.__data__, stack[stack1] = i;\n            subnodes[i] = visit(node, depth);\n          }\n        }\n      }\n\n      // The filter operation does not preserve the original index,\n      // so the resulting leaf groups are dense (not sparse).\n      else {\n        subnodes = [];\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[0] = node.__data__, stack[1] = i;\n            if (filter.apply(node, stack)) {\n              subnodes.push(node);\n            }\n          }\n        }\n      }\n\n      subnodes._parent = nodes._parent;\n      return subnodes;\n    }\n\n    return new Selection(visit(this._root, depth), depth);\n  };\n\n  var filterOf = function(selector) {\n    return function() {\n      return this.matches(selector);\n    };\n  };\n\n  if (typeof document !== \"undefined\") {\n    var element$1 = document.documentElement;\n    if (!element$1.matches) {\n      var vendorMatches = element$1.webkitMatchesSelector || element$1.msMatchesSelector || element$1.mozMatchesSelector || element$1.oMatchesSelector;\n      filterOf = function(selector) { return function() { return vendorMatches.call(this, selector); }; };\n    }\n  }\n\n  // The selector may either be a selector string (e.g., \".foo\")\n  // or a function that optionally returns an array of nodes to select.\n  // This is the only operation that increases the depth of a selection.\n  function selection_selectAll(selector) {\n    var depth = this._depth,\n        stack = new Array(depth * 2);\n\n    if (typeof selector !== \"function\") selector = selectorAllOf(selector);\n\n    function visit(nodes, depth) {\n      var i = -1,\n          n = nodes.length,\n          node,\n          subnode,\n          subnodes = new Array(n);\n\n      if (--depth) {\n        var stack0 = depth * 2,\n            stack1 = stack0 + 1;\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[stack0] = node._parent.__data__, stack[stack1] = i;\n            subnodes[i] = visit(node, depth);\n          }\n        }\n      }\n\n      // Data is not propagated since there is a one-to-many mapping.\n      // The parent of the new leaf group is the old node.\n      else {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[0] = node.__data__, stack[1] = i;\n            subnodes[i] = subnode = selector.apply(node, stack);\n            subnode._parent = node;\n          }\n        }\n      }\n\n      subnodes._parent = nodes._parent;\n      return subnodes;\n    }\n\n    return new Selection(visit(this._root, depth), depth + 1);\n  };\n\n  function selectorAllOf(selector) {\n    return function() {\n      return this.querySelectorAll(selector);\n    };\n  }\n\n  // The selector may either be a selector string (e.g., \".foo\")\n  // or a function that optionally returns the node to select.\n  function selection_select(selector) {\n    var depth = this._depth,\n        stack = new Array(depth * 2);\n\n    if (typeof selector !== \"function\") selector = selectorOf(selector);\n\n    function visit(nodes, update, depth) {\n      var i = -1,\n          n = nodes.length,\n          node,\n          subnode,\n          subnodes = new Array(n);\n\n      if (--depth) {\n        var stack0 = depth * 2,\n            stack1 = stack0 + 1;\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[stack0] = node._parent.__data__, stack[stack1] = i;\n            subnodes[i] = visit(node, update && update[i], depth);\n          }\n        }\n      }\n\n      // The leaf group may be sparse if the selector returns a falsey value;\n      // this preserves the index of nodes (unlike selection.filter).\n      // Propagate data to the new node only if it is defined on the old.\n      // If this is an enter selection, materialized nodes are moved to update.\n      else {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            stack[0] = node.__data__, stack[1] = i;\n            if (subnode = selector.apply(node, stack)) {\n              if (\"__data__\" in node) subnode.__data__ = node.__data__;\n              if (update) update[i] = subnode, delete nodes[i];\n              subnodes[i] = subnode;\n            }\n          }\n        }\n      }\n\n      subnodes._parent = nodes._parent;\n      return subnodes;\n    }\n\n    return new Selection(visit(this._root, this._update && this._update._root, depth), depth);\n  };\n\n  // When depth = 1, root = [Node, …].\n  // When depth = 2, root = [[Node, …], …].\n  // When depth = 3, root = [[[Node, …], …], …]. etc.\n  // Note that [Node, …] and NodeList are used interchangeably; see arrayify.\n  function Selection(root, depth) {\n    this._root = root;\n    this._depth = depth;\n    this._enter = this._update = this._exit = null;\n  };\n\n  function selection() {\n    return new Selection([document.documentElement], 1);\n  }\n\n  Selection.prototype = selection.prototype = {\n    select: selection_select,\n    selectAll: selection_selectAll,\n    filter: selection_filter,\n    data: selection_data,\n    enter: selection_enter,\n    exit: selection_exit,\n    order: selection_order,\n    sort: selection_sort,\n    call: selection_call,\n    nodes: selection_nodes,\n    node: selection_node,\n    size: selection_size,\n    empty: selection_empty,\n    each: selection_each,\n    attr: selection_attr,\n    style: selection_style,\n    property: selection_property,\n    class: selection_class,\n    classed: selection_class, // deprecated alias\n    text: selection_text,\n    html: selection_html,\n    append: selection_append,\n    insert: selection_append, // deprecated alias\n    remove: selection_remove,\n    datum: selection_datum,\n    event: selection_event,\n    on: selection_event, // deprecated alias\n    dispatch: selection_dispatch\n  };\n\n  function select(selector) {\n    return new Selection([typeof selector === \"string\" ? document.querySelector(selector) : selector], 1);\n  };\n\n  var bug44083 = typeof navigator !== \"undefined\" && /WebKit/.test(navigator.userAgent) ? -1 : 0; // https://bugs.webkit.org/show_bug.cgi?id=44083\n\n  function point(node, event) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      if (bug44083 < 0) {\n        var window = defaultView(node);\n        if (window.scrollX || window.scrollY) {\n          svg = select(window.document.body).append(\"svg\").style({position: \"absolute\", top: 0, left: 0, margin: 0, padding: 0, border: \"none\"}, \"important\");\n          var ctm = svg.node().getScreenCTM();\n          bug44083 = !(ctm.f || ctm.e);\n          svg.remove();\n        }\n      }\n      if (bug44083) point.x = event.pageX, point.y = event.pageY;\n      else point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    var rect = node.getBoundingClientRect();\n    return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n  };\n\n  function mouse(node, event) {\n    if (arguments.length < 2) event = sourceEvent();\n    if (event.changedTouches) event = event.changedTouches[0];\n    return point(node, event);\n  };\n\n  function selectAll(selector) {\n    return new Selection(typeof selector === \"string\" ? document.querySelectorAll(selector) : selector, 1);\n  };\n\n  function touch(node, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n    for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return point(node, touch);\n      }\n    }\n    return null;\n  };\n\n  function touches(node, touches) {\n    if (arguments.length < 2) touches = sourceEvent().touches;\n    for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n      points[i] = point(node, touches[i]);\n    }\n    return points;\n  };\n\n  var version = \"0.4.12\";\n\n  exports.version = version;\n  exports.mouse = mouse;\n  exports.namespace = namespace;\n  exports.namespaces = namespaces;\n  exports.requote = requote;\n  exports.select = select;\n  exports.selectAll = selectAll;\n  exports.selection = selection;\n  exports.touch = touch;\n  exports.touches = touches;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color'), require('d3-arrays'), require('d3-interpolate'), require('d3-format'), require('d3-time-format'), require('d3-time')) :\n  typeof define === 'function' && define.amd ? define('d3-scale', ['exports', 'd3-color', 'd3-arrays', 'd3-interpolate', 'd3-format', 'd3-time-format', 'd3-time'], factory) :\n  factory((global.d3_scale = {}),global.d3_color,global.d3_arrays,global.d3_interpolate,global.d3_format,global.d3_time_format,global.d3_time);\n}(this, function (exports,d3Color,d3Arrays,d3Interpolate,d3Format,d3TimeFormat,d3Time) { 'use strict';\n\n  function steps(length, start, step) {\n    var steps = new Array(length), i = -1;\n    while (++i < length) steps[i] = start + step * i;\n    return steps;\n  }\n\n  function newOrdinal(domain, ranger) {\n    var index,\n        range,\n        rangeBand;\n\n    function scale(x) {\n      var k = x + \"\", i = index.get(k);\n      if (!i) {\n        if (ranger.t !== \"range\") return;\n        index.set(k, i = domain.push(x));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function(x) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      index = d3Arrays.map();\n      var i = -1, n = x.length, xi, xk;\n      while (++i < n) if (!index.has(xk = (xi = x[i]) + \"\")) index.set(xk, domain.push(xi));\n      return scale[ranger.t].apply(scale, ranger.a);\n    };\n\n    scale.range = function(x) {\n      if (!arguments.length) return range.slice();\n      range = x.slice();\n      rangeBand = 0;\n      ranger = {t: \"range\", a: arguments};\n      return scale;\n    };\n\n    scale.rangePoints = function(x, padding) {\n      padding = arguments.length < 2 ? 0 : +padding;\n      var start = +x[0],\n          stop = +x[1],\n          step = domain.length < 2 ? (start = (start + stop) / 2, 0) : (stop - start) / (domain.length - 1 + padding);\n      range = steps(domain.length, start + step * padding / 2, step);\n      rangeBand = 0;\n      ranger = {t: \"rangePoints\", a: arguments};\n      return scale;\n    };\n\n    scale.rangeRoundPoints = function(x, padding) {\n      padding = arguments.length < 2 ? 0 : +padding;\n      var start = +x[0],\n          stop = +x[1],\n          step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2), 0) : (stop - start) / (domain.length - 1 + padding) | 0; // bitwise floor for symmetry\n      range = steps(domain.length, start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);\n      rangeBand = 0;\n      ranger = {t: \"rangeRoundPoints\", a: arguments};\n      return scale;\n    };\n\n    scale.rangeBands = function(x, padding, outerPadding) {\n      padding = arguments.length < 2 ? 0 : +padding;\n      outerPadding = arguments.length < 3 ? padding : +outerPadding;\n      var reverse = +x[1] < +x[0],\n          start = +x[reverse - 0],\n          stop = +x[1 - reverse],\n          step = (stop - start) / (domain.length - padding + 2 * outerPadding);\n      range = steps(domain.length, start + step * outerPadding, step);\n      if (reverse) range.reverse();\n      rangeBand = step * (1 - padding);\n      ranger = {t: \"rangeBands\", a: arguments};\n      return scale;\n    };\n\n    scale.rangeRoundBands = function(x, padding, outerPadding) {\n      padding = arguments.length < 2 ? 0 : +padding;\n      outerPadding = arguments.length < 3 ? padding : +outerPadding;\n      var reverse = +x[1] < +x[0],\n          start = +x[reverse - 0],\n          stop = +x[1 - reverse],\n          step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));\n      range = steps(domain.length, start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);\n      if (reverse) range.reverse();\n      rangeBand = Math.round(step * (1 - padding));\n      ranger = {t: \"rangeRoundBands\", a: arguments};\n      return scale;\n    };\n\n    scale.rangeBand = function() {\n      return rangeBand;\n    };\n\n    scale.rangeExtent = function() {\n      var t = ranger.a[0], start = t[0], stop = t[t.length - 1];\n      if (stop < start) t = stop, stop = start, start = t;\n      return [start, stop];\n    };\n\n    scale.copy = function() {\n      return newOrdinal(domain, ranger);\n    };\n\n    return scale.domain(domain);\n  }\n\n  function ordinal() {\n    return newOrdinal([], {t: \"range\", a: [[]]});\n  };\n\n  function category10() {\n    return ordinal().range([\n      \"#1f77b4\",\n      \"#ff7f0e\",\n      \"#2ca02c\",\n      \"#d62728\",\n      \"#9467bd\",\n      \"#8c564b\",\n      \"#e377c2\",\n      \"#7f7f7f\",\n      \"#bcbd22\",\n      \"#17becf\"\n    ]);\n  };\n\n  function category20b() {\n    return ordinal().range([\n      \"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\",\n      \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\",\n      \"#8c6d31\", \"#bd9e39\", \"#e7ba52\", \"#e7cb94\",\n      \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\",\n      \"#7b4173\", \"#a55194\", \"#ce6dbd\", \"#de9ed6\"\n    ]);\n  };\n\n  function category20c() {\n    return ordinal().range([\n      \"#3182bd\", \"#6baed6\", \"#9ecae1\", \"#c6dbef\",\n      \"#e6550d\", \"#fd8d3c\", \"#fdae6b\", \"#fdd0a2\",\n      \"#31a354\", \"#74c476\", \"#a1d99b\", \"#c7e9c0\",\n      \"#756bb1\", \"#9e9ac8\", \"#bcbddc\", \"#dadaeb\",\n      \"#636363\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\"\n    ]);\n  };\n\n  function category20() {\n    return ordinal().range([\n      \"#1f77b4\", \"#aec7e8\",\n      \"#ff7f0e\", \"#ffbb78\",\n      \"#2ca02c\", \"#98df8a\",\n      \"#d62728\", \"#ff9896\",\n      \"#9467bd\", \"#c5b0d5\",\n      \"#8c564b\", \"#c49c94\",\n      \"#e377c2\", \"#f7b6d2\",\n      \"#7f7f7f\", \"#c7c7c7\",\n      \"#bcbd22\", \"#dbdb8d\",\n      \"#17becf\", \"#9edae5\"\n    ]);\n  };\n\n  function nice(domain, step) {\n    domain = domain.slice();\n    if (!step) return domain;\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = Math.floor(x0 / step) * step;\n    domain[i1] = Math.ceil(x1 / step) * step;\n    return domain;\n  };\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function tickRange(domain, count) {\n    if (count == null) count = 10;\n\n    var start = domain[0],\n        stop = domain[domain.length - 1];\n\n    if (stop < start) error = stop, stop = start, start = error;\n\n    var span = stop - start,\n        step = Math.pow(10, Math.floor(Math.log(span / count) / Math.LN10)),\n        error = span / count / step;\n\n    // Filter ticks to get closer to the desired count.\n    if (error >= e10) step *= 10;\n    else if (error >= e5) step *= 5;\n    else if (error >= e2) step *= 2;\n\n    // Round start and stop values to step interval.\n    return [\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    ];\n  };\n\n  function ticks(domain, count) {\n    return d3Arrays.range.apply(null, tickRange(domain, count));\n  };\n\n  function tickFormat$2(domain, count, specifier) {\n    var range = tickRange(domain, count);\n    if (specifier == null) {\n      specifier = \",.\" + d3Format.precisionFixed(range[2]) + \"f\";\n    } else {\n      switch (specifier = d3Format.formatSpecifier(specifier), specifier.type) {\n        case \"s\": {\n          var value = Math.max(Math.abs(range[0]), Math.abs(range[1]));\n          if (specifier.precision == null) specifier.precision = d3Format.precisionPrefix(range[2], value);\n          return d3Format.formatPrefix(specifier, value);\n        }\n        case \"\":\n        case \"e\":\n        case \"g\":\n        case \"p\":\n        case \"r\": {\n          if (specifier.precision == null) specifier.precision = d3Format.precisionRound(range[2], Math.max(Math.abs(range[0]), Math.abs(range[1]))) - (specifier.type === \"e\");\n          break;\n        }\n        case \"f\":\n        case \"%\": {\n          if (specifier.precision == null) specifier.precision = d3Format.precisionFixed(range[2]) - (specifier.type === \"%\") * 2;\n          break;\n        }\n      }\n    }\n    return d3Format.format(specifier);\n  };\n\n  function uninterpolateClamp(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return Math.max(0, Math.min(1, (x - a) / b));\n    };\n  }\n\n  function uninterpolateNumber(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return (x - a) / b;\n    };\n  }\n\n  function bilinear(domain, range, uninterpolate, interpolate) {\n    var u = uninterpolate(domain[0], domain[1]),\n        i = interpolate(range[0], range[1]);\n    return function(x) {\n      return i(u(x));\n    };\n  }\n\n  function polylinear(domain, range, uninterpolate, interpolate) {\n    var k = Math.min(domain.length, range.length) - 1,\n        u = new Array(k),\n        i = new Array(k),\n        j = -1;\n\n    // Handle descending domains.\n    if (domain[k] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++j < k) {\n      u[j] = uninterpolate(domain[j], domain[j + 1]);\n      i[j] = interpolate(range[j], range[j + 1]);\n    }\n\n    return function(x) {\n      var j = d3Arrays.bisect(domain, x, 1, k) - 1;\n      return i[j](u[j](x));\n    };\n  }\n\n  function newLinear(domain, range, interpolate, clamp) {\n    var output,\n        input;\n\n    function rescale() {\n      var linear = Math.min(domain.length, range.length) > 2 ? polylinear : bilinear,\n          uninterpolate = clamp ? uninterpolateClamp : uninterpolateNumber;\n      output = linear(domain, range, uninterpolate, interpolate);\n      input = linear(range, domain, uninterpolate, d3Interpolate.interpolateNumber);\n      return scale;\n    }\n\n    function scale(x) {\n      return output(x);\n    }\n\n    scale.invert = function(y) {\n      return input(y);\n    };\n\n    scale.domain = function(x) {\n      if (!arguments.length) return domain.slice();\n      domain = x.map(Number);\n      return rescale();\n    };\n\n    scale.range = function(x) {\n      if (!arguments.length) return range.slice();\n      range = x.slice();\n      return rescale();\n    };\n\n    scale.rangeRound = function(x) {\n      return scale.range(x).interpolate(d3Interpolate.interpolateRound);\n    };\n\n    scale.clamp = function(x) {\n      if (!arguments.length) return clamp;\n      clamp = !!x;\n      return rescale();\n    };\n\n    scale.interpolate = function(x) {\n      if (!arguments.length) return interpolate;\n      interpolate = x;\n      return rescale();\n    };\n\n    scale.ticks = function(count) {\n      return ticks(domain, count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat$2(domain, count, specifier);\n    };\n\n    scale.nice = function(count) {\n      domain = nice(domain, tickRange(domain, count)[2]);\n      return rescale();\n    };\n\n    scale.copy = function() {\n      return newLinear(domain, range, interpolate, clamp);\n    };\n\n    return rescale();\n  }\n\n  function rebind(scale, linear) {\n    scale.range = function() {\n      var x = linear.range.apply(linear, arguments);\n      return x === linear ? scale : x;\n    };\n\n    scale.rangeRound = function() {\n      var x = linear.rangeRound.apply(linear, arguments);\n      return x === linear ? scale : x;\n    };\n\n    scale.clamp = function() {\n      var x = linear.clamp.apply(linear, arguments);\n      return x === linear ? scale : x;\n    };\n\n    scale.interpolate = function() {\n      var x = linear.interpolate.apply(linear, arguments);\n      return x === linear ? scale : x;\n    };\n\n    return scale;\n  };\n\n  function linear() {\n    return newLinear([0, 1], [0, 1], d3Interpolate.interpolate, false);\n  };\n\n  function cubehelix() {\n    return linear()\n        .interpolate(d3Color.interpolateCubehelixLong)\n        .range([d3Color.cubehelix(300, 0.5, 0.0), d3Color.cubehelix(-240, 0.5, 1.0)]);\n  };\n\n  function newIdentity(domain) {\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function(x) {\n      if (!arguments.length) return domain.slice();\n      domain = x.map(Number);\n      return scale;\n    };\n\n    scale.ticks = function(count) {\n      return ticks(domain, count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat$2(domain, count, specifier);\n    };\n\n    scale.copy = function() {\n      return newIdentity(domain);\n    };\n\n    return scale;\n  }\n\n  function identity() {\n    return newIdentity([0, 1]);\n  };\n\n  var tickFormat10 = d3Format.format(\".0e\");\n  var tickFormatOther = d3Format.format(\",\");\n  function newLog(linear, base, domain) {\n\n    function log(x) {\n      return (domain[0] < 0 ? -Math.log(x > 0 ? 0 : -x) : Math.log(x < 0 ? 0 : x)) / Math.log(base);\n    }\n\n    function pow(x) {\n      return domain[0] < 0 ? -Math.pow(base, -x) : Math.pow(base, x);\n    }\n\n    function scale(x) {\n      return linear(log(x));\n    }\n\n    scale.invert = function(x) {\n      return pow(linear.invert(x));\n    };\n\n    scale.base = function(x) {\n      if (!arguments.length) return base;\n      base = +x;\n      return scale.domain(domain);\n    };\n\n    scale.domain = function(x) {\n      if (!arguments.length) return domain.slice();\n      domain = x.map(Number);\n      linear.domain(domain.map(log));\n      return scale;\n    };\n\n    scale.nice = function() {\n      var x = nice(linear.domain(), 1);\n      linear.domain(x);\n      domain = x.map(pow);\n      return scale;\n    };\n\n    scale.ticks = function() {\n      var u = domain[0],\n          v = domain[domain.length - 1];\n      if (v < u) i = u, u = v, v = i;\n      var i = Math.floor(log(u)),\n          j = Math.ceil(log(v)),\n          k,\n          t,\n          n = base % 1 ? 2 : base,\n          ticks = [];\n\n      if (isFinite(j - i)) {\n        if (u > 0) {\n          for (--j, k = 1; k < n; ++k) if ((t = pow(i) * k) < u) continue; else ticks.push(t);\n          while (++i < j) for (k = 1; k < n; ++k) ticks.push(pow(i) * k);\n          for (k = 1; k < n; ++k) if ((t = pow(i) * k) > v) break; else ticks.push(t);\n        } else {\n          for (++i, k = n - 1; k >= 1; --k) if ((t = pow(i) * k) < u) continue; else ticks.push(t);\n          while (++i < j) for (k = n - 1; k >= 1; --k) ticks.push(pow(i) * k);\n          for (k = n - 1; k >= 1; --k) if ((t = pow(i) * k) > v) break; else ticks.push(t);\n        }\n      }\n\n      return ticks;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      if (specifier == null) specifier = base === 10 ? tickFormat10 : tickFormatOther;\n      else if (typeof specifier !== \"function\") specifier = d3Format.format(specifier);\n      if (count == null) return specifier;\n      var k = Math.min(base, scale.ticks().length / count),\n          f = domain[0] > 0 ? (e = 1e-12, Math.ceil) : (e = -1e-12, Math.floor),\n          e;\n      return function(d) {\n        return pow(f(log(d) + e)) / d >= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.copy = function() {\n      return newLog(linear.copy(), base, domain);\n    };\n\n    return rebind(scale, linear);\n  }\n\n  function log() {\n    return newLog(linear(), 10, [1, 10]);\n  };\n\n  function newPow(linear, exponent, domain) {\n\n    function powp(x) {\n      return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n    }\n\n    function powb(x) {\n      return x < 0 ? -Math.pow(-x, 1 / exponent) : Math.pow(x, 1 / exponent);\n    }\n\n    function scale(x) {\n      return linear(powp(x));\n    }\n\n    scale.invert = function(x) {\n      return powb(linear.invert(x));\n    };\n\n    scale.exponent = function(x) {\n      if (!arguments.length) return exponent;\n      exponent = +x;\n      return scale.domain(domain);\n    };\n\n    scale.domain = function(x) {\n      if (!arguments.length) return domain.slice();\n      domain = x.map(Number);\n      linear.domain(domain.map(powp));\n      return scale;\n    };\n\n    scale.ticks = function(count) {\n      return ticks(domain, count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat$2(domain, count, specifier);\n    };\n\n    scale.nice = function(count) {\n      return scale.domain(nice(domain, tickRange(domain, count)[2]));\n    };\n\n    scale.copy = function() {\n      return newPow(linear.copy(), exponent, domain);\n    };\n\n    return rebind(scale, linear);\n  }\n\n  function sqrt() {\n    return newPow(linear(), .5, [0, 1]);\n  };\n\n  function pow() {\n    return newPow(linear(), 1, [0, 1]);\n  };\n\n  function newQuantile(domain, range) {\n    var thresholds;\n\n    function rescale() {\n      var k = 0,\n          q = range.length;\n      thresholds = [];\n      while (++k < q) thresholds[k - 1] = d3Arrays.quantile(domain, k / q);\n      return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3Arrays.bisect(thresholds, x)];\n    }\n\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = [];\n      for (var i = 0, n = x.length, v; i < n; ++i) if (v = x[i], v != null && !isNaN(v = +v)) domain.push(v);\n      domain.sort(d3Arrays.ascending);\n      return rescale();\n    };\n\n    scale.range = function(x) {\n      if (!arguments.length) return range.slice();\n      range = x.slice();\n      return rescale();\n    };\n\n    scale.quantiles = function() {\n      return thresholds;\n    };\n\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return y < 0 ? [NaN, NaN] : [\n        y > 0 ? thresholds[y - 1] : domain[0],\n        y < thresholds.length ? thresholds[y] : domain[domain.length - 1]\n      ];\n    };\n\n    scale.copy = function() {\n      return newQuantile(domain, range); // copy on write!\n    };\n\n    return rescale();\n  }\n\n  function quantile() {\n    return newQuantile([], []);\n  };\n\n  function newQuantize(x0, x1, range) {\n    var kx, i;\n\n    function scale(x) {\n      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n    }\n\n    function rescale() {\n      kx = range.length / (x1 - x0);\n      i = range.length - 1;\n      return scale;\n    }\n\n    scale.domain = function(x) {\n      if (!arguments.length) return [x0, x1];\n      x0 = +x[0];\n      x1 = +x[x.length - 1];\n      return rescale();\n    };\n\n    scale.range = function(x) {\n      if (!arguments.length) return range.slice();\n      range = x.slice();\n      return rescale();\n    };\n\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      y = y < 0 ? NaN : y / kx + x0;\n      return [y, y + 1 / kx];\n    };\n\n    scale.copy = function() {\n      return newQuantize(x0, x1, range); // copy on write\n    };\n\n    return rescale();\n  }\n\n  function quantize() {\n    return newQuantize(0, 1, [0, 1]);\n  };\n\n  function rainbow() {\n    return linear()\n        .interpolate(d3Color.interpolateCubehelixLong)\n        .domain([0, 0.5, 1.0])\n        .range([d3Color.cubehelix(-100, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8), d3Color.cubehelix(260, 0.75, 0.35)]);\n  };\n\n  function newThreshold(domain, range, n) {\n\n    function scale(x) {\n      if (x <= x) return range[d3Arrays.bisect(domain, x, 0, n)];\n    }\n\n    scale.domain = function(x) {\n      if (!arguments.length) return domain.slice();\n      domain = x.slice(), n = Math.min(domain.length, range.length - 1);\n      return scale;\n    };\n\n    scale.range = function(x) {\n      if (!arguments.length) return range.slice();\n      range = x.slice(), n = Math.min(domain.length, range.length - 1);\n      return scale;\n    };\n\n    scale.invertExtent = function(y) {\n      return y = range.indexOf(y), [domain[y - 1], domain[y]];\n    };\n\n    scale.copy = function() {\n      return newThreshold(domain, range);\n    };\n\n    return scale;\n  };\n\n  function threshold() {\n    return newThreshold([.5], [0, 1], 1);\n  };\n\n  function newDate(t) {\n    return new Date(t);\n  }\n\n  function newTime(linear, timeInterval, tickFormat, format) {\n\n    function scale(x) {\n      return linear(x);\n    }\n\n    scale.invert = function(x) {\n      return newDate(linear.invert(x));\n    };\n\n    scale.domain = function(x) {\n      if (!arguments.length) return linear.domain().map(newDate);\n      linear.domain(x);\n      return scale;\n    };\n\n    function tickInterval(interval, start, stop, step) {\n      if (interval == null) interval = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // If a named interval such as \"seconds\" was specified, convert to the\n      // corresponding time interval and optionally filter using the step.\n      // Otherwise, assume interval is already a time interval and use it.\n      switch (typeof interval) {\n        case \"number\": interval = chooseTickInterval(start, stop, interval), step = interval[1], interval = interval[0]; break;\n        case \"string\": step = step == null ? 1 : Math.floor(step); break;\n        default: return interval;\n      }\n\n      return isFinite(step) && step > 0 ? timeInterval(interval, step) : null;\n    }\n\n    scale.ticks = function(interval, step) {\n      var domain = linear.domain(),\n          t0 = domain[0],\n          t1 = domain[domain.length - 1],\n          t;\n\n      if (t1 < t0) t = t0, t0 = t1, t1 = t;\n\n      return (interval = tickInterval(interval, t0, t1, step))\n          ? interval.range(t0, t1 + 1) // inclusive stop\n          : [];\n    };\n\n    scale.tickFormat = function(specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function(interval, step) {\n      var domain = linear.domain(),\n          i0 = 0,\n          i1 = domain.length - 1,\n          t0 = domain[i0],\n          t1 = domain[i1],\n          t;\n\n      if (t1 < t0) {\n        t = i0, i0 = i1, i1 = t;\n        t = t0, t0 = t1, t1 = t;\n      }\n\n      if (interval = tickInterval(interval, t0, t1, step)) {\n        domain[i0] = +interval.floor(t0);\n        domain[i1] = +interval.ceil(t1);\n        linear.domain(domain);\n      }\n\n      return scale;\n    };\n\n    scale.copy = function() {\n      return newTime(linear.copy(), timeInterval, tickFormat, format);\n    };\n\n    return rebind(scale, linear);\n  };\n\n  var millisecondsPerSecond = 1000;\n  var millisecondsPerMinute = millisecondsPerSecond * 60;\n  var millisecondsPerHour = millisecondsPerMinute * 60;\n  var millisecondsPerDay = millisecondsPerHour * 24;\n  var millisecondsPerWeek = millisecondsPerDay * 7;\n  var millisecondsPerMonth = millisecondsPerDay * 30;\n  var millisecondsPerYear = millisecondsPerDay * 365;\n  var tickIntervals = [\n    [\"seconds\",  1,      millisecondsPerSecond],\n    [\"seconds\",  5,  5 * millisecondsPerSecond],\n    [\"seconds\", 15, 15 * millisecondsPerSecond],\n    [\"seconds\", 30, 30 * millisecondsPerSecond],\n    [\"minutes\",  1,      millisecondsPerMinute],\n    [\"minutes\",  5,  5 * millisecondsPerMinute],\n    [\"minutes\", 15, 15 * millisecondsPerMinute],\n    [\"minutes\", 30, 30 * millisecondsPerMinute],\n    [  \"hours\",  1,      millisecondsPerHour  ],\n    [  \"hours\",  3,  3 * millisecondsPerHour  ],\n    [  \"hours\",  6,  6 * millisecondsPerHour  ],\n    [  \"hours\", 12, 12 * millisecondsPerHour  ],\n    [   \"days\",  1,      millisecondsPerDay   ],\n    [   \"days\",  2,  2 * millisecondsPerDay   ],\n    [  \"weeks\",  1,      millisecondsPerWeek  ],\n    [ \"months\",  1,      millisecondsPerMonth ],\n    [ \"months\",  3,  3 * millisecondsPerMonth ],\n    [  \"years\",  1,      millisecondsPerYear  ]\n  ];\n\n  var bisectTickIntervals = d3Arrays.bisector(function(method) {\n    return method[2];\n  }).right;\n\n  function chooseTickInterval(start, stop, count) {\n    var target = Math.abs(stop - start) / count,\n        i = bisectTickIntervals(tickIntervals, target);\n    return i === tickIntervals.length ? [\"years\", tickRange([start / millisecondsPerYear, stop / millisecondsPerYear], count)[2]]\n        : i ? tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i]\n        : [\"milliseconds\", tickRange([start, stop], count)[2]];\n  }\n\n  var formatMillisecond = d3TimeFormat.format(\".%L\");\n  var formatSecond = d3TimeFormat.format(\":%S\");\n  var formatMinute = d3TimeFormat.format(\"%I:%M\");\n  var formatHour = d3TimeFormat.format(\"%I %p\");\n  var formatDay = d3TimeFormat.format(\"%a %d\");\n  var formatWeek = d3TimeFormat.format(\"%b %d\");\n  var formatMonth = d3TimeFormat.format(\"%B\");\n  var formatYear = d3TimeFormat.format(\"%Y\");\n  function tickFormat(date) {\n    return (d3Time.second(date) < date ? formatMillisecond\n        : d3Time.minute(date) < date ? formatSecond\n        : d3Time.hour(date) < date ? formatMinute\n        : d3Time.day(date) < date ? formatHour\n        : d3Time.month(date) < date ? (d3Time.week(date) < date ? formatDay : formatWeek)\n        : d3Time.year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function millisecond(step) {\n    return {\n      range: function(start, stop) { return d3Arrays.range(Math.ceil(start / step) * step, stop, step).map(newDate); },\n      floor: function(date) { return newDate(Math.floor(date / step) * step); },\n      ceil: function(date) { return newDate(Math.ceil(date / step) * step); }\n    };\n  };\n\n  function timeInterval(interval, step) {\n    switch (interval) {\n      case \"milliseconds\": return millisecond(step);\n      case \"seconds\": return step > 1 ? d3Time.second.filter(function(d) { return d.getSeconds() % step === 0; }) : d3Time.second;\n      case \"minutes\": return step > 1 ? d3Time.minute.filter(function(d) { return d.getMinutes() % step === 0; }) : d3Time.minute;\n      case \"hours\": return step > 1 ? d3Time.hour.filter(function(d) { return d.getHours() % step === 0; }) : d3Time.hour;\n      case \"days\": return step > 1 ? d3Time.day.filter(function(d) { return (d.getDate() - 1) % step === 0; }) : d3Time.day;\n      case \"weeks\": return step > 1 ? d3Time.week.filter(function(d) { return d3Time.week.count(0, d) % step === 0; }) : d3Time.week;\n      case \"months\": return step > 1 ? d3Time.month.filter(function(d) { return d.getMonth() % step === 0; }) : d3Time.month;\n      case \"years\": return step > 1 ? d3Time.year.filter(function(d) { return d.getFullYear() % step === 0; }) : d3Time.year;\n    }\n  }\n\n  function time() {\n    return newTime(linear(), timeInterval, tickFormat, d3TimeFormat.format).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  };\n\n  var formatUTCMillisecond = d3TimeFormat.utcFormat(\".%L\");\n  var formatUTCSecond = d3TimeFormat.utcFormat(\":%S\");\n  var formatUTCMinute = d3TimeFormat.utcFormat(\"%I:%M\");\n  var formatUTCHour = d3TimeFormat.utcFormat(\"%I %p\");\n  var formatUTCDay = d3TimeFormat.utcFormat(\"%a %d\");\n  var formatUTCWeek = d3TimeFormat.utcFormat(\"%b %d\");\n  var formatUTCMonth = d3TimeFormat.utcFormat(\"%B\");\n  var formatUTCYear = d3TimeFormat.utcFormat(\"%Y\");\n  function tickFormat$1(date) {\n    return (d3Time.utcSecond(date) < date ? formatUTCMillisecond\n        : d3Time.utcMinute(date) < date ? formatUTCSecond\n        : d3Time.utcHour(date) < date ? formatUTCMinute\n        : d3Time.utcDay(date) < date ? formatUTCHour\n        : d3Time.utcMonth(date) < date ? (d3Time.utcWeek(date) < date ? formatUTCDay : formatUTCWeek)\n        : d3Time.utcYear(date) < date ? formatUTCMonth\n        : formatUTCYear)(date);\n  }\n\n  function timeInterval$1(interval, step) {\n    switch (interval) {\n      case \"milliseconds\": return millisecond(step);\n      case \"seconds\": return step > 1 ? d3Time.utcSecond.filter(function(d) { return d.getUTCSeconds() % step === 0; }) : d3Time.utcSecond;\n      case \"minutes\": return step > 1 ? d3Time.utcMinute.filter(function(d) { return d.getUTCMinutes() % step === 0; }) : d3Time.utcMinute;\n      case \"hours\": return step > 1 ? d3Time.utcHour.filter(function(d) { return d.getUTCHours() % step === 0; }) : d3Time.utcHour;\n      case \"days\": return step > 1 ? d3Time.utcDay.filter(function(d) { return (d.getUTCDate() - 1) % step === 0; }) : d3Time.utcDay;\n      case \"weeks\": return step > 1 ? d3Time.utcWeek.filter(function(d) { return d3Time.utcWeek.count(0, d) % step === 0; }) : d3Time.utcWeek;\n      case \"months\": return step > 1 ? d3Time.utcMonth.filter(function(d) { return d.getUTCMonth() % step === 0; }) : d3Time.utcMonth;\n      case \"years\": return step > 1 ? d3Time.utcYear.filter(function(d) { return d.getUTCFullYear() % step === 0; }) : d3Time.utcYear;\n    }\n  }\n\n  function utcTime() {\n    return newTime(linear(), timeInterval$1, tickFormat$1, d3TimeFormat.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  };\n\n  var version = \"0.1.5\";\n\n  exports.version = version;\n  exports.category10 = category10;\n  exports.category20b = category20b;\n  exports.category20c = category20c;\n  exports.category20 = category20;\n  exports.cubehelix = cubehelix;\n  exports.identity = identity;\n  exports.linear = linear;\n  exports.log = log;\n  exports.ordinal = ordinal;\n  exports.pow = pow;\n  exports.sqrt = sqrt;\n  exports.quantile = quantile;\n  exports.quantize = quantize;\n  exports.rainbow = rainbow;\n  exports.threshold = threshold;\n  exports.time = time;\n  exports.utcTime = utcTime;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-format', ['exports'], factory) :\n  factory((global.d3_format = {}));\n}(this, function (exports) { 'use strict';\n\n  var zhCn = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"¥\", \"\"]\n  };\n\n  var svSe = {\n    decimal: \",\",\n    thousands: \"\\xa0\",\n    grouping: [3],\n    currency: [\"\", \"SEK\"]\n  };\n\n  var ruRu = {\n    decimal: \",\",\n    thousands: \"\\xa0\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0руб.\"]\n  };\n\n  var ptBr = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"R$\", \"\"]\n  };\n\n  var plPl = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"\", \"zł\"]\n  };\n\n  var nlNl = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"€\\xa0\", \"\"]\n  };\n\n  var mkMk = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0ден.\"]\n  };\n\n  var koKr = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"₩\", \"\"]\n  };\n\n  var jaJp = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"\", \"円\"]\n  };\n\n  var itIt = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"€\", \"\"]\n  };\n\n  var huHu = {\n    decimal: \",\",\n    thousands: \"\\xa0\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0Ft\"]\n  };\n\n  var heIl = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"₪\", \"\"]\n  };\n\n  var frFr = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0€\"]\n  };\n\n  var frCa = {\n    decimal: \",\",\n    thousands: \"\\xa0\",\n    grouping: [3],\n    currency: [\"\", \"$\"]\n  };\n\n  var fiFi = {\n    decimal: \",\",\n    thousands: \"\\xa0\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0€\"]\n  };\n\n  var esEs = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0€\"]\n  };\n\n  var enUs = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  };\n\n  var enGb = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"£\", \"\"]\n  };\n\n  var enCa = {\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  };\n\n  var deDe = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0€\"]\n  };\n\n  var deCh = {\n    decimal: \",\",\n    thousands: \"'\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0CHF\"]\n  };\n\n  var caEs = {\n    decimal: \",\",\n    thousands: \".\",\n    grouping: [3],\n    currency: [\"\", \"\\xa0€\"]\n  };\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n    var i, coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n      coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n      +x.slice(i + 1)\n    ];\n  };\n\n  function exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  };\n\n  function formatGroup(grouping, thousands) {\n    return function(value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  };\n\n  var prefixExponent;\n\n  function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n        : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n        : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  };\n\n  function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n        : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  };\n\n  function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\": i0 = i1 = i; break;\n        case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n        case \"e\": break out;\n        default: if (i0 > 0) i0 = 0; break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  };\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function(x, p) { return (x * 100).toFixed(p); },\n    \"b\": function(x) { return Math.round(x).toString(2); },\n    \"c\": function(x) { return x + \"\"; },\n    \"d\": function(x) { return Math.round(x).toString(10); },\n    \"e\": function(x, p) { return x.toExponential(p); },\n    \"f\": function(x, p) { return x.toFixed(p); },\n    \"g\": function(x, p) { return x.toPrecision(p); },\n    \"o\": function(x) { return Math.round(x).toString(8); },\n    \"p\": function(x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function(x) { return Math.round(x).toString(16); }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  };\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function() {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + this.type;\n  };\n\n  var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n  function identity(x) {\n    return x;\n  }\n\n  function locale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n        currency = locale.currency,\n        decimal = locale.decimal;\n\n    function format(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? (type ? 6 : 12)\n          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n          : Math.max(0, Math.min(20, precision));\n\n      return function(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Convert negative to positive, and compute the prefix.\n          // Note that -0 is not less than 0, but 1 / -0 is!\n          var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n          // Perform the initial formatting.\n          value = formatType(value, precision);\n\n          // If the original value was negative, it may be rounded to zero during\n          // formatting; treat this as (positive) zero.\n          if (valueNegative) {\n            var i = -1, n = value.length, c;\n            valueNegative = false;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), (48 < c && c < 58)\n                  || (type === \"x\" && 96 < c && c < 103)\n                  || (type === \"X\" && 64 < c && c < 71)) {\n                valueNegative = true;\n                break;\n              }\n            }\n          }\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer “value” part that can be\n          // grouped, and fractional or exponential “suffix” part that is not.\n          if (maybeSuffix) {\n            var i = -1, n = value.length, c;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\": return valuePrefix + value + valueSuffix + padding;\n          case \"=\": return valuePrefix + padding + value + valueSuffix;\n          case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n        }\n        return padding + valuePrefix + value + valueSuffix;\n      };\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = format((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function(value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: format,\n      formatPrefix: formatPrefix\n    };\n  };\n\n  function precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n  };\n\n  function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n  };\n\n  function precisionRound(step, max) {\n    return Math.max(0, exponent(Math.abs(max)) - exponent(Math.abs(step))) + 1;\n  };\n\n  var localeDefinitions = {\n    \"ca-ES\": caEs,\n    \"de-CH\": deCh,\n    \"de-DE\": deDe,\n    \"en-CA\": enCa,\n    \"en-GB\": enGb,\n    \"en-US\": enUs,\n    \"es-ES\": esEs,\n    \"fi-FI\": fiFi,\n    \"fr-CA\": frCa,\n    \"fr-FR\": frFr,\n    \"he-IL\": heIl,\n    \"hu-HU\": huHu,\n    \"it-IT\": itIt,\n    \"ja-JP\": jaJp,\n    \"ko-KR\": koKr,\n    \"mk-MK\": mkMk,\n    \"nl-NL\": nlNl,\n    \"pl-PL\": plPl,\n    \"pt-BR\": ptBr,\n    \"ru-RU\": ruRu,\n    \"sv-SE\": svSe,\n    \"zh-CN\": zhCn\n  };\n\n  var defaultLocale = locale(enUs);\n  var format = defaultLocale.format;\n  var formatPrefix = defaultLocale.formatPrefix;\n\n  function localeFormat(definition) {\n    if (typeof definition === \"string\") {\n      if (!localeDefinitions.hasOwnProperty(definition)) return null;\n      definition = localeDefinitions[definition];\n    }\n    return locale(definition);\n  };\n\n  var version = \"0.3.6\";\n\n  exports.version = version;\n  exports.format = format;\n  exports.formatPrefix = formatPrefix;\n  exports.localeFormat = localeFormat;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n\n}));","'use strict';\n\nvar d3Arrays = require('d3-arrays');\nvar d3Dispatch = require('d3-dispatch');\nvar d3Dsv = require('d3-dsv');\n\nfunction xhr(url, callback) {\n  var xhr,\n      event = d3Dispatch.dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = d3Arrays.map(),\n      request = new XMLHttpRequest,\n      response,\n      responseType;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in request)\n      && /^(http(s)?:)?\\/\\//.test(url)) request = new XDomainRequest;\n\n  \"onload\" in request\n      ? request.onload = request.onerror = respond\n      : request.onreadystatechange = function() { request.readyState > 3 && respond(); };\n\n  function respond() {\n    var status = request.status, result;\n    if (!status && hasResponse(request)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(xhr, request);\n        } catch (e) {\n          event.error.call(xhr, e);\n          return;\n        }\n      } else {\n        result = request;\n      }\n      event.load.call(xhr, result);\n    } else {\n      event.error.call(xhr, request);\n    }\n  }\n\n  request.onprogress = function(e) {\n    event.progress.call(xhr, e);\n  };\n\n  xhr = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return xhr;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return xhr;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return xhr;\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return xhr;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return xhr.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return xhr.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      if (!callback && typeof data === \"function\") callback = data, data = null;\n      if (callback && callback.length === 1) callback = fixCallback(callback);\n      request.open(method, url, true);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (request.setRequestHeader) headers.forEach(function(name, value) { request.setRequestHeader(name, value); });\n      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);\n      if (responseType != null) request.responseType = responseType;\n      if (callback) xhr.on(\"error\", callback).on(\"load\", function(request) { callback(null, request); });\n      event.beforesend.call(xhr, request);\n      request.send(data == null ? null : data);\n      return xhr;\n    },\n\n    abort: function() {\n      request.abort();\n      return xhr;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? xhr : value;\n    }\n  };\n\n  return callback\n      ? xhr.get(callback)\n      : xhr;\n};\n\nfunction fixCallback(callback) {\n  return function(error, request) {\n    callback(error == null ? request : null);\n  };\n}\n\nfunction hasResponse(request) {\n  var type = request.responseType;\n  return type && type !== \"text\"\n      ? request.response // null on error\n      : request.responseText; // \"\" on error\n}\n\nfunction xhrDsv(defaultMimeType, dsv) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = xhr(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(dsv, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n};\n\nfunction responseOf(dsv, row) {\n  return function(request) {\n    return dsv.parse(request.responseText, row);\n  };\n}\n\nvar tsv = xhrDsv(\"text/tab-separated-values\", d3Dsv.tsv);\n\nvar csv = xhrDsv(\"text/csv\", d3Dsv.csv);\n\nfunction xhrType(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = xhr(url).mimeType(defaultMimeType).response(response);\n    return callback ? r.get(callback) : r;\n  };\n};\n\nvar xml = xhrType(\"application/xml\", function(request) {\n  return request.responseXML;\n});\n\nvar text = xhrType(\"text/plain\", function(request) {\n  return request.responseText;\n});\n\nvar json = xhrType(\"application/json\", function(request) {\n  return JSON.parse(request.responseText);\n});\n\nvar html = xhrType(\"text/html\", function(request) {\n  return document.createRange().createContextualFragment(request.responseText);\n});\n\nexports.xhr = xhr;\nexports.html = html;\nexports.json = json;\nexports.text = text;\nexports.xml = xml;\nexports.csv = csv;\nexports.tsv = tsv;\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! (C) WebReflection Mit Style License */\n(function(e,t,n,r){\"use strict\";function rt(e,t){for(var n=0,r=e.length;n<r;n++)vt(e[n],t)}function it(e){for(var t=0,n=e.length,r;t<n;t++)r=e[t],nt(r,b[ot(r)])}function st(e){return function(t){j(t)&&(vt(t,e),rt(t.querySelectorAll(w),e))}}function ot(e){var t=e.getAttribute(\"is\"),n=e.nodeName.toUpperCase(),r=S.call(y,t?v+t.toUpperCase():d+n);return t&&-1<r&&!ut(n,t)?-1:r}function ut(e,t){return-1<w.indexOf(e+'[is=\"'+t+'\"]')}function at(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;Q&&(!i||i===t)&&t.attributeChangedCallback&&r!==\"style\"&&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[a]?null:e.prevValue,n===e[l]?null:e.newValue)}function ft(e){var t=st(e);return function(e){X.push(t,e.target)}}function lt(e){K&&(K=!1,e.currentTarget.removeEventListener(h,lt)),rt((e.target||t).querySelectorAll(w),e.detail===o?o:s),B&&pt()}function ct(e,t){var n=this;q.call(n,e,t),G.call(n,{target:n})}function ht(e,t){D(e,t),et?et.observe(e,z):(J&&(e.setAttribute=ct,e[i]=Z(e),e.addEventListener(p,G)),e.addEventListener(c,at)),e.createdCallback&&Q&&(e.created=!0,e.createdCallback(),e.created=!1)}function pt(){for(var e,t=0,n=F.length;t<n;t++)e=F[t],E.contains(e)||(n--,F.splice(t--,1),vt(e,o))}function dt(e){throw new Error(\"A \"+e+\" type is already registered\")}function vt(e,t){var n,r=ot(e);-1<r&&(tt(e,b[r]),r=0,t===s&&!e[s]?(e[o]=!1,e[s]=!0,r=1,B&&S.call(F,e)<0&&F.push(e)):t===o&&!e[o]&&(e[s]=!1,e[o]=!0,r=1),r&&(n=e[t+\"Callback\"])&&n.call(e))}if(r in t)return;var i=\"__\"+r+(Math.random()*1e5>>0),s=\"attached\",o=\"detached\",u=\"extends\",a=\"ADDITION\",f=\"MODIFICATION\",l=\"REMOVAL\",c=\"DOMAttrModified\",h=\"DOMContentLoaded\",p=\"DOMSubtreeModified\",d=\"<\",v=\"=\",m=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,g=[\"ANNOTATION-XML\",\"COLOR-PROFILE\",\"FONT-FACE\",\"FONT-FACE-SRC\",\"FONT-FACE-URI\",\"FONT-FACE-FORMAT\",\"FONT-FACE-NAME\",\"MISSING-GLYPH\"],y=[],b=[],w=\"\",E=t.documentElement,S=y.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},x=n.prototype,T=x.hasOwnProperty,N=x.isPrototypeOf,C=n.defineProperty,k=n.getOwnPropertyDescriptor,L=n.getOwnPropertyNames,A=n.getPrototypeOf,O=n.setPrototypeOf,M=!!n.__proto__,_=n.create||function mt(e){return e?(mt.prototype=e,new mt):this},D=O||(M?function(e,t){return e.__proto__=t,e}:L&&k?function(){function e(e,t){for(var n,r=L(t),i=0,s=r.length;i<s;i++)n=r[i],T.call(e,n)||C(e,n,k(t,n))}return function(t,n){do e(t,n);while((n=A(n))&&!N.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),P=e.MutationObserver||e.WebKitMutationObserver,H=(e.HTMLElement||e.Element||e.Node).prototype,B=!N.call(H,E),j=B?function(e){return e.nodeType===1}:function(e){return N.call(H,e)},F=B&&[],I=H.cloneNode,q=H.setAttribute,R=H.removeAttribute,U=t.createElement,z=P&&{attributes:!0,characterData:!0,attributeOldValue:!0},W=P||function(e){J=!1,E.removeEventListener(c,W)},X,V=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},$=!1,J=!0,K=!0,Q=!0,G,Y,Z,et,tt,nt;O||M?(tt=function(e,t){N.call(t,e)||ht(e,t)},nt=ht):(tt=function(e,t){e[i]||(e[i]=n(!0),ht(e,t))},nt=tt),B?(J=!1,function(){var e=k(H,\"addEventListener\"),t=e.value,n=function(e){var t=new CustomEvent(c,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[l]=t.attrChange=2,R.call(this,e),this.dispatchEvent(t)},r=function(e,t){var n=this.hasAttribute(e),r=n&&this.getAttribute(e),i=new CustomEvent(c,{bubbles:!0});q.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i[f]=i.attrChange=1:i[a]=i.attrChange=0,this.dispatchEvent(i)},s=function(e){var t=e.currentTarget,n=t[i],r=e.propertyName,s;n.hasOwnProperty(r)&&(n=n[r],s=new CustomEvent(c,{bubbles:!0}),s.attrName=n.name,s.prevValue=n.value||null,s.newValue=n.value=t[r]||null,s.prevValue==null?s[a]=s.attrChange=0:s[f]=s.attrChange=1,t.dispatchEvent(s))};e.value=function(e,o,u){e===c&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[i]={className:{name:\"class\",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,\"propertychange\",s)),t.call(this,e,o,u)},C(H,\"addEventListener\",e)}()):P||(E.addEventListener(c,W),E.setAttribute(i,1),E.removeAttribute(i),J&&(G=function(e){var t=this,n,r,s;if(t===e.target){n=t[i],t[i]=r=Z(t);for(s in r){if(!(s in n))return Y(0,t,s,n[s],r[s],a);if(r[s]!==n[s])return Y(1,t,s,n[s],r[s],f)}for(s in n)if(!(s in r))return Y(2,t,s,n[s],r[s],l)}},Y=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,at(o)},Z=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;s<o;s++)t=i[s],n=t.name,n!==\"setAttribute\"&&(r[n]=t.value);return r})),t[r]=function(n,r){c=n.toUpperCase(),$||($=!0,P?(et=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new P(function(r){for(var i,s,o,u=0,a=r.length;u<a;u++)i=r[u],i.type===\"childList\"?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,Q&&s.attributeChangedCallback&&i.attributeName!==\"style\"&&(o=s.getAttribute(i.attributeName),o!==i.oldValue&&s.attributeChangedCallback(i.attributeName,i.oldValue,o)))})}(st(s),st(o)),et.observe(t,{childList:!0,subtree:!0})):(X=[],V(function E(){while(X.length)X.shift().call(null,X.shift());V(E)}),t.addEventListener(\"DOMNodeInserted\",ft(s)),t.addEventListener(\"DOMNodeRemoved\",ft(o))),t.addEventListener(h,lt),t.addEventListener(\"readystatechange\",lt),t.createElement=function(e,n){var r=U.apply(t,arguments),i=\"\"+e,s=S.call(y,(n?v:d)+(n||i).toUpperCase()),o=-1<s;return n&&(r.setAttribute(\"is\",n=n.toLowerCase()),o&&(o=ut(i.toUpperCase(),n))),Q=!t.createElement.innerHTMLHelper,o&&nt(r,b[s]),r},H.cloneNode=function(e){var t=I.call(this,!!e),n=ot(t);return-1<n&&nt(t,b[n]),e&&it(t.querySelectorAll(w)),t}),-2<S.call(y,v+c)+S.call(y,d+c)&&dt(n);if(!m.test(c)||-1<S.call(g,c))throw new Error(\"The type \"+n+\" is invalid\");var i=function(){return f?t.createElement(l,c):t.createElement(l)},a=r||x,f=T.call(a,u),l=f?r[u].toUpperCase():c,c,p;return f&&-1<S.call(y,d+l)&&dt(l),p=y.push((f?v:d)+c)-1,w=w.concat(w.length?\",\":\"\",f?l+'[is=\"'+n.toLowerCase()+'\"]':l),i.prototype=b[p]=T.call(a,\"prototype\")?a.prototype:_(H),rt(t.querySelectorAll(w),s),i}})(window,document,Object,\"registerElement\");","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-arrays', ['exports'], factory) :\n  factory((global.d3_arrays = {}));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  };\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  };\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n\n  function number(x) {\n    return x === null ? NaN : +x;\n  };\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (arguments.length === 1) {\n      while (++i < n) {\n        if (!isNaN(a = number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number(f.call(array, array[i], i)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  };\n\n  function deviation() {\n    var v = variance.apply(this, arguments);\n    return v ? Math.sqrt(v) : v;\n  };\n\n  function entries(map) {\n    var entries = [];\n    for (var key in map) entries.push({key: key, value: map[key]});\n    return entries;\n  };\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  };\n\n  function keys(map) {\n    var keys = [];\n    for (var key in map) keys.push(key);\n    return keys;\n  };\n\n  var prefix = \"$\";\n\n  function Map() {}\n\n  Map.prototype = map.prototype = {\n    has: function(key) {\n      return (prefix + key) in this;\n    },\n    get: function(key) {\n      return this[prefix + key];\n    },\n    set: function(key, value) {\n      this[prefix + key] = value;\n      return this;\n    },\n    remove: function(key) {\n      var property = prefix + key;\n      return property in this && delete this[property];\n    },\n    clear: function() {\n      for (var property in this) if (property[0] === prefix) delete this[property];\n    },\n    keys: function() {\n      var keys = [];\n      for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n      return keys;\n    },\n    values: function() {\n      var values = [];\n      for (var property in this) if (property[0] === prefix) values.push(this[property]);\n      return values;\n    },\n    entries: function() {\n      var entries = [];\n      for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n      return entries;\n    },\n    size: function() {\n      var size = 0;\n      for (var property in this) if (property[0] === prefix) ++size;\n      return size;\n    },\n    empty: function() {\n      for (var property in this) if (property[0] === prefix) return false;\n      return true;\n    },\n    each: function(f) {\n      for (var property in this) if (property[0] === prefix) f.call(this, this[property], property.slice(1));\n    }\n  };\n\n  function map(object, f) {\n    var map = new Map;\n\n    // Copy constructor.\n    if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n    // Index array by numeric index or specified key function.\n    else if (Array.isArray(object)) {\n      var i = -1,\n          n = object.length,\n          o;\n\n      if (arguments.length === 1) while (++i < n) map.set(i, object[i]);\n      else while (++i < n) map.set(f.call(object, o = object[i], i), o);\n    }\n\n    // Convert object to map.\n    else if (object) for (var key in object) map.set(key, object[key]);\n\n    return map;\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n    }\n\n    return a;\n  };\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (arguments.length === 1) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f.call(array, array[i], i)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  };\n\n  // R-7 per <http://en.wikipedia.org/wiki/Quantile>\n  function quantile(values, p) {\n    var H = (values.length - 1) * p + 1,\n        h = Math.floor(H),\n        v = +values[h - 1],\n        e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n  };\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (arguments.length === 1) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f.call(array, array[i], i)))) numbers.push(a);\n    }\n\n    if (numbers.length) return quantile(numbers.sort(ascending), .5);\n  };\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  };\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n    }\n\n    return a;\n  };\n\n  function nest() {\n    var keys = [],\n        sortKeys = [],\n        sortValues,\n        rollup,\n        nest;\n\n    function apply(array, depth, createResult, setResult) {\n      if (depth >= keys.length) return rollup\n          ? rollup.call(nest, array) : (sortValues\n          ? array.sort(sortValues)\n          : array);\n\n      var i = -1,\n          n = array.length,\n          key = keys[depth++],\n          keyValue,\n          value,\n          valuesByKey = map(),\n          values,\n          result = createResult();\n\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n          values.push(value);\n        } else {\n          valuesByKey.set(keyValue, [value]);\n        }\n      }\n\n      valuesByKey.each(function(values, key) {\n        setResult(result, key, apply(values, depth, createResult, setResult));\n      });\n\n      return result;\n    }\n\n    function entries(map, depth) {\n      if (depth >= keys.length) return map;\n\n      var array = [],\n          sortKey = sortKeys[depth++];\n\n      map.each(function(value, key) {\n        array.push({key: key, values: entries(value, depth)});\n      });\n\n      return sortKey\n          ? array.sort(function(a, b) { return sortKey(a.key, b.key); })\n          : array;\n    }\n\n    return nest = {\n      object: function(array) { return apply(array, 0, createObject, setObject); },\n      map: function(array) { return apply(array, 0, createMap, setMap); },\n      entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n      key: function(d) { keys.push(d); return nest; },\n      sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n      sortValues: function(order) { sortValues = order; return nest; },\n      rollup: function(f) { rollup = f; return nest; }\n    };\n  };\n\n  function createObject() {\n    return {};\n  }\n\n  function setObject(object, key, value) {\n    object[key] = value;\n  }\n\n  function createMap() {\n    return map();\n  }\n\n  function setMap(map, key, value) {\n    map.set(key, value);\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p0 = p1, p1 = array[++i]];\n    return pairs;\n  };\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  };\n\n  function range(start, stop, step) {\n    if ((n = arguments.length) < 3) {\n      step = 1;\n      if (n < 2) {\n        stop = start;\n        start = 0;\n      }\n    }\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  };\n\n  function Set() {}\n\n  var proto = map.prototype;\n\n  Set.prototype = set.prototype = {\n    has: proto.has,\n    add: function(value) {\n      value += \"\";\n      this[prefix + value] = true;\n      return this;\n    },\n    remove: proto.remove,\n    clear: proto.clear,\n    values: proto.keys,\n    size: proto.size,\n    empty: proto.empty,\n    each: function(f) {\n      for (var property in this) if (property[0] === prefix) f.call(this, property.slice(1));\n    }\n  };\n\n  function set(object) {\n    var set = new Set;\n\n    // Copy constructor.\n    if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n    // Otherwise, assume it’s an array.\n    else if (object) for (var i = 0, n = object.length; i < n; ++i) set.add(object[i]);\n\n    return set;\n  }\n\n  function shuffle(array, i0, i1) {\n    if ((m = arguments.length) < 3) {\n      i1 = array.length;\n      if (m < 2) i0 = 0;\n    }\n\n    var m = i1 - i0,\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  };\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (arguments.length === 1) {\n      while (++i < n) if (!isNaN(a = +array[i])) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = +f.call(array, array[i], i))) s += a;\n    }\n\n    return s;\n  };\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  };\n\n  function length(d) {\n    return d.length;\n  }\n\n  function values(map) {\n    var values = [];\n    for (var key in map) values.push(map[key]);\n    return values;\n  };\n\n  function zip() {\n    return transpose(arguments);\n  };\n\n  var version = \"0.3.1\";\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.entries = entries;\n  exports.extent = extent;\n  exports.keys = keys;\n  exports.map = map;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.nest = nest;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.set = set;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.transpose = transpose;\n  exports.values = values;\n  exports.variance = variance;\n  exports.zip = zip;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-time', ['exports'], factory) :\n  factory((global.d3_time = {}));\n}(this, function (exports) { 'use strict';\n\n  var t0 = new Date;\n  var t1 = new Date;\n  function newInterval(floori, offseti, count) {\n\n    function interval(date) {\n      return floori(date = new Date(+date)), date;\n    }\n\n    interval.floor = interval;\n\n    interval.round = function(date) {\n      var d0 = new Date(+date),\n          d1 = new Date(date - 1);\n      floori(d0), floori(d1), offseti(d1, 1);\n      return date - d0 < d1 - date ? d0 : d1;\n    };\n\n    interval.ceil = function(date) {\n      return floori(date = new Date(date - 1)), offseti(date, 1), date;\n    };\n\n    interval.offset = function(date, step) {\n      return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n    };\n\n    interval.range = function(start, stop, step) {\n      var range = [];\n      start = new Date(start - 1);\n      stop = new Date(+stop);\n      step = step == null ? 1 : Math.floor(step);\n      if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n      offseti(start, 1), floori(start);\n      if (start < stop) range.push(new Date(+start));\n      while (offseti(start, step), floori(start), start < stop) range.push(new Date(+start));\n      return range;\n    };\n\n    interval.filter = function(test) {\n      return newInterval(function(date) {\n        while (floori(date), !test(date)) date.setTime(date - 1);\n      }, function(date, step) {\n        while (--step >= 0) while (offseti(date, 1), !test(date));\n      });\n    };\n\n    if (count) interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    return interval;\n  };\n\n  var millisecond = newInterval(function() {\n    // noop\n  }, function(date, step) {\n    date.setTime(+date + step);\n  }, function(start, end) {\n    return end - start;\n  });\n\n  var second = newInterval(function(date) {\n    date.setMilliseconds(0);\n  }, function(date, step) {\n    date.setTime(+date + step * 1e3);\n  }, function(start, end) {\n    return (end - start) / 1e3;\n  });\n\n  var minute = newInterval(function(date) {\n    date.setSeconds(0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 6e4);\n  }, function(start, end) {\n    return (end - start) / 6e4;\n  });\n\n  var hour = newInterval(function(date) {\n    date.setMinutes(0, 0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 36e5);\n  }, function(start, end) {\n    return (end - start) / 36e5;\n  });\n\n  var day = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * 6e4) / 864e5;\n  });\n\n  function weekday(i) {\n    return newInterval(function(date) {\n      date.setHours(0, 0, 0, 0);\n      date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    }, function(date, step) {\n      date.setDate(date.getDate() + step * 7);\n    }, function(start, end) {\n      return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * 6e4) / 6048e5;\n    });\n  }\n\n  var sunday = weekday(0);\n  var monday = weekday(1);\n  var tuesday = weekday(2);\n  var wednesday = weekday(3);\n  var thursday = weekday(4);\n  var friday = weekday(5);\n  var saturday = weekday(6);\n\n  var month = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n    date.setDate(1);\n  }, function(date, step) {\n    date.setMonth(date.getMonth() + step);\n  }, function(start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n  });\n\n  var year = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n    date.setMonth(0, 1);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step);\n  }, function(start, end) {\n    return end.getFullYear() - start.getFullYear();\n  });\n\n  var utcSecond = newInterval(function(date) {\n    date.setUTCMilliseconds(0);\n  }, function(date, step) {\n    date.setTime(+date + step * 1e3);\n  }, function(start, end) {\n    return (end - start) / 1e3;\n  });\n\n  var utcMinute = newInterval(function(date) {\n    date.setUTCSeconds(0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 6e4);\n  }, function(start, end) {\n    return (end - start) / 6e4;\n  });\n\n  var utcHour = newInterval(function(date) {\n    date.setUTCMinutes(0, 0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 36e5);\n  }, function(start, end) {\n    return (end - start) / 36e5;\n  });\n\n  var utcDay = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n  }, function(start, end) {\n    return (end - start) / 864e5;\n  });\n\n  function utcWeekday(i) {\n    return newInterval(function(date) {\n      date.setUTCHours(0, 0, 0, 0);\n      date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    }, function(date, step) {\n      date.setUTCDate(date.getUTCDate() + step * 7);\n    }, function(start, end) {\n      return (end - start) / 6048e5;\n    });\n  }\n\n  var utcSunday = utcWeekday(0);\n  var utcMonday = utcWeekday(1);\n  var utcTuesday = utcWeekday(2);\n  var utcWednesday = utcWeekday(3);\n  var utcThursday = utcWeekday(4);\n  var utcFriday = utcWeekday(5);\n  var utcSaturday = utcWeekday(6);\n\n  var utcMonth = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n    date.setUTCDate(1);\n  }, function(date, step) {\n    date.setUTCMonth(date.getUTCMonth() + step);\n  }, function(start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n  });\n\n  var utcYear = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n    date.setUTCMonth(0, 1);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n  }, function(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n  });\n\n  var milliseconds = millisecond.range;\n  var seconds = second.range;\n  var minutes = minute.range;\n  var hours = hour.range;\n  var days = day.range;\n  var sundays = sunday.range;\n  var mondays = monday.range;\n  var tuesdays = tuesday.range;\n  var wednesdays = wednesday.range;\n  var thursdays = thursday.range;\n  var fridays = friday.range;\n  var saturdays = saturday.range;\n  var weeks = sunday.range;\n  var months = month.range;\n  var years = year.range;\n\n  var utcMillisecond = millisecond;\n  var utcMilliseconds = milliseconds;\n  var utcSeconds = utcSecond.range;\n  var utcMinutes = utcMinute.range;\n  var utcHours = utcHour.range;\n  var utcDays = utcDay.range;\n  var utcSundays = utcSunday.range;\n  var utcMondays = utcMonday.range;\n  var utcTuesdays = utcTuesday.range;\n  var utcWednesdays = utcWednesday.range;\n  var utcThursdays = utcThursday.range;\n  var utcFridays = utcFriday.range;\n  var utcSaturdays = utcSaturday.range;\n  var utcWeeks = utcSunday.range;\n  var utcMonths = utcMonth.range;\n  var utcYears = utcYear.range;\n\n  var version = \"0.0.7\";\n\n  exports.version = version;\n  exports.milliseconds = milliseconds;\n  exports.seconds = seconds;\n  exports.minutes = minutes;\n  exports.hours = hours;\n  exports.days = days;\n  exports.sundays = sundays;\n  exports.mondays = mondays;\n  exports.tuesdays = tuesdays;\n  exports.wednesdays = wednesdays;\n  exports.thursdays = thursdays;\n  exports.fridays = fridays;\n  exports.saturdays = saturdays;\n  exports.weeks = weeks;\n  exports.months = months;\n  exports.years = years;\n  exports.utcMillisecond = utcMillisecond;\n  exports.utcMilliseconds = utcMilliseconds;\n  exports.utcSeconds = utcSeconds;\n  exports.utcMinutes = utcMinutes;\n  exports.utcHours = utcHours;\n  exports.utcDays = utcDays;\n  exports.utcSundays = utcSundays;\n  exports.utcMondays = utcMondays;\n  exports.utcTuesdays = utcTuesdays;\n  exports.utcWednesdays = utcWednesdays;\n  exports.utcThursdays = utcThursdays;\n  exports.utcFridays = utcFridays;\n  exports.utcSaturdays = utcSaturdays;\n  exports.utcWeeks = utcWeeks;\n  exports.utcMonths = utcMonths;\n  exports.utcYears = utcYears;\n  exports.millisecond = millisecond;\n  exports.second = second;\n  exports.minute = minute;\n  exports.hour = hour;\n  exports.day = day;\n  exports.sunday = sunday;\n  exports.monday = monday;\n  exports.tuesday = tuesday;\n  exports.wednesday = wednesday;\n  exports.thursday = thursday;\n  exports.friday = friday;\n  exports.saturday = saturday;\n  exports.week = sunday;\n  exports.month = month;\n  exports.year = year;\n  exports.utcSecond = utcSecond;\n  exports.utcMinute = utcMinute;\n  exports.utcHour = utcHour;\n  exports.utcDay = utcDay;\n  exports.utcSunday = utcSunday;\n  exports.utcMonday = utcMonday;\n  exports.utcTuesday = utcTuesday;\n  exports.utcWednesday = utcWednesday;\n  exports.utcThursday = utcThursday;\n  exports.utcFriday = utcFriday;\n  exports.utcSaturday = utcSaturday;\n  exports.utcWeek = utcSunday;\n  exports.utcMonth = utcMonth;\n  exports.utcYear = utcYear;\n  exports.interval = newInterval;\n\n}));","'use strict';\n\nfunction min(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (arguments.length === 1) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n  }\n\n  return a;\n};\n\nfunction transpose$1(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n};\n\nfunction length(d) {\n  return d.length;\n}\n\nfunction zip() {\n  return transpose$1(arguments);\n};\n\nfunction number(x) {\n  return x === null ? NaN : +x;\n};\n\nfunction variance(array, f) {\n  var n = array.length,\n      m = 0,\n      a,\n      d,\n      s = 0,\n      i = -1,\n      j = 0;\n\n  if (arguments.length === 1) {\n    while (++i < n) {\n      if (!isNaN(a = number(array[i]))) {\n        d = a - m;\n        m += d / ++j;\n        s += d * (a - m);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(a = number(f.call(array, array[i], i)))) {\n        d = a - m;\n        m += d / ++j;\n        s += d * (a - m);\n      }\n    }\n  }\n\n  if (j > 1) return s / (j - 1);\n};\n\nfunction values$1(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n};\n\nfunction sum(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1;\n\n  if (arguments.length === 1) {\n    while (++i < n) if (!isNaN(a = +array[i])) s += a; // Note: zero and null are equivalent.\n  }\n\n  else {\n    while (++i < n) if (!isNaN(a = +f.call(array, array[i], i))) s += a;\n  }\n\n  return s;\n};\n\nfunction shuffle(array, i0, i1) {\n  if ((m = arguments.length) < 3) {\n    i1 = array.length;\n    if (m < 2) i0 = 0;\n  }\n\n  var m = i1 - i0,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n};\n\nvar prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    return this[prefix + key] = value;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  forEach: function(f) {\n    for (var property in this) if (property[0] === prefix) f.call(this, property.slice(1), this[property]);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.forEach(function(key, value) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (arguments.length === 1) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f.call(object, o = object[i], i), o);\n  }\n\n  // Convert object to map.\n  else for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = true;\n    return value;\n  },\n  remove: proto.remove,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  forEach: function(f) {\n    for (var property in this) if (property[0] === prefix) f.call(this, property.slice(1));\n  }\n};\n\nfunction set(array) {\n  var set = new Set;\n  if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);\n  return set;\n}\n\nfunction range$1(start, stop, step) {\n  if ((n = arguments.length) < 3) {\n    step = 1;\n    if (n < 2) {\n      stop = start;\n      start = 0;\n    }\n  }\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n};\n\n// R-7 per <http://en.wikipedia.org/wiki/Quantile>\nfunction quantile(values, p) {\n  var H = (values.length - 1) * p + 1,\n      h = Math.floor(H),\n      v = +values[h - 1],\n      e = H - h;\n  return e ? v + e * (values[h] - v) : v;\n};\n\nfunction permute(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n};\n\nfunction pairs$1(array) {\n  var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = [p0 = p1, p1 = array[++i]];\n  return pairs;\n};\n\nfunction nest$1() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) return rollup\n        ? rollup.call(nest, array) : (sortValues\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.forEach(function(key, values) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (depth >= keys.length) return map;\n\n    var array = [],\n        sortKey = sortKeys[depth++];\n\n    map.forEach(function(key, value) {\n      array.push({key: key, values: entries(value, depth)});\n    });\n\n    return sortKey\n        ? array.sort(function(a, b) { return sortKey(a.key, b.key); })\n        : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n};\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n\nfunction merge(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n};\n\nfunction median(array, f) {\n  var numbers = [],\n      n = array.length,\n      a,\n      i = -1;\n\n  if (arguments.length === 1) {\n    while (++i < n) if (!isNaN(a = number(array[i]))) numbers.push(a);\n  }\n\n  else {\n    while (++i < n) if (!isNaN(a = number(f.call(array, array[i], i)))) numbers.push(a);\n  }\n\n  if (numbers.length) return quantile(numbers.sort(ascending), .5);\n};\n\nfunction mean(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1,\n      j = n;\n\n  if (arguments.length === 1) {\n    while (++i < n) if (!isNaN(a = number(array[i]))) s += a; else --j;\n  }\n\n  else {\n    while (++i < n) if (!isNaN(a = number(f.call(array, array[i], i)))) s += a; else --j;\n  }\n\n  if (j) return s / j;\n};\n\nfunction max(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (arguments.length === 1) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n  }\n\n  return a;\n};\n\nfunction keys(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n};\n\nfunction extent(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b,\n      c;\n\n  if (arguments.length === 1) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n    while (++i < n) if ((b = array[i]) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n\n  else {\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = c = b; break; }\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n\n  return [a, c];\n};\n\nfunction entries(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n};\n\nfunction deviation() {\n  var v = variance.apply(this, arguments);\n  return v ? Math.sqrt(v) : v;\n};\n\nfunction descending(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n};\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (arguments.length < 3) lo = 0;\n      if (arguments.length < 4) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (arguments.length < 3) lo = 0;\n      if (arguments.length < 4) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n};\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\nvar bisectLeft = ascendingBisect.left;\n\nexports.ascending = ascending;\nexports.bisect = bisectRight;\nexports.bisectLeft = bisectLeft;\nexports.bisectRight = bisectRight;\nexports.bisector = bisector;\nexports.descending = descending;\nexports.deviation = deviation;\nexports.entries = entries;\nexports.extent = extent;\nexports.keys = keys;\nexports.map = map;\nexports.max = max;\nexports.mean = mean;\nexports.median = median;\nexports.merge = merge;\nexports.min = min;\nexports.nest = nest$1;\nexports.pairs = pairs$1;\nexports.permute = permute;\nexports.quantile = quantile;\nexports.range = range$1;\nexports.set = set;\nexports.shuffle = shuffle;\nexports.sum = sum;\nexports.transpose = transpose$1;\nexports.values = values$1;\nexports.variance = variance;\nexports.zip = zip;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  factory((global.dsv = {}));\n}(this, function (exports) { 'use strict';\n\n  var dsv = function(delimiter) {\n    var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n]\"),\n        delimiterCode = delimiter.charCodeAt(0);\n\n    function parse(text, f) {\n      var o;\n      return parseRows(text, function(row, i) {\n        if (o) return o(row, i - 1);\n        var a = new Function(\"d\", \"return {\" + row.map(function(name, i) {\n          return JSON.stringify(name) + \": d[\" + i + \"]\";\n        }).join(\",\") + \"}\");\n        o = f ? function(row, i) { return f(a(row), i); } : a;\n      });\n    }\n\n    function parseRows(text, f) {\n      var EOL = {}, // sentinel value for end-of-line\n          EOF = {}, // sentinel value for end-of-file\n          rows = [], // output rows\n          N = text.length,\n          I = 0, // current character index\n          n = 0, // the current line number\n          t, // the current token\n          eol; // is the current token followed by EOL?\n\n      function token() {\n        if (I >= N) return EOF; // special case: end of file\n        if (eol) return eol = false, EOL; // special case: end of line\n\n        // special case: quotes\n        var j = I;\n        if (text.charCodeAt(j) === 34) {\n          var i = j;\n          while (i++ < N) {\n            if (text.charCodeAt(i) === 34) {\n              if (text.charCodeAt(i + 1) !== 34) break;\n              ++i;\n            }\n          }\n          I = i + 2;\n          var c = text.charCodeAt(i + 1);\n          if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(i + 2) === 10) ++I;\n          } else if (c === 10) {\n            eol = true;\n          }\n          return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n        }\n\n        // common case: find next delimiter or newline\n        while (I < N) {\n          var c = text.charCodeAt(I++), k = 1;\n          if (c === 10) eol = true; // \\n\n          else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n          else if (c !== delimiterCode) continue;\n          return text.slice(j, I - k);\n        }\n\n        // special case: last token before EOF\n        return text.slice(j);\n      }\n\n      while ((t = token()) !== EOF) {\n        var a = [];\n        while (t !== EOL && t !== EOF) {\n          a.push(t);\n          t = token();\n        }\n        if (f && (a = f(a, n++)) == null) continue;\n        rows.push(a);\n      }\n\n      return rows;\n    }\n\n    function format(rows) {\n      if (Array.isArray(rows[0])) return formatRows(rows); // deprecated; use formatRows\n      var fieldSet = Object.create(null), fields = [];\n\n      // Compute unique fields in order of discovery.\n      rows.forEach(function(row) {\n        for (var field in row) {\n          if (!((field += \"\") in fieldSet)) {\n            fields.push(fieldSet[field] = field);\n          }\n        }\n      });\n\n      return [fields.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n        return fields.map(function(field) {\n          return formatValue(row[field]);\n        }).join(delimiter);\n      })).join(\"\\n\");\n    }\n\n    function formatRows(rows) {\n      return rows.map(formatRow).join(\"\\n\");\n    }\n\n    function formatRow(row) {\n      return row.map(formatValue).join(delimiter);\n    }\n\n    function formatValue(text) {\n      return reFormat.test(text) ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\" : text;\n    }\n\n    return {\n      parse: parse,\n      parseRows: parseRows,\n      format: format,\n      formatRows: formatRows\n    };\n  }\n\n  exports.csv = dsv(\",\");\n  exports.tsv = dsv(\"\\t\");\n\n  exports.dsv = dsv;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-color', ['exports'], factory) :\n  factory((global.d3_color = {}));\n}(this, function (exports) { 'use strict';\n\n  function Color() {};\n\n  var reHex3 = /^#([0-9a-f]{3})$/;\n  var reHex6 = /^#([0-9a-f]{6})$/;\n  var reRgbInteger = /^rgb\\(\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*\\)$/;\n  var reRgbPercent = /^rgb\\(\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n  var reHslPercent = /^hsl\\(\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n  color.prototype = Color.prototype = {\n    displayable: function() {\n      return this.rgb().displayable();\n    },\n    toString: function() {\n      return this.rgb() + \"\";\n    }\n  };\n\n  function color(format) {\n    var m;\n    format = (format + \"\").trim().toLowerCase();\n    return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf))) // #f00\n        : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n        : (m = reRgbInteger.exec(format)) ? rgb(m[1], m[2], m[3]) // rgb(255,0,0)\n        : (m = reRgbPercent.exec(format)) ? rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100) // rgb(100%,0%,0%)\n        : (m = reHslPercent.exec(format)) ? hsl(m[1], m[2] / 100, m[3] / 100) // hsl(120,50%,50%)\n        : named.hasOwnProperty(format) ? rgbn(named[format])\n        : null;\n  };\n\n  function rgbn(n) {\n    return rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff);\n  }\n\n  var named = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  };\n\n  var darker = .7;\n  var brighter = 1 / darker;\n\n  function rgb(r, g, b) {\n    if (arguments.length === 1) {\n      if (!(r instanceof Color)) r = color(r);\n      if (r) {\n        r = r.rgb();\n        b = r.b;\n        g = r.g;\n        r = r.r;\n      } else {\n        r = g = b = NaN;\n      }\n    }\n    return new Rgb(r, g, b);\n  };\n\n  function Rgb(r, g, b) {\n    this.r = +r;\n    this.g = +g;\n    this.b = +b;\n  };\n\n  var prototype = rgb.prototype = Rgb.prototype = new Color;\n\n  prototype.brighter = function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k);\n  };\n\n  prototype.darker = function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k);\n  };\n\n  prototype.rgb = function() {\n    return this;\n  };\n\n  prototype.displayable = function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255);\n  };\n\n  prototype.toString = function() {\n    return format(this.r, this.g, this.b);\n  };\n\n  function format(r, g, b) {\n    return \"#\"\n        + (isNaN(r) ? \"00\" : (r = Math.round(r)) < 16 ? \"0\" + Math.max(0, r).toString(16) : Math.min(255, r).toString(16))\n        + (isNaN(g) ? \"00\" : (g = Math.round(g)) < 16 ? \"0\" + Math.max(0, g).toString(16) : Math.min(255, g).toString(16))\n        + (isNaN(b) ? \"00\" : (b = Math.round(b)) < 16 ? \"0\" + Math.max(0, b).toString(16) : Math.min(255, b).toString(16));\n  };\n\n  function hsl(h, s, l) {\n    if (arguments.length === 1) {\n      if (h instanceof Hsl) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n      } else {\n        if (!(h instanceof Color)) h = color(h);\n        if (h) {\n          if (h instanceof Hsl) return h;\n          h = h.rgb();\n          var r = h.r / 255,\n              g = h.g / 255,\n              b = h.b / 255,\n              min = Math.min(r, g, b),\n              max = Math.max(r, g, b),\n              range = max - min;\n          l = (max + min) / 2;\n          if (range) {\n            s = l < .5 ? range / (max + min) : range / (2 - max - min);\n            if (r === max) h = (g - b) / range + (g < b) * 6;\n            else if (g === max) h = (b - r) / range + 2;\n            else h = (r - g) / range + 4;\n            h *= 60;\n          } else {\n            h = NaN;\n            s = l > 0 && l < 1 ? 0 : h;\n          }\n        } else {\n          h = s = l = NaN;\n        }\n      }\n    }\n    return new Hsl(h, s, l);\n  };\n\n  function Hsl(h, s, l) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n  };\n\n  var prototype$1 = hsl.prototype = Hsl.prototype = new Color;\n\n  prototype$1.brighter = function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k);\n  };\n\n  prototype$1.darker = function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k);\n  };\n\n  prototype$1.rgb = function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < .5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2)\n    );\n  };\n\n  prototype$1.displayable = function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1);\n  };\n\n  /* From FvD 13.37, CSS Color Module Level 3 */\n  function hsl2rgb(h, m1, m2) {\n    return (h < 60 ? m1 + (m2 - m1) * h / 60\n        : h < 180 ? m2\n        : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n        : m1) * 255;\n  }\n\n  var Kn = 18;\n\n  var Xn = 0.950470;\n  var Yn = 1;\n  var Zn = 1.088830;\n  var t0 = 4 / 29;\n  var t1 = 6 / 29;\n  var t2 = 3 * t1 * t1;\n  var t3 = t1 * t1 * t1;\n  function lab(l, a, b) {\n    if (arguments.length === 1) {\n      if (l instanceof Lab) {\n        b = l.b;\n        a = l.a;\n        l = l.l;\n      } else if (l instanceof Hcl) {\n        var h = l.h * deg2rad;\n        b = Math.sin(h) * l.c;\n        a = Math.cos(h) * l.c;\n        l = l.l;\n      } else {\n        if (!(l instanceof Rgb)) l = rgb(l);\n        var r = rgb2xyz(l.r),\n            g = rgb2xyz(l.g),\n            b = rgb2xyz(l.b),\n            x = xyz2lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / Xn),\n            y = xyz2lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / Yn),\n            z = xyz2lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / Zn);\n        b = 200 * (y - z);\n        a = 500 * (x - y);\n        l = 116 * y - 16;\n      }\n    }\n    return new Lab(l, a, b);\n  };\n\n  function Lab(l, a, b) {\n    this.l = +l;\n    this.a = +a;\n    this.b = +b;\n  };\n\n  var prototype$2 = lab.prototype = Lab.prototype = new Color;\n\n  prototype$2.brighter = function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b);\n  };\n\n  prototype$2.darker = function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b);\n  };\n\n  prototype$2.rgb = function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z)\n    );\n  };\n\n  function xyz2lab(t) {\n    return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n  }\n\n  function lab2xyz(t) {\n    return t > t1 ? t * t * t : t2 * (t - t0);\n  }\n\n  function xyz2rgb(x) {\n    return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n  }\n\n  function rgb2xyz(x) {\n    return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n  }\n\n  var deg2rad = Math.PI / 180;\n  var rad2deg = 180 / Math.PI;\n\n  function hcl(h, c, l) {\n    if (arguments.length === 1) {\n      if (h instanceof Hcl) {\n        l = h.l;\n        c = h.c;\n        h = h.h;\n      } else {\n        if (!(h instanceof Lab)) h = lab(h);\n        l = h.l;\n        c = Math.sqrt(h.a * h.a + h.b * h.b);\n        h = Math.atan2(h.b, h.a) * rad2deg;\n        if (h < 0) h += 360;\n      }\n    }\n    return new Hcl(h, c, l);\n  };\n\n  function Hcl(h, c, l) {\n    this.h = +h;\n    this.c = +c;\n    this.l = +l;\n  };\n\n  var prototype$3 = hcl.prototype = Hcl.prototype = new Color;\n\n  prototype$3.brighter = function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k));\n  };\n\n  prototype$3.darker = function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k));\n  };\n\n  prototype$3.rgb = function() {\n    return lab(this).rgb();\n  };\n\n  var A = -0.14861;\n  var B = +1.78277;\n  var C = -0.29227;\n  var D = -0.90649;\n  var E = +1.97294;\n  var ED = E * D;\n  var EB = E * B;\n  var BC_DA = B * C - D * A;\n  function cubehelix(h, s, l) {\n    if (arguments.length === 1) {\n      if (h instanceof Cubehelix) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n      } else {\n        if (!(h instanceof Rgb)) h = rgb(h);\n        var r = h.r / 255, g = h.g / 255, b = h.b / 255;\n        l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB);\n        var bl = b - l, k = (E * (g - l) - C * bl) / D;\n        s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)); // NaN if l=0 or l=1\n        h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n        if (h < 0) h += 360;\n      }\n    }\n    return new Cubehelix(h, s, l);\n  };\n\n  function Cubehelix(h, s, l) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n  };\n\n  var prototype$4 = cubehelix.prototype = Cubehelix.prototype = new Color;\n\n  prototype$4.brighter = function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k);\n  };\n\n  prototype$4.darker = function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k);\n  };\n\n  prototype$4.rgb = function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh))\n    );\n  };\n\n  function deltaHue(h1, h0) {\n    var delta = h1 - h0;\n    return delta > 180 || delta < -180\n        ? delta - 360 * Math.round(delta / 360)\n        : delta;\n  };\n\n  function interpolateCubehelixGamma(gamma) {\n    return function(a, b) {\n      a = cubehelix(a);\n      b = cubehelix(b);\n      var ah = isNaN(a.h) ? b.h : a.h,\n          as = isNaN(a.s) ? b.s : a.s,\n          al = a.l,\n          bh = isNaN(b.h) ? 0 : deltaHue(b.h, ah),\n          bs = isNaN(b.s) ? 0 : b.s - as,\n          bl = b.l - al;\n      return function(t) {\n        a.h = ah + bh * t;\n        a.s = as + bs * t;\n        a.l = al + bl * Math.pow(t, gamma);\n        return a + \"\";\n      };\n    };\n  };\n\n  function interpolateCubehelixGammaLong(gamma) {\n    return function(a, b) {\n      a = cubehelix(a);\n      b = cubehelix(b);\n      var ah = isNaN(a.h) ? b.h : a.h,\n          as = isNaN(a.s) ? b.s : a.s,\n          al = a.l,\n          bh = isNaN(b.h) ? 0 : b.h - ah,\n          bs = isNaN(b.s) ? 0 : b.s - as,\n          bl = b.l - al;\n      return function(t) {\n        a.h = ah + bh * t;\n        a.s = as + bs * t;\n        a.l = al + bl * Math.pow(t, gamma);\n        return a + \"\";\n      };\n    };\n  };\n\n  function interpolateRgb(a, b) {\n    a = rgb(a);\n    b = rgb(b);\n    var ar = a.r,\n        ag = a.g,\n        ab = a.b,\n        br = b.r - ar,\n        bg = b.g - ag,\n        bb = b.b - ab;\n    return function(t) {\n      return format(Math.round(ar + br * t), Math.round(ag + bg * t), Math.round(ab + bb * t));\n    };\n  };\n\n  function interpolateHsl(a, b) {\n    a = hsl(a);\n    b = hsl(b);\n    var ah = isNaN(a.h) ? b.h : a.h,\n        as = isNaN(a.s) ? b.s : a.s,\n        al = a.l,\n        bh = isNaN(b.h) ? 0 : deltaHue(b.h, ah),\n        bs = isNaN(b.s) ? 0 : b.s - as,\n        bl = b.l - al;\n    return function(t) {\n      a.h = ah + bh * t;\n      a.s = as + bs * t;\n      a.l = al + bl * t;\n      return a + \"\";\n    };\n  };\n\n  function interpolateHslLong(a, b) {\n    a = hsl(a);\n    b = hsl(b);\n    var ah = isNaN(a.h) ? b.h : a.h,\n        as = isNaN(a.s) ? b.s : a.s,\n        al = a.l,\n        bh = isNaN(b.h) ? 0 : b.h - ah,\n        bs = isNaN(b.s) ? 0 : b.s - as,\n        bl = b.l - al;\n    return function(t) {\n      a.h = ah + bh * t;\n      a.s = as + bs * t;\n      a.l = al + bl * t;\n      return a + \"\";\n    };\n  };\n\n  function interpolateLab(a, b) {\n    a = lab(a);\n    b = lab(b);\n    var al = a.l,\n        aa = a.a,\n        ab = a.b,\n        bl = b.l - al,\n        ba = b.a - aa,\n        bb = b.b - ab;\n    return function(t) {\n      a.l = al + bl * t;\n      a.a = aa + ba * t;\n      a.b = ab + bb * t;\n      return a + \"\";\n    };\n  };\n\n  function interpolateHcl(a, b) {\n    a = hcl(a);\n    b = hcl(b);\n    var ah = isNaN(a.h) ? b.h : a.h,\n        ac = isNaN(a.c) ? b.c : a.c,\n        al = a.l,\n        bh = isNaN(b.h) ? 0 : deltaHue(b.h, ah),\n        bc = isNaN(b.c) ? 0 : b.c - ac,\n        bl = b.l - al;\n    return function(t) {\n      a.h = ah + bh * t;\n      a.c = ac + bc * t;\n      a.l = al + bl * t;\n      return a + \"\";\n    };\n  };\n\n  function interpolateHclLong(a, b) {\n    a = hcl(a);\n    b = hcl(b);\n    var ah = isNaN(a.h) ? b.h : a.h,\n        ac = isNaN(a.c) ? b.c : a.c,\n        al = a.l,\n        bh = isNaN(b.h) ? 0 : b.h - ah,\n        bc = isNaN(b.c) ? 0 : b.c - ac,\n        bl = b.l - al;\n    return function(t) {\n      a.h = ah + bh * t;\n      a.c = ac + bc * t;\n      a.l = al + bl * t;\n      return a + \"\";\n    };\n  };\n\n  var interpolateCubehelix = interpolateCubehelixGamma(1);\n  var interpolateCubehelixLong = interpolateCubehelixGammaLong(1);\n\n  var version = \"0.2.8\";\n\n  exports.version = version;\n  exports.interpolateCubehelix = interpolateCubehelix;\n  exports.interpolateCubehelixLong = interpolateCubehelixLong;\n  exports.interpolateCubehelixGamma = interpolateCubehelixGamma;\n  exports.interpolateCubehelixGammaLong = interpolateCubehelixGammaLong;\n  exports.color = color;\n  exports.rgb = rgb;\n  exports.hsl = hsl;\n  exports.lab = lab;\n  exports.hcl = hcl;\n  exports.cubehelix = cubehelix;\n  exports.interpolateRgb = interpolateRgb;\n  exports.interpolateHsl = interpolateHsl;\n  exports.interpolateHslLong = interpolateHslLong;\n  exports.interpolateLab = interpolateLab;\n  exports.interpolateHcl = interpolateHcl;\n  exports.interpolateHclLong = interpolateHclLong;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :\n  typeof define === 'function' && define.amd ? define('d3-interpolate', ['exports', 'd3-color'], factory) :\n  factory((global.d3_interpolate = {}),global.d3_color);\n}(this, function (exports,d3Color) { 'use strict';\n\n  // TODO sparse arrays?\n  function interpolateArray(a, b) {\n    var x = [],\n        c = [],\n        na = a.length,\n        nb = b.length,\n        n0 = Math.min(a.length, b.length),\n        i;\n\n    for (i = 0; i < n0; ++i) x.push(interpolate(a[i], b[i]));\n    for (; i < na; ++i) c[i] = a[i];\n    for (; i < nb; ++i) c[i] = b[i];\n\n    return function(t) {\n      for (i = 0; i < n0; ++i) c[i] = x[i](t);\n      return c;\n    };\n  };\n\n  function interpolateNumber(a, b) {\n    return a = +a, b -= a, function(t) {\n      return a + b * t;\n    };\n  };\n\n  function interpolateObject(a, b) {\n    var i = {},\n        c = {},\n        k;\n\n    for (k in a) {\n      if (k in b) {\n        i[k] = interpolate(a[k], b[k]);\n      } else {\n        c[k] = a[k];\n      }\n    }\n\n    for (k in b) {\n      if (!(k in a)) {\n        c[k] = b[k];\n      }\n    }\n\n    return function(t) {\n      for (k in i) c[k] = i[k](t);\n      return c;\n    };\n  };\n\n  var reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\n  var reB = new RegExp(reA.source, \"g\");\n  function interpolate0(b) {\n    return function() {\n      return b;\n    };\n  }\n\n  function interpolate1(b) {\n    return function(t) {\n      return b(t) + \"\";\n    };\n  }\n\n  function interpolateString(a, b) {\n    var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n        am, // current match in a\n        bm, // current match in b\n        bs, // string preceding current number in b, if any\n        i = -1, // index in s\n        s = [], // string constants and placeholders\n        q = []; // number interpolators\n\n    // Coerce inputs to strings.\n    a = a + \"\", b = b + \"\";\n\n    // Interpolate pairs of numbers in a & b.\n    while ((am = reA.exec(a))\n        && (bm = reB.exec(b))) {\n      if ((bs = bm.index) > bi) { // a string precedes the next number in b\n        bs = b.slice(bi, bs);\n        if (s[i]) s[i] += bs; // coalesce with previous string\n        else s[++i] = bs;\n      }\n      if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n        if (s[i]) s[i] += bm; // coalesce with previous string\n        else s[++i] = bm;\n      } else { // interpolate non-matching numbers\n        s[++i] = null;\n        q.push({i: i, x: interpolateNumber(am, bm)});\n      }\n      bi = reB.lastIndex;\n    }\n\n    // Add remains of b.\n    if (bi < b.length) {\n      bs = b.slice(bi);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    // Special optimization for only a single match.\n    // Otherwise, interpolate each of the numbers and rejoin the string.\n    return s.length < 2 ? (q[0]\n        ? interpolate1(q[0].x)\n        : interpolate0(b))\n        : (b = q.length, function(t) {\n            for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n            return s.join(\"\");\n          });\n  };\n\n  var interpolators = [\n    function(a, b) {\n      var t = typeof b, c;\n      return (t === \"string\" ? ((c = d3Color.color(b)) ? (b = c, d3Color.interpolateRgb) : interpolateString)\n          : b instanceof d3Color.color ? d3Color.interpolateRgb\n          : Array.isArray(b) ? interpolateArray\n          : t === \"object\" && isNaN(b) ? interpolateObject\n          : interpolateNumber)(a, b);\n    }\n  ];\n\n  function interpolate(a, b) {\n    var i = interpolators.length, f;\n    while (--i >= 0 && !(f = interpolators[i](a, b)));\n    return f;\n  };\n\n  function interpolateRound(a, b) {\n    return a = +a, b -= a, function(t) {\n      return Math.round(a + b * t);\n    };\n  };\n\n  var rad2deg = 180 / Math.PI;\n  var identity = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0};\n  var g;\n  // Compute x-scale and normalize the first row.\n  // Compute shear and make second row orthogonal to first.\n  // Compute y-scale and normalize the second row.\n  // Finally, compute the rotation.\n  function Transform(string) {\n    if (!g) g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    if (string) g.setAttribute(\"transform\", string), t = g.transform.baseVal.consolidate();\n\n    var t,\n        m = t ? t.matrix : identity,\n        r0 = [m.a, m.b],\n        r1 = [m.c, m.d],\n        kx = normalize(r0),\n        kz = dot(r0, r1),\n        ky = normalize(combine(r1, r0, -kz)) || 0;\n\n    if (r0[0] * r1[1] < r1[0] * r0[1]) {\n      r0[0] *= -1;\n      r0[1] *= -1;\n      kx *= -1;\n      kz *= -1;\n    }\n\n    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * rad2deg;\n    this.translate = [m.e, m.f];\n    this.scale = [kx, ky];\n    this.skew = ky ? Math.atan2(kz, ky) * rad2deg : 0;\n  }\n\n  function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n  }\n\n  function normalize(a) {\n    var k = Math.sqrt(dot(a, a));\n    if (k) a[0] /= k, a[1] /= k;\n    return k;\n  }\n\n  function combine(a, b, k) {\n    a[0] += k * b[0];\n    a[1] += k * b[1];\n    return a;\n  }\n\n  function pop(s) {\n    return s.length ? s.pop() + \",\" : \"\";\n  }\n\n  function interpolateTranslate(ta, tb, s, q) {\n    if (ta[0] !== tb[0] || ta[1] !== tb[1]) {\n      var i = s.push(\"translate(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: interpolateNumber(ta[0], tb[0])}, {i: i - 2, x: interpolateNumber(ta[1], tb[1])});\n    } else if (tb[0] || tb[1]) {\n      s.push(\"translate(\" + tb + \")\");\n    }\n  }\n\n  function interpolateRotate(ra, rb, s, q) {\n    if (ra !== rb) {\n      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, \")\") - 2, x: interpolateNumber(ra, rb)});\n    } else if (rb) {\n      s.push(pop(s) + \"rotate(\" + rb + \")\");\n    }\n  }\n\n  function interpolateSkew(wa, wb, s, q) {\n    if (wa !== wb) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, \")\") - 2, x: interpolateNumber(wa, wb)});\n    } else if (wb) {\n      s.push(pop(s) + \"skewX(\" + wb + \")\");\n    }\n  }\n\n  function interpolateScale(ka, kb, s, q) {\n    if (ka[0] !== kb[0] || ka[1] !== kb[1]) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: interpolateNumber(ka[0], kb[0])}, {i: i - 2, x: interpolateNumber(ka[1], kb[1])});\n    } else if (kb[0] !== 1 || kb[1] !== 1) {\n      s.push(pop(s) + \"scale(\" + kb + \")\");\n    }\n  }\n\n  function interpolateTransform(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = new Transform(a), b = new Transform(b);\n    interpolateTranslate(a.translate, b.translate, s, q);\n    interpolateRotate(a.rotate, b.rotate, s, q);\n    interpolateSkew(a.skew, b.skew, s, q);\n    interpolateScale(a.scale, b.scale, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n\n  var rho = Math.SQRT2;\n  var rho2 = 2;\n  var rho4 = 4;\n  var epsilon2 = 1e-12;\n  function cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n  }\n\n  function sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n  }\n\n  function tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n  }\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function interpolateZoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000;\n\n    return i;\n  };\n\n  var version = \"0.1.4\";\n\n  exports.version = version;\n  exports.interpolate = interpolate;\n  exports.interpolateArray = interpolateArray;\n  exports.interpolateNumber = interpolateNumber;\n  exports.interpolateObject = interpolateObject;\n  exports.interpolateRound = interpolateRound;\n  exports.interpolateString = interpolateString;\n  exports.interpolateTransform = interpolateTransform;\n  exports.interpolateZoom = interpolateZoom;\n  exports.interpolators = interpolators;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\n  typeof define === 'function' && define.amd ? define('d3-time-format', ['exports', 'd3-time'], factory) :\n  factory((global.d3_time_format = {}),global.d3_time);\n}(this, function (exports,d3Time) { 'use strict';\n\n  var zhCn = {\n    dateTime: \"%a %b %e %X %Y\",\n    date: \"%Y/%-m/%-d\",\n    time: \"%H:%M:%S\",\n    periods: [\"上午\", \"下午\"],\n    days: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\n    shortDays: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\n    months: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\n    shortMonths: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"]\n  };\n\n  var svSe = {\n    dateTime: \"%A den %d %B %Y %X\",\n    date: \"%Y-%m-%d\",\n    time: \"%H:%M:%S\",\n    periods: [\"fm\", \"em\"],\n    days: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"],\n    shortDays: [\"Sön\", \"Mån\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lör\"],\n    months: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"]\n  };\n\n  var ruRu = {\n    dateTime: \"%A, %e %B %Y г. %X\",\n    date: \"%d.%m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"воскресенье\", \"понедельник\", \"вторник\", \"среда\", \"четверг\", \"пятница\", \"суббота\"],\n    shortDays: [\"вс\", \"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\"],\n    months: [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"],\n    shortMonths: [\"янв\", \"фев\", \"мар\", \"апр\", \"май\", \"июн\", \"июл\", \"авг\", \"сен\", \"окт\", \"ноя\", \"дек\"]\n  };\n\n  var ptBr = {\n    dateTime: \"%A, %e de %B de %Y. %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"],\n    shortDays: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n    months: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n    shortMonths: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"]\n  };\n\n  var plPl = {\n    dateTime: \"%A, %e %B %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"], // unused\n    days: [\"Niedziela\", \"Poniedziałek\", \"Wtorek\", \"Środa\", \"Czwartek\", \"Piątek\", \"Sobota\"],\n    shortDays: [\"Niedz.\", \"Pon.\", \"Wt.\", \"Śr.\", \"Czw.\", \"Pt.\", \"Sob.\"],\n    months: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\", \"Grudzień\"],\n    shortMonths: [\"Stycz.\", \"Luty\", \"Marz.\", \"Kwie.\", \"Maj\", \"Czerw.\", \"Lipc.\", \"Sierp.\", \"Wrz.\", \"Paźdz.\", \"Listop.\", \"Grudz.\"]/* In Polish language abbraviated months are not commonly used so there is a dispute about the proper abbraviations. */\n  };\n\n  var nlNl = {\n    dateTime: \"%a %e %B %Y %T\",\n    date: \"%d-%m-%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"], // unused\n    days: [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n    shortDays: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n    months: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n    shortMonths: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"]\n  };\n\n  var mkMk = {\n    dateTime: \"%A, %e %B %Y г. %X\",\n    date: \"%d.%m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"недела\", \"понеделник\", \"вторник\", \"среда\", \"четврток\", \"петок\", \"сабота\"],\n    shortDays: [\"нед\", \"пон\", \"вто\", \"сре\", \"чет\", \"пет\", \"саб\"],\n    months: [\"јануари\", \"февруари\", \"март\", \"април\", \"мај\", \"јуни\", \"јули\", \"август\", \"септември\", \"октомври\", \"ноември\", \"декември\"],\n    shortMonths: [\"јан\", \"фев\", \"мар\", \"апр\", \"мај\", \"јун\", \"јул\", \"авг\", \"сеп\", \"окт\", \"ное\", \"дек\"]\n  };\n\n  var koKr = {\n    dateTime: \"%Y/%m/%d %a %X\",\n    date: \"%Y/%m/%d\",\n    time: \"%H:%M:%S\",\n    periods: [\"오전\", \"오후\"],\n    days: [\"일요일\", \"월요일\", \"화요일\", \"수요일\", \"목요일\", \"금요일\", \"토요일\"],\n    shortDays: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n    months: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n    shortMonths: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"]\n  };\n\n  var jaJp = {\n    dateTime: \"%Y %b %e %a %X\",\n    date: \"%Y/%m/%d\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"],\n    shortDays: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    months: [\"睦月\", \"如月\", \"弥生\", \"卯月\", \"皐月\", \"水無月\", \"文月\", \"葉月\", \"長月\", \"神無月\", \"霜月\", \"師走\"],\n    shortMonths: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"]\n  };\n\n  var itIt = {\n    dateTime: \"%A %e %B %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"], // unused\n    days: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\n    shortDays: [\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"],\n    months: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\n    shortMonths: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"]\n  };\n\n  var huHu = {\n    dateTime: \"%Y. %B %-e., %A %X\",\n    date: \"%Y. %m. %d.\",\n    time: \"%H:%M:%S\",\n    periods: [\"de.\", \"du.\"], // unused\n    days: [\"vasárnap\", \"hétfő\", \"kedd\", \"szerda\", \"csütörtök\", \"péntek\", \"szombat\"],\n    shortDays: [\"V\", \"H\", \"K\", \"Sze\", \"Cs\", \"P\", \"Szo\"],\n    months: [\"január\", \"február\", \"március\", \"április\", \"május\", \"június\", \"július\", \"augusztus\", \"szeptember\", \"október\", \"november\", \"december\"],\n    shortMonths: [\"jan.\", \"feb.\", \"már.\", \"ápr.\", \"máj.\", \"jún.\", \"júl.\", \"aug.\", \"szept.\", \"okt.\", \"nov.\", \"dec.\"]\n  };\n\n  var heIl = {\n    dateTime: \"%A, %e ב%B %Y %X\",\n    date: \"%d.%m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"],\n    shortDays: [\"א׳\", \"ב׳\", \"ג׳\", \"ד׳\", \"ה׳\", \"ו׳\", \"ש׳\"],\n    months: [\"ינואר\", \"פברואר\", \"מרץ\", \"אפריל\", \"מאי\", \"יוני\", \"יולי\", \"אוגוסט\", \"ספטמבר\", \"אוקטובר\", \"נובמבר\", \"דצמבר\"],\n    shortMonths: [\"ינו׳\", \"פבר׳\", \"מרץ\", \"אפר׳\", \"מאי\", \"יוני\", \"יולי\", \"אוג׳\", \"ספט׳\", \"אוק׳\", \"נוב׳\", \"דצמ׳\"]\n  };\n\n  var frFr = {\n    dateTime: \"%A, le %e %B %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"], // unused\n    days: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n    shortDays: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n    months: [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"],\n    shortMonths: [\"janv.\", \"févr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\"]\n  };\n\n  var frCa = {\n    dateTime: \"%a %e %b %Y %X\",\n    date: \"%Y-%m-%d\",\n    time: \"%H:%M:%S\",\n    periods: [\"\", \"\"],\n    days: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n    shortDays: [\"dim\", \"lun\", \"mar\", \"mer\", \"jeu\", \"ven\", \"sam\"],\n    months: [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"],\n    shortMonths: [\"jan\", \"fév\", \"mar\", \"avr\", \"mai\", \"jui\", \"jul\", \"aoû\", \"sep\", \"oct\", \"nov\", \"déc\"]\n  };\n\n  var fiFi = {\n    dateTime: \"%A, %-d. %Bta %Y klo %X\",\n    date: \"%-d.%-m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"a.m.\", \"p.m.\"],\n    days: [\"sunnuntai\", \"maanantai\", \"tiistai\", \"keskiviikko\", \"torstai\", \"perjantai\", \"lauantai\"],\n    shortDays: [\"Su\", \"Ma\", \"Ti\", \"Ke\", \"To\", \"Pe\", \"La\"],\n    months: [\"tammikuu\", \"helmikuu\", \"maaliskuu\", \"huhtikuu\", \"toukokuu\", \"kesäkuu\", \"heinäkuu\", \"elokuu\", \"syyskuu\", \"lokakuu\", \"marraskuu\", \"joulukuu\"],\n    shortMonths: [\"Tammi\", \"Helmi\", \"Maalis\", \"Huhti\", \"Touko\", \"Kesä\", \"Heinä\", \"Elo\", \"Syys\", \"Loka\", \"Marras\", \"Joulu\"]\n  };\n\n  var esEs = {\n    dateTime: \"%A, %e de %B de %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"domingo\", \"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\"],\n    shortDays: [\"dom\", \"lun\", \"mar\", \"mié\", \"jue\", \"vie\", \"sáb\"],\n    months: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n    shortMonths: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"]\n  };\n\n  var locale$1 = {\n    dateTime: \"%a %b %e %X %Y\",\n    date: \"%m/%d/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  };\n\n  var enGb = {\n    dateTime: \"%a %e %b %X %Y\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  };\n\n  var enCa = {\n    dateTime: \"%a %b %e %X %Y\",\n    date: \"%Y-%m-%d\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  };\n\n  var deDe = {\n    dateTime: \"%A, der %e. %B %Y, %X\",\n    date: \"%d.%m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"], // unused\n    days: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n    shortDays: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    months: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"]\n  };\n\n  var deCh = {\n    dateTime: \"%A, der %e. %B %Y, %X\",\n    date: \"%d.%m.%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"], // unused\n    days: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n    shortDays: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    months: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"]\n  };\n\n  var caEs = {\n    dateTime: \"%A, %e de %B de %Y, %X\",\n    date: \"%d/%m/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"diumenge\", \"dilluns\", \"dimarts\", \"dimecres\", \"dijous\", \"divendres\", \"dissabte\"],\n    shortDays: [\"dg.\", \"dl.\", \"dt.\", \"dc.\", \"dj.\", \"dv.\", \"ds.\"],\n    months: [\"gener\", \"febrer\", \"març\", \"abril\", \"maig\", \"juny\", \"juliol\", \"agost\", \"setembre\", \"octubre\", \"novembre\", \"desembre\"],\n    shortMonths: [\"gen.\", \"febr.\", \"març\", \"abr.\", \"maig\", \"juny\", \"jul.\", \"ag.\", \"set.\", \"oct.\", \"nov.\", \"des.\"]\n  };\n\n  function localDate(d) {\n    if (0 <= d.y && d.y < 100) {\n      var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n      date.setFullYear(d.y);\n      return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n  }\n\n  function utcDate(d) {\n    if (0 <= d.y && d.y < 100) {\n      var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n      date.setUTCFullYear(d.y);\n      return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n  }\n\n  function newYear(y) {\n    return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n  }\n\n  function locale(locale) {\n    var locale_dateTime = locale.dateTime,\n        locale_date = locale.date,\n        locale_time = locale.time,\n        locale_periods = locale.periods,\n        locale_weekdays = locale.days,\n        locale_shortWeekdays = locale.shortDays,\n        locale_months = locale.months,\n        locale_shortMonths = locale.shortMonths;\n\n    var periodLookup = formatLookup(locale_periods),\n        weekdayRe = formatRe(locale_weekdays),\n        weekdayLookup = formatLookup(locale_weekdays),\n        shortWeekdayRe = formatRe(locale_shortWeekdays),\n        shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n        monthRe = formatRe(locale_months),\n        monthLookup = formatLookup(locale_months),\n        shortMonthRe = formatRe(locale_shortMonths),\n        shortMonthLookup = formatLookup(locale_shortMonths);\n\n    var formats = {\n      \"a\": formatShortWeekday,\n      \"A\": formatWeekday,\n      \"b\": formatShortMonth,\n      \"B\": formatMonth,\n      \"c\": null,\n      \"d\": formatDayOfMonth,\n      \"e\": formatDayOfMonth,\n      \"H\": formatHour24,\n      \"I\": formatHour12,\n      \"j\": formatDayOfYear,\n      \"L\": formatMilliseconds,\n      \"m\": formatMonthNumber,\n      \"M\": formatMinutes,\n      \"p\": formatPeriod,\n      \"S\": formatSeconds,\n      \"U\": formatWeekNumberSunday,\n      \"w\": formatWeekdayNumber,\n      \"W\": formatWeekNumberMonday,\n      \"x\": null,\n      \"X\": null,\n      \"y\": formatYear,\n      \"Y\": formatFullYear,\n      \"Z\": formatZone,\n      \"%\": formatLiteralPercent\n    };\n\n    var utcFormats = {\n      \"a\": formatUTCShortWeekday,\n      \"A\": formatUTCWeekday,\n      \"b\": formatUTCShortMonth,\n      \"B\": formatUTCMonth,\n      \"c\": null,\n      \"d\": formatUTCDayOfMonth,\n      \"e\": formatUTCDayOfMonth,\n      \"H\": formatUTCHour24,\n      \"I\": formatUTCHour12,\n      \"j\": formatUTCDayOfYear,\n      \"L\": formatUTCMilliseconds,\n      \"m\": formatUTCMonthNumber,\n      \"M\": formatUTCMinutes,\n      \"p\": formatUTCPeriod,\n      \"S\": formatUTCSeconds,\n      \"U\": formatUTCWeekNumberSunday,\n      \"w\": formatUTCWeekdayNumber,\n      \"W\": formatUTCWeekNumberMonday,\n      \"x\": null,\n      \"X\": null,\n      \"y\": formatUTCYear,\n      \"Y\": formatUTCFullYear,\n      \"Z\": formatUTCZone,\n      \"%\": formatLiteralPercent\n    };\n\n    var parses = {\n      \"a\": parseShortWeekday,\n      \"A\": parseWeekday,\n      \"b\": parseShortMonth,\n      \"B\": parseMonth,\n      \"c\": parseLocaleDateTime,\n      \"d\": parseDayOfMonth,\n      \"e\": parseDayOfMonth,\n      \"H\": parseHour24,\n      \"I\": parseHour24,\n      \"j\": parseDayOfYear,\n      \"L\": parseMilliseconds,\n      \"m\": parseMonthNumber,\n      \"M\": parseMinutes,\n      \"p\": parsePeriod,\n      \"S\": parseSeconds,\n      \"U\": parseWeekNumberSunday,\n      \"w\": parseWeekdayNumber,\n      \"W\": parseWeekNumberMonday,\n      \"x\": parseLocaleDate,\n      \"X\": parseLocaleTime,\n      \"y\": parseYear,\n      \"Y\": parseFullYear,\n      \"Z\": parseZone,\n      \"%\": parseLiteralPercent\n    };\n\n    // These recursive directive definitions must be deferred.\n    formats.x = newFormat(locale_date, formats);\n    formats.X = newFormat(locale_time, formats);\n    formats.c = newFormat(locale_dateTime, formats);\n    utcFormats.x = newFormat(locale_date, utcFormats);\n    utcFormats.X = newFormat(locale_time, utcFormats);\n    utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n    function newFormat(specifier, formats) {\n      return function(date) {\n        var string = [],\n            i = -1,\n            j = 0,\n            n = specifier.length,\n            c,\n            pad,\n            format;\n\n        while (++i < n) {\n          if (specifier.charCodeAt(i) === 37) {\n            string.push(specifier.slice(j, i));\n            if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n            if (format = formats[c]) c = format(date, pad == null ? (c === \"e\" ? \" \" : \"0\") : pad);\n            string.push(c);\n            j = i + 1;\n          }\n        }\n\n        string.push(specifier.slice(j, i));\n        return string.join(\"\");\n      };\n    }\n\n    function newParse(specifier, newDate) {\n      return function(string) {\n        var d = newYear(1900),\n            i = parseSpecifier(d, specifier, string, 0);\n        if (i != string.length) return null;\n\n        // The am-pm flag is 0 for AM, and 1 for PM.\n        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n        // If a time zone is specified, all fields are interpreted as UTC and then\n        // offset according to the specified time zone.\n        if (\"Z\" in d) {\n          if (\"w\" in d && (\"W\" in d || \"U\" in d)) {\n            var day = utcDate(newYear(d.y)).getUTCDay();\n            if (\"W\" in d) d.U = d.W, d.w = (d.w + 6) % 7, --day;\n            d.m = 0;\n            d.d = d.w + d.U * 7 - (day + 6) % 7;\n          }\n          d.H += d.Z / 100 | 0;\n          d.M += d.Z % 100;\n          return utcDate(d);\n        }\n\n        // Otherwise, all fields are in local time.\n        if (\"w\" in d && (\"W\" in d || \"U\" in d)) {\n          var day = newDate(newYear(d.y)).getDay();\n          if (\"W\" in d) d.U = d.W, d.w = (d.w + 6) % 7, --day;\n          d.m = 0;\n          d.d = d.w + d.U * 7 - (day + 6) % 7;\n        }\n        return newDate(d);\n      };\n    }\n\n    function parseSpecifier(d, specifier, string, j) {\n      var i = 0,\n          n = specifier.length,\n          m = string.length,\n          c,\n          parse;\n\n      while (i < n) {\n        if (j >= m) return -1;\n        c = specifier.charCodeAt(i++);\n        if (c === 37) {\n          c = specifier.charAt(i++);\n          parse = parses[c in pads ? specifier.charAt(i++) : c];\n          if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n        } else if (c != string.charCodeAt(j++)) {\n          return -1;\n        }\n      }\n\n      return j;\n    }\n\n    function parseShortWeekday(d, string, i) {\n      var n = shortWeekdayRe.exec(string.slice(i));\n      return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseWeekday(d, string, i) {\n      var n = weekdayRe.exec(string.slice(i));\n      return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseShortMonth(d, string, i) {\n      var n = shortMonthRe.exec(string.slice(i));\n      return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseMonth(d, string, i) {\n      var n = monthRe.exec(string.slice(i));\n      return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseLocaleDateTime(d, string, i) {\n      return parseSpecifier(d, locale_dateTime, string, i);\n    }\n\n    function parseLocaleDate(d, string, i) {\n      return parseSpecifier(d, locale_date, string, i);\n    }\n\n    function parseLocaleTime(d, string, i) {\n      return parseSpecifier(d, locale_time, string, i);\n    }\n\n    function parsePeriod(d, string, i) {\n      var n = periodLookup[string.slice(i, i += 2).toLowerCase()];\n      return n == null ? -1 : (d.p = n, i);\n    }\n\n    function formatShortWeekday(d) {\n      return locale_shortWeekdays[d.getDay()];\n    }\n\n    function formatWeekday(d) {\n      return locale_weekdays[d.getDay()];\n    }\n\n    function formatShortMonth(d) {\n      return locale_shortMonths[d.getMonth()];\n    }\n\n    function formatMonth(d) {\n      return locale_months[d.getMonth()];\n    }\n\n    function formatPeriod(d) {\n      return locale_periods[+(d.getHours() >= 12)];\n    }\n\n    function formatUTCShortWeekday(d) {\n      return locale_shortWeekdays[d.getUTCDay()];\n    }\n\n    function formatUTCWeekday(d) {\n      return locale_weekdays[d.getUTCDay()];\n    }\n\n    function formatUTCShortMonth(d) {\n      return locale_shortMonths[d.getUTCMonth()];\n    }\n\n    function formatUTCMonth(d) {\n      return locale_months[d.getUTCMonth()];\n    }\n\n    function formatUTCPeriod(d) {\n      return locale_periods[+(d.getUTCHours() >= 12)];\n    }\n\n    return {\n      format: function(specifier) {\n        var f = newFormat(specifier += \"\", formats);\n        f.parse = newParse(specifier, localDate);\n        f.toString = function() { return specifier; };\n        return f;\n      },\n      utcFormat: function(specifier) {\n        var f = newFormat(specifier += \"\", utcFormats);\n        f.parse = newParse(specifier, utcDate);\n        f.toString = function() { return specifier; };\n        return f;\n      }\n    };\n  };\n\n  var pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\n  var numberRe = /^\\s*\\d+/;\n  var percentRe = /^%/;\n  var requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n  function pad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\",\n        string = (sign ? -value : value) + \"\",\n        length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n\n  function requote(s) {\n    return s.replace(requoteRe, \"\\\\$&\");\n  }\n\n  function formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n  }\n\n  function formatLookup(names) {\n    var map = {}, i = -1, n = names.length;\n    while (++i < n) map[names[i].toLowerCase()] = i;\n    return map;\n  }\n\n  function parseWeekdayNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.w = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseWeekNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.U = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseWeekNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.W = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseFullYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 4));\n    return n ? (d.y = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n  }\n\n  function parseZone(d, string, i) {\n    var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n    if (n) {\n      d.Z = n[1] ? 0              // 'Z' for UTC\n          : n[3] ? -(n[2] + n[3]) // sign differs from getTimezoneOffset!\n                 : -n[2] * 100;\n      return i + n[0].length;\n    }\n    return -1;\n  }\n\n  function parseMonthNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n  }\n\n  function parseDayOfMonth(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.d = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseDayOfYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseHour24(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.H = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseMinutes(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.M = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.S = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseMilliseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.L = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseLiteralPercent(d, string, i) {\n    var n = percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n  }\n\n  function formatDayOfMonth(d, p) {\n    return pad(d.getDate(), p, 2);\n  }\n\n  function formatHour24(d, p) {\n    return pad(d.getHours(), p, 2);\n  }\n\n  function formatHour12(d, p) {\n    return pad(d.getHours() % 12 || 12, p, 2);\n  }\n\n  function formatDayOfYear(d, p) {\n    return pad(1 + d3Time.day.count(d3Time.year(d), d), p, 3);\n  }\n\n  function formatMilliseconds(d, p) {\n    return pad(d.getMilliseconds(), p, 3);\n  }\n\n  function formatMonthNumber(d, p) {\n    return pad(d.getMonth() + 1, p, 2);\n  }\n\n  function formatMinutes(d, p) {\n    return pad(d.getMinutes(), p, 2);\n  }\n\n  function formatSeconds(d, p) {\n    return pad(d.getSeconds(), p, 2);\n  }\n\n  function formatWeekNumberSunday(d, p) {\n    return pad(d3Time.sunday.count(d3Time.year(d), d), p, 2);\n  }\n\n  function formatWeekdayNumber(d) {\n    return d.getDay();\n  }\n\n  function formatWeekNumberMonday(d, p) {\n    return pad(d3Time.monday.count(d3Time.year(d), d), p, 2);\n  }\n\n  function formatYear(d, p) {\n    return pad(d.getFullYear() % 100, p, 2);\n  }\n\n  function formatFullYear(d, p) {\n    return pad(d.getFullYear() % 10000, p, 4);\n  }\n\n  function formatZone(d) {\n    var z = d.getTimezoneOffset();\n    return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n        + pad(z / 60 | 0, \"0\", 2)\n        + pad(z % 60, \"0\", 2);\n  }\n\n  function formatUTCDayOfMonth(d, p) {\n    return pad(d.getUTCDate(), p, 2);\n  }\n\n  function formatUTCHour24(d, p) {\n    return pad(d.getUTCHours(), p, 2);\n  }\n\n  function formatUTCHour12(d, p) {\n    return pad(d.getUTCHours() % 12 || 12, p, 2);\n  }\n\n  function formatUTCDayOfYear(d, p) {\n    return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n  }\n\n  function formatUTCMilliseconds(d, p) {\n    return pad(d.getUTCMilliseconds(), p, 3);\n  }\n\n  function formatUTCMonthNumber(d, p) {\n    return pad(d.getUTCMonth() + 1, p, 2);\n  }\n\n  function formatUTCMinutes(d, p) {\n    return pad(d.getUTCMinutes(), p, 2);\n  }\n\n  function formatUTCSeconds(d, p) {\n    return pad(d.getUTCSeconds(), p, 2);\n  }\n\n  function formatUTCWeekNumberSunday(d, p) {\n    return pad(d3Time.utcSunday.count(d3Time.utcYear(d), d), p, 2);\n  }\n\n  function formatUTCWeekdayNumber(d) {\n    return d.getUTCDay();\n  }\n\n  function formatUTCWeekNumberMonday(d, p) {\n    return pad(d3Time.utcMonday.count(d3Time.utcYear(d), d), p, 2);\n  }\n\n  function formatUTCYear(d, p) {\n    return pad(d.getUTCFullYear() % 100, p, 2);\n  }\n\n  function formatUTCFullYear(d, p) {\n    return pad(d.getUTCFullYear() % 10000, p, 4);\n  }\n\n  function formatUTCZone() {\n    return \"+0000\";\n  }\n\n  function formatLiteralPercent() {\n    return \"%\";\n  }\n\n  var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\n  function formatIsoNative(date) {\n    return date.toISOString();\n  }\n\n  formatIsoNative.parse = function(string) {\n    var date = new Date(string);\n    return isNaN(date) ? null : date;\n  };\n\n  formatIsoNative.toString = function() {\n    return isoSpecifier;\n  };\n\n  var formatIso = Date.prototype.toISOString && +new Date(\"2000-01-01T00:00:00.000Z\")\n      ? formatIsoNative\n      : locale$1.utcFormat(isoSpecifier);\n\n  var localeDefinitions = {\n    \"ca-ES\": caEs,\n    \"de-CH\": deCh,\n    \"de-DE\": deDe,\n    \"en-CA\": enCa,\n    \"en-GB\": enGb,\n    \"en-US\": locale$1,\n    \"es-ES\": esEs,\n    \"fi-FI\": fiFi,\n    \"fr-CA\": frCa,\n    \"fr-FR\": frFr,\n    \"he-IL\": heIl,\n    \"hu-HU\": huHu,\n    \"it-IT\": itIt,\n    \"ja-JP\": jaJp,\n    \"ko-KR\": koKr,\n    \"mk-MK\": mkMk,\n    \"nl-NL\": nlNl,\n    \"pl-PL\": plPl,\n    \"pt-BR\": ptBr,\n    \"ru-RU\": ruRu,\n    \"sv-SE\": svSe,\n    \"zh-CN\": zhCn\n  };\n\n  var defaultLocale = locale(locale$1);\n  var format = defaultLocale.format;\n  var utcFormat = defaultLocale.utcFormat;\n\n  function localeFormat(definition) {\n    if (typeof definition === \"string\") {\n      if (!localeDefinitions.hasOwnProperty(definition)) return null;\n      definition = localeDefinitions[definition];\n    }\n    return locale(definition);\n  };\n\n  var version = \"0.1.5\";\n\n  exports.version = version;\n  exports.format = format;\n  exports.utcFormat = utcFormat;\n  exports.localeFormat = localeFormat;\n  exports.isoFormat = formatIso;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-dispatch', ['exports'], factory) :\n  factory((global.d3_dispatch = {}));\n}(this, function (exports) { 'use strict';\n\n  function dispatch() {\n    return new Dispatch(arguments);\n  }\n\n  function Dispatch(types) {\n    var i = -1,\n        n = types.length,\n        callbacksByType = {},\n        callbackByName = {},\n        type,\n        that = this;\n\n    that.on = function(type, callback) {\n      type = parseType(type);\n\n      // Return the current callback, if any.\n      if (arguments.length < 2) {\n        return (callback = callbackByName[type.name]) && callback.value;\n      }\n\n      // If a type was specified…\n      if (type.type) {\n        var callbacks = callbacksByType[type.type],\n            callback0 = callbackByName[type.name],\n            i;\n\n        // Remove the current callback, if any, using copy-on-remove.\n        if (callback0) {\n          callback0.value = null;\n          i = callbacks.indexOf(callback0);\n          callbacksByType[type.type] = callbacks = callbacks.slice(0, i).concat(callbacks.slice(i + 1));\n          delete callbackByName[type.name];\n        }\n\n        // Add the new callback, if any.\n        if (callback) {\n          callback = {value: callback};\n          callbackByName[type.name] = callback;\n          callbacks.push(callback);\n        }\n      }\n\n      // Otherwise, if a null callback was specified, remove all callbacks with the given name.\n      else if (callback == null) {\n        for (var otherType in callbacksByType) {\n          if (callback = callbackByName[otherType + type.name]) {\n            callback.value = null;\n            var callbacks = callbacksByType[otherType], i = callbacks.indexOf(callback);\n            callbacksByType[otherType] = callbacks.slice(0, i).concat(callbacks.slice(i + 1));\n            delete callbackByName[callback.name];\n          }\n        }\n      }\n\n      return that;\n    };\n\n    while (++i < n) {\n      type = types[i] + \"\";\n      if (!type || (type in that)) throw new Error(\"illegal or duplicate type: \" + type);\n      callbacksByType[type] = [];\n      that[type] = applier(type);\n    }\n\n    function parseType(type) {\n      var i = (type += \"\").indexOf(\".\"), name = type;\n      if (i >= 0) type = type.slice(0, i); else name += \".\";\n      if (type && !callbacksByType.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      return {type: type, name: name};\n    }\n\n    function applier(type) {\n      return function() {\n        var callbacks = callbacksByType[type], // Defensive reference; copy-on-remove.\n            callback,\n            callbackValue,\n            i = -1,\n            n = callbacks.length;\n\n        while (++i < n) {\n          if (callbackValue = (callback = callbacks[i]).value) {\n            callbackValue.apply(this, arguments);\n          }\n        }\n\n        return that;\n      };\n    }\n  }\n\n  dispatch.prototype = Dispatch.prototype;\n\n  var version = \"0.2.5\";\n\n  exports.version = version;\n  exports.dispatch = dispatch;\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-array', ['exports'], factory) :\n  factory((global.d3_array = {}));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  };\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  };\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n\n  function number$1(x) {\n    return x === null ? NaN : +x;\n  };\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (arguments.length === 1) {\n      while (++i < n) {\n        if (!isNaN(a = number$1(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number$1(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  };\n\n  function deviation() {\n    var v = variance.apply(this, arguments);\n    return v ? Math.sqrt(v) : v;\n  };\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  };\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  };\n\n  function identity(x) {\n    return x;\n  };\n\n  function range(start, stop, step) {\n    if ((n = arguments.length) < 3) {\n      step = 1;\n      if (n < 2) {\n        stop = start;\n        start = 0;\n      }\n    }\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  };\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  };\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  };\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  };\n\n  function number(x) {\n    return +x;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      // Coerce values to numbers.\n      for (i = 0; i < n; ++i) {\n        values[i] = +value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = +xz[0],\n          x1 = +xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, +tz);\n\n      // Coerce thresholds to numbers, ignoring any outside the domain.\n      var m = tz.length;\n      for (i = 0; i < m; ++i) tz[i] = +tz[i];\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      if (!arguments.length) return threshold;\n      threshold = typeof _ === \"function\" ? _\n          : Array.isArray(_) ? constant(Array.prototype.map.call(_, number))\n          : constant(+_);\n      return histogram;\n    };\n\n    return histogram;\n  };\n\n  function quantile(array, p, f) {\n    if (arguments.length < 3) f = number$1;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  };\n\n  function freedmanDiaconis(values, min, max) {\n    values.sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  };\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  };\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  };\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (arguments.length === 1) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  };\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (arguments.length === 1) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  };\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  };\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  };\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p0 = p1, p1 = array[++i]];\n    return pairs;\n  };\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  };\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  };\n\n  function shuffle(array, i0, i1) {\n    if ((m = arguments.length) < 3) {\n      i1 = array.length;\n      if (m < 2) i0 = 0;\n    }\n\n    var m = i1 - i0,\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  };\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (arguments.length === 1) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  };\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  };\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  };\n\n  var version = \"0.7.0\";\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n}));"]}