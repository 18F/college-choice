(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.picc = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(exports){function getTrigger(root){var selector=root.getAttribute("trigger")||"[aria-controls]",trigger=root.querySelector(selector);return trigger&&trigger.hasAttribute("aria-controls")?trigger:void console.warn('no trigger found for selector: "'+selector+'"')}function getContent(root,trigger){var contentId=trigger.getAttribute("aria-controls"),content=document.getElementById(contentId);return content?content:void console.warn('no content element found with id: "'+contentId+'"')}function getAriaBoolean(el,attr){return el&&el.hasAttribute(attr)&&"false"!==el.getAttribute(attr)}var EXPANDED="aria-expanded",HIDDEN="aria-hidden",TOGGLE_EVENTS=["click"];exports.ARIAAccordion=document.registerElement("aria-accordion",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){var trigger=this.__trigger=getTrigger(this);if(trigger){var content=this.__content=getContent(this,trigger);if(content){"BUTTON"===trigger.nodeName||trigger.hasAttribute("role")||trigger.setAttribute("role","button"),trigger.hasAttribute(EXPANDED)||trigger.setAttribute(EXPANDED,getAriaBoolean(this,EXPANDED));var toggle=this.toggle.bind(this),toggleAndCancel=this.__toggleAndCancel=function(e){return toggle(),e.preventDefault(),!1};TOGGLE_EVENTS.forEach(function(event){trigger.addEventListener(event,toggleAndCancel)}),this.update()}}}},detachedCallback:{value:function(){var trigger=this.__trigger;if(trigger){var toggleAndCancel=this.__toggleAndCancel;TOGGLE_EVENTS.forEach(function(event){trigger.removeEventListener(event,toggleAndCancel)})}}},update:{value:function(){var expanded=this.expanded;this.setAttribute(EXPANDED,expanded),this.__trigger.setAttribute(EXPANDED,expanded),this.__content.setAttribute(HIDDEN,!expanded)}},expanded:{get:function(){return getAriaBoolean(this.__trigger,EXPANDED)},set:function(value){value=!!value,value!==this.expanded&&this.__trigger&&(this.__trigger.setAttribute(EXPANDED,value),this.update(),this.dispatchEvent(new CustomEvent(value?"open":"close")))}},open:{value:function(){this.expanded=!0}},close:{value:function(){this.expanded=!1}},toggle:{value:function(){this.expanded=!this.expanded}},trigger:{get:function(){return this.__trigger}},content:{get:function(){return this.__content}}})})}(window);
},{}],2:[function(require,module,exports){
!function(){try{new CustomEvent("foo")}catch(err){var createEvent=document.createCustomEvent||document.createEvent;window.CustomEvent=function(event,params){var evt;return params=params||{bubbles:!1,cancelable:!1,detail:void 0},evt=createEvent.call(document,"CustomEvent"),evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt},window.CustomEvent.prototype=window.Event.prototype}}(this);
},{}],3:[function(require,module,exports){
require("document-register-element"),require("./compat/custom-event"),require("./aria-accordion"),require("./picc-meter"),require("./picc-range"),require("./picc-slider"),require("./multi-select");
},{"./aria-accordion":1,"./compat/custom-event":2,"./multi-select":4,"./picc-meter":5,"./picc-range":6,"./picc-slider":7,"document-register-element":15}],4:[function(require,module,exports){
!function(exports){function onchange(e){this.__updating||(this.value=getValue(e.target))}function getValue(multiselect){return[].filter.call(multiselect.options,function(option){return option.selected}).map(function(option){return option.value})}function setValue(multiselect,values){var changed=!1,map=values.reduce(function(map,d){return map[d]=!0,map},{});[].forEach.call(multiselect.options,function(option){var selected=!!map[option.value];option.selected!==selected&&(option.selected=selected,changed=!0)}),changed&&multiselect.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}function pollSourceSelect(){var value=getValue(this.__select);this.__value.length>value.length&&value.push(null),compare(this.__value,value)||(this.value=value)}function removeEmptyOption(select){select.options[0].value||select.removeChild(select.options[0])}function parseValues(d){return Array.isArray(d)?d:d?String(d).split(/,/g):[d]}function nullish(d){return null===d||void 0===d}function compare(a,b){if(Array.isArray(a)&&Array.isArray(b))for(var i=0,len=a.length;len>i;i++)if(-1===b.indexOf(a[i]))return!1;return String(a)===String(b)}var ITEM_CLASS="multi-select_item";exports.MultiSelect=document.registerElement("multi-select",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){}},attachedCallback:{value:function(){var select=this.querySelector("select");return select?(select.removeAttribute("multiple"),this.__select=select.cloneNode(!0),removeEmptyOption(this.__select),select.name="",this.__select.setAttribute("multiple","multiple"),this.createTemplate(),this.insertBefore(this.__select,this.firstChild),this.value=select.value,this.__select.addEventListener("change",this.__onchange=onchange.bind(this)),this.__select.style.display="none",void(this.__pollID=setInterval(pollSourceSelect.bind(this),200))):console.error("no <select> found in <multi-select>!")}},attributeChangedCallback:{value:function(attr,oldValue,newValue){}},detachedCallback:{value:function(){this.__select.removeEventListener("change",this.__onchange),clearTimeout(this.__pollID)}},update:{value:function(){function add(){values.push(null),set(values,!0)}var root=d3.select(this),values=this.value,set=function(v,focus){this.value=v,focus&&this.querySelector("."+ITEM_CLASS+":last-child select").focus()}.bind(this),items=root.selectAll("."+ITEM_CLASS).data(values),template=this.__template;items.exit().remove(),items.enter().append(function(){return template.cloneNode(!0)}).classed(ITEM_CLASS,!0),items.select("select").property("value",function(d){return nullish(d)?"":String(d)}).on("change",function(d,i){values[i]=this.value,set(values)}),items.selectAll("button").on("click.cancel",function(){d3.event.preventDefault()}),items.each(function(value,i){function remove(){item.remove(),values.splice(i,1),set(values)}var item=d3.select(this);item.select(".button-remove").on("click",remove),item.select(".button-add").on("click",add)})}},createTemplate:{value:function(){if(!this.__template){var html=this.innerHTML,template=this.__template=document.createElement("div");for(template.className=ITEM_CLASS,template.innerHTML=html;this.firstChild;)this.removeChild(this.firstChild);return template}return this.__template}},value:{get:function(){return Array.isArray(this.__value)?this.__value.slice():this.__value||[null]},set:function(value){compare(this.__value,value)||(this.__value=parseValues(value),this.__updating=!0,this.update(),setValue(this.__select,this.__value),this.__updating=!1)}}})})}(this);
},{}],5:[function(require,module,exports){
function deferUpdate(meter,delay){delay||(delay=50),meter.__timeout||(meter.__timeout=setTimeout(function(){delete meter.__timeout,meter.update()},delay))}function getAttr(node,attr,fallback){return node.hasAttribute(attr)?node.getAttribute(attr)||fallback:fallback}function getBar(meter){var bar=meter.querySelector("."+CLASS_PREFIX+"bar");return bar||(bar=meter.appendChild(document.createElement("div")),bar.className=CLASS_PREFIX+"bar"),bar}function getLine(meter){var line=meter.querySelector("."+CLASS_PREFIX+"line");return line||(line=meter.appendChild(document.createElement("div")),line.className=CLASS_PREFIX+"line",line.appendChild(document.createElement("span")).setAttribute("class","label")),line}function number(value,fallback){var num=String(value).length?+value:NaN;return arguments.length<2&&(fallback=NaN),isNaN(num)?fallback:num}function classify(el,classes){for(var klass in classes)el.classList[classes[klass]?"add":"remove"](klass)}var CLASS_PREFIX="picc-meter-";window.PICCMeter=document.registerElement("picc-meter",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.min=getAttr(this,"min",0),this.max=getAttr(this,"max",1),this.value=getAttr(this,"value"),this.average=getAttr(this,"average"),this.update()}},attributeChangedCallback:{value:function(attr,prev,value){switch(attr){case"min":case"max":case"value":case"average":return void(this[attr]=value)}}},update:{value:function(){var min=this.min,max=this.max,value=this.value,average=this.average,bar=getBar(this),line=getLine(this);if("number"!=typeof value||isNaN(value))bar.style.setProperty("display","none"),bar.style.removeProperty("height"),line.style.setProperty("display","none"),line.style.removeProperty("bottom"),classify(this,{no_data:!0,above_average:!1,below_average:!1,about_average:!1});else{classify(this,{no_data:!1});var scale=function(v){return(v-min)/(max-min)},percent=function(v){return(100*scale(v)).toFixed(1)+"%"};if(bar.style.removeProperty("display"),bar.style.setProperty("height",percent(Math.min(value,max))),this.hasAttribute("average-range")){var range=this.getAttribute("average-range"),numbers=range.split("..").map(Number);if(numbers.some(isNaN))console.warn("invalid average-range:",range,numbers),classify(this,{above_average:!1,below_average:!1,about_average:!1});else{var lo=numbers[0],hi=numbers[1];classify(this,{above_average:value>hi,below_average:lo>value,about_average:value>=lo&&hi>=value})}}else classify(this,{above_average:!1,below_average:!1,about_average:!1});isNaN(average)?line.style.setProperty("display","none"):(line.style.removeProperty("display"),line.style.setProperty("bottom",percent(average)))}delete this.__timeout,this.dispatchEvent(new CustomEvent("update"))}},min:{get:function(){return this.__min},set:function(value){this.__min=number(value,0),deferUpdate(this)}},max:{get:function(){return this.__max},set:function(value){this.__max=number(value,1),deferUpdate(this)}},value:{get:function(){return this.__value},set:function(value){this.__value=number(value),deferUpdate(this)}},average:{get:function(){return this.__average},set:function(value){this.__average=number(value),deferUpdate(this)}}})});
},{}],6:[function(require,module,exports){
function deferUpdate(meter,delay){delay||(delay=50),meter.__timeout||(meter.__timeout=setTimeout(function(){delete meter.__timeout,meter.update()},delay))}function getAttr(node,attr,fallback){return node.hasAttribute(attr)?node.getAttribute(attr)||fallback:fallback}function number(value,fallback){var num=+value;return isNaN(value)?fallback:num}function classify(el,classes){for(var klass in classes)el.classList[classes[klass]?"add":"remove"](klass)}var ELEMENT_NAME="picc-range",CLASS_PREFIX=ELEMENT_NAME+"-",LABEL_TYPES=["min","max","lower","middle","upper"];window.PICCRange=document.registerElement(ELEMENT_NAME,{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){var bar=this.appendChild(document.createElement("div"));bar.className=CLASS_PREFIX+"bar",LABEL_TYPES.forEach(function(type){var label=this.appendChild(document.createElement("span"));label.className=[CLASS_PREFIX+"label",[CLASS_PREFIX,"label-",type].join("")].join(" "),label.appendChild(document.createElement("span"))},this),this.min=getAttr(this,"min",0),this.max=getAttr(this,"max",1),this.lower=getAttr(this,"lower"),this.middle=getAttr(this,"middle"),this.upper=getAttr(this,"upper"),this.update()}},attributeChangedCallback:{value:function(attr,prev,value){switch(attr){case"min":case"max":case"lower":case"middle":case"upper":return void(this[attr]=value)}}},update:{value:function(){var min=this.min,max=this.max,scale=function(v){return(v-min)/(max-min)},percent=function(v){return(100*scale(v)).toFixed(1)+"%"},bar=this.querySelector("."+CLASS_PREFIX+"bar");bar.style.setProperty("left",percent(this.lower)),bar.style.setProperty("right",percent(this.min+this.max-this.upper)),LABEL_TYPES.forEach(function(type){var label=this.querySelector("."+CLASS_PREFIX+"label-"+type);if(label){var value=this[type];if("number"!=typeof value||isNaN(value))label.style.setProperty("display","none");else{label.style.removeProperty("display"),label.style.setProperty("left",percent(value));var span=label.querySelector("span");span&&(span.textContent=String(Math.round(value)))}}},this),delete this.__timeout}},min:{get:function(){return this.__min},set:function(value){this.__min=number(value,0),deferUpdate(this)}},max:{get:function(){return this.__max},set:function(value){this.__max=number(value),deferUpdate(this)}},lower:{get:function(){return this.__lower},set:function(value){this.__lower=number(value),deferUpdate(this)}},middle:{get:function(){return this.__middle},set:function(value){this.__middle=number(value),deferUpdate(this)}},upper:{get:function(){return this.__upper},set:function(value){this.__upper=number(value),deferUpdate(this)}}})});
},{}],7:[function(require,module,exports){
function click(e){2!==e.button&&(this.__dragging=getClosestHandle.call(this,e),move.call(this,e),this.__dragging=null,this.dispatchEvent(new CustomEvent("change")))}function engage(e){return 2===e.button?void e.preventDefault():(this.__dragging=getClosestHandle.call(this,e),this.__dragging.setAttribute("aria-grabbed",!0),void("focus"===e.type?(window.addEventListener("keyup",getListener(keypress,this)),this.addEventListener("blur",release,!0)):(window.addEventListener("mousemove",getListener(move,this)),window.addEventListener("mouseup",getListener(release,this)),window.addEventListener("touchmove",getListener(move,this)),window.addEventListener("touchend",getListener(release,this)))))}function move(e){if(!this.__dragging)return void console.warn("move() while not dragging");var handle=this.__dragging,x=getMouseX.call(this,e),property=handle===this.__left?"lower":"upper",width=this.getBoundingClientRect().width;x=Math.max(0,Math.min(x,width));var value=this.min+x/width*(this.max-this.min);this.step&&(value=roundTo(value,this.step)),this[property]=value,this.update(),this.setAttribute("aria-valuenow",value);var event=new CustomEvent("drag");event.property=property,event.value=value,this.dispatchEvent(event),e.preventDefault();try{window.getSelection().removeAllRanges()}catch(err){console.warn("unable to clear ranges:",err)}}function release(e){this.__dragging?this.__dragging.removeAttribute("aria-grabbed"):console.warn("release() while not dragging"),this.__dragging=!1,this.removeAttribute("aria-valuenow"),"blur"===e.type?(window.removeEventListener("keyup",getListener(keypress,this)),this.removeEventListener("blur",release,!0)):(window.removeEventListener("mousemove",getListener(move,this)),window.removeEventListener("mouseup",getListener(release,this)),window.removeEventListener("touchmove",getListener(move,this)),window.removeEventListener("touchend",getListener(release,this))),this.dispatchEvent(new CustomEvent("change")),e.preventDefault()}function keypress(e){switch(e.keyCode){case 37:nudge.call(this,-1);break;case 39:nudge.call(this,1);break;case 36:case 35:switch(this.__dragging){case this.__left:this.lower=this.min;break;case this.__right:this.upper=this.max}}}function getListener(fn,obj){var name=fn.name||fn.toString().match(/function (\w+)/)[1],key="__listener_"+name;return obj[key]||(obj[key]=fn.bind(obj))}function registerElement(name,proto,parent){parent||(parent=HTMLElement);for(var key in proto)"function"==typeof proto[key]&&(proto[key]={value:proto[key]},0===key.indexOf("__")&&(proto[key].enumerable=!1));return document.registerElement(name,{prototype:Object.create(parent.prototype,proto)})}function getAttr(name,fallback){return this.hasAttribute(name)?this.getAttribute(name):fallback}function property(name,parse){var key="__"+name;return{get:function(){return this[key]},set:function(value){parse&&(value=parse.call(this,value,name)),value!==this[key]&&(this[key]=value,this.update())}}}function createHandle(which){var div=document.createElement("div");return div.classList.add(CLASS_PREFIX+"handle"),div.classList.add(CLASS_PREFIX+"handle_"+which),div.setAttribute("tabindex",0),div.appendChild(createLabel()),this.appendChild(div)}function createRange(){var div=document.createElement("div");return div.className=CLASS_PREFIX+"range",this.appendChild(div)}function createMark(klass){var div=document.createElement("div");return div.className=CLASS_PREFIX+klass,div.appendChild(createLabel()),this.appendChild(div)}function createLabel(){var label=document.createElement("span");return label.className=CLASS_PREFIX+"label",label}function getLabel(parent){return parent.querySelector("."+CLASS_PREFIX+"label")}function getClosestHandle(e){switch(e.target){case this.__left:return this.__left;case this.__right:return this.__right}var x=getMouseX.call(this,e),left=this.__left.getBoundingClientRect().left,right=this.__right.getBoundingClientRect().left,dl=Math.abs(x-left),dr=Math.abs(x-right);return dr>dl?this.__left:this.__right}function getMouseX(e){var rect=this.getBoundingClientRect(),x=(rect.width,e.touches&&e.touches.length?e.touches[0].clientX:e.clientX);return x-rect.left}function nudge(multiplier){var handle=this.__dragging;if(handle){var property=handle===this.__left?"lower":"upper",step=this.step||.1;this[property]+=step*multiplier}}function clamp(x,min,max){return min>x?min:x>max?max:x}function roundTo(value,step){return Math.round(value/step)*step}function percent(value){return value.toFixed(2)+"%"}function formatDollars(n){return n>=1e3?"$"+roundFloat(n/1e3)+"K":"$"+Math.round(n)}function formatPercent(n){return Math.round(100*n)+"%"}function roundFloat(n){return n.toFixed(1).replace(/\.0$/,"")}var ELEMENT_NAME="picc-slider",CLASS_PREFIX=ELEMENT_NAME+"-";window.PICCSlider=registerElement(ELEMENT_NAME,{createdCallback:function(){this.__range=createRange.call(this),this.__mark=createMark.call(this,"average"),this.__left=createHandle.call(this,"min"),this.__right=createHandle.call(this,"max"),this.setAttribute("role","slider"),this.min=getAttr.call(this,"min",0),this.max=getAttr.call(this,"max",100),this.lower=getAttr.call(this,"lower",this.min),this.upper=getAttr.call(this,"upper",this.max),this.step=getAttr.call(this,"step",1),this.average=getAttr.call(this,"average"),this.format=getAttr.call(this,"format")},attachedCallback:function(){this.addEventListener("click",click),this.addEventListener("mousedown",engage),this.addEventListener("touchstart",engage),this.update()},detachedCallback:function(){this.removeEventListener("click",click),this.removeEventListener("mousedown",enagage),this.removeEventListener("touchstart",enagage)},attributeChangedCallback:function(attr,prev,value){switch(attr){case"min":case"max":case"value":case"step":case"average":case"format":this[attr]=value,this.update()}},update:function(){var min=this.min,max=this.max;this.__dragging===this.__left&&this.__lower>=this.__upper?this.__lower=this.__upper-this.step:this.__dragging===this.__right&&this.__upper<=this.__lower&&(this.__upper=this.__lower+this.step),this.__lower=Math.min(Math.max(this.__lower,min),max),this.__upper=Math.max(Math.min(this.__upper,max),min);var lower=this.lower,upper=this.upper,average=this.average,x=function(value){return 100*(value-min)/(max-min)},left=percent(x(lower)),right=percent(x(upper));this.__left.style.setProperty("left",left),this.__right.style.setProperty("left",right),this.__range.style.setProperty("left",left),this.__range.style.setProperty("right",percent(x(max-upper)));var mark=this.__mark,labels=[{el:getLabel(this.__left),value:lower},{el:getLabel(this.__right),value:upper},{el:getLabel(mark),value:average}],format=function(){return""};switch(this.format){case"%":format=formatPercent;break;case"$":format=formatDollars}var nudgeThreshold=12,outerRect=this.getBoundingClientRect();outerRect.left+nudgeThreshold,outerRect.right;if(labels.forEach(function(d,i){var label=d.el;return label?void(label.textContent=format(d.value)):console.warn("no label:",i)}),isNaN(average))mark.style.setProperty("display","none");else{var p=percent(x(average));mark.style.setProperty("left",p),mark.style.removeProperty("display")}this.setAttribute("aria-valuemin",lower),this.setAttribute("aria-valuemax",upper)},value:property("value",function(v){return v=clamp(+v,this.min,this.max),this.step&&(v=roundTo(v,this.step)),v}),min:property("min",Number),max:property("max",Number),lower:property("lower",Number),upper:property("upper",Number),step:property("step",Number),average:property("average",Number),format:property("format",String)});
},{}],8:[function(require,module,exports){
var formdb=require("formdb");module.exports=function(){var form=new formdb.Form("#search-form");picc.form.minifyQueryString(form),picc.ready(function(){if(location.hash.length>1){var id=location.hash.substr(1);picc.ui.expandAccordions(function(){return this.id&&this.id===id}),location.hash="",location.hash="#"+id}})};
},{"formdb":16}],9:[function(require,module,exports){
"use strict";function getter(key){if("string"!=typeof key)return function(d){return d[key]};if(key.indexOf(".")>-1){var bits=key.split("."),len=bits.length;return function(d){if(key in d)return d[key];for(var i=0;len>i;i++)if(d=d[bits[i]],null===d||void 0===d)return d;return d}}return function(d){return d[key]}}"undefined"!=typeof window&&(require("aight"),require("./components"));var querystring=require("querystring"),d3=require("d3"),async=require("async"),formdb=require("formdb"),picc={};picc.errors={NO_SCHOOL_ID:"No school ID was provided.",NO_SUCH_SCHOOL:"No school found."},picc.RACE_ETHNICITY_LABELS={aian:"American Indian/Alaska Native",asian:"Asian",asian_pacific_islander:"Asian/Pacific Islander",black:"Black",black_non_hispanic:"Black non-Hispanic",hispanic:"Hispanic",nhpi:"Native Hawaiian/Pacific Islander",non_resident_alien:"Non-resident alien",two_or_more:"Two or more races",unknown:"Unknown",white:"White",white_non_hispanic:"White non-Hispanic"},picc.API=function(){function addAPIKey(params){var param="api_key";return"object"==typeof params?(API.key&&(params[param]=API.key),collapseArrays(params),params=querystring.stringify(params)):API.key&&(params+=["&",param,"=",API.key].join("")),params}function join(list,glue){for(var i=0;i<list.length;i++){var str=String(list[i]);str.charAt(0)===glue?list[i]=str.substr(1):str.charAt(str.length-1)===glue&&(list[i]=str.substr(0,str.length-1))}return list.join(glue)}function collapseArrays(obj,glue){glue||(glue=",");for(var key in obj)Array.isArray(obj[key])&&(obj[key]=obj[key].join(glue));return obj}var API={url:"/api/v1/",key:""},errors=picc.errors,schoolEndpoint="schools/",idField="id";return API.get=function(uri,params,done){2===arguments.length?(done=params,params=addAPIKey({})):params&&(params=addAPIKey(params)),params&&(uri=join([uri,params],"?"));var url=join([API.url,uri],"/");return d3.json(url,function(error,data){return data&&data.errors&&data.errors.length&&(error=data.errors[0]),done(error,data)})},API.endpoint=function(uri){return function(params,done){return API.get(uri,params,done)}},API.search=API.endpoint(schoolEndpoint),API.getSchool=function(id,done){var params={};return params[idField]=id,API.get(schoolEndpoint,params,function(error,res){var meta=res.metadata||res;return error||!meta.total?done(error?error.responseText||error||errors.NO_SUCH_SCHOOL:errors.NO_SUCH_SCHOOL):(res.total>1&&console.warn('More than one school found for ID: "'+id+'"'),done(null,res.results[0]))})},API.getAll=function(urls,done){return Object.keys(urls).forEach(function(key){var url=urls[key];urls[key]=Array.isArray(url)?function(done){var method=url.shift();return"string"==typeof method&&(method=API[method]),url.push(done),method.apply(API,url)}:function(done){return API.get(url,done)}}),async.parallel(urls,done)},API}();var NA="--";picc.format=function(){var formatter=function(fmt,_empty){var round=!1;return"string"==typeof fmt&&(round=!!fmt.match(/d$/),fmt=d3.format(fmt)),function(key,empty){return empty=empty||_empty,"string"==typeof empty&&(empty=d3.functor(empty)),key=key?picc.access(key):function(v){return v},function(d){var value=key.call(this,d);return empty&&""===value||isNaN(String(value))?empty.call(d):(round&&(value=Math.round(value)),fmt.call(d,value,key))}}},map=function(keys,fallback){return function(key){return keys[key]||fallback}},range=function(ranges){var i,len=ranges.length;return function(value){for(value=+value,i=0;len>i;i++){var range=ranges[i];if(value>=range[0]&&value<range[1])return range[2]}}};return{dollars:formatter("$,d",NA),percent:formatter("%.0f",NA),number:formatter(",d",NA),plural:function(key,singular,plural){return key=picc.access(key),plural||(plural=singular+"s"),function(d){return 1==key.call(this,d)?singular:plural}},map:function(key,values,empty){return formatter(map(values)).call(this,key,empty)},control:formatter(map({1:"Public",2:"Private",3:"For-Profit"},"control unknown")),controlClass:formatter(map({1:"icon-public",2:"icon-private",3:"icon-profit"},"")),preddeg:formatter(map({2:"2",3:"4"},NA)),empty:function(key){return key=picc.access(key),function(d){return!key.call(this,d)}},notEmpty:function(key){return key=picc.access(key),function(d){return!!key.call(this,d)}},sizeCategory:formatter(range([[0,2e3,"Small"],[2e3,15e3,"Medium"],[15e3,1/0,"Large"]]),"size unknown"),sizeCategoryClass:formatter(range([[0,2e3,"icon-small"],[2e3,15e3,"icon-medium"],[15e3,1/0,"icon-large"]]),""),locale:formatter(map({11:"City",12:"City",13:"City",21:"Suburban",22:"Suburban",23:"Suburban",31:"Town",32:"Town",33:"Town",41:"Rural",42:"Rural",43:"Rural"},"locale unknown")),localeClass:formatter(map({11:"icon-city",12:"icon-city",13:"icon-city",21:"icon-suburban",22:"icon-suburban",23:"icon-suburban",31:"icon-town",32:"icon-town",33:"icon-town",41:"icon-rural",42:"icon-rural",43:"icon-rural"},"")),href:function(key){return key=picc.access(key),function(d){var url=key.call(this,d);return url?0!==String(url).indexOf("http")?"http://"+url:url:null}}}}(),picc.fields={ID:"id",NAME:"school.name",CITY:"school.city",STATE:"school.state",ZIP_CODE:"school.zip",SCHOOL_URL:"school.school_url",LOCATION:"location",OWNERSHIP:"school.ownership",LOCALE:"school.locale",REGION_ID:"school.region_id",RELIGIOUS:"school.religious_affiliation",OPERATING:"school.operating",SIZE:"2013.student.size",ONLINE_ONLY:"school.online_only",WOMEN_ONLY:"school.women_only",MEN_ONLY:"school.men_only",MINORITY_SERVING:"school.minority_serving",PREDOMINANT_DEGREE:"school.degrees_awarded.predominant",UNDER_INVESTIGATION:"school.under_investigation",NET_PRICE:"2013.cost.avg_net_price.overall",NET_PRICE_BY_INCOME:"2013.cost.net_price",COMPLETION_RATE:"2013.completion.rate_suppressed.overall",RETENTION_RATE:"2013.student.retention_rate",REPAYMENT_RATE:"2013.repayment.3_yr_repayment_suppressed.overall",AVERAGE_TOTAL_DEBT:"2013.aid.median_debt_suppressed.completers.overall",MONTHLY_LOAN_PAYMENT:"2013.aid.median_debt_suppressed.completers.monthly_payments",AID_PERCENTAGE:"2013.aid.federal_loan_rate",PELL_PERCENTAGE:"2013.aid.pell_grant_rate",MEDIAN_EARNINGS:"2011.earnings.10_yrs_after_entry.median",EARNINGS_GT_25K:"2011.earnings.6_yrs_after_entry.percent_greater_than_25000",PROGRAM_PERCENTAGE:"2013.academics.program_percentage",PROGRAM_OFFERED:"2013.academics.program",PART_TIME_SHARE:"2013.student.part_time_share",FEMALE_SHARE:"2013.student.demographics.female_share",RACE_ETHNICITY:"2013.student.demographics.race_ethnicity",AGE_ENTRY:"2013.student.demographics.age_entry",ACT_25TH_PCTILE:"2013.admissions.act_scores.25th_percentile.cumulative",ACT_75TH_PCTILE:"2013.admissions.act_scores.75th_percentile.cumulative",ACT_MIDPOINT:"2013.admissions.act_scores.midpoint.cumulative",SAT_CUMULATIVE_AVERAGE:"2013.admissions.sat_scores.average.overall",SAT_READING_25TH_PCTILE:"2013.admissions.sat_scores.25th_percentile.critical_reading",SAT_READING_75TH_PCTILE:"2013.admissions.sat_scores.75th_percentile.critical_reading",SAT_READING_MIDPOINT:"2013.admissions.sat_scores.midpoint.critical_reading",SAT_MATH_25TH_PCTILE:"2013.admissions.sat_scores.25th_percentile.math",SAT_MATH_75TH_PCTILE:"2013.admissions.sat_scores.75th_percentile.math",SAT_MATH_MIDPOINT:"2013.admissions.sat_scores.midpoint.math",SAT_WRITING_25TH_PCTILE:"2013.admissions.sat_scores.25th_percentile.writing",SAT_WRITING_75TH_PCTILE:"2013.admissions.sat_scores.75th_percentile.writing",SAT_WRITING_MIDPOINT:"2013.admissions.sat_scores.midpoint.writing",NET_PRICE_CALC_URL:"school.price_calculator_url"},picc.access=function(key){return"function"==typeof key?key:getter(key)},picc.access.composed=function(key0,key1,key2){var keys=[].slice.call(arguments),len=keys.length;return function(d){var _keys=keys.map(function(key){return"function"==typeof key?key.call(this,d):key},this),_key=_keys.join(".");if(_key in d)return d[_key];for(var value=d,i=0;len>i;i++){var key=keys[i];if("function"==typeof key&&(key=key.call(this,d),null===key))return key;if(value=getter(key)(value),void 0===value||null===value)break}return value}},picc.access.publicPrivate=function(d){var ownership=picc.access(picc.fields.OWNERSHIP)(d);switch(+ownership){case 1:return"public";case 2:case 3:return"private"}return null},picc.access.yearDesignation=function(d){var degree=picc.access(picc.fields.PREDOMINANT_DEGREE)(d);switch(+degree){case 2:return"lt_four_year";case 3:return"four_year"}return null},picc.access.nationalStat=function(stat,suffix){return suffix?(suffix=picc.access(suffix),function(d){var key=suffix.apply(this,arguments);return this.getAttribute(["data",stat,key].join("-"))}):function(){return this.getAttribute("data-"+stat)}},picc.access.netPrice=picc.access.composed(picc.fields.NET_PRICE),picc.access.netPriceByIncomeLevel=function(level){return picc.access.composed(picc.fields.NET_PRICE_BY_INCOME,picc.access.publicPrivate,"by_income_level",level)},picc.access.earningsMedian=picc.access.composed(picc.fields.MEDIAN_EARNINGS),picc.access.earnings25k=picc.access.composed(picc.fields.EARNINGS_GT_25K),picc.access.completionRate=picc.access.composed(picc.fields.COMPLETION_RATE),picc.access.partTimeShare=picc.access.composed(picc.fields.PART_TIME_SHARE),picc.access.retentionRate=picc.access.composed(picc.fields.RETENTION_RATE,picc.access.yearDesignation,"full_time"),picc.access.size=picc.access.composed(picc.fields.SIZE),picc.access.location=picc.access(picc.fields.LOCATION),picc.access.specialDesignations=function(d){var designations=[],SPECIAL_DESIGNATIONS=picc.SPECIAL_DESIGNATIONS||{};+picc.access(picc.fields.WOMEN_ONLY)(d)?designations.push(SPECIAL_DESIGNATIONS.women_only):+picc.access(picc.fields.MEN_ONLY)(d)&&designations.push(SPECIAL_DESIGNATIONS.men_only);var religious=picc.access(picc.fields.RELIGIOUS)(d);religious in picc.RELIGIOUS_AFFILIATIONS_BY_NUMBER&&designations.push(picc.RELIGIOUS_AFFILIATIONS_BY_NUMBER[religious]);var minorityServing=picc.access(picc.fields.MINORITY_SERVING)(d);if(minorityServing)for(var key in SPECIAL_DESIGNATIONS)+minorityServing[key]&&designations.push(SPECIAL_DESIGNATIONS[key]);return designations},picc.access.programAreas=function(d,metadata){if(metadata||(metadata=d.metadata),!metadata||!metadata.dictionary)return[];var dictionary=metadata.dictionary,field=picc.fields.PROGRAM_PERCENTAGE,programs=picc.access(field)(d);return programs?(field=field.replace(/^\d+\./,""),Object.keys(programs||{}).map(function(key){var value=programs[key],dictKey=[field,key].join("."),name=dictionary[dictKey]?dictionary[dictKey].label||key:key;return{program:name,percent:value}}).filter(function(d){return+d.percent>0})):[]},picc.nullify=function(value){return"NULL"===value?null:value},picc.template=function(template){return template=String(template),function(data){return template.replace(/{\s*(\w+)\s*}/g,function(_k,key){return picc.access(key)(data)})}},picc.template.resolve=function(template,data){return picc.template(template).call(this,data)},picc.school={},picc.school.directives=function(){var access=picc.access,format=picc.format,percent=format.percent(),fields=picc.fields,href=function(d){var name=access(fields.NAME)(d);return name=name?name.replace(/\W+/g,"-"):"(unknown)",[picc.BASE_URL,"/school/?",d.id,"-",name].join("")},underInvestigation={"@aria-hidden":function(d){var flag=access(fields.UNDER_INVESTIGATION)(d);return 1!==+flag}};return{title:{link:{text:access(fields.NAME),"@href":href}},school_link:{"@href":format.href(fields.SCHOOL_URL),text:function(d){var url=picc.access(fields.SCHOOL_URL)(d);return url?url.split("/").shift().replace(/^www\./,""):url}},share_link:{"@href":function(d){return picc.template.resolve(this.getAttribute("data-href"),{url:encodeURIComponent(document.location.href)})}},response_link:{"@href":function(d){var href=format.href(fields.SCHOOL_URL)(d);if(href){var suffix="/CollegeScorecard";return href+="/"===href.substr(-1)?suffix.substr(1):suffix}return""}},name:access(fields.NAME),city:access(fields.CITY),state:access(fields.STATE),under_investigation:underInvestigation,under_investigation2:underInvestigation,size_number:format.number(fields.SIZE),control:{"@class":format.controlClass(fields.OWNERSHIP),value:format.control(fields.OWNERSHIP)},locale_name:{"@class":format.localeClass(fields.LOCALE),value:format.locale(fields.LOCALE)},years:format.preddeg(fields.PREDOMINANT_DEGREE),size_category:{"@class":format.sizeCategoryClass(fields.SIZE),value:format.sizeCategory(fields.SIZE)},special_designations:access.specialDesignations,average_cost:format.dollars(access.netPrice),average_cost_meter:{"@value":access.netPrice,label:format.dollars(function(){return this.average})},net_price_income1:format.dollars(access.netPriceByIncomeLevel("0-30000")),net_price_income2:format.dollars(access.netPriceByIncomeLevel("30001-48000")),net_price_income3:format.dollars(access.netPriceByIncomeLevel("48001-75000")),net_price_income4:format.dollars(access.netPriceByIncomeLevel("75001-110000")),net_price_income5:format.dollars(access.netPriceByIncomeLevel("110001-plus")),advantage_rate:format.percent(fields.EARNINGS_GT_25K),grad_rate:format.percent(access.completionRate),grad_rate_meter:{"@value":access.completionRate,label:format.percent(function(){return this.average})},average_salary:format.dollars(access.earningsMedian),average_salary_meter:{"@value":access.earningsMedian,label:format.dollars(function(){return this.average})},repayment_rate_percent:format.percent(fields.REPAYMENT_RATE),repayment_rate_meter:{"@value":access(fields.REPAYMENT_RATE),label:format.percent(function(){return this.average})},average_total_debt:format.dollars(fields.AVERAGE_TOTAL_DEBT),average_monthly_loan_payment:format.dollars(fields.MONTHLY_LOAN_PAYMENT),federal_aid_percentage:format.percent(fields.AID_PERCENTAGE),pell_grant_percentage:format.percent(fields.PELL_PERCENTAGE),earnings_gt_25k:format.percent(access.earnings25k),earnings_gt_25k_meter:{"@value":access.earnings25k,label:format.percent(function(){return this.average})},retention_rate_value:format.percent(access.retentionRate),retention_rate_meter:{"@value":access.retentionRate,label:format.percent(function(){return this.average})},full_time_percent:format.number(function(d){var pt=access.partTimeShare(d);return null===pt?null:100*(1-pt)}),part_time_percent:format.number(function(d){var pt=access.partTimeShare(d);return null===pt?null:100*pt}),gender_values:function(d){var female=access(fields.FEMALE_SHARE)(d);return null===female?[]:(female=+female,[{label:"Female",value:female,percent:percent(female)},{label:"Male",value:1-female,percent:percent(1-female)}])},race_ethnicity_values:function(d){if(!d.metadata)return[];var values=access(fields.RACE_ETHNICITY)(d);return values?Object.keys(values).map(function(key){var value=picc.nullify(values[key]),label=picc.RACE_ETHNICITY_LABELS[key]||key;return{key:key,label:label,value:value,percent:value>=.005?percent(value):"<1%"}}).filter(function(d){return d.value>0}):[]},available_programs:function(d){var areas=access.programAreas(d);return areas.sort(function(a,b){return d3.ascending(a.program,b.program)})},num_available_programs:format.number(function(d){return access.programAreas(d).length}),popular_programs:function(d){var areas=access.programAreas(d);if(areas.length){var total=d3.sum(areas,picc.access("percent"));areas.forEach(function(d){d.value=+d.percent/total,d.percent=percent(d.value)})}return areas.sort(function(a,b){return d3.descending(a.value,b.value)}).slice(0,5)},programs_plural:format.plural(function(d){return access.programAreas(d).length},"Program"),age_entry:function(d){var age=picc.access(fields.AGE_ENTRY)(d);return age?age:NA},more_link:{"@href":href},act_scores_visible:{"@aria-hidden":format.empty(fields.ACT_MIDPOINT)},act_scores_invisible:{"@aria-hidden":format.notEmpty(fields.ACT_MIDPOINT)},act_scores:{"@lower":access(fields.ACT_25TH_PCTILE),"@upper":access(fields.ACT_75TH_PCTILE)},sat_reading_scores_visible:{"@aria-hidden":format.empty(fields.SAT_READING_MIDPOINT)},sat_reading_scores_invisible:{"@aria-hidden":format.notEmpty(fields.SAT_READING_MIDPOINT)},sat_reading_scores:{"@lower":access(fields.SAT_READING_25TH_PCTILE),"@upper":access(fields.SAT_READING_75TH_PCTILE)},sat_math_scores_visible:{"@aria-hidden":format.empty(fields.SAT_MATH_MIDPOINT)},sat_math_scores_invisible:{"@aria-hidden":format.notEmpty(fields.SAT_MATH_MIDPOINT)},sat_math_scores:{"@lower":access(fields.SAT_MATH_25TH_PCTILE),"@upper":access(fields.SAT_MATH_75TH_PCTILE)},sat_writing_scores_visible:{"@aria-hidden":format.empty(fields.SAT_WRITING_MIDPOINT)},sat_writing_scores_invisible:{"@aria-hidden":format.notEmpty(fields.SAT_WRITING_MIDPOINT)},sat_writing_scores:{"@lower":access(fields.SAT_WRITING_25TH_PCTILE),"@upper":access(fields.SAT_WRITING_75TH_PCTILE)},net_price_calculator:{"@href":format.href(fields.NET_PRICE_CALC_URL)}}}(),picc.form={},picc.form.mappings={sort:{advantage:picc.fields.EARNINGS_GT_25K,salary:picc.fields.MEDIAN_EARNINGS,name:picc.fields.NAME,size:picc.fields.SIZE,avg_net_price:picc.fields.NET_PRICE,completion_rate:picc.fields.COMPLETION_RATE},control:{"public":1,"private":2,profit:3},size:{small:"..1999",medium:"2000..15000",large:"15001.."},degree:{a:"2",b:"3"}},picc.form.minifyQueryString=function(form){return"object"!=typeof form&&(form=new formdb.Form(form)),form.on("submit",function(data,e){var url=[form.element.action,querystring.stringify(data)].join("?").replace("?&","?").replace(/&{2,}/g,"&").replace(/&$/,"");return window.location=url,e.preventDefault(),!1}),form},picc.form.prepareParams=function(){function mapSize(value){return Array.isArray(value)?value.map(mapSize):picc.form.mappings.size[value]}function mapDegree(value){return Array.isArray(value)?value.map(mapDegree):picc.form.mappings.degree[value]}function mapControl(value){return Array.isArray(value)?value.map(mapControl):picc.form.mappings.control[value]}function empty(value){return""===value||null===value||void 0===value||Array.isArray(value)&&empty(value[0])}var fields=picc.fields,alias={name:fields.NAME,avg_net_price:fields.NET_PRICE+"__range",completion_rate:fields.COMPLETION_RATE+"__range",median_earnings:fields.MEDIAN_EARNINGS+"__range",monthly_payments:fields.MONTHLY_LOAN_PAYMENT+"__range",religious:fields.RELIGIOUS,serving:function(query,value,key){var field=[fields.MINORITY_SERVING,value].join(".");switch(value){case"men_only":field=fields.MEN_ONLY;break;case"women_only":field=fields.WOMEN_ONLY}query[field]=1,delete query[key]},state:fields.STATE,zip:function(query,value,key){query.distance||(query[fields.ZIP_CODE]=value,delete query[key])},control:function(query,value,key){value=mapControl(value),picc.data.rangify(query,fields.OWNERSHIP,value),delete query[key]},region:function(query,value,key){picc.data.rangify(query,fields.REGION_ID,value),delete query[key]},sort:function(query,value,key){var bits=String(value).split(":");value=bits[0],bits[0]=picc.form.mappings.sort[value],bits[0]||(console.warn("unmapped sort value:",value),bits[0]=value),query[key]=bits.join(":")},major:function(query,value,key){var subfield="degree";switch(query.degree){case"a":case"2":subfield="assoc";break;case"b":case"3":subfield="bachelors"}var k=[fields.PROGRAM_OFFERED,subfield,value].join(".");query[k+"__range"]="1..",delete query[key]},size:function(query,value,key){value=mapSize(value),query[picc.fields.SIZE+"__range"]=Array.isArray(value)?value.join(","):value,delete query[key]},degree:function(query,value,key){query[key]=mapDegree(value)},under_investigation:picc.fields.UNDER_INVESTIGATION};return function(params){var query=picc.data.extend({},params);query[fields.OPERATING]=1,query.distance&&!query.zip&&(console.warn("distance provided without zip; ignoring",query),delete query.distance),query.size||(query[fields.SIZE+"__range"]="0..");for(var key in query){var v=query[key];if(empty(v))delete query[key];else{var k=alias[key];switch(typeof k){case"function":k(query,v,key);break;case"string":query[k]=v,delete query[key]}}}for(key in query)(null===query[key]||void 0===query[key])&&delete query[key];return query.degree?(picc.data.rangify(query,picc.fields.PREDOMINANT_DEGREE,query.degree),delete query.degree):query[picc.fields.PREDOMINANT_DEGREE+"__range"]="2..3",query}}(),picc.ui={},picc.ui.expandAccordions=function(selector,expanded){return 1===arguments.length&&(expanded=selector,selector=null),selector||(selector="aria-accordion"),expanded=d3.functor(expanded),d3.selectAll(selector).filter(function(){return!!expanded.apply(this,arguments)}).property("expanded",!0)},picc.ready=function(callback){return"complete"===document.readyState?(callback(),!0):(window.addEventListener("load",callback),!1)},picc.debounce=function(fn,delay){var timeout;return function(){var context=this,args=arguments;return clearTimeout(timeout),timeout=setTimeout(function(){fn.apply(context,args)},delay)}},picc.delegate=function(root,qualify,event,listener){if(Array.isArray(event))return event.map(function(e){return picc.delegate(root,qualify,e,listener)});if("object"==typeof event){var listeners={};for(var e in event)listeners[e]=picc.delegate(root,qualify,e,event[e]);return listeners}var _listener=function(e){qualify.call(e.target,e)&&listener.call(e.target,e)};return root.addEventListener(event,_listener,!0),listener},picc.data={},picc.data.extend=function(obj,a,b){for(var i=1,len=arguments.length;len>i;i++){var arg=arguments[i];if("object"==typeof arg)for(var key in arg)obj[key]=arg[key]}return obj},picc.data.rangify=function(obj,key,values){if(Array.isArray(values))switch(values.length){case 0:values="";break;case 1:values=values[0]}if(!Array.isArray(values))return values=String(values),values.indexOf("..")>-1?obj[key+"__range"]=values:values&&(obj[key]=values),obj;values=values.map(Number).sort(d3.ascending);for(var range=[values.shift()],ranges=[range];values.length;){var value=values.shift(),previous=range[range.length-1];value===previous+1?range.push(value):ranges.push(range=[value])}return obj[key+"__range"]=ranges.map(function(range,i){var min=range.shift(),max=range.length?range.pop():min;if(min===max)switch(i){case 0:return".."+min;case ranges.length-1:return max+".."}return[min,max].join("..")}).join(","),obj},picc.data.selectKeys=function(obj,keys){var copy={};return keys.forEach(function(key){key in obj?copy[key]=obj[key]:console.warn("no such key in source object:",key,obj)}),copy},picc.tooltip={show:function(e){clearTimeout(this.__tooltipShowTimeout);var tooltip=this.tooltip;if(!tooltip){if(tooltip=document.getElementById(this.getAttribute("aria-describedby")),!tooltip)return console.warn("no tooltip found for:",this);this.tooltip=tooltip}var parent=this,ref=this.querySelector(".tooltip-target")||this,show=function(){tooltip.setAttribute("aria-hidden",!1);var click,win=d3.select(window).on("click.tooltip",click=function(e){win.on("click.tooltip",null),parent.contains(tooltip)?picc.tooltip.hide.call(parent,e):console.warn("ignoring click on unowned tooltip:",parent,tooltip)},!0);picc.tooltip.constrain(tooltip,ref)};"click"===e.type?show():this.__tooltipShowTimeout=setTimeout(show,200)},hide:function(){clearTimeout(this.__tooltipShowTimeout),this.tooltip&&(this.tooltip.setAttribute("aria-hidden",!0),this.tooltip.originalParent&&this.tooltip.originalParent.appendChild(this.tooltip),this.tooltip=null)},toggle:function(e){this.tooltip&&"false"!==this.tooltip.getAttribute("aria-hidden")?picc.tooltip.hide.call(this,e):picc.tooltip.show.call(this,e)},constrain:function(tooltip,parent){parent===tooltip.parentNode?parent.removeChild(tooltip):tooltip.originalParent=tooltip.parentNode;var content=tooltip.querySelector(".tooltip-content")||tooltip;content.style.removeProperty("left");var outer=parent.getBoundingClientRect();parent.appendChild(tooltip),rect=content.getBoundingClientRect();var margin=10,offsetWidth=(rect.width-outer.width)/2,halfWidth=rect.width/2,bump=-halfWidth,left=outer.left-offsetWidth,leftEdge=margin/2,right=outer.right+offsetWidth,rightEdge=window.innerWidth-2*margin;right>rightEdge?bump-=right-rightEdge:leftEdge>left&&(bump+=leftEdge-left),bump?content.style.left=Math.round(bump)+"px":content.style.removeProperty("left");var bottom=outer.bottom+rect.height,above=bottom>window.innerHeight;tooltip.classList.toggle("tooltip_above",above),tooltip.classList.toggle("tooltip_below",!above)}},picc.pages={index:require("./index"),search:require("./search"),school:require("./school")},"undefined"!=typeof document&&(picc.ready(function(){var described="aria-describedby";picc.delegate(document.body,function(){return this.hasAttribute(described)&&this.getAttribute(described).match(/^tip-/)},document.body.ontouchstart?{focus:picc.tooltip.show,blur:picc.tooltip.hide,click:picc.tooltip.toggle}:{mouseenter:picc.tooltip.show,mouseleave:picc.tooltip.hide,focus:picc.tooltip.show,blur:picc.tooltip.hide})}),d3.select(document).on("mousedown",function(e){clearTimeout(this.__dragTimeout);var body=this.body;this.__dragTimeout=setTimeout(function(){body.classList.add("dragging")},100)}).on("mouseup",function(e){clearTimeout(this.__dragTimeout),this.body.classList.remove("dragging")}).on("click",function(e){clearTimeout(this.__dragTimeout),this.body.classList.remove("dragging")})),module.exports=picc;
},{"./components":3,"./index":8,"./school":10,"./search":11,"aight":12,"async":13,"d3":14,"formdb":16,"querystring":21}],10:[function(require,module,exports){
var tagalong=require("tagalong");module.exports=function(){function hashChange(){var id=location.hash.substr(1),found=!1;return picc.ui.expandAccordions(function(){return this.id&&this.id===id}).each(function(){found=this}),found}function getSchoolId(){if(!location.search)return null;var match=location.search.match(/^\?(\d+)(\b|-)/);return match?match[1]:null}function showError(error){var container=document.querySelector("#error"),target=container.querySelector(".error-message")||container;return error=error.responseText||error,target.textContent=error,target}function createMap(school,container){if(!container)return console.error("got null container in createMap(); bailing"),!1;var location=picc.access.location(school);if(!location||!+location.lat||!+location.lon)return console.warn("missing or invalid location:",location,"; hiding the map"),container.classList.add("hidden"),!1;var center=L.latLng(location.lat,location.lon),map=L.map(container,{zoomControl:!1,panControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,touchZoom:!1,doubleClickZoom:!1,boxZoom:!1}).setView(center,10);L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png").addTo(map),L.control.attribution({position:"bottomleft",prefix:!1}).addAttribution('Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>.<br>Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.').addTo(map);var marker=L.circle(center,1200,{color:"black",opacity:1,strokeWidth:1,fillColor:"white",fillOpacity:1}).addTo(map);return marker.bindPopup(school.school.name),map}var loadable=d3.select(".loadable"),id=getSchoolId();if(!id)return loadable.classed("js-error",!0),showError(picc.errors.NO_SCHOOL_ID);d3.select("#referrer-link").attr("href",document.referrer||null),loadable.classed("js-loading",!0),picc.API.getAll({metadata:"data.json",school:[picc.API.getSchool,id]},function(error,data){if(loadable.classed("js-loading",!1),error)return loadable.classed("js-error",!0),showError(error);loadable.classed("js-loaded",!0);var root=document.querySelector("#school"),school=data.school,name=picc.access(picc.fields.NAME)(school);document.title=name,school.metadata=data.metadata,console.log("got school:",school),root.classList.remove("hidden");var averageLabels={above:"Above average",below:"Lower than average",about:"About average"};d3.selectAll("i.average-arrow[data-meter]").each(function(){var icon=d3.select(this),label=(d3.select("#"+this.getAttribute("data-meter")).on("update",function(){var match=this.className.match(/\b(\w+)_average\b/),state=match?match[1]:"na";icon.classed("above_average fa-arrow-up","above"===state).classed("below_average fa-arrow-down","below"===state).classed("about_average fa-check","about"===state);var text=averageLabels[state];icon.attr("title",text),label.classed("above_average","above"===state).classed("below_average","below"===state).classed("about_average","about"===state).text(text)}),d3.select(this.parentNode).select(".average-label"))});var sections=root.querySelectorAll(".section-card_container-school"),directives=picc.school.directives;[root].concat([].slice.call(sections)).forEach(function(node){tagalong(node,school,directives)});var bars=d3.selectAll("ol.bars").selectAll("li").datum(function(){return+this.querySelector(".value").textContent}).sort(d3.descending).each(function(){var label=this.querySelector(".label");if(label){var klass=label.textContent.toLowerCase().replace(/\W+/g,"-");this.classList.add("bar-"+klass)}});bars.select(".value").remove();var scale=d3.scale.linear().domain([0,1]).range(["1%","100%"]);bars.select(".bar").style("width",function(d){return d>.005?scale(d):d?"1px":0}),createMap(school,root.querySelector(".school-map"))}),window.addEventListener("hashchange",hashChange);var section=hashChange();section&&(location.hash="",location.hash="#"+section.id)};
},{"tagalong":17}],11:[function(require,module,exports){
var tagalong=require("tagalong"),formdb=require("formdb"),querystring=require("querystring");module.exports=function(){function onChange(){if(!ready)return void console.warn("onChange() before ready!");if(!submit)return void(submit=!0);updateDistanceDisabled();var params=form.getData();for(var k in params)Array.isArray(params[k])&&!params[k][0]&&delete params[k];delete params._drawer,diffExcept(previousParams,params,["page"])&&delete params.page;var query=picc.form.prepareParams(params);query.fields=[picc.fields.ID,picc.fields.NAME,picc.fields.CITY,picc.fields.STATE,picc.fields.SIZE,picc.fields.OWNERSHIP,picc.fields.PREDOMINANT_DEGREE,picc.fields.NET_PRICE,picc.fields.COMPLETION_RATE,picc.fields.MEDIAN_EARNINGS,picc.fields.EARNINGS_GT_25K,picc.fields.UNDER_INVESTIGATION].join(",");var qs=querystring.stringify(params);qs="?"+qs.replace(/^&+/,"").replace(/&{2,}/g,"&").replace(/%3A/g,":"),poppingState||(alreadyLoaded&&diff(previousParams,params)?history.pushState(params,"search",qs):history.replaceState(params,"search",qs)),d3.select("a.results-share").attr("href",function(){return picc.template.resolve(this.getAttribute("data-href"),{url:encodeURIComponent(document.location.href)})}),req&&req.abort(),resultsRoot.classList.toggle("js-incremental",incremental),incremental||(resultsRoot.classList.add("js-loading"),resultsRoot.classList.remove("js-loaded"),resultsRoot.classList.remove("js-error")),paginator.classList.toggle("show-loading",incremental),console.time&&console.time("[load]"),req=picc.API.search(query,function(error,data){if(resultsRoot.classList.remove("js-loading"),resultsRoot.classList.remove("js-incremental"),paginator.classList.remove("show-loading"),bottomPaginator.classList.remove("show-loading"),previousParams=params,incremental=!1,console.timeEnd&&console.timeEnd("[load]"),error)return resultsRoot.classList.add("js-error"),showError(error);resultsRoot.classList.add("js-loaded");var format=picc.format;console.log("loaded schools:",data),console.time&&console.time("[render]");var meta=data.metadata||data,total=meta.total,heading=resultsRoot.querySelector(".results-main-alert");tagalong(heading,meta,{results_word:format.plural("total","Result"),results_total:format.number("total","0")});var page=+params.page||0,perPage=meta.per_page,pages=getPages(total,perPage,page);tagalong(paginator,{pages:pages},{pages:{"@data-index":function(d){return String(d.index)},"@class":function(d){return d.index===page?"pagination-page_selected":d.arrow?"pagination-arrow":null},link:{text:"page","@data-page":function(d){return String(d.index)},"@href":function(d){return d.index===page?null:d.index===!1?null:"?"+querystring.stringify(picc.data.extend({},params,{page:d.index}))}}}}),bottomPaginator.innerHTML=paginator.innerHTML;var pageLinks=d3.select(resultsRoot).selectAll("a.select-page").on("click",function(){d3.event.preventDefault();var _page=this.getAttribute("data-page");"false"!==_page&&(pageLinks.each(function(){var p=this.getAttribute("data-page"),selected=p==_page;this.parentNode.classList.toggle("pagination-page_selected",selected)}),form.set("page",_page),incremental=!0,change())}),resultsList=resultsRoot.querySelector(".schools-list");ie&&alreadyLoaded&&removeAllChildren(resultsList),tagalong(resultsList,data.results,directives),alreadyLoaded=!0,console.timeEnd&&console.timeEnd("[render]")})}function getPages(total,perPage,page){var numPages=Math.ceil(total/perPage),previous=!1,next=!1;if(numPages>MAX_PAGES){var end=Math.min(page+MAX_PAGES,numPages),start=end-MAX_PAGES;pages=d3.range(start,start+MAX_PAGES),previous=start>0,next=numPages>end}else pages=d3.range(0,numPages);if(pages=pages.map(function(page){return{page:page+1,index:page}}),previous){var first=pages[0];pages.unshift({index:first.index-1,page:"<",arrow:!0}),first.index>1&&pages.unshift({index:0,page:"<<",arrow:!0})}if(next){var last=pages[pages.length-1];pages.push({index:last.index+1,page:">",arrow:!0}),last.index<numPages-1&&pages.push({index:numPages-1,page:">>",arrow:!0})}return pages}function showError(error){console.error("error:",error);var message=resultsRoot.querySelector(".error-message");error=error.responseText||error,message.textContent=String(error)||"There was an unexpected API error."}function diffExcept(a,b,keys){return a=picc.data.extend({},a),b=picc.data.extend({},b),keys.forEach(function(key){delete a[key],delete b[key]}),diff(a,b)}function diff(a,b){if(typeof a!=typeof b)return!0;if("object"==typeof a){for(k in a)if(diff(a[k],b[k]))return!0;for(k in b)if(diff(a[k],b[k]))return!0;return!1}return a!=b}function copyUnsetKeys(from,into){var copy=picc.data.extend({},into);for(var key in from)copy.hasOwnProperty(key)||(copy[key]=null);return copy}function updateSlider(){var input=this.querySelector("input");if(input){var value=input.value.split("..").map(Number);2===value.length&&(this.lower=value[0]||this.min,this.upper=value[1]||this.max)}}function updateDistanceDisabled(){var zip=form.get("zip"),dist=form.getInputsByName("distance")[0];dist&&(dist.disabled=!zip)}function scrollIntoView(){try{form.element.scrollIntoView()}catch(error){console.warn("unable to scroll results into view:",error)}}function removeAllChildren(node){for(;node.lastChild;)node.removeChild(node.lastChild)}var req,resultsRoot=document.querySelector(".search-results"),paginator=resultsRoot.querySelector(".pagination"),bottomPaginator=resultsRoot.querySelector(".pagination_bottom"),form=new formdb.Form("#search-form"),query=querystring.parse(location.search.substr(1)),previousParams=query||{},poppingState=!1,ready=!1,alreadyLoaded=!1,ie="number"==typeof document.documentMode,incremental=!1,submit=!0,MAX_PAGES=6,change=picc.debounce(onChange,100),directives=picc.data.selectKeys(picc.school.directives,["title","school_link","name","city","state","under_investigation","size_number","average_cost","average_cost_meter","grad_rate","grad_rate_meter","average_salary","average_salary_meter","more_link"]),win=d3.select(window),sliders=d3.selectAll("picc-slider"),toggles=d3.selectAll(".toggle-accordion").on("open",function(){var opened=this;toggles.each(function(){this!==opened&&this.close()});var event="click.toggle";win.on(event,function(){opened.contains(d3.event.target)||(win.on(event,null),opened.close())})});win.on("keyup.toggle",function(){27===d3.event.keyCode&&toggles.property("expanded",!1)}),picc.ui.expandAccordions(".toggle-accordion aria-accordion",function(){var inputs=this.querySelectorAll("[name]");return[].some.call(inputs,function(input){return query[input.name]})}),picc.ready(function(){ready=!0,form.setData(query),sliders.each(updateSlider).on("change",picc.debounce(function(){var input=this.querySelector("input");if(input){if(this.lower>this.min||this.upper<this.max){var lower=this.lower>this.min?this.lower:"",upper=this.upper<this.max?this.upper:"";input.value=[lower,upper].join("..")}else input.value="";change()}},200)),change()}),form.on("change",change),form.on("change:sort",function(){incremental=!0}),form.on("change:zip",updateDistanceDisabled),form.on("change:_drawer",function(value,e){submit=!1}),form.on("submit",function(data,e){return toggles.property("expanded",!1),scrollIntoView(),change(),e.preventDefault(),!1}),window.addEventListener("popstate",function(e){if(e.state){var state=copyUnsetKeys(previousParams,e.state);form.setData(state),sliders.each(updateSlider),poppingState=!0,onChange(),poppingState=!1}})};
},{"formdb":16,"querystring":21,"tagalong":17}],12:[function(require,module,exports){
(function(aight){function aliasInterface(ns,expectedName,nonStandardName){return ns[nonStandardName]&&!ns[expectedName]?(ns[expectedName]=ns[nonStandardName],!0):!1}function commonEventLoop(currentTarget,e,$handlers,synthetic){for(var continuePropagation,handlers=$handlers.slice(),evt=enrich(e,currentTarget),i=0,length=handlers.length;length>i&&(handler=handlers[i],"object"==typeof handler&&"function"==typeof handler.handleEvent?handler.handleEvent(evt):handler.call(currentTarget,evt),!evt.stoppedImmediatePropagation);i++);return continuePropagation=!evt.stoppedPropagation,synthetic&&continuePropagation&&currentTarget.parentNode?currentTarget.parentNode.dispatchEvent(evt):!evt.defaultPrevented}function commonDescriptor(get,set){return{configurable:!0,get:get,set:set}}function commonTextContent(protoDest,protoSource,property){var descriptor=getOwnPropertyDescriptor(protoSource||protoDest,property);defineProperty(protoDest,"textContent",commonDescriptor(function(){return descriptor.get.call(this)},function(textContent){descriptor.set.call(this,textContent)}))}function enrich(e,currentTarget){return e.currentTarget=currentTarget,e.eventPhase=e.target===e.currentTarget?2:3,e}function find(array,value){for(var i=array.length;i--&&array[i]!==value;);return i}function getTextContent(){if("BR"===this.tagName)return"\n";for(var textNode=this.firstChild,arrayContent=[];textNode;)8!==textNode.nodeType&&7!==textNode.nodeType&&arrayContent.push(textNode.textContent),textNode=textNode.nextSibling;return arrayContent.join("")}function onReadyState(e){!READYEVENTDISPATCHED&&readyStateOK.test(document.readyState)&&(READYEVENTDISPATCHED=!READYEVENTDISPATCHED,document.detachEvent(ONREADYSTATECHANGE,onReadyState),e=document.createEvent("Event"),e.initEvent(DOMCONTENTLOADED,!0,!0),document.dispatchEvent(e))}function setTextContent(textContent){for(var node;node=this.lastChild;)this.removeChild(node);null!=textContent&&this.appendChild(document.createTextNode(textContent))}function verify(self,e){return e||(e=window.event),e.target||(e.target=e.srcElement||e.fromElement||document),e.timeStamp||(e.timeStamp=(new Date).getTime()),e}aight.version="2.1.1";var nav=null,version=0,ie=!1;if("object"==typeof navigator&&(nav=navigator.appName,version=navigator.appVersion,ie="Microsoft Internet Explorer"===nav)){var match=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/);version=match?parseFloat(match[1]):0}if(aight.browser={name:nav,ie:ie?version:!1,ie9:ie&&version>=9&&10>version,ie8:ie&&version>=8&&9>version,ie7:ie&&version>=7&&8>version,ie6:ie&&version>=6&&7>version},"object"==typeof window){if(window.aight=aight,aliasInterface(window,"HTMLCommentElement","Comment"),aliasInterface(window,"HTMLDocument","Document"),aight.browser.ie<9){if(document.createEvent)return;var DUNNOABOUTDOMLOADED=!0,READYEVENTDISPATCHED=!1,ONREADYSTATECHANGE="onreadystatechange",DOMCONTENTLOADED="DOMContentLoaded",SECRET="__IE8__"+Math.random(),defineProperty=Object.defineProperty||function(object,property,descriptor){object[property]=descriptor.value},defineProperties=Object.defineProperties||function(object,descriptors){for(var key in descriptors)if(hasOwnProperty.call(descriptors,key))try{defineProperty(object,key,descriptors[key])}catch(o_O){window.console&&console.log(key+" failed on object:",object,o_O.message)}},getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,hasOwnProperty=Object.prototype.hasOwnProperty,ElementPrototype=window.Element.prototype,TextPrototype=window.Text.prototype,possiblyNativeEvent=/^[a-z]+$/,readyStateOK=/loaded|complete/,types={},div=document.createElement("div");commonTextContent(window.HTMLCommentElement.prototype,ElementPrototype,"nodeValue"),commonTextContent(window.HTMLScriptElement.prototype,null,"text"),commonTextContent(TextPrototype,null,"nodeValue"),commonTextContent(window.HTMLTitleElement.prototype,null,"text"),defineProperty(window.HTMLStyleElement.prototype,"textContent",function(descriptor){return commonDescriptor(function(){return descriptor.get.call(this.styleSheet)},function(textContent){descriptor.set.call(this.styleSheet,textContent)})}(getOwnPropertyDescriptor(window.CSSStyleSheet.prototype,"cssText"))),defineProperties(ElementPrototype,{textContent:{get:getTextContent,set:setTextContent},firstElementChild:{get:function(){for(var childNodes=this.childNodes||[],i=0,length=childNodes.length;length>i;i++)if(1==childNodes[i].nodeType)return childNodes[i]}},lastElementChild:{get:function(){for(var childNodes=this.childNodes||[],i=childNodes.length;i--;)if(1==childNodes[i].nodeType)return childNodes[i]}},previousElementSibling:{get:function(){for(var previousElementSibling=this.previousSibling;previousElementSibling&&1!=previousElementSibling.nodeType;)previousElementSibling=previousElementSibling.previousSibling;return previousElementSibling}},nextElementSibling:{get:function(){for(var nextElementSibling=this.nextSibling;nextElementSibling&&1!=nextElementSibling.nodeType;)nextElementSibling=nextElementSibling.nextSibling;return nextElementSibling}},childElementCount:{get:function(){for(var count=0,childNodes=this.childNodes||[],i=childNodes.length;i--;count+=1==childNodes[i].nodeType);return count}},addEventListener:{value:function(type,handler,capture){var e,self=this,ontype="on"+type,temple=self[SECRET]||defineProperty(self,SECRET,{value:{}})[SECRET],currentType=temple[ontype]||(temple[ontype]={}),handlers=currentType.h||(currentType.h=[]);if(!hasOwnProperty.call(currentType,"w")){if(currentType.w=function(e){return e[SECRET]||commonEventLoop(self,verify(self,e),handlers,!1)},!hasOwnProperty.call(types,ontype))if(possiblyNativeEvent.test(type))try{e=document.createEventObject(),e[SECRET]=!0,9!=self.nodeType&&null==self.parentNode&&div.appendChild(self),self.fireEvent(ontype,e),types[ontype]=!0}catch(e){for(types[ontype]=!1;div.hasChildNodes();)div.removeChild(div.firstChild)}else types[ontype]=!1;(currentType.n=types[ontype])&&self.attachEvent(ontype,currentType.w)}find(handlers,handler)<0&&handlers[capture?"unshift":"push"](handler)}},dispatchEvent:{value:function(e){var parentNode,self=this,ontype="on"+e.type,temple=self[SECRET],currentType=temple&&temple[ontype],valid=!!currentType;return e.target||(e.target=self),valid?currentType.n?self.fireEvent(ontype,e):commonEventLoop(self,e,currentType.h,!0):(parentNode=self.parentNode)?parentNode.dispatchEvent(e):!0,!e.defaultPrevented}},removeEventListener:{value:function(type,handler,capture){var self=this,ontype="on"+type,temple=self[SECRET],currentType=temple&&temple[ontype],handlers=currentType&&currentType.h,i=handlers?find(handlers,handler):-1;i>-1&&handlers.splice(i,1)}}}),defineProperties(TextPrototype,{addEventListener:{value:ElementPrototype.addEventListener},dispatchEvent:{value:ElementPrototype.dispatchEvent},removeEventListener:{value:ElementPrototype.removeEventListener}}),defineProperties(window.XMLHttpRequest.prototype,{addEventListener:{value:function(type,handler,capture){var self=this,ontype="on"+type,temple=self[SECRET]||defineProperty(self,SECRET,{value:{}})[SECRET],currentType=temple[ontype]||(temple[ontype]={}),handlers=currentType.h||(currentType.h=[]);find(handlers,handler)<0&&(self[ontype]||(self[ontype]=function(){var e=document.createEvent("Event");e.initEvent(type,!0,!0),self.dispatchEvent(e)}),handlers[capture?"unshift":"push"](handler))}},dispatchEvent:{value:function(e){var self=this,ontype="on"+e.type,temple=self[SECRET],currentType=temple&&temple[ontype],valid=!!currentType;return valid&&(currentType.n?self.fireEvent(ontype,e):commonEventLoop(self,e,currentType.h,!0))}},removeEventListener:{value:ElementPrototype.removeEventListener}}),defineProperties(window.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}},initEvent:{value:function(type,bubbles,cancelable){this.type=type,this.bubbles=!!bubbles,this.cancelable=!!cancelable,this.bubbles||this.stopPropagation()}}}),defineProperties(window.HTMLDocument.prototype,{textContent:{get:function(){return 11===this.nodeType?getTextContent.call(this):null},set:function(textContent){11===this.nodeType&&setTextContent.call(this,textContent)}},addEventListener:{value:function(type,handler,capture){var self=this;ElementPrototype.addEventListener.call(self,type,handler,capture),DUNNOABOUTDOMLOADED&&type===DOMCONTENTLOADED&&!readyStateOK.test(self.readyState)&&(DUNNOABOUTDOMLOADED=!1,self.attachEvent(ONREADYSTATECHANGE,onReadyState),window==top&&!function gonna(e){try{self.documentElement.doScroll("left"),onReadyState()}catch(o_O){setTimeout(gonna,50)}}())}},dispatchEvent:{value:ElementPrototype.dispatchEvent},removeEventListener:{value:ElementPrototype.removeEventListener},createEvent:{value:function(Class){var e;if("Event"!==Class)throw new Error("unsupported "+Class);return e=document.createEventObject(),e.timeStamp=(new Date).getTime(),e}}}),defineProperties(window.Window.prototype,{getComputedStyle:{value:function(){function ComputedStyle(_){this._=_}function PseudoComputedStyle(){}var notpixel=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,position=/^(top|right|bottom|left)$/,re=/\-([a-z])/g,place=function(match,$1){return $1.toUpperCase()};return ComputedStyle.prototype.getPropertyValue=function(name){var result,left,rtLeft,el=this._,style=el.style,currentStyle=el.currentStyle,runtimeStyle=el.runtimeStyle;return name=("float"===name?"style-float":name).replace(re,place),result=currentStyle?currentStyle[name]:style[name],notpixel.test(result)&&!position.test(name)&&(left=style.left,rtLeft=runtimeStyle&&runtimeStyle.left,rtLeft&&(runtimeStyle.left=currentStyle.left),style.left="fontSize"===name?"1em":result,result=style.pixelLeft+"px",style.left=left,rtLeft&&(runtimeStyle.left=rtLeft)),null==result?result:result+""||"auto"},PseudoComputedStyle.prototype.getPropertyValue=function(){return null},function(el,pseudo){return pseudo?new PseudoComputedStyle(el):new ComputedStyle(el)}}()},addEventListener:{value:function(type,handler,capture){var handlers,self=window,ontype="on"+type;self[ontype]||(self[ontype]=function(e){return commonEventLoop(self,verify(self,e),handlers,!1)}),handlers=self[ontype][SECRET]||(self[ontype][SECRET]=[]),find(handlers,handler)<0&&handlers[capture?"unshift":"push"](handler)}},dispatchEvent:{value:function(e){var method=window["on"+e.type];return method?method.call(window,e)!==!1&&!e.defaultPrevented:!0}},removeEventListener:{value:function(type,handler,capture){var ontype="on"+type,handlers=(window[ontype]||Object)[SECRET],i=handlers?find(handlers,handler):-1;i>-1&&handlers.splice(i,1)}}})}if(function(window){"use strict";function textNodeIfString(node){return"string"==typeof node?window.document.createTextNode(node):node}function mutationMacro(nodes){if(1===nodes.length)return textNodeIfString(nodes[0]);for(var fragment=window.document.createDocumentFragment(),list=slice.call(nodes),i=0;i<nodes.length;i++)fragment.appendChild(textNodeIfString(list[i]));return fragment}for(var head,property,verifyToken,DOMTokenList,defineProperty=Object.defineProperty||function(object,property,descriptor){object.__defineGetter__(property,descriptor.get)},indexOf=[].indexOf||function(value){for(var length=this.length;length--&&this[length]!==value;);return length},trim=/^\s+|\s+$/g,spaces=/\s+/,SPACE=" ",toggle=function(token,force){return this.contains(token)?force||this.remove(token):(void 0===force||force)&&(force=!0,this.add(token)),!!force},ElementPrototype=(window.Element||window.Node||window.HTMLElement).prototype,properties=["matches",ElementPrototype.matchesSelector||ElementPrototype.webkitMatchesSelector||ElementPrototype.khtmlMatchesSelector||ElementPrototype.mozMatchesSelector||ElementPrototype.msMatchesSelector||ElementPrototype.oMatchesSelector||function(selector){var parentNode=this.parentNode;return!!parentNode&&-1<indexOf.call(parentNode.querySelectorAll(selector),this)},"closest",function(selector){for(var matches,parentNode=this;(matches=parentNode&&parentNode.matches)&&!parentNode.matches(selector);)parentNode=parentNode.parentNode;return matches?parentNode:null},"prepend",function(){var firstChild=this.firstChild,node=mutationMacro(arguments);firstChild?this.insertBefore(node,firstChild):this.appendChild(node)},"append",function(){this.appendChild(mutationMacro(arguments))},"before",function(){var parentNode=this.parentNode;parentNode&&parentNode.insertBefore(mutationMacro(arguments),this)},"after",function(){var parentNode=this.parentNode,nextSibling=this.nextSibling,node=mutationMacro(arguments);parentNode&&(nextSibling?parentNode.insertBefore(node,nextSibling):parentNode.appendChild(node))},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var parentNode=this.parentNode;parentNode&&parentNode.replaceChild(mutationMacro(arguments),this)},"remove",function(){var parentNode=this.parentNode;parentNode&&parentNode.removeChild(this)}],slice=properties.slice,i=properties.length;i;i-=2)property=properties[i-2],property in ElementPrototype||(ElementPrototype[property]=properties[i-1]);document.createElement("a").matches("a")||(ElementPrototype[property]=function(matches){return function(selector){return matches.call(this.parentNode?this:document.createDocumentFragment().appendChild(this),selector)}}(ElementPrototype[property])),"classList"in document.documentElement?(DOMTokenList=document.createElement("div").classList,DOMTokenList.add("a","b","a"),"a b"!=DOMTokenList&&(ElementPrototype=DOMTokenList.constructor.prototype,"add"in ElementPrototype||(ElementPrototype=window.DOMTokenList.prototype),verifyToken=function(original){return function(){for(var i=0;i<arguments.length;)original.call(this,arguments[i++])}},ElementPrototype.add=verifyToken(ElementPrototype.add),ElementPrototype.remove=verifyToken(ElementPrototype.remove),ElementPrototype.toggle=toggle)):(verifyToken=function(token){if(!token)throw"SyntaxError";if(spaces.test(token))throw"InvalidCharacterError";return token},DOMTokenList=function(node){this._svg="object"==typeof node.className;var className=(this._svg?node.className.baseVal:node.className).replace(trim,"");className&&properties.push.apply(this,className.split(spaces)),this._=node},DOMTokenList.prototype={length:0,add:function(){for(var token,j=0;j<arguments.length;j++)token=arguments[j],this.contains(token)||properties.push.call(this,property);this._svg?this._.className.baseVal=""+this:this._.className=""+this},contains:function(indexOf){return function(token){return i=indexOf.call(this,property=verifyToken(token)),i>-1}}([].indexOf||function(token){for(i=this.length;i--&&this[i]!==token;);return i}),item:function(i){return this[i]||null},remove:function(){for(var token,j=0;j<arguments.length;j++)token=arguments[j],this.contains(token)&&properties.splice.call(this,i,1);this._svg?this._.className.baseVal=""+this:this._.className=""+this},toggle:toggle,toString:function(){return properties.join.call(this,SPACE)}},defineProperty(ElementPrototype,"classList",{get:function(){return new DOMTokenList(this)},set:function(){}})),"head"in document||defineProperty(document,"head",{get:function(){return head||(head=document.getElementsByTagName("head")[0])}});try{new window.CustomEvent("?")}catch(o_O){window.CustomEvent=function(eventName,defaultInitDict){function CustomEvent(type,eventInitDict){var event=document.createEvent(eventName);if("string"!=typeof type)throw new Error("An event name must be provided");return"Event"==eventName&&(event.initCustomEvent=initCustomEvent),null==eventInitDict&&(eventInitDict=defaultInitDict),event.initCustomEvent(type,eventInitDict.bubbles,eventInitDict.cancelable,eventInitDict.detail),event}function initCustomEvent(type,bubbles,cancelable,detail){this.initEvent(type,bubbles,cancelable),this.detail=detail}return CustomEvent}(window.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}}(window),function(CSSSDProto){function getAttribute(property){return property.replace(/-[a-z]/g,function(bit){return bit[1].toUpperCase()})}"undefined"!=typeof CSSSDProto.setAttribute&&(CSSSDProto.setProperty=function(property,value){return this.setAttribute(getAttribute(property),String(value))},CSSSDProto.getPropertyValue=function(property){return this.getAttribute(getAttribute(property))||null},CSSSDProto.removeProperty=function(property){var value=this.getPropertyValue(property);return this.removeAttribute(getAttribute(property)),value})}(CSSStyleDeclaration.prototype),!("createElementNS"in document)){var DocumentPrototype=window.HTMLDocument.prototype;DocumentPrototype.createElementNS=function(ns,name){if(ns)throw new Error("sorry, this browser does not support namespaces");return DocumentPrototype.createElement.call(this,name)}}!function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function addElements(newElements,ownerDocument){var elements=html5.elements;"string"!=typeof elements&&(elements=elements.join(" ")),"string"!=typeof newElements&&(newElements=newElements.join(" ")),html5.elements=elements+" "+newElements,shivDocument(ownerDocument)}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName),!node.canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();data=data||getExpandoData(ownerDocument);for(var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;l>i;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-:]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,version="3.7.2",options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return"undefined"==typeof frag.cloneNode||"undefined"==typeof frag.createDocumentFragment||"undefined"==typeof frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:version,shivCSS:options.shivCSS!==!1,supportsUnknownElements:supportsUnknownElements,shivMethods:options.shivMethods!==!1,type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment,addElements:addElements};window.html5=html5,shivDocument(document)}(this,document)}}).call(this,"object"==typeof module?module.exports:this.aight={}),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.returnExports=factory()}(this,function(){function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}function isPrimitive(input){var type=typeof input;return null===input||"undefined"===type||"boolean"===type||"number"===type||"string"===type}function toPrimitive(input){var val,valueOf,toStr;if(isPrimitive(input))return input;if(valueOf=input.valueOf,isFunction(valueOf)&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toStr=input.toString,isFunction(toStr)&&(val=toStr.call(input),isPrimitive(val)))return val;throw new TypeError}function Empty(){}var defineProperty,ArrayPrototype=Array.prototype,ObjectPrototype=Object.prototype,FunctionPrototype=Function.prototype,StringPrototype=String.prototype,NumberPrototype=Number.prototype,array_slice=ArrayPrototype.slice,array_splice=ArrayPrototype.splice,array_unshift=(ArrayPrototype.push,ArrayPrototype.unshift),call=FunctionPrototype.call,_toString=ObjectPrototype.toString,isFunction=function(val){return"[object Function]"===ObjectPrototype.toString.call(val)},isRegex=function(val){return"[object RegExp]"===ObjectPrototype.toString.call(val)},isArray=function(obj){return"[object Array]"===_toString.call(obj)},isString=function(obj){return"[object String]"===_toString.call(obj)},isArguments=function(value){var str=_toString.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs=!isArray(value)&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&isFunction(value.callee)),isArgs},supportsDescriptors=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();defineProperty=supportsDescriptors?function(object,name,method,forceAssign){!forceAssign&&name in object||Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:method})}:function(object,name,method,forceAssign){!forceAssign&&name in object||(object[name]=method)};var defineProperties=function(object,map,forceAssign){for(var name in map)ObjectPrototype.hasOwnProperty.call(map,name)&&defineProperty(object,name,map[name],forceAssign)},toObject=function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return Object(o)},ToUint32=function(x){return x>>>0};defineProperties(FunctionPrototype,{bind:function(that){var target=this;if(!isFunction(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var args=array_slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(array_slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(array_slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;boundLength>i;i++)boundArgs.push("$"+i);var bound=Function("binder","return function ("+boundArgs.join(",")+"){return binder.apply(this,arguments)}")(binder);return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,owns=call.bind(ObjectPrototype.hasOwnProperty);(supportsAccessors=owns(ObjectPrototype,"__defineGetter__"))&&(defineGetter=call.bind(ObjectPrototype.__defineGetter__),defineSetter=call.bind(ObjectPrototype.__defineSetter__),lookupGetter=call.bind(ObjectPrototype.__lookupGetter__),lookupSetter=call.bind(ObjectPrototype.__lookupSetter__));var spliceNoopReturnsEmptyArray=function(){var a=[1,2],result=a.splice();return 2===a.length&&isArray(result)&&0===result.length}();defineProperties(ArrayPrototype,{splice:function(start,deleteCount){return 0===arguments.length?[]:array_splice.apply(this,arguments)}},spliceNoopReturnsEmptyArray);var spliceWorksWithEmptyObject=function(){var obj={};return ArrayPrototype.splice.call(obj,0,0,1),1===obj.length}();defineProperties(ArrayPrototype,{splice:function(start,deleteCount){if(0===arguments.length)return[];var args=arguments;return this.length=Math.max(toInteger(this.length),0),arguments.length>0&&"number"!=typeof deleteCount&&(args=array_slice.call(arguments),args.length<2?args.push(this.length-start):args[1]=toInteger(deleteCount)),array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var hasUnshiftReturnValueBug=1!==[].unshift(0);defineProperties(ArrayPrototype,{unshift:function(){return array_unshift.apply(this,arguments),this.length}},hasUnshiftReturnValueBug),defineProperties(Array,{isArray:isArray});var boxedString=Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),properlyBoxesContext=function(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0;return method&&(method.call("foo",function(_,__,context){"object"!=typeof context&&(properlyBoxesNonStrict=!1)}),method.call([1],function(){"use strict";properlyBoxesStrict="string"==typeof this},"x")),!!method&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(!isFunction(fun))throw new TypeError;for(;++i<length;)i in self&&fun.call(thisp,self[i],i,object)}},!properlyBoxesContext(ArrayPrototype.forEach)),defineProperties(ArrayPrototype,{map:function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}},!properlyBoxesContext(ArrayPrototype.map)),defineProperties(ArrayPrototype,{filter:function(fun){var value,object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}},!properlyBoxesContext(ArrayPrototype.filter)),defineProperties(ArrayPrototype,{every:function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}},!properlyBoxesContext(ArrayPrototype.every)),defineProperties(ArrayPrototype,{some:function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=!1;ArrayPrototype.reduce&&(reduceCoercesToObject="object"==typeof ArrayPrototype.reduce.call("es5",function(_,__,___,list){return list})),defineProperties(ArrayPrototype,{reduce:function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0;if(!isFunction(fun))throw new TypeError(fun+" is not a function");if(!length&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=!1;ArrayPrototype.reduceRight&&(reduceRightCoercesToObject="object"==typeof ArrayPrototype.reduceRight.call("es5",function(_,__,___,list){return list})),defineProperties(ArrayPrototype,{reduceRight:function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0;if(!isFunction(fun))throw new TypeError(fun+" is not a function");if(!length&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>i)return result;do i in self&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);defineProperties(ArrayPrototype,{indexOf:function(sought){var self=splitString&&isString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);defineProperties(ArrayPrototype,{lastIndexOf:function(sought){var self=splitString&&isString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}},hasFirefox2LastIndexOfBug);var hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;defineProperties(Object,{keys:function(object){var isFn=isFunction(object),isArgs=isArguments(object),isObject=null!==object&&"object"==typeof object,isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs)throw new TypeError("Object.keys called on a non-object");var theKeys=[],skipProto=hasProtoEnumBug&&isFn;if(isStr||isArgs)for(var i=0;i<object.length;++i)theKeys.push(String(i));else for(var name in object)skipProto&&"prototype"===name||!owns(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var ctor=object.constructor,skipConstructor=ctor&&ctor.prototype===object,j=0;dontEnumsLength>j;j++){var dontEnum=dontEnums[j];skipConstructor&&"constructor"===dontEnum||!owns(object,dontEnum)||theKeys.push(dontEnum)}return theKeys}});var keysWorksWithArguments=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),originalKeys=Object.keys;defineProperties(Object,{keys:function(object){return originalKeys(isArguments(object)?ArrayPrototype.slice.call(object):object)}},!keysWorksWithArguments);var negativeDate=-621987552e5,negativeYearString="-000001",hasNegativeDateBug=Date.prototype.toISOString&&-1===new Date(negativeDate).toISOString().indexOf(negativeYearString);
defineProperties(Date.prototype,{toISOString:function(){var result,length,value,year,month;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(year=this.getUTCFullYear(),month=this.getUTCMonth(),year+=Math.floor(month/12),month=(month%12+12)%12,result=[month+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],year=(0>year?"-":year>9999?"+":"")+("00000"+Math.abs(year)).slice(year>=0&&9999>=year?-4:-6),length=result.length;length--;)value=result[length],10>value&&(result[length]="0"+value);return year+"-"+result.slice(0,2).join("-")+"T"+result.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},hasNegativeDateBug);var dateToJSONIsSupported=!1;try{dateToJSONIsSupported=Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(negativeDate).toJSON().indexOf(negativeYearString)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){}dateToJSONIsSupported||(Date.prototype.toJSON=function(key){var toISO,o=Object(this),tv=toPrimitive(o);if("number"==typeof tv&&!isFinite(tv))return null;if(toISO=o.toISOString,"function"!=typeof toISO)throw new TypeError("toISOString property is not callable");return toISO.call(o)});var supportsExtendedYears=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),doesNotParseY2KNewYear=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||doesNotParseY2KNewYear||acceptsInvalidDates||!supportsExtendedYears)&&(Date=function(NativeDate){function Date(Y,M,D,h,m,s,ms){var length=arguments.length;if(this instanceof NativeDate){var date=1===length&&String(Y)===Y?new NativeDate(Date.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,s,ms):length>=6?new NativeDate(Y,M,D,h,m,s):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y):new NativeDate;return date.constructor=Date,date}return NativeDate.apply(this,arguments)}function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)}function toUTC(t){return Number(new NativeDate(1970,0,1,0,0,0,t))}var isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var key in NativeDate)Date[key]=NativeDate[key];return Date.now=NativeDate.now,Date.UTC=NativeDate.UTC,Date.prototype=NativeDate.prototype,Date.prototype.constructor=Date,Date.parse=function(string){var match=isoDateExpression.exec(string);if(match){var result,year=Number(match[1]),month=Number(match[2]||1)-1,day=Number(match[3]||1)-1,hour=Number(match[4]||0),minute=Number(match[5]||0),second=Number(match[6]||0),millisecond=Math.floor(1e3*Number(match[7]||0)),isLocalTime=Boolean(match[4]&&!match[8]),signOffset="-"===match[9]?1:-1,hourOffset=Number(match[10]||0),minuteOffset=Number(match[11]||0);return(minute>0||second>0||millisecond>0?24:25)>hour&&60>minute&&60>second&&1e3>millisecond&&month>-1&&12>month&&24>hourOffset&&60>minuteOffset&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset),result=1e3*(60*(result+minute+minuteOffset*signOffset)+second)+millisecond,isLocalTime&&(result=toUTC(result)),result>=-864e13&&864e13>=result)?result:NaN}return NativeDate.parse.apply(this,arguments)},Date}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var hasToFixedBugs=NumberPrototype.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(n,c){for(var i=-1;++i<toFixedHelpers.size;)c+=n*toFixedHelpers.data[i],toFixedHelpers.data[i]=c%toFixedHelpers.base,c=Math.floor(c/toFixedHelpers.base)},divide:function(n){for(var i=toFixedHelpers.size,c=0;--i>=0;)c+=toFixedHelpers.data[i],toFixedHelpers.data[i]=Math.floor(c/n),c=c%n*toFixedHelpers.base},numToString:function(){for(var i=toFixedHelpers.size,s="";--i>=0;)if(""!==s||0===i||0!==toFixedHelpers.data[i]){var t=String(toFixedHelpers.data[i]);""===s?s=t:s+="0000000".slice(0,7-t.length)+t}return s},pow:function pow(x,n,acc){return 0===n?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function(x){for(var n=0;x>=4096;)n+=12,x/=4096;for(;x>=2;)n+=1,x/=2;return n}};defineProperties(NumberPrototype,{toFixed:function(fractionDigits){var f,x,s,m,e,z,j,k;if(f=Number(fractionDigits),f=f!==f?0:Math.floor(f),0>f||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=Number(this),x!==x)return"NaN";if(-1e21>=x||x>=1e21)return String(x);if(s="",0>x&&(s="-",x=-x),m="0",x>1e-21)if(e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69,z=0>e?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1),z*=4503599627370496,e=52-e,e>0){for(toFixedHelpers.multiply(0,z),j=f;j>=7;)toFixedHelpers.multiply(1e7,0),j-=7;for(toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0),j=e-1;j>=23;)toFixedHelpers.divide(1<<23),j-=23;toFixedHelpers.divide(1<<j),toFixedHelpers.multiply(1,1),toFixedHelpers.divide(2),m=toFixedHelpers.numToString()}else toFixedHelpers.multiply(0,z),toFixedHelpers.multiply(1<<-e,0),m=toFixedHelpers.numToString()+"0.00000000000000000000".slice(2,2+f);return f>0?(k=m.length,m=f>=k?s+"0.0000000000000000000".slice(0,f-k+2)+m:s+m.slice(0,k-f)+"."+m.slice(k-f)):m=s+m,m}},hasToFixedBugs);var string_split=StringPrototype.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var compliantExecNpcg=void 0===/()??/.exec("")[1];StringPrototype.split=function(separator,limit){var string=this;if(void 0===separator&&0===limit)return[];if("[object RegExp]"!==_toString.call(separator))return string_split.call(this,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0;for(separator=new RegExp(separator.source,flags+"g"),string+="",compliantExecNpcg||(separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)),limit=void 0===limit?-1>>>0:ToUint32(limit);(match=separator.exec(string))&&(lastIndex=match.index+match[0].length,!(lastIndex>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&ArrayPrototype.push.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=limit)));)separator.lastIndex===match.index&&separator.lastIndex++;return lastLastIndex===string.length?(lastLength||!separator.test(""))&&output.push(""):output.push(string.slice(lastLastIndex)),output.length>limit?output.slice(0,limit):output}}():"0".split(void 0,0).length&&(StringPrototype.split=function(separator,limit){return void 0===separator&&0===limit?[]:string_split.call(this,separator,limit)});var str_replace=StringPrototype.replace,replaceReportsGroupsCorrectly=function(){var groups=[];return"x".replace(/x(.)?/g,function(match,group){groups.push(group)}),1===groups.length&&"undefined"==typeof groups[0]}();replaceReportsGroupsCorrectly||(StringPrototype.replace=function(searchValue,replaceValue){var isFn=isFunction(replaceValue),hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(isFn&&hasCapturingGroups){var wrappedReplaceValue=function(match){var length=arguments.length,originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];return searchValue.lastIndex=originalLastIndex,args.push(arguments[length-2],arguments[length-1]),replaceValue.apply(this,args)};return str_replace.call(this,searchValue,wrappedReplaceValue)}return str_replace.call(this,searchValue,replaceValue)});var string_substr=StringPrototype.substr,hasNegativeSubstrBug="".substr&&"b"!=="0b".substr(-1);defineProperties(StringPrototype,{substr:function(start,length){return string_substr.call(this,0>start&&(start=this.length+start)<0?0:start,length)}},hasNegativeSubstrBug);var ws="	\n\f\r   ᠎             　\u2028\u2029\ufeff",zeroWidth="​",wsRegexChars="["+ws+"]",trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*"),trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$"),hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!zeroWidth.trim());defineProperties(StringPrototype,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug),(8!==parseInt(ws+"08")||22!==parseInt(ws+"0x16"))&&(parseInt=function(origParseInt){var hexRegex=/^0[xX]/;return function(str,radix){return str=String(str).trim(),Number(radix)||(radix=hexRegex.test(str)?16:10),origParseInt(str,radix)}}(parseInt))}),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.returnExports=factory()}(this,function(){function doesGetOwnPropertyDescriptorWork(object){try{return object.sentinel=0,0===Object.getOwnPropertyDescriptor(object,"sentinel").value}catch(exception){}}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}var defineGetter,defineSetter,lookupGetter,lookupSetter,call=Function.prototype.call,prototypeOfObject=Object.prototype,owns=call.bind(prototypeOfObject.hasOwnProperty),supportsAccessors=owns(prototypeOfObject,"__defineGetter__");if(supportsAccessors&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){var proto=object.__proto__;return proto||null===proto?proto:object.constructor?object.constructor.prototype:prototypeOfObject}),Object.defineProperty){var getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({}),getOwnPropertyDescriptorWorksOnDom="undefined"==typeof document||doesGetOwnPropertyDescriptorWork(document.createElement("div"));if(!getOwnPropertyDescriptorWorksOnDom||!getOwnPropertyDescriptorWorksOnObject)var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(getOwnPropertyDescriptorFallback)try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}if(owns(object,property)){var descriptor={enumerable:!0,configurable:!0};if(supportsAccessors){var prototype=object.__proto__,notPrototypeOfObject=object!==prototypeOfObject;notPrototypeOfObject&&(object.__proto__=prototypeOfObject);var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(notPrototypeOfObject&&(object.__proto__=prototype),getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor.writable=!0,descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty,supportsProto=!({__proto__:null}instanceof Object);createEmpty=supportsProto||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function Empty(){}var iframe=document.createElement("iframe"),parent=document.body||document.documentElement;iframe.style.display="none",parent.appendChild(iframe),iframe.src="javascript:";var empty=iframe.contentWindow.Object.prototype;return parent.removeChild(iframe),iframe=null,delete empty.constructor,delete empty.hasOwnProperty,delete empty.propertyIsEnumerable,delete empty.isPrototypeOf,delete empty.toLocaleString,delete empty.toString,delete empty.valueOf,empty.__proto__=null,Empty.prototype=empty,createEmpty=function(){return new Empty},new Empty},Object.create=function(prototype,properties){function Type(){}var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype&&"function"!=typeof prototype)throw new TypeError("Object prototype may only be an Object or null");Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}(!Object.defineProperties||definePropertiesFallback)&&(Object.defineProperties=function(object,properties){if(definePropertiesFallback)try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}for(var property in properties)owns(properties,property)&&"__proto__"!==property&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(object){return!1}),Object.isFrozen||(Object.isFrozen=function(object){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)!==object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue})});
},{}],13:[function(require,module,exports){
(function (process,global){
!function(){function noop(){}function identity(v){return v}function toBool(v){return!!v}function notId(v){return!v}function only_once(fn){return function(){if(null===fn)throw new Error("Callback was already called.");fn.apply(this,arguments),fn=null}}function _once(fn){return function(){null!==fn&&(fn.apply(this,arguments),fn=null)}}function _isArrayLike(arr){return _isArray(arr)||"number"==typeof arr.length&&arr.length>=0&&arr.length%1===0}function _each(coll,iterator){return _isArrayLike(coll)?_arrayEach(coll,iterator):_forEachOf(coll,iterator)}function _arrayEach(arr,iterator){for(var index=-1,length=arr.length;++index<length;)iterator(arr[index],index,arr)}function _map(arr,iterator){for(var index=-1,length=arr.length,result=Array(length);++index<length;)result[index]=iterator(arr[index],index,arr);return result}function _range(count){return _map(Array(count),function(v,i){return i})}function _reduce(arr,iterator,memo){return _arrayEach(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo}function _forEachOf(object,iterator){_arrayEach(_keys(object),function(key){iterator(object[key],key)})}function _indexOf(arr,item){for(var i=0;i<arr.length;i++)if(arr[i]===item)return i;return-1}function _keyIterator(coll){var len,keys,i=-1;return _isArrayLike(coll)?(len=coll.length,function(){return i++,len>i?i:null}):(keys=_keys(coll),len=keys.length,function(){return i++,len>i?keys[i]:null})}function _restParam(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;length>index;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest)}}}function _withoutIndex(iterator){return function(value,index,callback){return iterator(value,callback)}}function _eachOfLimit(limit){return function(obj,iterator,callback){callback=_once(callback||noop),obj=obj||[];var nextKey=_keyIterator(obj);if(0>=limit)return callback(null);var done=!1,running=0,errored=!1;!function replenish(){if(done&&0>=running)return callback(null);for(;limit>running&&!errored;){var key=nextKey();if(null===key)return done=!0,void(0>=running&&callback(null));running+=1,iterator(obj[key],key,only_once(function(err){running-=1,err?(callback(err),errored=!0):replenish()}))}}()}}function doParallel(fn){return function(obj,iterator,callback){return fn(async.eachOf,obj,iterator,callback)}}function doParallelLimit(fn){return function(obj,limit,iterator,callback){return fn(_eachOfLimit(limit),obj,iterator,callback)}}function doSeries(fn){return function(obj,iterator,callback){return fn(async.eachOfSeries,obj,iterator,callback)}}function _asyncMap(eachfn,arr,iterator,callback){callback=_once(callback||noop);var results=[];eachfn(arr,function(value,index,callback){iterator(value,function(err,v){results[index]=v,callback(err)})},function(err){callback(err,results)})}function _filter(eachfn,arr,iterator,callback){var results=[];eachfn(arr,function(x,index,callback){iterator(x,function(v){v&&results.push({index:index,value:x}),callback()})},function(){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})}function _reject(eachfn,arr,iterator,callback){_filter(eachfn,arr,function(value,cb){iterator(value,function(v){cb(!v)})},callback)}function _createTester(eachfn,check,getResult){return function(arr,limit,iterator,cb){function done(){cb&&cb(getResult(!1,void 0))}function iteratee(x,_,callback){return cb?void iterator(x,function(v){cb&&check(v)&&(cb(getResult(!0,x)),cb=iterator=!1),callback()}):callback()}arguments.length>3?eachfn(arr,limit,iteratee,done):(cb=iterator,iterator=limit,eachfn(arr,iteratee,done))}}function _findGetResult(v,x){return x}function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=_isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(_restParam(function(err,args){args.length<=1&&(args=args[0]),results[key]=args,callback(err)}))},function(err){callback(err,results)})}function _concat(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]),cb(err)})},function(err){callback(err,result)})}function _queue(worker,concurrency,payload){function _insert(q,data,pos,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,_isArray(data)||(data=[data]),0===data.length&&q.idle()?async.setImmediate(function(){q.drain()}):(_arrayEach(data,function(task){var item={data:task,callback:callback||noop};pos?q.tasks.unshift(item):q.tasks.push(item),q.tasks.length===q.concurrency&&q.saturated()}),void async.setImmediate(q.process))}function _next(q,tasks){return function(){workers-=1;var args=arguments;_arrayEach(tasks,function(task){task.callback.apply(task,args)}),q.tasks.length+workers===0&&q.drain(),q.process()}}if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var workers=0,q={tasks:[],concurrency:concurrency,payload:payload,saturated:noop,empty:noop,drain:noop,started:!1,paused:!1,push:function(data,callback){_insert(q,data,!1,callback)},kill:function(){q.drain=noop,q.tasks=[]},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(!q.paused&&workers<q.concurrency&&q.tasks.length)for(;workers<q.concurrency&&q.tasks.length;){var tasks=q.payload?q.tasks.splice(0,q.payload):q.tasks.splice(0,q.tasks.length),data=_map(tasks,function(task){return task.data});0===q.tasks.length&&q.empty(),workers+=1;var cb=only_once(_next(q,tasks));worker(data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},idle:function(){return q.tasks.length+workers===0},pause:function(){q.paused=!0},resume:function(){if(q.paused!==!1){q.paused=!1;for(var resumeCount=Math.min(q.concurrency,q.tasks.length),w=1;resumeCount>=w;w++)async.setImmediate(q.process)}}};return q}function _console_fn(name){return _restParam(function(fn,args){fn.apply(null,args.concat([_restParam(function(err,args){"undefined"!=typeof console&&(err?console.error&&console.error(err):console[name]&&_arrayEach(args,function(x){console[name](x)}))})]))})}function _times(mapper){return function(count,iterator,callback){mapper(_range(count),iterator,callback)}}function _applyEach(eachfn){return _restParam(function(fns,args){var go=_restParam(function(args){var that=this,callback=args.pop();return eachfn(fns,function(fn,_,cb){fn.apply(that,args.concat([cb]))},callback)});return args.length?go.apply(this,args):go})}function ensureAsync(fn){return _restParam(function(args){var callback=args.pop();args.push(function(){var innerArgs=arguments;sync?async.setImmediate(function(){callback.apply(null,innerArgs)}):callback.apply(null,innerArgs)});var sync=!0;fn.apply(this,args),sync=!1})}var previous_async,async={},root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _toString=Object.prototype.toString,_isArray=Array.isArray||function(obj){return"[object Array]"===_toString.call(obj)},_keys=Object.keys||function(obj){var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys},_setImmediate="function"==typeof setImmediate&&setImmediate,_delay=_setImmediate?function(fn){_setImmediate(fn)}:function(fn){setTimeout(fn,0)};"object"==typeof process&&"function"==typeof process.nextTick?async.nextTick=process.nextTick:async.nextTick=_delay,async.setImmediate=_setImmediate?_delay:async.nextTick,async.forEach=async.each=function(arr,iterator,callback){return async.eachOf(arr,_withoutIndex(iterator),callback)},async.forEachSeries=async.eachSeries=function(arr,iterator,callback){return async.eachOfSeries(arr,_withoutIndex(iterator),callback)},async.forEachLimit=async.eachLimit=function(arr,limit,iterator,callback){return _eachOfLimit(limit)(arr,_withoutIndex(iterator),callback)},async.forEachOf=async.eachOf=function(object,iterator,callback){function done(err){err?callback(err):(completed+=1,completed>=size&&callback(null))}callback=_once(callback||noop),object=object||[];var size=_isArrayLike(object)?object.length:_keys(object).length,completed=0;return size?void _each(object,function(value,key){iterator(object[key],key,only_once(done))}):callback(null)},async.forEachOfSeries=async.eachOfSeries=function(obj,iterator,callback){function iterate(){var sync=!0;return null===key?callback(null):(iterator(obj[key],key,only_once(function(err){if(err)callback(err);else{if(key=nextKey(),null===key)return callback(null);sync?async.nextTick(iterate):iterate()}})),void(sync=!1))}callback=_once(callback||noop),obj=obj||[];var nextKey=_keyIterator(obj),key=nextKey();iterate()},async.forEachOfLimit=async.eachOfLimit=function(obj,limit,iterator,callback){_eachOfLimit(limit)(obj,iterator,callback)},async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=doParallelLimit(_asyncMap),async.inject=async.foldl=async.reduce=function(arr,memo,iterator,callback){async.eachOfSeries(arr,function(x,i,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err||null,memo)})},async.foldr=async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,identity).reverse();async.reduce(reversed,memo,iterator,callback)},async.select=async.filter=doParallel(_filter),async.selectLimit=async.filterLimit=doParallelLimit(_filter),async.selectSeries=async.filterSeries=doSeries(_filter),async.reject=doParallel(_reject),async.rejectLimit=doParallelLimit(_reject),async.rejectSeries=doSeries(_reject),async.any=async.some=_createTester(async.eachOf,toBool,identity),async.someLimit=_createTester(async.eachOfLimit,toBool,identity),async.all=async.every=_createTester(async.eachOf,notId,notId),async.everyLimit=_createTester(async.eachOfLimit,notId,notId),async.detect=_createTester(async.eachOf,identity,_findGetResult),async.detectSeries=_createTester(async.eachOfSeries,identity,_findGetResult),async.sortBy=function(arr,iterator,callback){function comparator(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0}async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){return err?callback(err):void callback(null,_map(results.sort(comparator),function(x){return x.value}))})},async.auto=function(tasks,callback){function addListener(fn){listeners.unshift(fn)}function removeListener(fn){var idx=_indexOf(listeners,fn);idx>=0&&listeners.splice(idx,1)}function taskComplete(){remainingTasks--,_arrayEach(listeners.slice(0),function(fn){fn()})}callback=_once(callback||noop);var keys=_keys(tasks),remainingTasks=keys.length;if(!remainingTasks)return callback(null);var results={},listeners=[];addListener(function(){remainingTasks||callback(null,results)}),_arrayEach(keys,function(k){function ready(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)}function listener(){ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))}for(var dep,task=_isArray(tasks[k])?tasks[k]:[tasks[k]],taskCallback=_restParam(function(err,args){if(args.length<=1&&(args=args[0]),err){var safeResults={};_forEachOf(results,function(val,rkey){safeResults[rkey]=val}),safeResults[k]=args,callback(err,safeResults)}else results[k]=args,async.setImmediate(taskComplete)}),requires=task.slice(0,task.length-1),len=requires.length;len--;){if(!(dep=tasks[requires[len]]))throw new Error("Has inexistant dependency");if(_isArray(dep)&&_indexOf(dep,k)>=0)throw new Error("Has cyclic dependencies")}ready()?task[task.length-1](taskCallback,results):addListener(listener)})},async.retry=function(times,task,callback){function parseTimes(acc,t){if("number"==typeof t)acc.times=parseInt(t,10)||DEFAULT_TIMES;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);acc.times=parseInt(t.times,10)||DEFAULT_TIMES,acc.interval=parseInt(t.interval,10)||DEFAULT_INTERVAL}}function wrappedTask(wrappedCallback,wrappedResults){function retryAttempt(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}}function retryInterval(interval){return function(seriesCallback){setTimeout(function(){seriesCallback(null)},interval)}}for(;opts.times;){var finalAttempt=!(opts.times-=1);attempts.push(retryAttempt(opts.task,finalAttempt)),!finalAttempt&&opts.interval>0&&attempts.push(retryInterval(opts.interval))}async.series(attempts,function(done,data){data=data[data.length-1],(wrappedCallback||opts.callback)(data.err,data.result)})}var DEFAULT_TIMES=5,DEFAULT_INTERVAL=0,attempts=[],opts={times:DEFAULT_TIMES,interval:DEFAULT_INTERVAL},length=arguments.length;if(1>length||length>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=length&&"function"==typeof times&&(callback=task,task=times),"function"!=typeof times&&parseTimes(opts,times),opts.callback=callback,opts.task=task,opts.callback?wrappedTask():wrappedTask},async.waterfall=function(tasks,callback){function wrapIterator(iterator){return _restParam(function(err,args){if(err)callback.apply(null,[err].concat(args));else{var next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),ensureAsync(iterator).apply(null,args)}})}if(callback=_once(callback||noop),!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}return tasks.length?void wrapIterator(async.iterator(tasks))():callback()},async.parallel=function(tasks,callback){_parallel(async.eachOf,tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)},async.series=function(tasks,callback){_parallel(async.eachOfSeries,tasks,callback)},async.iterator=function(tasks){function makeCallback(index){function fn(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()}return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn}return makeCallback(0)},async.apply=_restParam(function(fn,args){return _restParam(function(callArgs){return fn.apply(null,args.concat(callArgs))})}),async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){if(callback=callback||noop,test()){var next=_restParam(function(err,args){err?callback(err):test.apply(this,args)?iterator(next):callback(null)});iterator(next)}else callback(null)},async.doWhilst=function(iterator,test,callback){var calls=0;return async.whilst(function(){return++calls<=1||test.apply(this,arguments)},iterator,callback)},async.until=function(test,iterator,callback){return async.whilst(function(){return!test.apply(this,arguments)},iterator,callback)},async.doUntil=function(iterator,test,callback){return async.doWhilst(iterator,function(){return!test.apply(this,arguments)},callback)},async.during=function(test,iterator,callback){callback=callback||noop;var next=_restParam(function(err,args){err?callback(err):(args.push(check),test.apply(this,args))}),check=function(err,truth){err?callback(err):truth?iterator(next):callback(null)};test(check)},async.doDuring=function(iterator,test,callback){var calls=0;async.during(function(next){calls++<1?next(null,!0):test.apply(this,arguments)},iterator,callback)},async.queue=function(worker,concurrency){var q=_queue(function(items,cb){worker(items[0],cb)},concurrency,1);return q},async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){for(var beg=-1,end=sequence.length-1;end>beg;){var mid=beg+(end-beg+1>>>1);compare(item,sequence[mid])>=0?beg=mid:end=mid-1}return beg}function _insert(q,data,priority,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,_isArray(data)||(data=[data]),0===data.length?async.setImmediate(function(){q.drain()}):void _arrayEach(data,function(task){var item={data:task,priority:priority,callback:"function"==typeof callback?callback:noop};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item),q.tasks.length===q.concurrency&&q.saturated(),async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);return q.push=function(data,priority,callback){_insert(q,data,priority,callback)},delete q.unshift,q},async.cargo=function(worker,payload){return _queue(worker,1,payload)},async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||identity;var memoized=_restParam(function(args){var callback=args.pop(),key=hasher.apply(null,args);key in memo?async.nextTick(function(){callback.apply(null,memo[key])}):key in queues?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([_restParam(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;l>i;i++)q[i].apply(null,args)})])))});return memoized.memo=memo,memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=_times(async.map),async.timesSeries=_times(async.mapSeries),async.timesLimit=function(count,limit,iterator,callback){return async.mapLimit(_range(count),limit,iterator,callback)},async.seq=function(){var fns=arguments;return _restParam(function(args){var that=this,callback=args[args.length-1];"function"==typeof callback?args.pop():callback=noop,async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([_restParam(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){callback.apply(that,[err].concat(results))})})},async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))},async.applyEach=_applyEach(async.eachOf),async.applyEachSeries=_applyEach(async.eachOfSeries),async.forever=function(fn,callback){function next(err){return err?done(err):void task(next)}var done=only_once(callback||noop),task=ensureAsync(fn);next()},async.ensureAsync=ensureAsync,async.constant=_restParam(function(values){var args=[null].concat(values);return function(callback){return callback.apply(this,args)}}),async.wrapSync=async.asyncify=function(func){return _restParam(function(args){var result,callback=args.pop();try{result=func.apply(this,args)}catch(e){return callback(e)}"undefined"!=typeof result&&"function"==typeof result.then?result.then(function(value){callback(null,value)})["catch"](function(err){callback(err.message?err:new Error(err))}):callback(null,result)})},"undefined"!=typeof module&&module.exports?module.exports=async:"undefined"!=typeof define&&define.amd?define([],function(){return async}):root.async=async}();
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":18}],14:[function(require,module,exports){
!function(){function d3_documentElement(node){return node&&(node.ownerDocument||node.document||node).documentElement}function d3_window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}function d3_ascending(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function d3_number(x){return null===x?NaN:+x}function d3_numeric(x){return!isNaN(x)}function d3_bisector(compare){return{left:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);hi>lo;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);hi>lo;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}function d3_zipLength(d){return d.length}function d3_range_integerScale(x){for(var k=1;x*k%1;)k*=10;return k}function d3_class(ctor,properties){for(var key in properties)Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(d){return d}function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;n>i;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(dispatch){function event(){for(var l,z=listeners,i=-1,n=z.length;++i<n;)(l=z[i].on)&&l.apply(this,arguments);return dispatch}var listeners=[],listenerByName=new d3_Map;return event.on=function(name,listener){var i,l=listenerByName.get(name);return arguments.length<2?l&&l.on:(l&&(l.on=null,listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1)),listenerByName.remove(name)),listener&&listeners.push(listenerByName.set(name,{on:listener})),dispatch)},event}function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){for(var s,e=d3.event;s=e.sourceEvent;)e=s;return e}function d3_eventDispatch(target){for(var dispatch=new d3_dispatch,i=0,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target,d3.event=e1,dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}},dispatch}function d3_selection(groups){return d3_subclass(groups,d3_selectionPrototype),groups}function d3_selection_selector(selector){return"function"==typeof selector?selector:function(){return d3_select(selector,this)}}function d3_selection_selectorAll(selector){return"function"==typeof selector?selector:function(){return d3_selectAll(selector,this)}}function d3_selection_attr(name,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);null==x?this.removeAttribute(name):this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);null==x?this.removeAttributeNS(name.space,name.local):this.setAttributeNS(name.space,name.local,x)}return name=d3.ns.qualify(name),null==value?name.local?attrNullNS:attrNull:"function"==typeof value?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){function classedConstant(){for(var i=-1;++i<n;)name[i](this,value)}function classedFunction(){for(var i=-1,x=value.apply(this,arguments);++i<n;)name[i](this,x)}name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;return"function"==typeof value?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";value?(re.lastIndex=0,re.test(c)||node.setAttribute("class",d3_collapse(c+" "+name))):node.setAttribute("class",d3_collapse(c.replace(re," ")))}}function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);null==x?this.style.removeProperty(name):this.style.setProperty(name,x,priority)}return null==value?styleNull:"function"==typeof value?styleFunction:styleConstant}function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);null==x?delete this[name]:this[name]=x}return null==value?propertyNull:"function"==typeof value?propertyFunction:propertyConstant}function d3_selection_creator(name){function create(){var document=this.ownerDocument,namespace=this.namespaceURI;return namespace?document.createElementNS(namespace,name):document.createElement(name)}function createNS(){return this.ownerDocument.createElementNS(name.space,name.local)}return"function"==typeof name?name:(name=d3.ns.qualify(name)).local?createNS:create}function d3_selectionRemove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function d3_selection_dataNode(data){return{__data__:data}}function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}function d3_selection_sortComparator(comparator){return arguments.length||(comparator=d3_ascending),function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}function d3_selection_each(groups,callback){for(var j=0,m=groups.length;m>j;j++)for(var node,group=groups[j],i=0,n=group.length;n>i;i++)(node=group[i])&&callback(node,i,j);return groups}function d3_selection_enter(selection){return d3_subclass(selection,d3_selection_enterPrototype),selection}function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var node,group=enter[j].update,n=group.length;for(j!=j0&&(j0=j,i0=0),i>=i0&&(i0=i+1);!(node=group[i0])&&++i0<n;);return node}}function d3_selection_on(type,listener,capture){function onRemove(){var l=this[name];l&&(this.removeEventListener(type,l,l.$),delete this[name])}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this),this.addEventListener(type,this[name]=l,l.$=capture),l._=listener}function removeAll(){var match,re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$");for(var name in this)if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$),delete this[name]}}var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;i>0&&(type=type.slice(0,i));var filter=d3_selection_onFilters.get(type);return filter&&(type=filter,wrap=d3_selection_onFilter),i?listener?onAdd:onRemove:listener?d3_noop:removeAll}function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e,argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;related&&(related===target||8&related.compareDocumentPosition(target))||l.call(target,e)}}function d3_event_dragSuppress(node){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window(node)).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);if(null==d3_event_dragSelect&&(d3_event_dragSelect="onselectstart"in node?!1:d3_vendorSymbol(node.style,"userSelect")),d3_event_dragSelect){var style=d3_documentElement(node).style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){if(w.on(name,null),d3_event_dragSelect&&(style[d3_event_dragSelect]=select),suppressClick){var off=function(){w.on(click,null)};w.on(click,function(){d3_eventPreventDefault(),off()},!0),setTimeout(off,0)}}}function d3_mousePoint(container,e){e.changedTouches&&(e=e.changedTouches[0]);var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(0>d3_mouse_bug44083){var window=d3_window(container);if(window.scrollX||window.scrollY){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!(ctm.f||ctm.e),svg.remove()}}return d3_mouse_bug44083?(point.x=e.pageX,point.y=e.pageY):(point.x=e.clientX,point.y=e.clientY),point=point.matrixTransform(container.getScreenCTM().inverse()),[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}function d3_sgn(x){return x>0?1:0>x?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:-1>x?π:Math.acos(x)}function d3_asin(x){return x>1?halfπ:-1>x?-halfπ:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}function d3_color(){}function d3_hsl(h,s,l){return this instanceof d3_hsl?(this.h=+h,this.s=+s,void(this.l=+l)):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}function d3_hsl_rgb(h,s,l){function v(h){return h>360?h-=360:0>h&&(h+=360),60>h?m1+(m2-m1)*h/60:180>h?m2:240>h?m1+(m2-m1)*(240-h)/60:m1}function vv(h){return Math.round(255*v(h))}var m1,m2;return h=isNaN(h)?0:(h%=360)<0?h+360:h,s=isNaN(s)?0:0>s?0:s>1?1:s,l=0>l?0:l>1?1:l,m2=.5>=l?l*(1+s):l+s-l*s,m1=2*l-m2,new d3_rgb(vv(h+120),vv(h),vv(h-120))}function d3_hcl(h,c,l){return this instanceof d3_hcl?(this.h=+h,this.c=+c,void(this.l=+l)):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}function d3_hcl_lab(h,c,l){return isNaN(h)&&(h=0),isNaN(c)&&(c=0),new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}function d3_lab(l,a,b){return this instanceof d3_lab?(this.l=+l,this.a=+a,void(this.b=+b)):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;return x=d3_lab_xyz(x)*d3_lab_X,y=d3_lab_xyz(y)*d3_lab_Y,z=d3_lab_xyz(z)*d3_lab_Z,new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(.00304>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}function d3_rgb(r,g,b){return this instanceof d3_rgb?(this.r=~~r,this.g=~~g,void(this.b=~~b)):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,255&value)}function d3_rgbString(value){return d3_rgbNumber(value)+""}function d3_rgb_hex(v){return 16>v?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){format=format.toLowerCase();var m1,m2,color,r=0,g=0,b=0;if(m1=/([a-z]+)\((.*)\)/.exec(format))switch(m2=m1[2].split(","),m1[1]){case"hsl":return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100);case"rgb":return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}return(color=d3_rgb_names.get(format))?rgb(color.r,color.g,color.b):(null==format||"#"!==format.charAt(0)||isNaN(color=parseInt(format.slice(1),16))||(4===format.length?(r=(3840&color)>>4,r=r>>4|r,g=240&color,g=g>>4|g,b=15&color,b=b<<4|b):7===format.length&&(r=(16711680&color)>>16,g=(65280&color)>>8,b=255&color)),rgb(r,g,b))}function d3_rgb_hsl(r,g,b){var h,s,min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,l=(max+min)/2;return d?(s=.5>l?d/(max+min):d/(2-max-min),h=r==max?(g-b)/d+(b>g?6:0):g==max?(b-r)/d+2:(r-g)/d+4,h*=60):(h=NaN,s=l>0&&1>l?0:h),new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r),g=d3_rgb_xyz(g),b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*f):f}function d3_functor(v){return"function"==typeof v?v:function(){return v}}function d3_xhrType(response){return function(url,mimeType,callback){return 2===arguments.length&&"function"==typeof mimeType&&(callback=mimeType,mimeType=null),d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){function respond(){var result,status=request.status;if(!status&&d3_xhrHasResponse(request)||status>=200&&300>status||304===status){try{result=response.call(xhr,request)}catch(e){return void dispatch.error.call(xhr,e)}dispatch.load.call(xhr,result)}else dispatch.error.call(xhr,request)}var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;return!this.XDomainRequest||"withCredentials"in request||!/^(http(s)?:)?\/\//.test(url)||(request=new XDomainRequest),"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()},request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}},xhr.header=function(name,value){return name=(name+"").toLowerCase(),arguments.length<2?headers[name]:(null==value?delete headers[name]:headers[name]=value+"",xhr)},xhr.mimeType=function(value){return arguments.length?(mimeType=null==value?null:value+"",xhr):mimeType},xhr.responseType=function(value){return arguments.length?(responseType=value,xhr):responseType},xhr.response=function(value){return response=value,xhr},["get","post"].forEach(function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}}),xhr.send=function(method,data,callback){if(2===arguments.length&&"function"==typeof data&&(callback=data,data=null),request.open(method,url,!0),null==mimeType||"accept"in headers||(headers.accept=mimeType+",*/*"),request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);return null!=mimeType&&request.overrideMimeType&&request.overrideMimeType(mimeType),null!=responseType&&(request.responseType=responseType),null!=callback&&xhr.on("error",callback).on("load",function(request){callback(null,request)}),dispatch.beforesend.call(xhr,request),request.send(null==data?null:data),xhr},xhr.abort=function(){return request.abort(),xhr},d3.rebind(xhr,dispatch,"on"),null==callback?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return 1===callback.length?function(error,request){callback(null==error?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&"text"!==type?request.response:request.responseText}function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;delay>24?(isFinite(delay)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,delay)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_mark(){var now=Date.now();for(d3_timer_active=d3_timer_queueHead;d3_timer_active;)now>=d3_timer_active.t&&(d3_timer_active.f=d3_timer_active.c(now-d3_timer_active.t)),d3_timer_active=d3_timer_active.n;return now}function d3_timer_sweep(){for(var t0,t1=d3_timer_queueHead,time=1/0;t1;)t1.f?t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n:(t1.t<time&&(time=t1.t),t1=(t0=t1).n);return d3_timer_queueTail=t0,time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}function d3_formatPrefix(d,i){var k=Math.pow(10,3*abs(8-i));return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){for(var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=locale_grouping[j=(j+1)%locale_grouping.length];return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=!1,exponent=!0;switch(precision&&(precision=+precision.substring(1)),(zfill||"0"===fill&&"="===align)&&(zfill=fill="0",align="="),type){case"n":comma=!0,type="g";break;case"%":scale=100,suffix="%",type="f";break;case"p":scale=100,suffix="%",type="r";break;case"b":case"o":case"x":case"X":"#"===symbol&&(prefix="0"+type.toLowerCase());case"c":exponent=!1;case"d":integer=!0,precision=0;break;case"s":scale=-1,type="r"}"$"===symbol&&(prefix=locale_currency[0],suffix=locale_currency[1]),"r"!=type||precision||(type="g"),null!=precision&&("g"==type?precision=Math.max(1,Math.min(21,precision)):("e"==type||"f"==type)&&(precision=Math.max(0,Math.min(20,precision)))),type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=0>value||0===value&&0>1/value?(value=-value,"-"):"-"===sign?"":sign;if(0>scale){var unit=d3.formatPrefix(value,precision);value=unit.scale(value),fullSuffix=unit.symbol+suffix}else value*=scale;value=type(value,precision);var before,after,i=value.lastIndexOf(".");if(0>i){var j=exponent?value.lastIndexOf("e"):-1;0>j?(before=value,after=""):(before=value.substring(0,j),after=value.substring(j))}else before=value.substring(0,i),after=locale_decimal+value.substring(i+1);!zfill&&comma&&(before=formatGroup(before,1/0));var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=width>length?new Array(length=width-length+1).join(fill):"";return zcomma&&(before=formatGroup(padding+before,padding.length?width-after.length:1/0)),negative+=prefix,value=before+after,("<"===align?negative+value+padding:">"===align?padding+negative+value:"^"===align?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}function d3_format_typeDefault(x){return x+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return d1-date>date-d0?d0:d1}function ceil(date){return step(date=local(new d3_date(date-1)),1),date}function offset(date,k){return step(date=new d3_date(+date),k),date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1)for(;t1>time;)number(time)%dt||times.push(new Date(+time)),step(time,1);else for(;t1>time;)times.push(new Date(+time)),step(time,1);return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=t0,range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local,local.round=round,local.ceil=ceil,local.offset=offset,local.range=range;var utc=local.utc=d3_time_interval_utc(local);return utc.floor=utc,utc.round=d3_time_interval_utc(round),utc.ceil=d3_time_interval_utc(ceil),utc.offset=d3_time_interval_utc(offset),utc.range=range_utc,local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=date,method(utc,k)._}finally{d3_date=Date}}}function d3_locale_timeFormat(locale){function d3_time_format(template){function format(date){for(var c,p,f,string=[],i=-1,j=0;++i<n;)37===template.charCodeAt(i)&&(string.push(template.slice(j,i)),null!=(p=d3_time_formatPads[c=template.charAt(++i)])&&(c=template.charAt(++i)),(f=d3_time_formats[c])&&(c=f(date,null==p?"e"===c?" ":"0":p)),string.push(c),j=i+1);return string.push(template.slice(j,i)),string.join("")}var n=template.length;return format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var localZ=null!=d.Z&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);return"j"in d?date.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(date.setFullYear(d.y,0,1),date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(date.getDay()+5)%7:d.w+7*d.U-(date.getDay()+6)%7)):date.setFullYear(d.y,d.m,d.d),date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),localZ?date._:date},format.toString=function(){return template},format}function d3_time_parse(date,template,string,j){for(var c,p,t,i=0,n=template.length,m=string.length;n>i;){if(j>=m)return-1;if(c=template.charCodeAt(i++),37===c){if(t=template.charAt(i++),p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t],!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return null==n?-1:(date.p=n,i)}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;d3_time_format.utc=function(template){function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;return utc._=date,local(utc)}finally{d3_date=Date}}var local=d3_time_format(template);return format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}},format.toString=local.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach(function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)});var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}},d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(value,fill,width){var sign=0>value?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(width>length?new Array(width-length+1).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){for(var map=new d3_Map,i=-1,n=names.length;++i<n;)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){for(var n=formats.length,i=-1;++i<n;)formats[i][0]=this(formats[i][0]);return function(date){for(var i=0,f=formats[i];!f[1](date);)f=formats[++i];return f[0](date)}}function d3_adder(){}function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}function d3_geo_streamGeometry(geometry,listener){geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)&&d3_geo_streamGeometryType[geometry.type](geometry,listener)}function d3_geo_streamLine(coordinates,listener,closed){var coordinate,i=-1,n=coordinates.length-closed;for(listener.lineStart();++i<n;)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;for(listener.polygonStart();++i<n;)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(λ,φ){λ*=d3_radians,φ=φ*d3_radians/2+π/4;var dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,cosφ=Math.cos(φ),sinφ=Math.sin(φ),k=sinφ0*sinφ,u=cosφ0*cosφ+k*Math.cos(adλ),v=k*sdλ*Math.sin(adλ);d3_geo_areaRingSum.add(Math.atan2(v,u)),λ0=λ,cosφ0=cosφ,sinφ0=sinφ}var λ00,φ00,λ0,cosφ0,sinφ0;d3_geo_area.point=function(λ,φ){d3_geo_area.point=nextPoint,λ0=(λ00=λ)*d3_radians,cosφ0=Math.cos(φ=(φ00=φ)*d3_radians/2+π/4),sinφ0=Math.sin(φ)},d3_geo_area.lineEnd=function(){nextPoint(λ00,φ00)}}function d3_geo_cartesian(spherical){var λ=spherical[0],φ=spherical[1],cosφ=Math.cos(φ);return[cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ)]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]];
}function d3_geo_cartesianAdd(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<ε&&abs(a[1]-b[1])<ε}function d3_geo_centroidPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);d3_geo_centroidPointXYZ(cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ))}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0,d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0,d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0,d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroid.point=nextPoint,d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx,d3_geo_centroidY2+=v*cy,d3_geo_centroidZ2+=v*cz,d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var λ00,φ00,x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ00=λ,φ00=φ,d3_geo_centroid.point=nextPoint,λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroidPointXYZ(x0,y0,z0)},d3_geo_centroid.lineEnd=function(){nextPoint(λ00,φ00),d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd,d3_geo_centroid.point=d3_geo_centroidPoint}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];if(segments.forEach(function(segment){if(!((n=segment.length-1)<=0)){var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;n>i;++i)listener.point((p0=segment[i])[0],p0[1]);return void listener.lineEnd()}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,!0),b=new d3_geo_clipPolygonIntersection(p0,null,a,!1);a.o=b,subject.push(a),clip.push(b),a=new d3_geo_clipPolygonIntersection(p1,segment,null,!1),b=new d3_geo_clipPolygonIntersection(p1,null,a,!0),a.o=b,subject.push(a),clip.push(b)}}),clip.sort(compare),d3_geo_clipPolygonLinkCircular(subject),d3_geo_clipPolygonLinkCircular(clip),subject.length){for(var i=0,entry=clipStartInside,n=clip.length;n>i;++i)clip[i].e=entry=!entry;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,listener.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(var i=0,n=points.length;n>i;++i)listener.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,listener);current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else interpolate(current.x,current.p.x,-1,listener);current=current.p}current=current.o,points=current.z,isSubject=!isSubject}while(!current.v);listener.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){function point(λ,φ){var point=rotate(λ,φ);pointVisible(λ=point[0],φ=point[1])&&listener.point(λ,φ)}function pointLine(λ,φ){var point=rotate(λ,φ);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(λ,φ){ring.push([λ,φ]);var point=rotate(λ,φ);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringListener.lineEnd();var segment,clean=ringListener.clean(),ringSegments=buffer.buffer(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){segment=ringSegments[0];var point,n=segment.length-1,i=-1;if(n>0){for(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart();++i<n;)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}var segments,polygon,ring,line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);segments.length?(polygonStarted||(listener.polygonStart(),polygonStarted=!0),d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)):clipStartInside&&(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),polygonStarted&&(listener.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){listener.polygonStart(),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd(),listener.polygonEnd()}},buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=!1;return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var line,lines=[];return{lineStart:function(){lines.push(line=[])},point:function(λ,φ){line.push([λ,φ])},lineEnd:d3_noop,buffer:function(){var buffer=lines;return lines=[],line=null,buffer},rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-halfπ-ε:halfπ-a[1])-((b=b.x)[0]<0?b[1]-halfπ-ε:halfπ-b[1])}function d3_geo_clipAntimeridianLine(listener){var clean,λ0=NaN,φ0=NaN,sλ0=NaN;return{lineStart:function(){listener.lineStart(),clean=1},point:function(λ1,φ1){var sλ1=λ1>0?π:-π,dλ=abs(λ1-λ0);abs(dλ-π)<ε?(listener.point(λ0,φ0=(φ0+φ1)/2>0?halfπ:-halfπ),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),listener.point(λ1,φ0),clean=0):sλ0!==sλ1&&dλ>=π&&(abs(λ0-sλ0)<ε&&(λ0-=sλ0*ε),abs(λ1-sλ1)<ε&&(λ1-=sλ1*ε),φ0=d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),clean=0),listener.point(λ0=λ1,φ0=φ1),sλ0=sλ1},lineEnd:function(){listener.lineEnd(),λ0=φ0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1){var cosφ0,cosφ1,sinλ0_λ1=Math.sin(λ0-λ1);return abs(sinλ0_λ1)>ε?Math.atan((Math.sin(φ0)*(cosφ1=Math.cos(φ1))*Math.sin(λ1)-Math.sin(φ1)*(cosφ0=Math.cos(φ0))*Math.sin(λ0))/(cosφ0*cosφ1*sinλ0_λ1)):(φ0+φ1)/2}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var φ;if(null==from)φ=direction*halfπ,listener.point(-π,φ),listener.point(0,φ),listener.point(π,φ),listener.point(π,0),listener.point(π,-φ),listener.point(0,-φ),listener.point(-π,-φ),listener.point(-π,0),listener.point(-π,φ);else if(abs(from[0]-to[0])>ε){var s=from[0]<to[0]?π:-π;φ=direction*s/2,listener.point(-s,φ),listener.point(0,φ),listener.point(s,φ)}else listener.point(to[0],to[1])}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;n>i;++i){var ring=polygon[i],m=ring.length;if(m)for(var point0=ring[0],λ0=point0[0],φ0=point0[1]/2+π/4,sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),j=1;;){j===m&&(j=0),point=ring[j];var λ=point[0],φ=point[1]/2+π/4,sinφ=Math.sin(φ),cosφ=Math.cos(φ),dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,antimeridian=adλ>π,k=sinφ0*sinφ;if(d3_geo_areaRingSum.add(Math.atan2(k*sdλ*Math.sin(adλ),cosφ0*cosφ+k*Math.cos(adλ))),polarAngle+=antimeridian?dλ+sdλ*τ:dλ,antimeridian^λ0>=meridian^λ>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var φarc=(antimeridian^dλ>=0?-1:1)*d3_asin(intersection[2]);(parallel>φarc||parallel===φarc&&(arc[0]||arc[1]))&&(winding+=antimeridian^dλ>=0?1:-1)}if(!j++)break;λ0=λ,sinφ0=sinφ,cosφ0=cosφ,point0=point}}return(-ε>polarAngle||ε>polarAngle&&0>d3_geo_areaRingSum)^1&winding}function d3_geo_clipCircle(radius){function visible(λ,φ){return Math.cos(λ)*Math.cos(φ)>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(λ,φ){var point2,point1=[λ,φ],v=visible(λ,φ),c=smallRadius?v?0:code(λ,φ):v?code(λ+(0>λ?π:-π),φ):0;if(!point0&&(v00=v0=v)&&listener.lineStart(),v!==v0&&(point2=intersect(point0,point1),(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2))&&(point1[0]+=ε,point1[1]+=ε,v=visible(point1[0],point1[1]))),v!==v0)clean=0,v?(listener.lineStart(),point2=intersect(point1,point0),listener.point(point2[0],point2[1])):(point2=intersect(point0,point1),listener.point(point2[0],point2[1]),listener.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(listener.lineStart(),listener.point(t[0][0],t[0][1]),listener.point(t[1][0],t[1][1]),listener.lineEnd()):(listener.point(t[1][0],t[1][1]),listener.lineEnd(),listener.lineStart(),listener.point(t[0][0],t[0][1])))}!v||point0&&d3_geo_sphericalEqual(point0,point1)||listener.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&listener.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b),n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(!(0>t2)){var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);if(d3_geo_cartesianAdd(q,A),q=d3_geo_spherical(q),!two)return q;var z,λ0=a[0],λ1=b[0],φ0=a[1],φ1=b[1];λ0>λ1&&(z=λ0,λ0=λ1,λ1=z);var δλ=λ1-λ0,polar=abs(δλ-π)<ε,meridian=polar||ε>δλ;if(!polar&&φ0>φ1&&(z=φ0,φ0=φ1,φ1=z),meridian?polar?φ0+φ1>0^q[1]<(abs(q[0]-λ0)<ε?φ0:φ1):φ0<=q[1]&&q[1]<=φ1:δλ>π^(λ0<=q[0]&&q[0]<=λ1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);return d3_geo_cartesianAdd(q1,A),[q,d3_geo_spherical(q1)]}}}function code(λ,φ){var r=smallRadius?radius:π-radius,code=0;return-r>λ?code|=1:λ>r&&(code|=2),-r>φ?code|=4:φ>r&&(code|=8),code}var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>ε,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-π,radius-π])}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var r,a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,0>dx){if(t0>r)return;t1>r&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(0>r)){if(r/=dx,0>dx){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(t0>r)return;t1>r&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,0>dy){if(t0>r)return;t1>r&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(0>r)){if(r/=dy,0>dy){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(t0>r)return;t1>r&&(t1=r)}return t0>0&&(line.a={x:ax+t0*dx,y:ay+t0*dy}),1>t1&&(line.b={x:ax+t1*dx,y:ay+t1*dy}),line}}}}}}function d3_geo_clipExtent(x0,y0,x1,y1){function corner(p,direction){return abs(p[0]-x0)<ε?direction>0?0:3:abs(p[0]-x1)<ε?direction>0?2:1:abs(p[1]-y0)<ε?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(listener){function insidePolygon(p){for(var wn=0,n=polygon.length,y=p[1],i=0;n>i;++i)for(var b,j=1,v=polygon[i],m=v.length,a=v[0];m>j;++j)b=v[j],a[1]<=y?b[1]>y&&d3_cross2d(a,b,p)>0&&++wn:b[1]<=y&&d3_cross2d(a,b,p)<0&&--wn,a=b;return 0!==wn}function interpolate(from,to,direction,listener){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do listener.point(0===a||3===a?x0:x1,a>1?y1:y0);while((a=(a+direction+4)%4)!==a1)}else listener.point(to[0],to[1])}function pointVisible(x,y){return x>=x0&&x1>=x&&y>=y0&&y1>=y}function point(x,y){pointVisible(x,y)&&listener.point(x,y)}function lineStart(){clip.point=linePoint,polygon&&polygon.push(ring=[]),first=!0,v_=!1,x_=y_=NaN}function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferListener.rejoin(),segments.push(bufferListener.buffer())),clip.point=point,v_&&listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x)),y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(listener.lineStart(),listener.point(x,y));else if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};clipLine(l)?(v_||(listener.lineStart(),listener.point(l.a.x,l.a.y)),listener.point(l.b.x,l.b.y),v||listener.lineEnd(),clean=!1):v&&(listener.lineStart(),listener.point(x,y),clean=!1)}x_=x,y_=y,v_=v}var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener,segments=[],polygon=[],clean=!0},polygonEnd:function(){listener=listener_,segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;(inside||visible)&&(listener.polygonStart(),inside&&(listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),visible&&d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener),listener.polygonEnd()),segments=polygon=ring=null}};return clip}}function d3_geo_conic(projectAt){var φ0=0,φ1=π/3,m=d3_geo_projectionMutator(projectAt),p=m(φ0,φ1);return p.parallels=function(_){return arguments.length?m(φ0=_[0]*π/180,φ1=_[1]*π/180):[φ0/π*180,φ1/π*180]},p}function d3_geo_conicEqualArea(φ0,φ1){function forward(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),ρ0-ρ*Math.cos(λ)]}var sinφ0=Math.sin(φ0),n=(sinφ0+Math.sin(φ1))/2,C=1+sinφ0*(2*n-sinφ0),ρ0=Math.sqrt(C)/n;return forward.invert=function(x,y){var ρ0_y=ρ0-y;return[Math.atan2(x,ρ0_y)/n,d3_asin((C-(x*x+ρ0_y*ρ0_y)*n*n)/(2*n))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y,x0=x,y0=y}var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint,x00=x0=x,y00=y0=y},d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathBoundsPoint(x,y){d3_geo_pathBoundsX0>x&&(d3_geo_pathBoundsX0=x),x>d3_geo_pathBoundsX1&&(d3_geo_pathBoundsX1=x),d3_geo_pathBoundsY0>y&&(d3_geo_pathBoundsY0=y),y>d3_geo_pathBoundsY1&&(d3_geo_pathBoundsY1=y)}function d3_geo_pathBuffer(){function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y),stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[],stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointCircle=d3_geo_pathBufferCircle(_),stream},result:function(){if(buffer.length){var result=buffer.join("");return buffer=[],result}}};return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x,d3_geo_centroidY0+=y,++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,z=y0*x-x0*y,d3_geo_centroidX2+=z*(x0+x),d3_geo_centroidY2+=z*(y0+y),d3_geo_centroidZ2+=3*z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x00,y00,x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)},d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){function point(x,y){context.moveTo(x+pointRadius,y),context.arc(x,y,pointRadius,0,τ)}function pointLineStart(x,y){context.moveTo(x,y),stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}var pointRadius=4.5,stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointRadius=_,stream},result:d3_noop};return stream}function d3_geo_resample(project){function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,function(x,y){x=project(x,y),stream.point(x[0],x[1])})}function resampleRecursive(stream){function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resample.point=linePoint,stream.lineStart()}function linePoint(λ,φ){var c=d3_geo_cartesian([λ,φ]),p=project(λ,φ);resampleLineTo(x0,y0,λ0,a0,b0,c0,x0=p[0],y0=p[1],λ0=λ,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resample.point=point,stream.lineEnd()}function ringStart(){lineStart(),resample.point=ringPoint,resample.lineEnd=ringEnd}function ringPoint(λ,φ){linePoint(λ00=λ,φ00=φ),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,λ0,a0,b0,c0,x00,y00,λ00,a00,b00,c00,maxDepth,stream),resample.lineEnd=lineEnd,lineEnd()}var λ00,φ00,x00,y00,a00,b00,c00,λ0,x0,y0,a0,b0,c0,resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resample.lineStart=lineStart}};return resample}function resampleLineTo(x0,y0,λ0,a0,b0,c0,x1,y1,λ1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*δ2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),φ2=Math.asin(c/=m),λ2=abs(abs(c)-1)<ε||abs(λ0-λ1)<ε?(λ0+λ1)/2:Math.atan2(b,a),p=project(λ2,φ2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>δ2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||cosMinDistance>a0*a1+b0*b1+c0*c1)&&(resampleLineTo(x0,y0,λ0,a0,b0,c0,x2,y2,λ2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,λ2,a,b,c,x1,y1,λ1,a1,b1,c1,depth,stream))}}var δ2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;return resample.precision=function(_){return arguments.length?(maxDepth=(δ2=_*_)>0&&16,resample):Math.sqrt(δ2)},resample}function d3_geo_pathProjectStream(project){var resample=d3_geo_resample(function(x,y){return project([x*d3_degrees,y*d3_degrees])});return function(stream){return d3_geo_projectionRadians(resample(stream))}}function d3_geo_transform(stream){this.stream=stream}function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}function d3_geo_projection(project){return d3_geo_projectionMutator(function(){return project})()}function d3_geo_projectionMutator(projectAt){function projection(point){return point=projectRotate(point[0]*d3_radians,point[1]*d3_radians),[point[0]*k+δx,δy-point[1]*k]}function invert(point){return point=projectRotate.invert((point[0]-δx)/k,(δy-point[1])/k),point&&[point[0]*d3_degrees,point[1]*d3_degrees]}function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(δλ,δφ,δγ),project);var center=project(λ,φ);return δx=x-center[0]*k,δy=y+center[1]*k,invalidate()}function invalidate(){return stream&&(stream.valid=!1,stream=null),projection}var project,rotate,projectRotate,δx,δy,stream,projectResample=d3_geo_resample(function(x,y){return x=project(x,y),[x[0]*k+δx,δy-x[1]*k]}),k=150,x=480,y=250,λ=0,φ=0,δλ=0,δφ=0,δγ=0,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null;return projection.stream=function(output){return stream&&(stream.valid=!1),stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output)))),stream.valid=!0,stream},projection.clipAngle=function(_){return arguments.length?(preclip=null==_?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians),invalidate()):clipAngle},projection.clipExtent=function(_){return arguments.length?(clipExtent=_,postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity,invalidate()):clipExtent},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],reset()):[x,y]},projection.center=function(_){return arguments.length?(λ=_[0]%360*d3_radians,φ=_[1]%360*d3_radians,reset()):[λ*d3_degrees,φ*d3_degrees]},projection.rotate=function(_){return arguments.length?(δλ=_[0]%360*d3_radians,δφ=_[1]%360*d3_radians,δγ=_.length>2?_[2]%360*d3_radians:0,reset()):[δλ*d3_degrees,δφ*d3_degrees,δγ*d3_degrees]},d3.rebind(projection,projectResample,"precision"),function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,function(x,y){stream.point(x*d3_radians,y*d3_radians)})}function d3_geo_equirectangular(λ,φ){return[λ,φ]}function d3_geo_identityRotation(λ,φ){return[λ>π?λ-τ:-π>λ?λ+τ:λ,φ]}function d3_geo_rotation(δλ,δφ,δγ){return δλ?δφ||δγ?d3_geo_compose(d3_geo_rotationλ(δλ),d3_geo_rotationφγ(δφ,δγ)):d3_geo_rotationλ(δλ):δφ||δγ?d3_geo_rotationφγ(δφ,δγ):d3_geo_identityRotation}function d3_geo_forwardRotationλ(δλ){return function(λ,φ){return λ+=δλ,[λ>π?λ-τ:-π>λ?λ+τ:λ,φ]}}function d3_geo_rotationλ(δλ){var rotation=d3_geo_forwardRotationλ(δλ);return rotation.invert=d3_geo_forwardRotationλ(-δλ),rotation}function d3_geo_rotationφγ(δφ,δγ){function rotation(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδφ+x*sinδφ;return[Math.atan2(y*cosδγ-k*sinδγ,x*cosδφ-z*sinδφ),d3_asin(k*cosδγ+y*sinδγ)]}var cosδφ=Math.cos(δφ),sinδφ=Math.sin(δφ),cosδγ=Math.cos(δγ),sinδγ=Math.sin(δγ);return rotation.invert=function(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδγ-y*sinδγ;return[Math.atan2(y*cosδγ+z*sinδγ,x*cosδφ+k*sinδφ),d3_asin(k*cosδφ-x*sinδφ)]},rotation}function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;null!=from?(from=d3_geo_circleAngle(cr,from),to=d3_geo_circleAngle(cr,to),(direction>0?to>from:from>to)&&(from+=direction*τ)):(from=radius+direction*τ,to=radius-.5*step);for(var point,t=from;direction>0?t>to:to>t;t-=step)listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr,d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-ε)%(2*Math.PI)}function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-ε,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-ε,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function d3_source(d){return d.source}function d3_target(d){return d.target}function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d),interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};return interpolate.distance=d,interpolate}function d3_geo_lengthLineStart(){function nextPoint(λ,φ){var sinφ=Math.sin(φ*=d3_radians),cosφ=Math.cos(φ),t=abs((λ*=d3_radians)-λ0),cosΔλ=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cosφ*Math.sin(t))*t+(t=cosφ0*sinφ-sinφ0*cosφ*cosΔλ)*t),sinφ0*sinφ+cosφ0*cosφ*cosΔλ),λ0=λ,sinφ0=sinφ,cosφ0=cosφ}var λ0,sinφ0,cosφ0;d3_geo_length.point=function(λ,φ){λ0=λ*d3_radians,sinφ0=Math.sin(φ*=d3_radians),cosφ0=Math.cos(φ),d3_geo_length.point=nextPoint},d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop}}function d3_geo_azimuthal(scale,angle){function azimuthal(λ,φ){var cosλ=Math.cos(λ),cosφ=Math.cos(φ),k=scale(cosλ*cosφ);return[k*cosφ*Math.sin(λ),k*Math.sin(φ)]}return azimuthal.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=angle(ρ),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,ρ*cosc),Math.asin(ρ&&y*sinc/ρ)]},azimuthal}function d3_geo_conicConformal(φ0,φ1){function forward(λ,φ){F>0?-halfπ+ε>φ&&(φ=-halfπ+ε):φ>halfπ-ε&&(φ=halfπ-ε);var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),t=function(φ){return Math.tan(π/4+φ/2)},n=φ0===φ1?Math.sin(φ0):Math.log(cosφ0/Math.cos(φ1))/Math.log(t(φ1)/t(φ0)),F=cosφ0*Math.pow(t(φ0),n)/n;return n?(forward.invert=function(x,y){var ρ0_y=F-y,ρ=d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y);return[Math.atan2(x,ρ0_y)/n,2*Math.atan(Math.pow(F/ρ,1/n))-halfπ]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(φ0,φ1){function forward(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),n=φ0===φ1?Math.sin(φ0):(cosφ0-Math.cos(φ1))/(φ1-φ0),G=cosφ0/n+φ0;return abs(n)<ε?d3_geo_equirectangular:(forward.invert=function(x,y){var ρ0_y=G-y;return[Math.atan2(x,ρ0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y)]},forward)}function d3_geo_mercator(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))]}function d3_geo_mercatorProjection(project){var clipAuto,m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent;return m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=null==_){var k=π*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else clipAuto&&(v=null);return v},m.clipExtent(null)}function d3_geo_transverseMercator(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ]}function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}function d3_geom_hullUpper(points){for(var n=points.length,hull=[0,1],hs=2,i=2;n>i;i++){for(;hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0;)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;return beach.site=site,beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach),d3_geom_voronoiBeaches.remove(beach),d3_geom_voronoiBeachPool.push(beach),d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);for(var lArc=previous;lArc.circle&&abs(x-lArc.circle.x)<ε&&abs(y-lArc.circle.cy)<ε;)previous=lArc.P,disappearing.unshift(lArc),d3_geom_voronoiDetachBeach(lArc),lArc=previous;disappearing.unshift(lArc),d3_geom_voronoiDetachCircle(lArc);for(var rArc=next;rArc.circle&&abs(x-rArc.circle.x)<ε&&abs(y-rArc.circle.cy)<ε;)next=rArc.N,disappearing.push(rArc),d3_geom_voronoiDetachBeach(rArc),rArc=next;disappearing.push(rArc),d3_geom_voronoiDetachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;nArcs>iArc;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],rArc=disappearing[nArcs-1],rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){for(var lArc,rArc,dxl,dxr,x=site.x,directrix=site.y,node=d3_geom_voronoiBeaches._;node;)if(dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x,dxl>ε)node=node.L;else{if(dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix),!(dxr>ε)){dxl>-ε?(lArc=node.P,rArc=node):dxr>-ε?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}var newArc=d3_geom_voronoiCreateBeach(site);if(d3_geom_voronoiBeaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return d3_geom_voronoiDetachCircle(lArc),rArc=d3_geom_voronoiCreateBeach(lArc.site),d3_geom_voronoiBeaches.insert(newArc,rArc),newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site),d3_geom_voronoiAttachCircle(lArc),
void d3_geom_voronoiAttachCircle(rArc);if(!rArc)return void(newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site));d3_geom_voronoiDetachCircle(lArc),d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex),rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-(1/0);site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:1/0}function d3_geom_voronoiCell(site){this.site=site,this.edges=[]}function d3_geom_voronoiCloseCells(extent){for(var x2,y2,x3,y3,cell,iHalfEdge,halfEdges,nHalfEdges,start,end,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],cells=d3_geom_voronoiCells,iCell=cells.length;iCell--;)if(cell=cells[iCell],cell&&cell.prepare())for(halfEdges=cell.edges,nHalfEdges=halfEdges.length,iHalfEdge=0;nHalfEdges>iHalfEdge;)end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y,start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y,(abs(x3-x2)>ε||abs(y3-y2)>ε)&&(halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<ε&&y1-y3>ε?{x:x0,y:abs(x2-x0)<ε?y2:y1}:abs(y3-y1)<ε&&x1-x3>ε?{x:abs(y2-y1)<ε?x2:x1,y:y1}:abs(x3-x1)<ε&&y3-y0>ε?{x:x1,y:abs(x2-x1)<ε?y2:y0}:abs(y3-y0)<ε&&x3-x0>ε?{x:abs(y2-y0)<ε?x2:x0,y:y0}:null),cell.site,null)),++nHalfEdges)}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by,d=2*(ax*cy-ay*cx);if(!(d>=-ε2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by,circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=cy+Math.sqrt(x*x+y*y),circle.cy=cy,arc.circle=circle;for(var before=null,node=d3_geom_voronoiCircles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}d3_geom_voronoiCircles.insert(before,circle),before||(d3_geom_voronoiFirstCircle=circle)}}}}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;circle&&(circle.P||(d3_geom_voronoiFirstCircle=circle.N),d3_geom_voronoiCircles.remove(circle),d3_geom_voronoiCirclePool.push(circle),d3_geom_voronoiRedBlackNode(circle),arc.circle=null)}function d3_geom_voronoiClipEdges(extent){for(var e,edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length;i--;)e=edges[i],(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<ε&&abs(e.a.y-e.b.y)<ε)&&(e.a=e.b=null,edges.splice(i,1))}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return!0;var fm,fb,va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2;if(ry===ly){if(x0>fx||fx>=x1)return;if(lx>rx){if(va){if(va.y>=y1)return}else va={x:fx,y:y0};vb={x:fx,y:y1}}else{if(va){if(va.y<y0)return}else va={x:fx,y:y1};vb={x:fx,y:y0}}}else if(fm=(lx-rx)/(ry-ly),fb=fy-fm*fx,-1>fm||fm>1)if(lx>rx){if(va){if(va.y>=y1)return}else va={x:(y0-fb)/fm,y:y0};vb={x:(y1-fb)/fm,y:y1}}else{if(va){if(va.y<y0)return}else va={x:(y1-fb)/fm,y:y1};vb={x:(y0-fb)/fm,y:y0}}else if(ry>ly){if(va){if(va.x>=x1)return}else va={x:x0,y:fm*x0+fb};vb={x:x1,y:fm*x1+fb}}else{if(va){if(va.x<x0)return}else va={x:x1,y:fm*x1+fb};vb={x:x0,y:fm*x0+fb}}return edge.a=va,edge.b=vb,!0}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite,this.r=rSite,this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);return d3_geom_voronoiEdges.push(edge),va&&d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va),vb&&d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb),d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite)),d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite)),edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);return edge.a=va,edge.b=vb,d3_geom_voronoiEdges.push(edge),edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){edge.a||edge.b?edge.l===rSite?edge.b=vertex:edge.a=vertex:(edge.a=vertex,edge.l=lSite,edge.r=rSite)}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge,this.site=lSite,this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function d3_geom_voronoiRedBlackFirst(node){for(;node.L;)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var x0,y0,circle,site=sites.sort(d3_geom_voronoiVertexOrder).pop();for(d3_geom_voronoiEdges=[],d3_geom_voronoiCells=new Array(sites.length),d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree,d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;;)if(circle=d3_geom_voronoiFirstCircle,site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x))(site.x!==x0||site.y!==y0)&&(d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site),d3_geom_voronoiAddBeach(site),x0=site.x,y0=site.y),site=sites.pop();else{if(!circle)break;d3_geom_voronoiRemoveBeach(circle.arc)}bbox&&(d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox));var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};return d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null,diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=.5*(x1+x2),sy=.5*(y1+y2),children=node.nodes;children[0]&&d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy),children[1]&&d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy),children[2]&&d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2),children[3]&&d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}function d3_geom_quadtreeFind(root,x,y,x0,y0,x3,y3){var closestPoint,minDistance2=1/0;return function find(node,x1,y1,x2,y2){if(!(x1>x3||y1>y3||x0>x2||y0>y2)){if(point=node.point){var point,dx=x-node.x,dy=y-node.y,distance2=dx*dx+dy*dy;if(minDistance2>distance2){var distance=Math.sqrt(minDistance2=distance2);x0=x-distance,y0=y-distance,x3=x+distance,y3=y+distance,closestPoint=point}}for(var children=node.nodes,xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right,j=i+4;j>i;++i)if(node=children[3&i])switch(3&i){case 0:find(node,x1,y1,xm,ym);break;case 1:find(node,xm,y1,x2,ym);break;case 2:find(node,x1,ym,xm,y2);break;case 3:find(node,xm,ym,x2,y2)}}}(root,x0,y0,x3,y3),closestPoint}function d3_interpolateRgb(a,b){a=d3.rgb(a),b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}function d3_interpolateObject(a,b){var k,i={},c={};for(k in a)k in b?i[k]=d3_interpolate(a[k],b[k]):c[k]=a[k];for(k in b)k in a||(c[k]=b[k]);return function(t){for(k in i)c[k]=i[k](t);return c}}function d3_interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function d3_interpolateString(a,b){var am,bm,bs,bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:d3_interpolateNumber(am,bm)})),bi=d3_interpolate_numberB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var o,i=0;b>i;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function d3_interpolate(a,b){for(var f,i=d3.interpolators.length;--i>=0&&!(f=d3.interpolators[i](a,b)););return f}function d3_interpolateArray(a,b){var i,x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length);for(i=0;n0>i;++i)x.push(d3_interpolate(a[i],b[i]));for(;na>i;++i)c[i]=a[i];for(;nb>i;++i)c[i]=b[i];return function(t){for(i=0;n0>i;++i)c[i]=x[i](t);return c}}function d3_ease_clamp(f){return function(t){return 0>=t?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(.5>t?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(0>=t)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(.5>t?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*halfπ)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;return arguments.length<2&&(p=.45),arguments.length?s=p/τ*Math.asin(1/a):(a=1,s=p/4),function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p)}}function d3_ease_back(s){return s||(s=1.70158),function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(a,b){a=d3.hcl(a),b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;return isNaN(bc)&&(bc=0,ac=isNaN(ac)?b.c:ac),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:-180>bh&&(bh+=360),function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}function d3_interpolateHsl(a,b){a=d3.hsl(a),b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;return isNaN(bs)&&(bs=0,as=isNaN(as)?b.s:as),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:-180>bh&&(bh+=360),function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}function d3_interpolateLab(a,b){a=d3.lab(a),b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}function d3_interpolateRound(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;r0[0]*r1[1]<r1[0]*r0[1]&&(r0[0]*=-1,r0[1]*=-1,kx*=-1,kz*=-1),this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees,this.translate=[m.e,m.f],this.scale=[kx,ky],this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));return k&&(a[0]/=k,a[1]/=k),k}function d3_transformCombine(a,b,k){return a[0]+=k*b[0],a[1]+=k*b[1],a}function d3_interpolateTransform(a,b){var n,s=[],q=[],A=d3.transform(a),B=d3.transform(b),ta=A.translate,tb=B.translate,ra=A.rotate,rb=B.rotate,wa=A.skew,wb=B.skew,ka=A.scale,kb=B.scale;return ta[0]!=tb[0]||ta[1]!=tb[1]?(s.push("translate(",null,",",null,")"),q.push({i:1,x:d3_interpolateNumber(ta[0],tb[0])},{i:3,x:d3_interpolateNumber(ta[1],tb[1])})):tb[0]||tb[1]?s.push("translate("+tb+")"):s.push(""),ra!=rb?(ra-rb>180?rb+=360:rb-ra>180&&(ra+=360),q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})):rb&&s.push(s.pop()+"rotate("+rb+")"),wa!=wb?q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)}):wb&&s.push(s.pop()+"skewX("+wb+")"),ka[0]!=kb[0]||ka[1]!=kb[1]?(n=s.push(s.pop()+"scale(",null,",",null,")"),q.push({i:n-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:n-2,x:d3_interpolateNumber(ka[1],kb[1])})):(1!=kb[0]||1!=kb[1])&&s.push(s.pop()+"scale("+kb+")"),n=q.length,function(t){for(var o,i=-1;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){return b=(b-=a=+a)||1/b,function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){return b=(b-=a=+a)||1/b,function(x){return Math.max(0,Math.min(1,(x-a)/b))}}function d3_layout_bundlePath(link){for(var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];start!==lca;)start=start.parent,points.push(start);for(var k=points.length;end!==lca;)points.splice(k,0,end),end=end.parent;return points}function d3_layout_bundleAncestors(node){for(var ancestors=[],parent=node.parent;null!=parent;)ancestors.push(node),node=parent,parent=parent.parent;return ancestors.push(node),ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;for(var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;aNode===bNode;)sharedNode=aNode,aNode=aNodes.pop(),bNode=bNodes.pop();return sharedNode}function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=-7}function d3_layout_forceMouseover(d){d.fixed|=4,d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=-5}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;if(quad.charge=0,!quad.leaf)for(var c,nodes=quad.nodes,n=nodes.length,i=-1;++i<n;)c=nodes[i],null!=c&&(d3_layout_forceAccumulate(c,alpha,charges),quad.charge+=c.charge,cx+=c.charge*c.cx,cy+=c.charge*c.cy);if(quad.point){quad.leaf||(quad.point.x+=Math.random()-.5,quad.point.y+=Math.random()-.5);var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k,cx+=k*quad.point.x,cy+=k*quad.point.y}quad.cx=cx/quad.charge,quad.cy=cy/quad.charge}function d3_layout_hierarchyRebind(object,hierarchy){return d3.rebind(object,hierarchy,"sort","children","value"),object.nodes=object,object.links=d3_layout_hierarchyLinks,object}function d3_layout_hierarchyVisitBefore(node,callback){for(var nodes=[node];null!=(node=nodes.pop());)if(callback(node),(children=node.children)&&(n=children.length))for(var n,children;--n>=0;)nodes.push(children[n])}function d3_layout_hierarchyVisitAfter(node,callback){for(var nodes=[node],nodes2=[];null!=(node=nodes.pop());)if(nodes2.push(node),(children=node.children)&&(n=children.length))for(var n,children,i=-1;++i<n;)nodes.push(children[i]);for(;null!=(node=nodes2.pop());)callback(node)}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0,d.y=y}function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){for(var j=-1,m=data[0].length,y0=[];++j<m;)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){for(var k,i=1,j=0,v=array[0][1],n=array.length;n>i;++i)(k=array[i][1])>v&&(j=i,v=k);return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){for(var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];++x<=n;)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b,b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){function bound(node){xMin=Math.min(node.x-node.r,xMin),xMax=Math.max(node.x+node.r,xMax),yMin=Math.min(node.y-node.r,yMin),yMax=Math.max(node.y+node.r,yMax)}if((nodes=node.children)&&(n=nodes.length)){var nodes,a,b,c,i,j,k,n,xMin=1/0,xMax=-(1/0),yMin=1/0,yMax=-(1/0);if(nodes.forEach(d3_layout_packLink),a=nodes[0],a.x=-a.r,a.y=0,bound(a),n>1&&(b=nodes[1],b.x=b.r,b.y=0,bound(b),n>2))for(c=nodes[2],d3_layout_packPlace(a,b,c),bound(c),d3_layout_packInsert(a,c),a._pack_prev=c,d3_layout_packInsert(c,b),b=a._pack_next,i=3;n>i;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++)if(d3_layout_packIntersects(j,c)){isect=1;break}if(1==isect)for(k=a._pack_prev;k!==j._pack_prev&&!d3_layout_packIntersects(k,c);k=k._pack_prev,s2++);isect?(s2>s1||s1==s2&&b.r<a.r?d3_layout_packSplice(a,b=j):d3_layout_packSplice(a=k,b),i--):(d3_layout_packInsert(a,c),b=c,bound(c))}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;n>i;i++)c=nodes[i],c.x-=cx,c.y-=cy,cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y));node.r=cr,nodes.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next,delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;if(node.x=x+=k*node.x,node.y=y+=k*node.y,node.r*=k,children)for(var i=-1,n=children.length;++i<n;)d3_layout_packTransform(children[i],x,y,k)}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da,db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy,c.y=a.y+x*dy-y*dx}else c.x=a.x+db,c.y=a.y}function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var n,children=v.children;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function d3_layout_treeShift(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)w=children[i],w.z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function d3_layout_clusterY(children){return 1+d3.max(children,function(child){return child.y})}function d3_layout_clusterX(children){return children.reduce(function(x,child){return x+child.x},0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var n,children=node.children;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];return 0>dx&&(x+=dx/2,dx=0),0>dy&&(y+=dy/2,dy=0),{x:x,y:y,dx:dx,dy:dy}}function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return stop>start?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var dx,i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1];return x0>x1&&(dx=i0,i0=i1,i1=dx,dx=x0,x0=x1,x1=dx),domain[i0]=nice.floor(x0),domain[i1]=nice.ceil(x1),domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;for(domain[k]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++j<=k;)u.push(uninterpolate(domain[j-1],domain[j])),i.push(interpolate(range[j-1],range[j]));return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}function d3_scale_linear(domain,range,interpolate,clamp){function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;return output=linear(domain,range,uninterpolate,interpolate),input=linear(range,domain,uninterpolate,d3_interpolate),scale}function scale(x){return output(x)}var output,input;return scale.invert=function(y){return input(y)},scale.domain=function(x){return arguments.length?(domain=x.map(Number),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)},scale.clamp=function(x){return arguments.length?(clamp=x,rescale()):clamp},scale.interpolate=function(x){return arguments.length?(interpolate=x,rescale()):interpolate},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return d3_scale_linearNice(domain,m),rescale()},scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)},rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){return d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2]))}function d3_scale_linearTickRange(domain,m){null==m&&(m=10);var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;return.15>=err?step*=10:.35>=err?step*=5:.75>=err&&(step*=2),extent[0]=Math.ceil(extent[0]/step)*step,extent[1]=Math.floor(extent[1]/step)*step+.5*step,extent[2]=step,extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);if(match.shift(),"s"===match[8]){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));return match[7]||(match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]))),match[8]="f",format=d3.format(match.join("")),function(d){return format(prefix.scale(d))+prefix.symbol}}match[7]||(match[7]="."+d3_scale_linearFormatPrecision(match[8],range)),format=match.join("")}else format=",."+d3_scale_linearPrecision(range[2])+"f";return d3.format(format)}function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +("e"!==type):p-2*("%"===type)}function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(0>x?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}return scale.invert=function(x){return pow(linear.invert(x))},scale.domain=function(x){return arguments.length?(positive=x[0]>=0,linear.domain((domain=x.map(Number)).map(log)),scale):domain},scale.base=function(_){return arguments.length?(base=+_,linear.domain(domain.map(log)),scale):base},scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);return linear.domain(niced),domain=niced.map(pow),scale},scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;j>i;i++)for(var k=1;n>k;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else for(ticks.push(pow(i));i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k);for(i=0;ticks[i]<u;i++);for(j=ticks.length;ticks[j-1]>v;j--);ticks=ticks.slice(i,j)}return ticks},scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;arguments.length<2?format=d3_scale_logFormat:"function"!=typeof format&&(format=d3.format(format));var e,k=Math.max(.1,n/scale.ticks().length),f=positive?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(d){return d/pow(f(log(d)+e))<=k?format(d):""}},scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_pow(linear,exponent,domain){function scale(x){return linear(powp(x))}var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);return scale.invert=function(x){return powb(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain((domain=x.map(Number)).map(powp)),scale):domain},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))},scale.exponent=function(x){return arguments.length?(powp=d3_scale_powPow(exponent=x),powb=d3_scale_powPow(1/exponent),linear.domain(domain.map(powp)),scale):exponent},scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return 0>x?-Math.pow(-x,e):Math.pow(x,e)}}function d3_scale_ordinal(domain,ranger){function scale(x){return range[((index.get(x)||("range"===ranger.t?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map(function(i){return start+step*i})}var index,range,rangeBand;return scale.domain=function(x){if(!arguments.length)return domain;domain=[],index=new d3_Map;for(var xi,i=-1,n=x.length;++i<n;)index.has(xi=x[i])||index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)},scale.range=function(x){return arguments.length?(range=x,rangeBand=0,ranger={t:"range",a:arguments},scale):range},scale.rangePoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=(start+stop)/2,0):(stop-start)/(domain.length-1+padding);return range=steps(start+step*padding/2,step),rangeBand=0,ranger={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=stop=Math.round((start+stop)/2),0):(stop-start)/(domain.length-1+padding)|0;return range=steps(start+Math.round(step*padding/2+(stop-start-(domain.length-1+padding)*step)/2),step),rangeBand=0,ranger={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);return range=steps(start+step*outerPadding,step),reverse&&range.reverse(),rangeBand=step*(1-padding),ranger={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math.floor((stop-start)/(domain.length-padding+2*outerPadding));return range=steps(start+Math.round((stop-start-(domain.length-padding)*step)/2),step),reverse&&range.reverse(),rangeBand=Math.round(step*(1-padding)),ranger={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return rangeBand},scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])},scale.copy=function(){return d3_scale_ordinal(domain,ranger)},scale.domain(domain)}function d3_scale_quantile(domain,range){function rescale(){var k=0,q=range.length;for(thresholds=[];++k<q;)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){return isNaN(x=+x)?void 0:range[d3.bisect(thresholds,x)]}var thresholds;return scale.domain=function(x){return arguments.length?(domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.quantiles=function(){return thresholds},scale.invertExtent=function(y){return y=range.indexOf(y),0>y?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]},scale.copy=function(){return d3_scale_quantile(domain,range)},rescale()}function d3_scale_quantize(x0,x1,range){function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){return kx=range.length/(x1-x0),i=range.length-1,scale}var kx,i;return scale.domain=function(x){return arguments.length?(x0=+x[0],x1=+x[x.length-1],rescale()):[x0,x1]},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.invertExtent=function(y){return y=range.indexOf(y),y=0>y?NaN:y/kx+x0,[y,y+1/kx]},scale.copy=function(){return d3_scale_quantize(x0,x1,range)},rescale()}function d3_scale_threshold(domain,range){function scale(x){return x>=x?range[d3.bisect(domain,x)]:void 0}return scale.domain=function(_){return arguments.length?(domain=_,scale):domain},scale.range=function(_){return arguments.length?(range=_,scale):range},scale.invertExtent=function(y){return y=range.indexOf(y),[domain[y-1],domain[y]]},scale.copy=function(){return d3_scale_threshold(domain,range)},scale}function d3_scale_identity(domain){function identity(x){return+x}return identity.invert=identity,identity.domain=identity.range=function(x){return arguments.length?(domain=x.map(identity),identity):domain},identity.ticks=function(m){return d3_scale_linearTicks(domain,m)},identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},identity.copy=function(){return d3_scale_identity(domain)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_arcPadAngle(d){return d&&d.padAngle}function d3_svg_arcSweep(x0,y0,x1,y1){
return(x0-x1)*y0-(y0-y1)*x0>0?0:1}function d3_svg_arcCornerTangents(p0,p1,r1,rc,cw){var x01=p0[0]-p1[0],y01=p0[1]-p1[1],lo=(cw?rc:-rc)/Math.sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x1=p0[0]+ox,y1=p0[1]+oy,x2=p1[0]+ox,y2=p1[1]+oy,x3=(x1+x2)/2,y3=(y1+y2)/2,dx=x2-x1,dy=y2-y1,d2=dx*dx+dy*dy,r=r1-rc,D=x1*y2-x2*y1,d=(0>dy?-1:1)*Math.sqrt(r*r*d2-D*D),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x3,dy0=cy0-y3,dx1=cx1-x3,dy1=cy1-y3;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),[[cx0-ox,cy0-oy],[cx0*r1/r,cy0*r1/r]]}function d3_svg_line(projection){function line(data){function segment(){segments.push("M",interpolate(projection(points),tension))}for(var d,segments=[],points=[],i=-1,n=data.length,fx=d3_functor(x),fy=d3_functor(y);++i<n;)defined.call(this,d=data[i],i)?points.push([+fx.call(this,d,i),+fy.call(this,d,i)]):points.length&&(segment(),points=[]);return points.length&&segment(),segments.length?segments.join(""):null}var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;return line.x=function(_){return arguments.length?(x=_,line):x},line.y=function(_){return arguments.length?(y=_,line):y},line.defined=function(_){return arguments.length?(defined=_,line):defined},line.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,line):interpolateKey},line.tension=function(_){return arguments.length?(tension=_,line):tension},line}function d3_svg_lineLinear(points){return points.join("L")}function d3_svg_lineLinearClosed(points){return d3_svg_lineLinear(points)+"Z"}function d3_svg_lineStep(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);return n>1&&path.push("H",p[0]),path.join("")}function d3_svg_lineStepBefore(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2)return d3_svg_lineLinear(points);var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;if(quad&&(path+="Q"+(p[0]-2*t0[0]/3)+","+(p[1]-2*t0[1]/3)+","+p[0]+","+p[1],p0=points[1],pi=2),tangents.length>1){t=tangents[1],p=points[pi],pi++,path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++)p=points[pi],t=tangents[i],path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}if(quad){var lp=points[pi];path+="Q"+(p[0]+2*t[0]/3)+","+(p[1]+2*t[1]/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){for(var p0,tangents=[],a=(1-tension)/2,p1=points[0],p2=points[1],i=1,n=points.length;++i<n;)p0=p1,p1=p2,p2=points[i],tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])]);return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];for(points.push(points[n-1]);++i<=n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return points.pop(),path.push("L",pi),path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);for(var pi,path=[],i=-1,n=points.length,px=[0],py=[0];++i<3;)pi=points[i],px.push(pi[0]),py.push(pi[1]);for(path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)),--i;++i<n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBasisClosed(points){for(var path,pi,i=-1,n=points.length,m=n+4,px=[],py=[];++i<4;)pi=points[i%n],px.push(pi[0]),py.push(pi[1]);for(path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)],--i;++i<m;)pi=points[i%n],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n)for(var p,t,x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1;++i<=n;)p=points[i],t=i/n,p[0]=tension*p[0]+(1-tension)*(x0+t*dx),p[1]=tension*p[1]+(1-tension)*(y0+t*dy);return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){for(var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);++i<j;)m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2;return m[i]=d,m}function d3_svg_lineMonotoneTangents(points){for(var d,a,b,s,tangents=[],m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;++i<j;)d=d3_svg_lineSlope(points[i],points[i+1]),abs(d)<ε?m[i]=m[i+1]=0:(a=m[i]/d,b=m[i+1]/d,s=a*a+b*b,s>9&&(s=3*d/Math.sqrt(s),m[i]=s*a,m[i+1]=s*b));for(i=-1;++i<=j;)s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i])),tangents.push([s||0,m[i]*s||0]);return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}function d3_svg_lineRadial(points){for(var point,r,a,i=-1,n=points.length;++i<n;)point=points[i],r=point[0],a=point[1]-halfπ,point[0]=r*Math.cos(a),point[1]=r*Math.sin(a);return points}function d3_svg_area(projection){function area(data){function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}for(var d,x,y,segments=[],points0=[],points1=[],i=-1,n=data.length,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1);++i<n;)defined.call(this,d=data[i],i)?(points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]),points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])):points0.length&&(segment(),points0=[],points1=[]);return points0.length&&segment(),segments.length?segments.join(""):null}var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;return area.x=function(_){return arguments.length?(x0=x1=_,area):x1},area.x0=function(_){return arguments.length?(x0=_,area):x0},area.x1=function(_){return arguments.length?(x1=_,area):x1},area.y=function(_){return arguments.length?(y0=y1=_,area):y1},area.y0=function(_){return arguments.length?(y0=_,area):y0},area.y1=function(_){return arguments.length?(y1=_,area):y1},area.defined=function(_){return arguments.length?(defined=_,area):defined},area.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,interpolateReverse=interpolate.reverse||interpolate,L=interpolate.closed?"M":"L",area):interpolateKey},area.tension=function(_){return arguments.length?(tension=_,area):tension},area}function d3_svg_chordRadius(d){return d.radius}function d3_svg_diagonalProjection(d){return[d.x,d.y]}function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]-halfπ;return[r*Math.cos(a),r*Math.sin(a)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}function d3_selection_interruptNS(ns){return function(){var lock,active;(lock=this[ns])&&(active=lock[lock.active])&&(--lock.count?delete lock[lock.active]:delete this[ns],lock.active+=.5,active.event&&active.event.interrupt.call(this,this.__data__,active.index))}}function d3_transition(groups,ns,id){return d3_subclass(groups,d3_transitionPrototype),groups.namespace=ns,groups.id=id,groups}function d3_transition_tween(groups,name,value,tween){var id=groups.id,ns=groups.namespace;return d3_selection_each(groups,"function"==typeof value?function(node,i,j){node[ns][id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node[ns][id].tween.set(name,value)}))}function d3_transition_text(b){return null==b&&(b=""),function(){this.textContent=b}}function d3_transitionNamespace(name){return null==name?"__transition__":"__transition_"+name+"__"}function d3_transitionNode(node,i,ns,id,inherit){var lock=node[ns]||(node[ns]={active:0,count:0}),transition=lock[id];if(!transition){var time=inherit.time;transition=lock[id]={tween:new d3_Map,time:time,delay:inherit.delay,duration:inherit.duration,ease:inherit.ease,index:i},inherit=null,++lock.count,d3.timer(function(elapsed){function start(elapsed){if(lock.active>id)return stop();var active=lock[lock.active];active&&(--lock.count,delete lock[lock.active],active.event&&active.event.interrupt.call(node,node.__data__,active.index)),lock.active=id,transition.event&&transition.event.start.call(node,node.__data__,i),transition.tween.forEach(function(key,value){(value=value.call(node,node.__data__,i))&&tweened.push(value)}),ease=transition.ease,duration=transition.duration,d3.timer(function(){return timer.c=tick(elapsed||1)?d3_true:tick,1},0,time)}function tick(elapsed){if(lock.active!==id)return 1;for(var t=elapsed/duration,e=ease(t),n=tweened.length;n>0;)tweened[--n].call(node,e);return t>=1?(transition.event&&transition.event.end.call(node,node.__data__,i),stop()):void 0}function stop(){return--lock.count?delete lock[id]:delete node[ns],1}var duration,ease,delay=transition.delay,timer=d3_timer_active,tweened=[];return timer.t=delay+time,elapsed>=delay?start(elapsed-delay):void(timer.c=start)},0,time)}}function d3_svg_axisX(selection,x0,x1){selection.attr("transform",function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"})}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"})}function d3_time_formatIsoNative(date){return date.toISOString()}function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map(function(d){return d/31536e6}),count)[2]]:i?methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]:[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]}return scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain(x),scale):linear.domain().map(d3_time_scaleDate)},scale.nice=function(interval,skip){function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}var domain=scale.domain(),extent=d3_scaleExtent(domain),method=null==interval?tickMethod(extent,10):"number"==typeof interval&&tickMethod(extent,interval);return method&&(interval=method[0],skip=method[1]),scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){for(;skipped(date=interval.floor(date));)date=d3_time_scaleDate(date-1);return date},ceil:function(date){for(;skipped(date=interval.ceil(date));)date=d3_time_scaleDate(+date+1);return date}}:interval))},scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=null==interval?tickMethod(extent,10):"number"==typeof interval?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];return method&&(interval=method[0],skip=method[1]),interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),1>skip?1:skip)},scale.tickFormat=function(){return format},scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)},d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(request){return JSON.parse(request.responseText)}function d3_html(request){var range=d3_document.createRange();return range.selectNode(d3_document.body),range.createContextualFragment(request.responseText)}var d3={version:"3.5.6"},d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)},d3_document=this.document;if(d3_document)try{d3_array(d3_document.documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){for(var i=list.length,array=new Array(i);i--;)array[i]=list[i];return array}}if(Date.now||(Date.now=function(){return+new Date}),d3_document)try{d3_document.createElement("DIV").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=this.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=this.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")},d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")},d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}d3.ascending=d3_ascending,d3.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},d3.min=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&a>b&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&a>b&&(a=b)}return a},d3.max=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&b>a&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&b>a&&(a=b)}return a},d3.extent=function(array,f){var a,b,c,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=array[i])&&(a>b&&(a=b),b>c&&(c=b))}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&(a>b&&(a=b),b>c&&(c=b))}return[a,c]},d3.sum=function(array,f){var a,s=0,n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=+array[i])&&(s+=a);else for(;++i<n;)d3_numeric(a=+f.call(array,array[i],i))&&(s+=a);return s},d3.mean=function(array,f){var a,s=0,n=array.length,i=-1,j=n;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))?s+=a:--j;else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))?s+=a:--j;return j?s/j:void 0},d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v},d3.median=function(array,f){var a,numbers=[],n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&numbers.push(a);else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&numbers.push(a);return numbers.length?d3.quantile(numbers.sort(d3_ascending),.5):void 0},d3.variance=function(array,f){var a,d,n=array.length,m=0,s=0,i=-1,j=0;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&(d=a-m,m+=d/++j,s+=d*(a-m));else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&(d=a-m,m+=d/++j,s+=d*(a-m));return j>1?s/(j-1):void 0},d3.deviation=function(){var v=d3.variance.apply(this,arguments);return v?Math.sqrt(v):v};var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left,d3.bisect=d3.bisectRight=d3_bisect.right,d3.bisector=function(f){return d3_bisector(1===f.length?function(d,x){return d3_ascending(f(d),x)}:f)},d3.shuffle=function(array,i0,i1){(m=arguments.length)<3&&(i1=array.length,2>m&&(i0=0));for(var t,i,m=i1-i0;m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},d3.permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes},d3.pairs=function(array){for(var p0,i=0,n=array.length-1,p1=array[0],pairs=new Array(0>n?0:n);n>i;)pairs[i]=[p0=p1,p1=array[++i]];return pairs},d3.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=d3.min(arguments,d3_zipLength),zips=new Array(m);++i<m;)for(var n,j=-1,zip=zips[i]=new Array(n);++j<n;)zip[j]=arguments[j][i];return zips},d3.transpose=function(matrix){return d3.zip.apply(d3,matrix)},d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys},d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);return values},d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries},d3.merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(array=arrays[n],m=array.length;--m>=0;)merged[--j]=array[m];return merged};var abs=Math.abs;d3.range=function(start,stop,step){if(arguments.length<3&&(step=1,arguments.length<2&&(stop=start,start=0)),(stop-start)/step===1/0)throw new Error("infinite range");var j,range=[],k=d3_range_integerScale(abs(step)),i=-1;if(start*=k,stop*=k,step*=k,0>step)for(;(j=start+step*++i)>stop;)range.push(j/k);else for(;(j=start+step*++i)<stop;)range.push(j/k);return range},d3.map=function(object,f){var map=new d3_Map;if(object instanceof d3_Map)object.forEach(function(key,value){map.set(key,value)});else if(Array.isArray(object)){var o,i=-1,n=object.length;if(1===arguments.length)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f.call(object,o=object[i],i),o)}else for(var key in object)map.set(key,object[key]);return map};var d3_map_proto="__proto__",d3_map_zero="\x00";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}}),d3.nest=function(){function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;for(var keyValue,object,setter,values,i=-1,n=array.length,key=keys[depth++],valuesByKey=new d3_Map;++i<n;)(values=valuesByKey.get(keyValue=key(object=array[i])))?values.push(object):valuesByKey.set(keyValue,[object]);return mapType?(object=mapType(),setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}):(object={},setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}),valuesByKey.forEach(setter),object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];return map.forEach(function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})}),sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}var sortValues,rollup,nest={},keys=[],sortKeys=[];return nest.map=function(array,mapType){return map(mapType,array,0)},nest.entries=function(array){return entries(map(d3.map,array,0),0)},nest.key=function(d){return keys.push(d),nest},nest.sortKeys=function(order){return sortKeys[keys.length-1]=order,nest},nest.sortValues=function(order){return sortValues=order,nest},nest.rollup=function(f){return rollup=f,nest},nest},d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;n>i;++i)set.add(array[i]);return set},d3_class(d3_Set,{has:d3_map_has,add:function(key){return this._[d3_map_escape(key+="")]=!0,key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}}),d3.behavior={},d3.rebind=function(target,source){for(var method,i=1,n=arguments.length;++i<n;)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];d3.dispatch=function(){for(var dispatch=new d3_dispatch,i=-1,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch},d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";if(i>=0&&(name=type.slice(i+1),type=type.slice(0,i)),type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(2===arguments.length){if(null==listener)for(type in this)this.hasOwnProperty(type)&&this[type].on(name,null);return this}},d3.event=null,d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]},d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatches=function(n,s){var d3_selectMatcher=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];return(d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)})(n,s)};"function"==typeof Sizzle&&(d3_select=function(s,n){return Sizzle(s,n)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),d3.selection=function(){return d3.select(d3_document.documentElement)};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroup,subnode,group,node,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(subnode=selector.call(node,node.__data__,i,j)),subnode&&"__data__"in node&&(subnode.__data__=node.__data__)):subgroup.push(null)}return d3_selection(subgroups)},d3_selectionPrototype.selectAll=function(selector){var subgroup,node,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j))),subgroup.parentNode=node);return d3_selection(subgroups)};var d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;return i>=0&&(prefix=name.slice(0,i),name=name.slice(i+1)),d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}},d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node();return name=d3.ns.qualify(name),name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))},d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){for(;++i<n;)if(!value.contains(name[i]))return!1}else for(value=node.getAttribute("class");++i<n;)if(!d3_selection_classedRe(name[i]).test(value))return!1;return!0}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))},d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(3>n){if("string"!=typeof name){2>n&&(value="");for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(2>n){var node=this.node();return d3_window(node).getComputedStyle(node,null).getPropertyValue(name)}priority=""}return this.each(d3_selection_style(name,value,priority))},d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if("string"==typeof name)return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))},d3_selectionPrototype.text=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}:null==value?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent},d3_selectionPrototype.html=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}:null==value?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML},d3_selectionPrototype.append=function(name){return name=d3_selection_creator(name),this.select(function(){return this.appendChild(name.apply(this,arguments))})},d3_selectionPrototype.insert=function(name,before){return name=d3_selection_creator(name),before=d3_selection_selector(before),this.select(function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)})},d3_selectionPrototype.remove=function(){return this.each(d3_selectionRemove)},d3_selectionPrototype.data=function(value,key){function bind(group,groupData){var i,node,nodeData,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n);if(key){var keyValue,nodeByKeyValue=new d3_Map,keyValues=new Array(n);for(i=-1;++i<n;)nodeByKeyValue.has(keyValue=key.call(node=group[i],node.__data__,i))?exitNodes[i]=node:nodeByKeyValue.set(keyValue,node),keyValues[i]=keyValue;for(i=-1;++i<m;)(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))?node!==!0&&(updateNodes[i]=node,node.__data__=nodeData):enterNodes[i]=d3_selection_dataNode(nodeData),nodeByKeyValue.set(keyValue,!0);for(i=-1;++i<n;)nodeByKeyValue.get(keyValues[i])!==!0&&(exitNodes[i]=group[i])}else{for(i=-1;++i<n0;)node=group[i],nodeData=groupData[i],node?(node.__data__=nodeData,updateNodes[i]=node):enterNodes[i]=d3_selection_dataNode(nodeData);for(;m>i;++i)enterNodes[i]=d3_selection_dataNode(groupData[i]);for(;n>i;++i)exitNodes[i]=group[i]}enterNodes.update=updateNodes,enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode,enter.push(enterNodes),update.push(updateNodes),exit.push(exitNodes)}var group,node,i=-1,n=this.length;if(!arguments.length){for(value=new Array(n=(group=this[0]).length);++i<n;)(node=group[i])&&(value[i]=node.__data__);return value}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if("function"==typeof value)for(;++i<n;)bind(group=this[i],value.call(group,group.parentNode.__data__,i));else for(;++i<n;)bind(group=this[i],value);return update.enter=function(){return enter},update.exit=function(){return exit},update},d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")},d3_selectionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;m>j;j++){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;n>i;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_selection(subgroups)},d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;)for(var node,group=this[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node);return this},d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(comparator);return this.order()},d3_selectionPrototype.each=function(callback){return d3_selection_each(this,function(node,i,j){callback.call(node,node.__data__,i,j)})},d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);return callback.apply(args[0]=this,args),this},d3_selectionPrototype.empty=function(){return!this.node()},d3_selectionPrototype.node=function(){for(var j=0,m=this.length;m>j;j++)for(var group=this[j],i=0,n=group.length;n>i;i++){var node=group[i];if(node)return node}return null},d3_selectionPrototype.size=function(){var n=0;return d3_selection_each(this,function(){++n}),n};var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter,d3.selection.enter.prototype=d3_selection_enterPrototype,d3_selection_enterPrototype.append=d3_selectionPrototype.append,d3_selection_enterPrototype.empty=d3_selectionPrototype.empty,d3_selection_enterPrototype.node=d3_selectionPrototype.node,d3_selection_enterPrototype.call=d3_selectionPrototype.call,d3_selection_enterPrototype.size=d3_selectionPrototype.size,d3_selection_enterPrototype.select=function(selector){for(var subgroup,subnode,upgroup,group,node,subgroups=[],j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update,subgroups.push(subgroup=[]),subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j)),subnode.__data__=node.__data__):subgroup.push(null)}return d3_selection(subgroups)},d3_selection_enterPrototype.insert=function(name,before){return arguments.length<2&&(before=d3_selection_enterInsertBefore(this)),d3_selectionPrototype.insert.call(this,name,before)},d3.select=function(node){var group;return"string"==typeof node?(group=[d3_select(node,d3_document)],group.parentNode=d3_document.documentElement):(group=[node],group.parentNode=d3_documentElement(node)),d3_selection([group])},d3.selectAll=function(nodes){var group;return"string"==typeof nodes?(group=d3_array(d3_selectAll(nodes,d3_document)),group.parentNode=d3_document.documentElement):(group=nodes,group.parentNode=null),d3_selection([group])},d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(3>n){if("string"!=typeof type){2>n&&(listener=!1);for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(2>n)return(n=this.node()["__on"+type])&&n._;capture=!1}return this.each(d3_selection_on(type,listener,capture))};var d3_selection_onFilters=d3.map({
mouseenter:"mouseover",mouseleave:"mouseout"});d3_document&&d3_selection_onFilters.forEach(function(k){"on"+k in d3_document&&d3_selection_onFilters.remove(k)});var d3_event_dragSelect,d3_event_dragId=0;d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;d3.touch=function(container,touches,identifier){if(arguments.length<3&&(identifier=touches,touches=d3_eventSource().changedTouches),touches)for(var touch,i=0,n=touches.length;n>i;++i)if((touch=touches[i]).identifier===identifier)return d3_mousePoint(container,touch)},d3.behavior.drag=function(){function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){function moved(){var dx,dy,position1=position(parent,dragId);position1&&(dx=position1[0]-position0[0],dy=position1[1]-position0[1],dragged|=dx|dy,position0=position1,dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy}))}function ended(){position(parent,dragId)&&(dragSubject.on(move+dragName,null).on(end+dragName,null),dragRestore(dragged&&d3.event.target===target),dispatch({type:"dragend"}))}var dragOffset,that=this,target=d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(null==dragId?"":"-"+dragId),dragSubject=d3.select(subject(target)).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(target),position0=position(parent,dragId);origin?(dragOffset=origin.apply(that,arguments),dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]):dragOffset=[0,0],dispatch({type:"dragstart"})}}var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_window,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_identity,"touchmove","touchend");return drag.origin=function(x){return arguments.length?(origin=x,drag):origin},d3.rebind(drag,event,"on")},d3.touches=function(container,touches){return arguments.length<2&&(touches=d3_eventSource().touches),touches?d3_array(touches).map(function(touch){var point=d3_mousePoint(container,touch);return point.identifier=touch.identifier,point}):[]};var ε=1e-6,ε2=ε*ε,π=Math.PI,τ=2*π,τε=τ-ε,halfπ=π/2,d3_radians=π/180,d3_degrees=180/π,ρ=Math.SQRT2,ρ2=2,ρ4=4;d3.interpolateZoom=function(p0,p1){function interpolate(t){var s=t*S;if(dr){var coshr0=d3_cosh(r0),u=w0/(ρ2*d1)*(coshr0*d3_tanh(ρ*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(ρ*s+r0)]}return[ux0+t*dx,uy0+t*dy,w0*Math.exp(ρ*s)]}var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+ρ4*d2)/(2*w0*ρ2*d1),b1=(w1*w1-w0*w0-ρ4*d2)/(2*w1*ρ2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1),dr=r1-r0,S=(dr||Math.log(w1/w0))/ρ;return interpolate.duration=1e3*S,interpolate},d3.behavior.zoom=function(){function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l),view.x+=p[0]-l[0],view.y+=p[1]-l[1]}function zoomTo(that,p,l,k){that.__chart__={x:view.x,y:view.y,k:view.k},scaleTo(Math.pow(2,k)),translateTo(center0=p,l),that=d3.select(that),duration>0&&(that=that.transition().duration(duration)),that.call(zoom.event)}function rescale(){x1&&x1.domain(x0.range().map(function(x){return(x-view.x)/view.k}).map(x0.invert)),y1&&y1.domain(y0.range().map(function(y){return(y-view.y)/view.k}).map(y0.invert))}function zoomstarted(dispatch){zooming++||dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale(),dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){--zooming||(dispatch({type:"zoomend"}),center0=null)}function mousedowned(){function moved(){dragged=1,translateTo(d3.mouse(that),location0),zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null),dragRestore(dragged&&d3.event.target===target),zoomended(dispatch)}var that=this,target=d3.event.target,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window(that)).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress(that);d3_selection_interrupt.call(that),zoomstarted(dispatch)}function touchstarted(){function relocate(){var touches=d3.touches(that);return scale0=view.k,touches.forEach(function(t){t.identifier in locations0&&(locations0[t.identifier]=location(t))}),touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended),targets.push(target);for(var changed=d3.event.changedTouches,i=0,n=changed.length;n>i;++i)locations0[changed[i].identifier]=null;var touches=relocate(),now=Date.now();if(1===touches.length){if(500>now-touchtime){var p=touches[0];zoomTo(that,p,locations0[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),d3_eventPreventDefault()}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var p0,l0,p1,l1,touches=d3.touches(that);d3_selection_interrupt.call(that);for(var i=0,n=touches.length;n>i;++i,l1=null)if(p1=touches[i],l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2],scaleTo(scale1*scale0)}touchtime=null,translateTo(p0,l0),zoomed(dispatch)}function ended(){if(d3.event.touches.length){for(var changed=d3.event.changedTouches,i=0,n=changed.length;n>i;++i)delete locations0[changed[i].identifier];for(var identifier in locations0)return void relocate()}d3.selectAll(targets).on(zoomName,null),subject.on(mousedown,mousedowned).on(touchstart,touchstarted),dragRestore(),zoomended(dispatch)}var scale0,that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress(that);started(),zoomstarted(dispatch),subject.on(mousedown,null).on(touchstart,started)}function mousewheeled(){var dispatch=event.of(this,arguments);mousewheelTimer?clearTimeout(mousewheelTimer):(d3_selection_interrupt.call(this),translate0=location(center0=center||d3.mouse(this)),zoomstarted(dispatch)),mousewheelTimer=setTimeout(function(){mousewheelTimer=null,zoomended(dispatch)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*d3_behavior_zoomDelta())*view.k),translateTo(center0,translate0),zoomed(dispatch)}function dblclicked(){var p=d3.mouse(this),k=Math.log(view.k)/Math.LN2;zoomTo(this,p,location(p),d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1)}var translate0,center0,center,mousewheelTimer,touchtime,x0,x1,y0,y1,view={x:0,y:0,k:1},size=[960,500],scaleExtent=d3_behavior_zoomInfinity,duration=250,zooming=0,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",touchstart="touchstart.zoom",event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return d3_behavior_zoomWheel||(d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll")),zoom.event=function(g){g.each(function(){var dispatch=event.of(this,arguments),view1=view;d3_transitionInheritId?d3.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1},zoomstarted(dispatch)}).tween("zoom:zoom",function(){var dx=size[0],dy=size[1],cx=center0?center0[0]:dx/2,cy=center0?center0[1]:dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k},zoomed(dispatch)}}).each("interrupt.zoom",function(){zoomended(dispatch)}).each("end.zoom",function(){zoomended(dispatch)}):(this.__chart__=view,zoomstarted(dispatch),zoomed(dispatch),zoomended(dispatch))})},zoom.translate=function(_){return arguments.length?(view={x:+_[0],y:+_[1],k:view.k},rescale(),zoom):[view.x,view.y]},zoom.scale=function(_){return arguments.length?(view={x:view.x,y:view.y,k:+_},rescale(),zoom):view.k},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent=null==_?d3_behavior_zoomInfinity:[+_[0],+_[1]],zoom):scaleExtent},zoom.center=function(_){return arguments.length?(center=_&&[+_[0],+_[1]],zoom):center},zoom.size=function(_){return arguments.length?(size=_&&[+_[0],+_[1]],zoom):size},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.x=function(z){return arguments.length?(x1=z,x0=z.copy(),view={x:0,y:0,k:1},zoom):x1},zoom.y=function(z){return arguments.length?(y1=z,y0=z.copy(),view={x:0,y:0,k:1},zoom):y1},d3.rebind(zoom,event,"on")};var d3_behavior_zoomDelta,d3_behavior_zoomWheel,d3_behavior_zoomInfinity=[0,1/0];d3.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},d3.hsl=d3_hsl;var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,this.l/k)},d3_hslPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,k*this.l)},d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},d3.hcl=d3_hcl;var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},d3.lab=d3_lab;var d3_lab_K=18,d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883,d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},d3.rgb=d3_rgb;var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;return r||g||b?(r&&i>r&&(r=i),g&&i>g&&(g=i),b&&i>b&&(b=i),new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k))):new d3_rgb(i,i,i)},d3_rgbPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_rgb(k*this.r,k*this.g,k*this.b)},d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach(function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))}),d3.functor=d3_functor,d3.xhr=d3_xhrType(d3_identity),d3.dsv=function(delimiter,mimeType){function dsv(url,row,callback){arguments.length<3&&(callback=row,row=null);var xhr=d3_xhr(url,mimeType,null==row?response:typedResponse(row),callback);return xhr.row=function(_){return arguments.length?xhr.response(null==(row=_)?response:typedResponse(_)):row},xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);return dsv.parse=function(text,f){var o;return dsv.parseRows(text,function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a})},dsv.parseRows=function(text,f){function token(){if(I>=N)return EOF;if(eol)return eol=!1,EOL;var j=I;if(34===text.charCodeAt(j)){for(var i=j;i++<N;)if(34===text.charCodeAt(i)){if(34!==text.charCodeAt(i+1))break;++i}I=i+2;var c=text.charCodeAt(i+1);return 13===c?(eol=!0,10===text.charCodeAt(i+2)&&++I):10===c&&(eol=!0),text.slice(j+1,i).replace(/""/g,'"')}for(;N>I;){var c=text.charCodeAt(I++),k=1;if(10===c)eol=!0;else if(13===c)eol=!0,10===text.charCodeAt(I)&&(++I,++k);else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}for(var t,eol,EOL={},EOF={},rows=[],N=text.length,I=0,n=0;(t=token())!==EOF;){for(var a=[];t!==EOL&&t!==EOF;)a.push(t),t=token();f&&null==(a=f(a,n++))||rows.push(a)}return rows},dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];return rows.forEach(function(row){for(var field in row)fieldSet.has(field)||fields.push(fieldSet.add(field))}),[fields.map(formatValue).join(delimiter)].concat(rows.map(function(row){return fields.map(function(field){return formatValue(row[field])}).join(delimiter)})).join("\n")},dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")},dsv},d3.csv=d3.dsv(",","text/csv"),d3.tsv=d3.dsv("	","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_active,d3_timer_frame=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(callback,delay,then){var n=arguments.length;2>n&&(delay=0),3>n&&(then=Date.now());var time=then+delay,timer={c:callback,t:time,f:!1,n:null};d3_timer_queueTail?d3_timer_queueTail.n=timer:d3_timer_queueHead=timer,d3_timer_queueTail=timer,d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step))},d3.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;return value&&(0>value&&(value*=-1),precision&&(value=d3.round(value,d3_format_precision(value,precision))),i=1+Math.floor(1e-12+Math.log(value)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),d3_formatPrefixes[8+i/3]};var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,d3_format_types=d3.map({b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}}),d3_time=d3.time={},d3_date=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;d3_time.year=d3_time_interval(function(date){return date=d3_time.day(date),date.setMonth(0,1),date},function(date,offset){date.setFullYear(date.getFullYear()+offset)},function(date){return date.getFullYear()}),d3_time.years=d3_time.year.range,d3_time.years.utc=d3_time.year.utc.range,d3_time.day=d3_time_interval(function(date){var day=new d3_date(2e3,0);return day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),day},function(date,offset){date.setDate(date.getDate()+offset)},function(date){return date.getDate()-1}),d3_time.days=d3_time.day.range,d3_time.days.utc=d3_time.day.utc.range,d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-6e4*(date.getTimezoneOffset()-year.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval(function(date){return(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7),date},function(date,offset){date.setDate(date.getDate()+7*Math.floor(offset))},function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)});d3_time[day+"s"]=interval.range,d3_time[day+"s"].utc=interval.utc.range,d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}}),d3_time.week=d3_time.sunday,d3_time.weeks=d3_time.sunday.range,d3_time.weeks.utc=d3_time.sunday.utc.range,d3_time.weekOfYear=d3_time.sundayOfYear;var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat,d3.geo={},d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp),d3_adderSum(d3_adderTemp.s,this.s,this),this.s?this.t+=d3_adderTemp.t:this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;d3.geo.stream=function(object,listener){object&&d3_geo_streamObjectType.hasOwnProperty(object.type)?d3_geo_streamObjectType[object.type](object,listener):d3_geo_streamGeometry(object,listener)};var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){for(var features=object.features,i=-1,n=features.length;++i<n;)d3_geo_streamGeometry(features[i].geometry,listener)}},d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates,listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)d3_geo_streamGeometry(geometries[i],listener)}};d3.geo.area=function(object){return d3_geo_areaSum=0,d3.geo.stream(object,d3_geo_area),d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder,d3_geo_area={sphere:function(){d3_geo_areaSum+=4*π},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset(),d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=0>area?4*π+area:area,d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};d3.geo.bounds=function(){function point(λ,φ){ranges.push(range=[λ0=λ,λ1=λ]),φ0>φ&&(φ0=φ),φ>φ1&&(φ1=φ)}function linePoint(λ,φ){var p=d3_geo_cartesian([λ*d3_radians,φ*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection),inflection=d3_geo_spherical(inflection);var dλ=λ-λ_,s=dλ>0?1:-1,λi=inflection[0]*d3_degrees*s,antimeridian=abs(dλ)>180;if(antimeridian^(λi>s*λ_&&s*λ>λi)){var φi=inflection[1]*d3_degrees;φi>φ1&&(φ1=φi)}else if(λi=(λi+360)%360-180,antimeridian^(λi>s*λ_&&s*λ>λi)){var φi=-inflection[1]*d3_degrees;φ0>φi&&(φ0=φi)}else φ0>φ&&(φ0=φ),φ>φ1&&(φ1=φ);antimeridian?λ_>λ?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ):λ1>=λ0?(λ0>λ&&(λ0=λ),λ>λ1&&(λ1=λ)):λ>λ_?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ)}else point(λ,φ);p0=p,λ_=λ}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=λ0,range[1]=λ1,bound.point=point,p0=null}function ringPoint(λ,φ){if(p0){var dλ=λ-λ_;dλSum+=abs(dλ)>180?dλ+(dλ>0?360:-360):dλ}else λ__=λ,φ__=φ;d3_geo_area.point(λ,φ),linePoint(λ,φ)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(λ__,φ__),d3_geo_area.lineEnd(),abs(dλSum)>ε&&(λ0=-(λ1=180)),range[0]=λ0,range[1]=λ1,p0=null}function angle(λ0,λ1){return(λ1-=λ0)<0?λ1+360:λ1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var λ0,φ0,λ1,φ1,λ_,λ__,φ__,p0,dλSum,ranges,range,bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint,bound.lineStart=ringStart,bound.lineEnd=ringEnd,dλSum=0,d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd(),bound.point=point,bound.lineStart=lineStart,bound.lineEnd=lineEnd,0>d3_geo_areaRingSum?(λ0=-(λ1=180),φ0=-(φ1=90)):dλSum>ε?φ1=90:-ε>dλSum&&(φ0=-90),range[0]=λ0,range[1]=λ1}};return function(feature){φ1=λ1=-(λ0=φ0=1/0),ranges=[],d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var b,i=1,a=ranges[0],merged=[a];n>i;++i)b=ranges[i],withinRange(b[0],a)||withinRange(b[1],a)?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(var dλ,b,best=-(1/0),n=merged.length-1,i=0,a=merged[n];n>=i;a=b,++i)b=merged[i],(dλ=angle(a[1],b[0]))>best&&(best=dλ,λ0=b[0],λ1=a[1])}return ranges=range=null,λ0===1/0||φ0===1/0?[[NaN,NaN],[NaN,NaN]]:[[λ0,φ0],[λ1,φ1]]}}(),d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;return ε2>m&&(x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1,ε>d3_geo_centroidW1&&(x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0),m=x*x+y*y+z*z,ε2>m)?[NaN,NaN]:[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2,d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}},d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-π,-π/2]),d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){return stream&&(stream.valid=!1),stream=clip(output),stream.valid=!0,stream},extent:function(_){return arguments.length?(clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),stream&&(stream.valid=!1,stream=null),clipExtent):[[x0,y0],[x1,y1]]}};return clipExtent.extent([[0,0],[960,500]])},(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},d3.geo.albersUsa=function(){function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point(x,y),point||(alaskaPoint(x,y),point)||hawaiiPoint(x,y),point}var point,lower48Point,alaskaPoint,hawaiiPoint,lower48=d3.geo.albers(),alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&.234>y&&x>=-.425&&-.214>x?alaska:y>=.166&&.234>y&&x>=-.214&&-.115>x?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y),alaskaStream.point(x,y),hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere(),alaskaStream.sphere(),hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart(),alaskaStream.lineStart(),hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd(),alaskaStream.lineEnd(),hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart(),alaskaStream.polygonStart(),hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd(),alaskaStream.polygonEnd(),hawaiiStream.polygonEnd()}}},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),albersUsa):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream).point,alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(pointStream).point,hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(pointStream).point,albersUsa},albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0,d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop,d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}},d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint,d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart,d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};d3.geo.path=function(){function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),cacheStream&&cacheStream.valid||(cacheStream=projectStream(contextStream)),
d3.geo.stream(object,cacheStream)),contextStream.result()}function reset(){return cacheStream=null,path}var projection,context,projectStream,contextStream,cacheStream,pointRadius=4.5;return path.area=function(object){return d3_geo_pathAreaSum=0,d3.geo.stream(object,projectStream(d3_geo_pathArea)),d3_geo_pathAreaSum},path.centroid=function(object){return d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,projectStream(d3_geo_pathCentroid)),d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]},path.bounds=function(object){return d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=1/0),d3.geo.stream(object,projectStream(d3_geo_pathBounds)),[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]},path.projection=function(_){return arguments.length?(projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity,reset()):projection},path.context=function(_){return arguments.length?(contextStream=null==(context=_)?new d3_geo_pathBuffer:new d3_geo_pathContext(_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),reset()):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(d3.geo.albersUsa()).context(null)},d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}},d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},d3.geo.projection=d3_geo_projection,d3.geo.projectionMutator=d3_geo_projectionMutator,(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,d3.geo.rotation=function(rotate){function forward(coordinates){return coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}return rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0),forward.invert=function(coordinates){return coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,d3.geo.circle=function(){function circle(){var center="function"==typeof origin?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];return interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y)),x[0]*=d3_degrees,x[1]*=d3_degrees}}),{type:"Polygon",coordinates:[ring]}}var angle,interpolate,origin=[0,0],precision=6;return circle.origin=function(x){return arguments.length?(origin=x,circle):origin},circle.angle=function(x){return arguments.length?(interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians),circle):angle},circle.precision=function(_){return arguments.length?(interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians),circle):precision},circle.angle(90)},d3.geo.distance=function(a,b){var t,Δλ=(b[0]-a[0])*d3_radians,φ0=a[1]*d3_radians,φ1=b[1]*d3_radians,sinΔλ=Math.sin(Δλ),cosΔλ=Math.cos(Δλ),sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),sinφ1=Math.sin(φ1),cosφ1=Math.cos(φ1);return Math.atan2(Math.sqrt((t=cosφ1*sinΔλ)*t+(t=cosφ0*sinφ1-sinφ0*cosφ1*cosΔλ)*t),sinφ0*sinφ1+cosφ0*cosφ1*cosΔλ)},d3.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter(function(x){return abs(x%DX)>ε}).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter(function(y){return abs(y%DY)>ε}).map(y))}var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.majorExtent(_).minorExtent(_):graticule.minorExtent()},graticule.majorExtent=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.minorExtent=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.majorStep(_).minorStep(_):graticule.minorStep()},graticule.majorStep=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.minorStep=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=d3_geo_graticuleX(y0,y1,90),y=d3_geo_graticuleY(x0,x1,precision),X=d3_geo_graticuleX(Y0,Y1,90),Y=d3_geo_graticuleY(X0,X1,precision),graticule):precision},graticule.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]])},d3.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}var source_,target_,source=d3_source,target=d3_target;return greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))},greatArc.source=function(_){return arguments.length?(source=_,source_="function"==typeof _?null:_,greatArc):source},greatArc.target=function(_){return arguments.length?(target=_,target_="function"==typeof _?null:_,greatArc):target},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)},d3.geo.length=function(object){return d3_geo_lengthSum=0,d3.geo.stream(object,d3_geo_length),d3_geo_lengthSum};var d3_geo_lengthSum,d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_azimuthalEqualArea=d3_geo_azimuthal(function(cosλcosφ){return Math.sqrt(2/(1+cosλcosφ))},function(ρ){return 2*Math.asin(ρ/2)});(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal(function(cosλcosφ){var c=Math.acos(cosλcosφ);return c&&c/Math.sin(c)},d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant,(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var d3_geo_gnomonic=d3_geo_azimuthal(function(cosλcosφ){return 1/cosλcosφ},Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic,d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-halfπ]},(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal(function(cosλcosφ){return 1/(1+cosλcosφ)},function(ρ){return 2*Math.atan(ρ)});(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic,d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-halfπ]},(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;return projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])},projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])},rotate([0,0,90])}).raw=d3_geo_transverseMercator,d3.geom={},d3.geom.hull=function(vertices){function hull(data){if(data.length<3)return[];var i,fx=d3_functor(x),fy=d3_functor(y),n=data.length,points=[],flippedPoints=[];for(i=0;n>i;i++)points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i]);for(points.sort(d3_geom_hullOrder),i=0;n>i;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints),skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}var x=d3_geom_pointX,y=d3_geom_pointY;return arguments.length?hull(vertices):(hull.x=function(_){return arguments.length?(x=_,hull):x},hull.y=function(_){return arguments.length?(y=_,hull):y},hull)},d3.geom.polygon=function(coordinates){return d3_subclass(coordinates,d3_geom_polygonPrototype),coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){for(var a,i=-1,n=this.length,b=this[n-1],area=0;++i<n;)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return.5*area},d3_geom_polygonPrototype.centroid=function(k){var a,c,i=-1,n=this.length,x=0,y=0,b=this[n-1];for(arguments.length||(k=-1/(6*this.area()));++i<n;)a=b,b=this[i],c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x*k,y*k]},d3_geom_polygonPrototype.clip=function(subject){for(var input,j,m,b,c,d,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),a=this[n-1];++i<n;){for(input=subject.slice(),subject.length=0,b=this[i],c=input[(m=input.length-closed)-1],j=-1;++j<m;)d=input[j],d3_geom_polygonInside(d,a,b)?(d3_geom_polygonInside(c,a,b)||subject.push(d3_geom_polygonIntersect(c,d,a,b)),subject.push(d)):d3_geom_polygonInside(c,a,b)&&subject.push(d3_geom_polygonIntersect(c,d,a,b)),c=d;closed&&subject.push(subject[0]),a=b}return subject};var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiBeachPool=[],d3_geom_voronoiCirclePool=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var edge,halfEdges=this.edges,iHalfEdge=halfEdges.length;iHalfEdge--;)edge=halfEdges[iHalfEdge].edge,edge.b&&edge.a||halfEdges.splice(iHalfEdge,1);return halfEdges.sort(d3_geom_voronoiHalfEdgeOrder),halfEdges.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=d3_geom_voronoiRedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)grandpa=parent.U,parent===grandpa.L?(uncle=grandpa.R,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(d3_geom_voronoiRedBlackRotateLeft(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateRight(this,grandpa))):(uncle=grandpa.L,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(d3_geom_voronoiRedBlackRotateRight(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,grandpa))),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?d3_geom_voronoiRedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red){if(node&&node.C)return void(node.C=!1);do{if(node===this._)break;if(node===parent.L){if(sibling=parent.R,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,parent),node=this._;break}}else if(sibling=parent.L,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}},d3.geom.voronoi=function(points){function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];return d3_geom_voronoi(sites(data),clipExtent).cells.forEach(function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map(function(e){var s=e.start();return[s.x,s.y]}):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]}),polygons}function sites(data){return data.map(function(d,i){return{x:Math.round(fx(d,i)/ε)*ε,y:Math.round(fy(d,i)/ε)*ε,i:i}})}var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;return points?voronoi(points):(voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter(function(edge){return edge.l&&edge.r}).map(function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}})},voronoi.triangles=function(data){var triangles=[];return d3_geom_voronoi(sites(data)).cells.forEach(function(cell,i){for(var e0,s0,site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;++j<m;)e0=e1,s0=s1,e1=edges[j].edge,s1=e1.l===site?e1.r:e1.l,i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0&&triangles.push([data[i],data[s0.i],data[s1.i]])}),triangles},voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x},voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y},voronoi.clipExtent=function(_){return arguments.length?(clipExtent=null==_?d3_geom_voronoiClipExtent:_,voronoi):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent},voronoi.size=function(_){return arguments.length?voronoi.clipExtent(_&&[[0,0],_]):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1]},voronoi)};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)},d3.geom.quadtree=function(points,x1,y1,x2,y2){function quadtree(data){function insert(n,d,x,y,x1,y1,x2,y2){if(!isNaN(x)&&!isNaN(y))if(n.leaf){var nx=n.x,ny=n.y;if(null!=nx)if(abs(nx-x)+abs(ny-y)<.01)insertChild(n,d,x,y,x1,y1,x2,y2);else{var nPoint=n.point;n.x=n.y=n.point=null,insertChild(n,nPoint,nx,ny,x1,y1,x2,y2),insertChild(n,d,x,y,x1,y1,x2,y2)}else n.x=x,n.y=y,n.point=d}else insertChild(n,d,x,y,x1,y1,x2,y2)}function insertChild(n,d,x,y,x1,y1,x2,y2){var xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right;n.leaf=!1,n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode()),right?x1=xm:x2=xm,below?y1=ym:y2=ym,insert(n,d,x,y,x1,y1,x2,y2)}var d,xs,ys,i,n,x1_,y1_,x2_,y2_,fx=d3_functor(x),fy=d3_functor(y);if(null!=x1)x1_=x1,y1_=y1,x2_=x2,y2_=y2;else if(x2_=y2_=-(x1_=y1_=1/0),xs=[],ys=[],n=data.length,compat)for(i=0;n>i;++i)d=data[i],d.x<x1_&&(x1_=d.x),d.y<y1_&&(y1_=d.y),d.x>x2_&&(x2_=d.x),d.y>y2_&&(y2_=d.y),xs.push(d.x),ys.push(d.y);else for(i=0;n>i;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);x1_>x_&&(x1_=x_),y1_>y_&&(y1_=y_),x_>x2_&&(x2_=x_),y_>y2_&&(y2_=y_),xs.push(x_),ys.push(y_)}var dx=x2_-x1_,dy=y2_-y1_;dx>dy?y2_=y1_+dx:x2_=x1_+dy;var root=d3_geom_quadtreeNode();if(root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)},root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)},root.find=function(point){return d3_geom_quadtreeFind(root,point[0],point[1],x1_,y1_,x2_,y2_)},i=-1,null==x1){for(;++i<n;)insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_);--i}else data.forEach(root.add);return xs=ys=data=d=null,root}var compat,x=d3_geom_pointX,y=d3_geom_pointY;return(compat=arguments.length)?(x=d3_geom_quadtreeCompatX,y=d3_geom_quadtreeCompatY,3===compat&&(y2=y1,x2=x1,y1=x1=0),quadtree(points)):(quadtree.x=function(_){return arguments.length?(x=_,quadtree):x},quadtree.y=function(_){return arguments.length?(y=_,quadtree):y},quadtree.extent=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1]),quadtree):null==x1?null:[[x1,y1],[x2,y2]]},quadtree.size=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=y1=0,x2=+_[0],y2=+_[1]),quadtree):null==x1?null:[x2-x1,y2-y1]},quadtree)},d3.interpolateRgb=d3_interpolateRgb,d3.interpolateObject=d3_interpolateObject,d3.interpolateNumber=d3_interpolateNumber,d3.interpolateString=d3_interpolateString;var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate,d3.interpolators=[function(a,b){var t=typeof b;return("string"===t?d3_rgb_names.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:"object"===t&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}],d3.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),d3_ease_mode=d3.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";return t=d3_ease.get(t)||d3_ease_default,m=d3_ease_mode.get(m)||d3_identity,d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))},d3.interpolateHcl=d3_interpolateHcl,d3.interpolateHsl=d3_interpolateHsl,d3.interpolateLab=d3_interpolateLab,d3.interpolateRound=d3_interpolateRound,d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(null!=string){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform,d3.layout={},d3.layout.bundle=function(){return function(links){for(var paths=[],i=-1,n=links.length;++i<n;)paths.push(d3_layout_bundlePath(links[i]));return paths}},d3.layout.chord=function(){function relayout(){var k,x,x0,i,j,subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[];for(chords=[],groups=[],k=0,i=-1;++i<n;){for(x=0,j=-1;++j<n;)x+=matrix[i][j];groupSums.push(x),subgroupIndex.push(d3.range(n)),k+=x}for(sortGroups&&groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])}),sortSubgroups&&subgroupIndex.forEach(function(d,i){d.sort(function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])})}),k=(τ-padding*n)/k,x=0,i=-1;++i<n;){for(x0=x,j=-1;++j<n;){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:(x-x0)/k},x+=padding}for(i=-1;++i<n;)for(j=i-1;++j<n;){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];(source.value||target.value)&&chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}sortChords&&resort()}function resort(){chords.sort(function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var chords,groups,matrix,n,sortGroups,sortSubgroups,sortChords,chord={},padding=0;return chord.matrix=function(x){return arguments.length?(n=(matrix=x)&&matrix.length,chords=groups=null,chord):matrix},chord.padding=function(x){return arguments.length?(padding=x,chords=groups=null,chord):padding},chord.sortGroups=function(x){return arguments.length?(sortGroups=x,chords=groups=null,chord):sortGroups},chord.sortSubgroups=function(x){return arguments.length?(sortSubgroups=x,chords=null,chord):sortSubgroups},chord.sortChords=function(x){return arguments.length?(sortChords=x,chords&&resort(),chord):sortChords},chord.chords=function(){return chords||relayout(),chords},chord.groups=function(){return groups||relayout(),groups},chord},d3.layout.force=function(){function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dn>dw*dw/theta2){if(chargeDistance2>dn){var k=quad.charge/dn;node.px-=dx*k,node.py-=dy*k}return!0}if(quad.point&&dn&&chargeDistance2>dn){var k=quad.pointCharge/dn;node.px-=dx*k,node.py-=dy*k}}return!quad.charge}}function dragmove(d){d.px=d3.event.x,d.py=d3.event.y,force.resume()}var drag,alpha,distances,strengths,charges,force={},event=d3.dispatch("start","tick","end"),size=[1,1],friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[];return force.tick=function(){if((alpha*=.99)<.005)return event.end({type:"end",alpha:alpha=0}),!0;var q,i,o,s,t,l,k,x,y,n=nodes.length,m=links.length;for(i=0;m>i;++i)o=links[i],s=o.source,t=o.target,x=t.x-s.x,y=t.y-s.y,(l=x*x+y*y)&&(l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l,x*=l,y*=l,t.x-=x*(k=s.weight/(t.weight+s.weight)),t.y-=y*k,s.x+=x*(k=1-k),s.y+=y*k);if((k=alpha*gravity)&&(x=size[0]/2,y=size[1]/2,i=-1,k))for(;++i<n;)o=nodes[i],o.x+=(x-o.x)*k,o.y+=(y-o.y)*k;if(charge)for(d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges),i=-1;++i<n;)(o=nodes[i]).fixed||q.visit(repulse(o));for(i=-1;++i<n;)o=nodes[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*friction,o.y-=(o.py-(o.py=o.y))*friction);event.tick({type:"tick",alpha:alpha})},force.nodes=function(x){return arguments.length?(nodes=x,force):nodes},force.links=function(x){return arguments.length?(links=x,force):links},force.size=function(x){return arguments.length?(size=x,force):size},force.linkDistance=function(x){return arguments.length?(linkDistance="function"==typeof x?x:+x,force):linkDistance},force.distance=force.linkDistance,force.linkStrength=function(x){return arguments.length?(linkStrength="function"==typeof x?x:+x,force):linkStrength},force.friction=function(x){return arguments.length?(friction=+x,force):friction},force.charge=function(x){return arguments.length?(charge="function"==typeof x?x:+x,force):charge},force.chargeDistance=function(x){return arguments.length?(chargeDistance2=x*x,force):Math.sqrt(chargeDistance2)},force.gravity=function(x){return arguments.length?(gravity=+x,force):gravity},force.theta=function(x){return arguments.length?(theta2=x*x,force):Math.sqrt(theta2)},force.alpha=function(x){return arguments.length?(x=+x,alpha?alpha=x>0?x:0:x>0&&(event.start({type:"start",alpha:alpha=x}),d3.timer(force.tick)),force):alpha},force.start=function(){function position(dimension,size){if(!neighbors){for(neighbors=new Array(n),j=0;n>j;++j)neighbors[j]=[];for(j=0;m>j;++j){var o=links[j];neighbors[o.source.index].push(o.target),neighbors[o.target.index].push(o.source)}}for(var x,candidates=neighbors[i],j=-1,l=candidates.length;++j<l;)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}var i,neighbors,o,n=nodes.length,m=links.length,w=size[0],h=size[1];for(i=0;n>i;++i)(o=nodes[i]).index=i,o.weight=0;for(i=0;m>i;++i)o=links[i],"number"==typeof o.source&&(o.source=nodes[o.source]),"number"==typeof o.target&&(o.target=nodes[o.target]),++o.source.weight,++o.target.weight;for(i=0;n>i;++i)o=nodes[i],isNaN(o.x)&&(o.x=position("x",w)),isNaN(o.y)&&(o.y=position("y",h)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(distances=[],"function"==typeof linkDistance)for(i=0;m>i;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;m>i;++i)distances[i]=linkDistance;if(strengths=[],"function"==typeof linkStrength)for(i=0;m>i;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;m>i;++i)strengths[i]=linkStrength;if(charges=[],"function"==typeof charge)for(i=0;n>i;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;n>i;++i)charges[i]=charge;return force.resume()},force.resume=function(){return force.alpha(.1)},force.stop=function(){return force.alpha(0)},force.drag=function(){return drag||(drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag):drag},d3.rebind(force,event,"on")};var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=1/0;d3.layout.hierarchy=function(){function hierarchy(root){var node,stack=[root],nodes=[];for(root.depth=0;null!=(node=stack.pop());)if(nodes.push(node),(childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){for(var n,childs,child;--n>=0;)stack.push(child=childs[n]),child.parent=node,child.depth=node.depth+1;value&&(node.value=0),node.children=childs}else value&&(node.value=+value.call(hierarchy,node,node.depth)||0),delete node.children;return d3_layout_hierarchyVisitAfter(root,function(node){var childs,parent;sort&&(childs=node.children)&&childs.sort(sort),value&&(parent=node.parent)&&(parent.value+=node.value)}),nodes}var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;return hierarchy.sort=function(x){return arguments.length?(sort=x,hierarchy):sort},hierarchy.children=function(x){return arguments.length?(children=x,hierarchy):children},hierarchy.value=function(x){return arguments.length?(value=x,hierarchy):value},hierarchy.revalue=function(root){return value&&(d3_layout_hierarchyVisitBefore(root,function(node){node.children&&(node.value=0)}),d3_layout_hierarchyVisitAfter(root,function(node){var parent;node.children||(node.value=+value.call(hierarchy,node,node.depth)||0),(parent=node.parent)&&(parent.value+=node.value)})),root},hierarchy},d3.layout.partition=function(){function position(node,x,dx,dy){var children=node.children;if(node.x=x,node.y=node.depth*dy,node.dx=dx,node.dy=dy,children&&(n=children.length)){var n,c,d,i=-1;for(dx=node.value?dx/node.value:0;++i<n;)position(c=children[i],x,d=c.value*dx,dy),x+=d}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length))for(var n,i=-1;++i<n;)d=Math.max(d,depth(children[i]));return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);return position(nodes[0],0,size[0],size[1]/depth(nodes[0])),nodes}var hierarchy=d3.layout.hierarchy(),size=[1,1];return partition.size=function(x){return arguments.length?(size=x,partition):size},d3_layout_hierarchyRebind(partition,hierarchy)},d3.layout.pie=function(){function pie(data){var v,n=data.length,values=data.map(function(d,i){return+value.call(pie,d,i)}),a=+("function"==typeof startAngle?startAngle.apply(this,arguments):startAngle),da=("function"==typeof endAngle?endAngle.apply(this,arguments):endAngle)-a,p=Math.min(Math.abs(da)/n,+("function"==typeof padAngle?padAngle.apply(this,arguments):padAngle)),pa=p*(0>da?-1:1),k=(da-n*pa)/d3.sum(values),index=d3.range(n),arcs=[];return null!=sort&&index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])}),index.forEach(function(i){arcs[i]={data:data[i],value:v=values[i],startAngle:a,endAngle:a+=v*k+pa,padAngle:p}}),arcs}var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=τ,padAngle=0;return pie.value=function(_){return arguments.length?(value=_,pie):value},pie.sort=function(_){return arguments.length?(sort=_,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle=_,pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle=_,pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle=_,pie):padAngle},pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){function stack(data,index){if(!(n=data.length))return data;var series=data.map(function(d,i){return values.call(stack,d,i)}),points=series.map(function(d){return d.map(function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]})}),orders=order.call(stack,points,index);series=d3.permute(series,orders),points=d3.permute(points,orders);var n,i,j,o,offsets=offset.call(stack,points,index),m=series[0].length;for(j=0;m>j;++j)for(out.call(stack,series[0][j],o=offsets[j],points[0][j][1]),i=1;n>i;++i)out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1]);return data}var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut,x=d3_layout_stackX,y=d3_layout_stackY;return stack.values=function(x){return arguments.length?(values=x,stack):values},stack.order=function(x){return arguments.length?(order="function"==typeof x?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault,stack):order},stack.offset=function(x){return arguments.length?(offset="function"==typeof x?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero,stack):offset},stack.x=function(z){return arguments.length?(x=z,stack):x},stack.y=function(z){return arguments.length?(y=z,stack):y},stack.out=function(z){return arguments.length?(out=z,stack):out},stack};var d3_layout_stackOrders=d3.map({"inside-out":function(data){var i,j,n=data.length,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort(function(a,b){return max[a]-max[b]}),top=0,bottom=0,tops=[],bottoms=[];for(i=0;n>i;++i)j=index[i],bottom>top?(top+=sums[j],tops.push(j)):(bottom+=sums[j],
bottoms.push(j));return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},"default":d3_layout_stackOrderDefault}),d3_layout_stackOffsets=d3.map({silhouette:function(data){var i,j,o,n=data.length,m=data[0].length,sums=[],max=0,y0=[];for(j=0;m>j;++j){for(i=0,o=0;n>i;i++)o+=data[i][j][1];o>max&&(max=o),sums.push(o)}for(j=0;m>j;++j)y0[j]=(max-sums[j])/2;return y0},wiggle:function(data){var i,j,k,s1,s2,s3,dx,o,o0,n=data.length,x=data[0],m=x.length,y0=[];for(y0[0]=o=o0=0,j=1;m>j;++j){for(i=0,s1=0;n>i;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];n>i;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);i>k;++k)s3+=(data[k][j][1]-data[k][j-1][1])/dx;s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0,o0>o&&(o0=o)}for(j=0;m>j;++j)y0[j]-=o0;return y0},expand:function(data){var i,j,o,n=data.length,m=data[0].length,k=1/n,y0=[];for(j=0;m>j;++j){for(i=0,o=0;n>i;i++)o+=data[i][j][1];if(o)for(i=0;n>i;i++)data[i][j][1]/=o;else for(i=0;n>i;i++)data[i][j][1]=k}for(j=0;m>j;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});d3.layout.histogram=function(){function histogram(data,i){for(var bin,x,bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n;++i<m;)bin=bins[i]=[],bin.dx=thresholds[i+1]-(bin.x=thresholds[i]),bin.y=0;if(m>0)for(i=-1;++i<n;)x=values[i],x>=range[0]&&x<=range[1]&&(bin=bins[d3.bisect(thresholds,x,1,m)-1],bin.y+=k,bin.push(data[i]));return bins}var frequency=!0,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;return histogram.value=function(x){return arguments.length?(valuer=x,histogram):valuer},histogram.range=function(x){return arguments.length?(ranger=d3_functor(x),histogram):ranger},histogram.bins=function(x){return arguments.length?(binner="number"==typeof x?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x),histogram):binner},histogram.frequency=function(x){return arguments.length?(frequency=!!x,histogram):frequency},histogram},d3.layout.pack=function(){function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=null==radius?Math.sqrt:"function"==typeof radius?radius:function(){return radius};if(root.x=root.y=0,d3_layout_hierarchyVisitAfter(root,function(d){d.r=+r(d.value)}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,function(d){d.r+=dr}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(root,function(d){d.r-=dr})}return d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h)),nodes}var radius,hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1];return pack.size=function(_){return arguments.length?(size=_,pack):size},pack.radius=function(_){return arguments.length?(radius=null==_||"function"==typeof _?_:+_,pack):radius},pack.padding=function(_){return arguments.length?(padding=+_,pack):padding},d3_layout_hierarchyRebind(pack,hierarchy)},d3.layout.tree=function(){function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);if(d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z,d3_layout_hierarchyVisitBefore(root1,secondWalk),nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky})}return nodes}function wrapTree(root0){for(var node1,root1={A:null,children:[root0]},queue=[root1];null!=(node1=queue.pop());)for(var child,children=node1.children,i=0,n=children.length;n>i;++i)queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child);return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip;)vom=d3_layout_treeLeft(vom),vop=d3_layout_treeRight(vop),vop.a=v,shift=vim.z+sim-vip.z-sip+separation(vim._,vip._),shift>0&&(d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!d3_layout_treeRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!d3_layout_treeLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}function sizeNode(node){node.x*=size[0],node.y=node.depth*size[1]}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=null==(size=x)?sizeNode:null,tree):nodeSize?null:size},tree.nodeSize=function(x){return arguments.length?(nodeSize=null==(size=x)?null:sizeNode,tree):nodeSize?size:null},d3_layout_hierarchyRebind(tree,hierarchy)},d3.layout.cluster=function(){function cluster(d,i){var previousNode,nodes=hierarchy.call(this,d,i),root=nodes[0],x=0;d3_layout_hierarchyVisitAfter(root,function(node){var children=node.children;children&&children.length?(node.x=d3_layout_clusterX(children),node.y=d3_layout_clusterY(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)});var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0],node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0],node.y=(1-(root.y?node.y/root.y:1))*size[1]}),nodes}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=!1;return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=null==(size=x),cluster):nodeSize?null:size},cluster.nodeSize=function(x){return arguments.length?(nodeSize=null!=(size=x),cluster):nodeSize?size:null},d3_layout_hierarchyRebind(cluster,hierarchy)},d3.layout.treemap=function(){function scale(children,k){for(var child,area,i=-1,n=children.length;++i<n;)area=(child=children[i]).value*(0>k?0:k),child.area=isNaN(area)||0>=area?0:area}function squarify(node){var children=node.children;if(children&&children.length){var child,score,n,rect=pad(node),row=[],remaining=children.slice(),best=1/0,u="slice"===mode?rect.dx:"dice"===mode?rect.dy:"slice-dice"===mode?1&node.depth?rect.dy:rect.dx:Math.min(rect.dx,rect.dy);for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;(n=remaining.length)>0;)row.push(child=remaining[n-1]),row.area+=child.area,"squarify"!==mode||(score=worst(row,u))<=best?(remaining.pop(),best=score):(row.area-=row.pop().area,position(row,u,rect,!1),u=Math.min(rect.dx,rect.dy),row.length=row.area=0,best=1/0);row.length&&(position(row,u,rect,!0),row.length=row.area=0),children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var child,rect=pad(node),remaining=children.slice(),row=[];for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;child=remaining.pop();)row.push(child),row.area+=child.area,null!=child.z&&(position(row,child.z?rect.dx:rect.dy,rect,!remaining.length),row.length=row.area=0);children.forEach(stickify)}}function worst(row,u){for(var r,s=row.area,rmax=0,rmin=1/0,i=-1,n=row.length;++i<n;)(r=row[i].area)&&(rmin>r&&(rmin=r),r>rmax&&(rmax=r));return s*=s,u*=u,s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):1/0}function position(row,u,rect,flush){var o,i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0;if(u==rect.dx){for((flush||v>rect.dy)&&(v=rect.dy);++i<n;)o=row[i],o.x=x,o.y=y,o.dy=v,x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0);o.z=!0,o.dx+=rect.x+rect.dx-x,rect.y+=v,rect.dy-=v}else{for((flush||v>rect.dx)&&(v=rect.dx);++i<n;)o=row[i],o.x=x,o.y=y,o.dx=v,y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0);o.z=!1,o.dy+=rect.y+rect.dy-y,rect.x+=v,rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];return root.x=0,root.y=0,root.dx=size[0],root.dy=size[1],stickies&&hierarchy.revalue(root),scale([root],root.dx*root.dy/root.value),(stickies?stickify:squarify)(root),sticky&&(stickies=nodes),nodes}var stickies,hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=!1,mode="squarify",ratio=.5*(1+Math.sqrt(5));return treemap.size=function(x){return arguments.length?(size=x,treemap):size},treemap.padding=function(x){function padFunction(node){var p=x.call(treemap,node,node.depth);return null==p?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,"number"==typeof p?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}if(!arguments.length)return padding;var type;return pad=null==(padding=x)?d3_layout_treemapPadNull:"function"==(type=typeof x)?padFunction:"number"===type?(x=[x,x,x,x],padConstant):padConstant,treemap},treemap.round=function(x){return arguments.length?(round=x?Math.round:Number,treemap):round!=Number},treemap.sticky=function(x){return arguments.length?(sticky=x,stickies=null,treemap):sticky},treemap.ratio=function(x){return arguments.length?(ratio=x,treemap):ratio},treemap.mode=function(x){return arguments.length?(mode=x+"",treemap):mode},d3_layout_hierarchyRebind(treemap,hierarchy)},d3.random={normal:function(µ,σ){var n=arguments.length;return 2>n&&(σ=1),1>n&&(µ=0),function(){var x,y,r;do x=2*Math.random()-1,y=2*Math.random()-1,r=x*x+y*y;while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;m>j;j++)s+=Math.random();return s}}},d3.scale={};var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,!0,[1,10])};var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)},d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)},d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)},d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])},d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},d3.scale.identity=function(){return d3_scale_identity([0,1])},d3.svg={},d3.svg.arc=function(){function arc(){var r0=Math.max(0,+innerRadius.apply(this,arguments)),r1=Math.max(0,+outerRadius.apply(this,arguments)),a0=startAngle.apply(this,arguments)-halfπ,a1=endAngle.apply(this,arguments)-halfπ,da=Math.abs(a1-a0),cw=a0>a1?0:1;if(r0>r1&&(rc=r1,r1=r0,r0=rc),da>=τε)return circleSegment(r1,cw)+(r0?circleSegment(r0,1-cw):"")+"Z";var rc,cr,rp,ap,x0,y0,x1,y1,x2,y2,x3,y3,p0=0,p1=0,path=[];if((ap=(+padAngle.apply(this,arguments)||0)/2)&&(rp=padRadius===d3_svg_arcAuto?Math.sqrt(r0*r0+r1*r1):+padRadius.apply(this,arguments),cw||(p1*=-1),r1&&(p1=d3_asin(rp/r1*Math.sin(ap))),r0&&(p0=d3_asin(rp/r0*Math.sin(ap)))),r1){x0=r1*Math.cos(a0+p1),y0=r1*Math.sin(a0+p1),x1=r1*Math.cos(a1-p1),y1=r1*Math.sin(a1-p1);var l1=Math.abs(a1-a0-2*p1)<=π?0:1;if(p1&&d3_svg_arcSweep(x0,y0,x1,y1)===cw^l1){var h1=(a0+a1)/2;x0=r1*Math.cos(h1),y0=r1*Math.sin(h1),x1=y1=null}}else x0=y0=0;if(r0){x2=r0*Math.cos(a1-p0),y2=r0*Math.sin(a1-p0),x3=r0*Math.cos(a0+p0),y3=r0*Math.sin(a0+p0);var l0=Math.abs(a0-a1+2*p0)<=π?0:1;if(p0&&d3_svg_arcSweep(x2,y2,x3,y3)===1-cw^l0){var h0=(a0+a1)/2;x2=r0*Math.cos(h0),y2=r0*Math.sin(h0),x3=y3=null}}else x2=y2=0;if((rc=Math.min(Math.abs(r1-r0)/2,+cornerRadius.apply(this,arguments)))>.001){cr=r1>r0^cw?0:1;var oc=null==x3?[x2,y2]:null==x1?[x0,y0]:d3_geom_polygonIntersect([x0,y0],[x3,y3],[x1,y1],[x2,y2]),ax=x0-oc[0],ay=y0-oc[1],bx=x1-oc[0],by=y1-oc[1],kc=1/Math.sin(Math.acos((ax*bx+ay*by)/(Math.sqrt(ax*ax+ay*ay)*Math.sqrt(bx*bx+by*by)))/2),lc=Math.sqrt(oc[0]*oc[0]+oc[1]*oc[1]);if(null!=x1){var rc1=Math.min(rc,(r1-lc)/(kc+1)),t30=d3_svg_arcCornerTangents(null==x3?[x2,y2]:[x3,y3],[x0,y0],r1,rc1,cw),t12=d3_svg_arcCornerTangents([x1,y1],[x2,y2],r1,rc1,cw);rc===rc1?path.push("M",t30[0],"A",rc1,",",rc1," 0 0,",cr," ",t30[1],"A",r1,",",r1," 0 ",1-cw^d3_svg_arcSweep(t30[1][0],t30[1][1],t12[1][0],t12[1][1]),",",cw," ",t12[1],"A",rc1,",",rc1," 0 0,",cr," ",t12[0]):path.push("M",t30[0],"A",rc1,",",rc1," 0 1,",cr," ",t12[0])}else path.push("M",x0,",",y0);if(null!=x3){var rc0=Math.min(rc,(r0-lc)/(kc-1)),t03=d3_svg_arcCornerTangents([x0,y0],[x3,y3],r0,-rc0,cw),t21=d3_svg_arcCornerTangents([x2,y2],null==x1?[x0,y0]:[x1,y1],r0,-rc0,cw);rc===rc0?path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t21[1],"A",r0,",",r0," 0 ",cw^d3_svg_arcSweep(t21[1][0],t21[1][1],t03[1][0],t03[1][1]),",",1-cw," ",t03[1],"A",rc0,",",rc0," 0 0,",cr," ",t03[0]):path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}else path.push("L",x2,",",y2)}else path.push("M",x0,",",y0),null!=x1&&path.push("A",r1,",",r1," 0 ",l1,",",cw," ",x1,",",y1),path.push("L",x2,",",y2),null!=x3&&path.push("A",r0,",",r0," 0 ",l0,",",1-cw," ",x3,",",y3);return path.push("Z"),path.join("")}function circleSegment(r1,cw){return"M0,"+r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+-r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+r1}var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,cornerRadius=d3_zero,padRadius=d3_svg_arcAuto,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle,padAngle=d3_svg_arcPadAngle;return arc.innerRadius=function(v){return arguments.length?(innerRadius=d3_functor(v),arc):innerRadius},arc.outerRadius=function(v){return arguments.length?(outerRadius=d3_functor(v),arc):outerRadius},arc.cornerRadius=function(v){return arguments.length?(cornerRadius=d3_functor(v),arc):cornerRadius},arc.padRadius=function(v){return arguments.length?(padRadius=v==d3_svg_arcAuto?d3_svg_arcAuto:d3_functor(v),arc):padRadius},arc.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),arc):startAngle},arc.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),arc):endAngle},arc.padAngle=function(v){return arguments.length?(padAngle=d3_functor(v),arc):padAngle},arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-halfπ;return[Math.cos(a)*r,Math.sin(a)*r]},arc};var d3_svg_arcAuto="auto";d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach(function(key,value){value.key=key,value.closed=/-closed$/.test(key)});var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,d3.svg.area=function(){return d3_svg_area(d3_identity)},d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},d3.svg.chord=function(){function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)-halfπ,a1=endAngle.call(self,subgroup,i)-halfπ;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;return chord.radius=function(v){return arguments.length?(radius=d3_functor(v),chord):radius},chord.source=function(v){return arguments.length?(source=d3_functor(v),chord):source},chord.target=function(v){return arguments.length?(target=d3_functor(v),chord):target},chord.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),chord):startAngle},chord.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),chord):endAngle},chord},d3.svg.diagonal=function(){function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];return p=p.map(projection),"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;return diagonal.source=function(x){return arguments.length?(source=d3_functor(x),diagonal):source},diagonal.target=function(x){return arguments.length?(target=d3_functor(x),diagonal):target},diagonal.projection=function(x){return arguments.length?(projection=x,diagonal):projection},diagonal},d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;return diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection},diagonal},d3.svg.symbol=function(){function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}var type=d3_svg_symbolType,size=d3_svg_symbolSize;return symbol.type=function(x){return arguments.length?(type=d3_functor(x),symbol):type},symbol.size=function(x){return arguments.length?(size=d3_functor(x),symbol):size},symbol};var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+-ry+"L"+rx+",0 0,"+ry+" "+-rx+",0Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+-ry+" "+-rx+","+-ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+-ry+"L"+rx+","+ry+" "+-rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);d3_selectionPrototype.transition=function(name){for(var subgroup,node,id=d3_transitionInheritId||++d3_transitionId,ns=d3_transitionNamespace(name),subgroups=[],transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&d3_transitionNode(node,i,ns,id,transition),subgroup.push(node)}return d3_transition(subgroups,ns,id)},d3_selectionPrototype.interrupt=function(name){return this.each(null==name?d3_selection_interrupt:d3_selection_interruptNS(d3_transitionNamespace(name)))};var d3_transitionInheritId,d3_transitionInherit,d3_selection_interrupt=d3_selection_interruptNS(d3_transitionNamespace()),d3_transitionPrototype=[],d3_transitionId=0;d3_transitionPrototype.call=d3_selectionPrototype.call,d3_transitionPrototype.empty=d3_selectionPrototype.empty,d3_transitionPrototype.node=d3_selectionPrototype.node,d3_transitionPrototype.size=d3_selectionPrototype.size,d3.transition=function(selection,name){return selection&&selection.transition?d3_transitionInheritId?selection.transition(name):selection:d3.selection().transition(selection)},d3.transition.prototype=d3_transitionPrototype,d3_transitionPrototype.select=function(selector){var subgroup,subnode,node,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))?("__data__"in node&&(subnode.__data__=node.__data__),d3_transitionNode(subnode,i,ns,id,node[ns][id]),subgroup.push(subnode)):subgroup.push(null)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.selectAll=function(selector){var subgroup,subnodes,node,subnode,transition,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)if(node=group[i]){transition=node[ns][id],subnodes=selector.call(node,node.__data__,i,j),subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;)(subnode=subnodes[k])&&d3_transitionNode(subnode,k,ns,id,transition),subgroup.push(subnode)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;m>j;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;n>i;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_transition(subgroups,this.namespace,this.id)},d3_transitionPrototype.tween=function(name,tween){var id=this.id,ns=this.namespace;return arguments.length<2?this.node()[ns][id].tween.get(name):d3_selection_each(this,null==tween?function(node){node[ns][id].tween.remove(name)}:function(node){node[ns][id].tween.set(name,tween)})},d3_transitionPrototype.attr=function(nameNS,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return null==b?attrNull:(b+="",function(){var i,a=this.getAttribute(name);return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return null==b?attrNullNS:(b+="",function(){var i,a=this.getAttributeNS(name.space,name.local);return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate="transform"==nameNS?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.attrTween=function(nameNS,tween){function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}var name=d3.ns.qualify(nameNS);return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.style=function(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleString(b){return null==b?styleNull:(b+="",function(){var i,a=d3_window(this).getComputedStyle(this,null).getPropertyValue(name);return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}var n=arguments.length;if(3>n){if("string"!=typeof name){2>n&&(value="");for(priority in name)this.style(priority,name[priority],value);return this}priority=""}return d3_transition_tween(this,"style."+name,value,styleString)},d3_transitionPrototype.styleTween=function(name,tween,priority){function styleTween(d,i){var f=tween.call(this,d,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return arguments.length<3&&(priority=""),this.tween("style."+name,styleTween)},d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)},d3_transitionPrototype.remove=function(){var ns=this.namespace;return this.each("end.transition",function(){var p;this[ns].count<2&&(p=this.parentNode)&&p.removeChild(this)})},d3_transitionPrototype.ease=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].ease:("function"!=typeof value&&(value=d3.ease.apply(d3,arguments)),d3_selection_each(this,function(node){node[ns][id].ease=value}))},d3_transitionPrototype.delay=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].delay:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node[ns][id].delay=value}))},d3_transitionPrototype.duration=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].duration:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node[ns][id].duration=value}))},d3_transitionPrototype.each=function(type,listener){var id=this.id,ns=this.namespace;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;try{d3_transitionInheritId=id,d3_selection_each(this,function(node,i,j){d3_transitionInherit=node[ns][id],type.call(node,node.__data__,i,j)})}finally{d3_transitionInherit=inherit,d3_transitionInheritId=inheritId}}else d3_selection_each(this,function(node){var transition=node[ns][id];(transition.event||(transition.event=d3.dispatch("start","end","interrupt"))).on(type,listener)});return this},d3_transitionPrototype.transition=function(){for(var subgroup,group,node,transition,id0=this.id,id1=++d3_transitionId,ns=this.namespace,subgroups=[],j=0,m=this.length;m>j;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;n>i;i++)(node=group[i])&&(transition=node[ns][id0],d3_transitionNode(node,i,ns,id1,{time:transition.time,ease:transition.ease,delay:transition.delay+transition.duration,duration:transition.duration})),subgroup.push(node)}return d3_transition(subgroups,ns,id1)},d3.svg.axis=function(){function axis(g){g.each(function(){var tickTransform,g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy(),ticks=null==tickValues?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=null==tickFormat_?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),tickExit=d3.transition(tick.exit()).style("opacity",ε).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line"),tickEnter.append("text");var x1,x2,y1,y2,lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign="top"===orient||"left"===orient?-1:1;if("bottom"===orient||"top"===orient?(tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2",text.attr("dy",0>sign?"0em":".71em").style("text-anchor","middle"),pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)):(tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2",text.attr("dy",".32em").style("text-anchor",0>sign?"end":"start"),pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)),lineEnter.attr(y2,sign*innerTickSize),textEnter.attr(y1,sign*tickSpacing),lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize),textUpdate.attr(x1,0).attr(y1,sign*tickSpacing),scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1,scale0);tickEnter.call(tickTransform,scale0,scale1),tickUpdate.call(tickTransform,scale1,scale1)})}var tickFormat_,scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null;return axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient,axis):orient},axis.ticks=function(){return arguments.length?(tickArguments_=arguments,axis):tickArguments_},axis.tickValues=function(x){return arguments.length?(tickValues=x,axis):tickValues},axis.tickFormat=function(x){return arguments.length?(tickFormat_=x,axis):tickFormat_},axis.tickSize=function(x){var n=arguments.length;return n?(innerTickSize=+x,outerTickSize=+arguments[n-1],axis):innerTickSize},axis.innerTickSize=function(x){return arguments.length?(innerTickSize=+x,axis):innerTickSize},axis.outerTickSize=function(x){return arguments.length?(outerTickSize=+x,axis):outerTickSize},axis.tickPadding=function(x){return arguments.length?(tickPadding=+x,
axis):tickPadding},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};d3.svg.brush=function(){function brush(g){g.each(function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove(),resize.enter().append("g").attr("class",function(d){return"resize "+d}).style("cursor",function(d){return d3_svg_brushCursor[d]}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null}).attr("y",function(d){return/^[ns]/.test(d)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),resize.style("display",brush.empty()?"none":null);var range,gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background);x&&(range=d3_scaleRange(x),backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]),redrawX(gUpdate)),y&&(range=d3_scaleRange(y),backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]),redrawY(gUpdate)),redraw(gUpdate)})}function redraw(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"})}function redrawX(g){g.select(".extent").attr("x",xExtent[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){function keydown(){32==d3.event.keyCode&&(dragging||(center=null,origin[0]-=xExtent[1],origin[1]-=yExtent[1],dragging=2),d3_eventPreventDefault())}function keyup(){32==d3.event.keyCode&&2==dragging&&(origin[0]+=xExtent[1],origin[1]+=yExtent[1],dragging=0,d3_eventPreventDefault())}function brushmove(){var point=d3.mouse(target),moved=!1;offset&&(point[0]+=offset[0],point[1]+=offset[1]),dragging||(d3.event.altKey?(center||(center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2]),origin[0]=xExtent[+(point[0]<center[0])],origin[1]=yExtent[+(point[1]<center[1])]):center=null),resizingX&&move1(point,x,0)&&(redrawX(g),moved=!0),resizingY&&move1(point,y,1)&&(redrawY(g),moved=!0),moved&&(redraw(g),event_({type:"brush",mode:dragging?"move":"resize"}))}function move1(point,scale,i){var min,max,range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0];return dragging&&(r0-=position,r1-=size+position),min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i],dragging?max=(min+=position)+size:(center&&(position=Math.max(r0,Math.min(r1,2*center[i]-min))),min>position?(max=min,min=position):max=position),extent[0]!=min||extent[1]!=max?(i?yExtentDomain=null:xExtentDomain=null,extent[0]=min,extent[1]=max,!0):void 0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),dragRestore(),event_({type:"brushend"})}var center,offset,target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(target),origin=d3.mouse(target),w=d3.select(d3_window(target)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(d3.event.changedTouches?w.on("touchmove.brush",brushmove).on("touchend.brush",brushend):w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),dragging)origin[0]=xExtent[0]-origin[0],origin[1]=yExtent[0]-origin[1];else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]],origin[0]=xExtent[ex],origin[1]=yExtent[ey]}else d3.event.altKey&&(center=origin.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",eventTarget.style("cursor")),event_({type:"brushstart"}),brushmove()}var xExtentDomain,yExtentDomain,event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xClamp=!0,yClamp=!0,resizes=d3_svg_brushResizes[0];return brush.event=function(g){g.each(function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1,d3_transitionInheritId?d3.select(this).transition().each("start.brush",function(){xExtentDomain=extent0.i,yExtentDomain=extent0.j,xExtent=extent0.x,yExtent=extent0.y,event_({type:"brushstart"})}).tween("brush:brush",function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);return xExtentDomain=yExtentDomain=null,function(t){xExtent=extent1.x=xi(t),yExtent=extent1.y=yi(t),event_({type:"brush",mode:"resize"})}}).each("end.brush",function(){xExtentDomain=extent1.i,yExtentDomain=extent1.j,event_({type:"brush",mode:"resize"}),event_({type:"brushend"})}):(event_({type:"brushstart"}),event_({type:"brush",mode:"resize"}),event_({type:"brushend"}))})},brush.x=function(z){return arguments.length?(x=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):x},brush.y=function(z){return arguments.length?(y=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):y},brush.clamp=function(z){return arguments.length?(x&&y?(xClamp=!!z[0],yClamp=!!z[1]):x?xClamp=!!z:y&&(yClamp=!!z),brush):x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null},brush.extent=function(z){var x0,x1,y0,y1,t;return arguments.length?(x&&(x0=z[0],x1=z[1],y&&(x0=x0[0],x1=x1[0]),xExtentDomain=[x0,x1],x.invert&&(x0=x(x0),x1=x(x1)),x0>x1&&(t=x0,x0=x1,x1=t),(x0!=xExtent[0]||x1!=xExtent[1])&&(xExtent=[x0,x1])),y&&(y0=z[0],y1=z[1],x&&(y0=y0[1],y1=y1[1]),yExtentDomain=[y0,y1],y.invert&&(y0=y(y0),y1=y(y1)),y0>y1&&(t=y0,y0=y1,y1=t),(y0!=yExtent[0]||y1!=yExtent[1])&&(yExtent=[y0,y1])),brush):(x&&(xExtentDomain?(x0=xExtentDomain[0],x1=xExtentDomain[1]):(x0=xExtent[0],x1=xExtent[1],x.invert&&(x0=x.invert(x0),x1=x.invert(x1)),x0>x1&&(t=x0,x0=x1,x1=t))),y&&(yExtentDomain?(y0=yExtentDomain[0],y1=yExtentDomain[1]):(y0=yExtent[0],y1=yExtent[1],y.invert&&(y0=y.invert(y0),y1=y.invert(y1)),y0>y1&&(t=y0,y0=y1,y1=t))),x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1])},brush.clear=function(){return brush.empty()||(xExtent=[0,0],yExtent=[0,0],xExtentDomain=yExtentDomain=null),brush},brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]},d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],d3_time_format=d3_time.format=d3_locale_enUS.timeFormat,d3_time_formatUtc=d3_time_format.utc,d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:d3_time_formatIso,d3_time_formatIsoNative.parse=function(string){var date=new Date(string);return isNaN(date)?null:date},d3_time_formatIsoNative.toString=d3_time_formatIso.toString,d3_time.second=d3_time_interval(function(date){return new d3_date(1e3*Math.floor(date/1e3))},function(date,offset){date.setTime(date.getTime()+1e3*Math.floor(offset))},function(date){return date.getSeconds()}),d3_time.seconds=d3_time.second.range,d3_time.seconds.utc=d3_time.second.utc.range,d3_time.minute=d3_time_interval(function(date){return new d3_date(6e4*Math.floor(date/6e4))},function(date,offset){date.setTime(date.getTime()+6e4*Math.floor(offset))},function(date){return date.getMinutes()}),d3_time.minutes=d3_time.minute.range,d3_time.minutes.utc=d3_time.minute.utc.range,d3_time.hour=d3_time_interval(function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date(36e5*(Math.floor(date/36e5-timezone)+timezone))},function(date,offset){date.setTime(date.getTime()+36e5*Math.floor(offset))},function(date){return date.getHours()}),d3_time.hours=d3_time.hour.range,d3_time.hours.utc=d3_time.hour.utc.range,d3_time.month=d3_time_interval(function(date){return date=d3_time.day(date),date.setDate(1),date},function(date,offset){date.setMonth(date.getMonth()+offset)},function(date){return date.getMonth()}),d3_time.months=d3_time.month.range,d3_time.months.utc=d3_time.month.utc.range;var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]],d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&1!=d.getDate()}],["%b %d",function(d){return 1!=d.getDate()}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]),d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year,d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map(function(m){return[m[0].utc,m[1]]}),d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&1!=d.getUTCDate()}],["%b %d",function(d){return 1!=d.getUTCDate()}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc,d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)},d3.text=d3_xhrType(function(request){return request.responseText}),d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)},d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)},d3.xml=d3_xhrType(function(request){return request.responseXML}),"function"==typeof define&&define.amd?define(d3):"object"==typeof module&&module.exports&&(module.exports=d3),this.d3=d3}();
},{}],15:[function(require,module,exports){
!function(e,t,n,r){"use strict";function rt(e,t){for(var n=0,r=e.length;r>n;n++)dt(e[n],t)}function it(e){for(var r,t=0,n=e.length;n>t;t++)r=e[t],nt(r,b[ot(r)])}function st(e){return function(t){j(t)&&(dt(t,e),rt(t.querySelectorAll(w),e))}}function ot(e){var t=e.getAttribute("is"),n=e.nodeName.toUpperCase(),r=S.call(y,t?v+t.toUpperCase():d+n);return t&&r>-1&&!ut(n,t)?-1:r}function ut(e,t){return-1<w.indexOf(e+'[is="'+t+'"]')}function at(e){var t=e.currentTarget,n=e.attrChange,r=e.prevValue,i=e.newValue;Q&&t.attributeChangedCallback&&"style"!==e.attrName&&t.attributeChangedCallback(e.attrName,n===e[a]?null:r,n===e[l]?null:i)}function ft(e){var t=st(e);return function(e){X.push(t,e.target)}}function lt(e){K&&(K=!1,e.currentTarget.removeEventListener(h,lt)),rt((e.target||t).querySelectorAll(w),e.detail===o?o:s),B&&pt()}function ct(e,t){var n=this;q.call(n,e,t),G.call(n,{target:n})}function ht(e,t){D(e,t),et?et.observe(e,z):(J&&(e.setAttribute=ct,e[i]=Z(e),e.addEventListener(p,G)),e.addEventListener(c,at)),e.createdCallback&&Q&&(e.created=!0,e.createdCallback(),e.created=!1)}function pt(){for(var e,t=0,n=F.length;n>t;t++)e=F[t],E.contains(e)||(F.splice(t,1),dt(e,o))}function dt(e,t){var n,r=ot(e);r>-1&&(tt(e,b[r]),r=0,t!==s||e[s]?t===o&&!e[o]&&(e[s]=!1,e[o]=!0,r=1):(e[o]=!1,e[s]=!0,r=1,B&&S.call(F,e)<0&&F.push(e)),r&&(n=e[t+"Callback"])&&n.call(e))}if(!(r in t)){var X,G,Y,Z,et,tt,nt,i="__"+r+(1e5*Math.random()>>0),s="attached",o="detached",u="extends",a="ADDITION",f="MODIFICATION",l="REMOVAL",c="DOMAttrModified",h="DOMContentLoaded",p="DOMSubtreeModified",d="<",v="=",m=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,g=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],y=[],b=[],w="",E=t.documentElement,S=y.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},x=n.prototype,T=x.hasOwnProperty,N=x.isPrototypeOf,C=n.defineProperty,k=n.getOwnPropertyDescriptor,L=n.getOwnPropertyNames,A=n.getPrototypeOf,O=n.setPrototypeOf,M=!!n.__proto__,_=n.create||function vt(e){return e?(vt.prototype=e,new vt):this},D=O||(M?function(e,t){return e.__proto__=t,e}:L&&k?function(){function e(e,t){for(var n,r=L(t),i=0,s=r.length;s>i;i++)n=r[i],T.call(e,n)||C(e,n,k(t,n))}return function(t,n){do e(t,n);while((n=A(n))&&!N.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),P=e.MutationObserver||e.WebKitMutationObserver,H=(e.HTMLElement||e.Element||e.Node).prototype,B=!N.call(H,E),j=B?function(e){return 1===e.nodeType}:function(e){return N.call(H,e)},F=B&&[],I=H.cloneNode,q=H.setAttribute,R=H.removeAttribute,U=t.createElement,z=P&&{attributes:!0,characterData:!0,attributeOldValue:!0},W=P||function(e){J=!1,E.removeEventListener(c,W)},V=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},$=!1,J=!0,K=!0,Q=!0;O||M?(tt=function(e,t){N.call(t,e)||ht(e,t)},nt=ht):(tt=function(e,t){e[i]||(e[i]=n(!0),ht(e,t))},nt=tt),B?(J=!1,function(){var e=k(H,"addEventListener"),t=e.value,n=function(e){var t=new CustomEvent(c,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[l]=t.attrChange=2,R.call(this,e),this.dispatchEvent(t)},r=function(e,t){var n=this.hasAttribute(e),r=n&&this.getAttribute(e),i=new CustomEvent(c,{bubbles:!0});q.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i[f]=i.attrChange=1:i[a]=i.attrChange=0,this.dispatchEvent(i)},s=function(e){var s,t=e.currentTarget,n=t[i],r=e.propertyName;n.hasOwnProperty(r)&&(n=n[r],s=new CustomEvent(c,{bubbles:!0}),s.attrName=n.name,s.prevValue=n.value||null,s.newValue=n.value=t[r]||null,null==s.prevValue?s[a]=s.attrChange=0:s[f]=s.attrChange=1,t.dispatchEvent(s))};e.value=function(e,o,u){e===c&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[i]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",s)),t.call(this,e,o,u)},C(H,"addEventListener",e)}()):P||(E.addEventListener(c,W),E.setAttribute(i,1),E.removeAttribute(i),J&&(G=function(e){var n,r,s,t=this;if(t===e.target){n=t[i],t[i]=r=Z(t);for(s in r){if(!(s in n))return Y(0,t,s,n[s],r[s],a);if(r[s]!==n[s])return Y(1,t,s,n[s],r[s],f)}for(s in n)if(!(s in r))return Y(2,t,s,n[s],r[s],l)}},Y=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,at(o)},Z=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;o>s;s++)t=i[s],n=t.name,"setAttribute"!==n&&(r[n]=t.value);return r})),t[r]=function(n,r){if(p=n.toUpperCase(),$||($=!0,P?(et=function(e,t){function n(e,t){for(var n=0,r=e.length;r>n;t(e[n++]));}return new P(function(r){for(var i,s,o=0,u=r.length;u>o;o++)i=r[o],"childList"===i.type?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,Q&&s.attributeChangedCallback&&"style"!==i.attributeName&&s.attributeChangedCallback(i.attributeName,i.oldValue,s.getAttribute(i.attributeName)))})}(st(s),st(o)),et.observe(t,{childList:!0,subtree:!0})):(X=[],V(function E(){for(;X.length;)X.shift().call(null,X.shift());V(E)}),t.addEventListener("DOMNodeInserted",ft(s)),t.addEventListener("DOMNodeRemoved",ft(o))),t.addEventListener(h,lt),t.addEventListener("readystatechange",lt),t.createElement=function(e,n){var r=U.apply(t,arguments),i=""+e,s=S.call(y,(n?v:d)+(n||i).toUpperCase()),o=s>-1;return n&&(r.setAttribute("is",n=n.toLowerCase()),o&&(o=ut(i.toUpperCase(),n))),Q=!t.createElement.innerHTMLHelper,o&&nt(r,b[s]),r},H.cloneNode=function(e){var t=I.call(this,!!e),n=ot(t);return n>-1&&nt(t,b[n]),e&&it(t.querySelectorAll(w)),t}),-2<S.call(y,v+p)+S.call(y,d+p))throw new Error("A "+n+" type is already registered");if(!m.test(p)||-1<S.call(g,p))throw new Error("The type "+n+" is invalid");var p,i=function(){return f?t.createElement(l,p):t.createElement(l)},a=r||x,f=T.call(a,u),l=f?r[u].toUpperCase():p,c=y.push((f?v:d)+p)-1;return w=w.concat(w.length?",":"",f?l+'[is="'+n.toLowerCase()+'"]':l),i.prototype=b[c]=T.call(a,"prototype")?a.prototype:_(H),rt(t.querySelectorAll(w),s),i}}}(window,document,Object,"registerElement");
},{}],16:[function(require,module,exports){
!function(formdb){"use strict";function forEach(list,fn,that){return ARRAY.forEach.call(list,fn,that||list)}function filter(list,fn,that){return ARRAY.filter.call(list,fn,that||list)}function slice(list,start,len){return ARRAY.slice.call(list,start,len)}formdb.version="0.2.0";var Form=function(element){return this instanceof formdb.Form?(this.element="object"==typeof element?element:document.querySelector(element||"form"),this._inputs="[name]",void this.element.addEventListener("click",this._onClick.bind(this))):new formdb.Form(element)},LISTENER_PROPERTY="_elementdb_listener";Form.prototype={getData:function(){var data={};return this.getInputs().forEach(function(input){formdb.readInput(input,data)}),data},setData:function(data){for(var key in data)this.set(key,data[key]);return this},get:function(key){var data={};return this.getInputsByName(key).forEach(function(input){formdb.readInput(input,data)}),data[key]},set:function(key,value){var data={};return data[key]=value,this.getInputsByName(key).forEach(function(input){formdb.writeInput(input,data)}),this},reset:function(){if("function"==typeof this.element.reset)this.element.reset();else{var data={};this.getInputs().forEach(function(input){formdb.writeInput(input,data)})}return this},getInputs:function(filter){var inputs=slice(this.element.querySelectorAll(this._inputs));return filter?inputs.filter(filter):inputs},getInputsByName:function(name){return this.getInputs(function(input){return input.name==name})},on:function(type,callback){var listener,self=this;if(type.match(/^change:/)){var name=type.split(":").pop();listener=function(e){return e.target.name===name?callback.call(self,e.target.value,e):void 0},callback[LISTENER_PROPERTY]=listener,this.element.addEventListener("change",listener)}else"change"===type||"submit"===type?(listener=function(e){return callback.call(self,self.getData(),e)},callback[LISTENER_PROPERTY]=listener,this.element.addEventListener(type,listener)):this.element.addEventListener(type,callback);return this},off:function(type,callback){return type.match(/^change:/)&&(type="change"),this.element.removeEventListener(type,callback[LISTENER_PROPERTY]||callback),this},_onClick:function(e){var target=e.target;"submit"===target.type&&this.getInputs(function(input){return"submit"===input.type}).forEach(function(input){input.pressed=input===target})}},formdb.Form=Form,formdb.validInput=function(input){return input.name&&!input.disabled},formdb.readInput=function(input,data){if(!formdb.validInput(input))return!1;var value;switch(input.type){case"select-one":value=input.options[input.selectedIndex].value;break;case"select-multiple":value=filter(input.querySelectorAll("option"),function(option){return option.selected}).map(function(option){return option.value});break;case"checkbox":if(!input.checked)break;value=data[input.name],Array.isArray(value)?value.push(input.value):value="undefined"!=typeof value?[value,input.value||!0]:input.value||!0;break;case"radio":input.checked&&(value=input.value);break;case"submit":input.pressed&&(value=input.value);break;default:value=input.value}return"undefined"!=typeof value&&""!==value?(data[input.name]=value,!0):!1},formdb.writeInput=function(input,data){if(!formdb.validInput(input))return!1;var value=data[input.name]||"",list=Array.isArray(value)?value:[value];switch(list=list.map(String),input.type){case"select-one":return forEach(input.options,function(option){option.selected=option.value==value}),!0;case"select-multiple":return forEach(input.options,function(option){option.selected=list.indexOf(option.value)>-1}),!0;case"checkbox":return input.checked=input.value?list.indexOf(input.value)>-1:!!value,!0;case"radio":return input.checked=value==input.value,!0}return input.value=value,!0};var ARRAY=[]}("object"==typeof module?module.exports:this.formdb={});
},{}],17:[function(require,module,exports){
function bindObject(node,data,directives){for(var key in data)data.hasOwnProperty(key)&&bindKey(node,key,data[key],directives[key]);return node}function bindArray(node,data,directives){var nodes=getChildren(node),template=node[ARRAY_TEMPLATE]||(node[ARRAY_TEMPLATE]=nodes[0]),nodeCount=nodes.length,dataCount=data.length;if(dataCount>nodeCount)for(var last=nodes[nodeCount-1]||template;dataCount>nodeCount;){var clone=template.cloneNode(!0);nodeCount=nodes.push(node.insertBefore(clone,last.nextSibling)),last=clone}else if(nodeCount>dataCount)for(;nodeCount>dataCount;){var child=nodes.shift();node.removeChild(child),nodeCount--}for(var i=0;dataCount>i;i++)tagalong(nodes[i],data[i],directives);return node}function bindKey(node,key,value,directives){var target=findKeyNode(node,key);return target?tagalong(target,value,directives):!1}function bindScalar(node,data,directives){var stringify=directives.stringify||String;return node.textContent=stringify.call(node,data),node}function findKeyNode(node,key){var classed=node.getElementsByClassName(key)[0];if(classed)return classed;for(var children=node.querySelectorAll("[data-bind]"),i=0,len=children.length;len>i;i++)if(children[i].getAttribute("data-bind")==key)return children[i];return null}function getChildren(node){for(var children=[],child=node.firstChild;child;child=child.nextSibling)1===child.nodeType&&children.push(child);return children}function applyDirectives(node,data,directives){function access(key,attr){var value=directives[key];return"function"==typeof value?value.call(node,data):value===!0?data[attr||key]:"object"==typeof value?value:data[value]}var interpolated;for(var key in directives)if("@"===key.charAt(0)){var attr=key.substr(1),value=access(key,attr)||"";node.setAttribute(attr,value)}else{switch(key){case"text":node.textContent=access(key)||""}"object"==typeof directives[key]?bindKey(node,key,data,directives[key]):(interpolated||(interpolated={}),interpolated[key]=access(key))}return interpolated?tagalong(node,interpolated):node}function expandKeys(obj){var expanded={};for(var key in obj)if(key.indexOf(".")>0)for(var bits=key.split("."),value=obj[key],d=expanded;bits.length;)d=d[bits.shift()]=bits.length?{}:value;else expanded[key]=obj[key];return expanded}const ARRAY_TEMPLATE="__array_template__";var tagalong=function(node,data,directives){if("string"==typeof node){var selector=node;if(node=document.querySelector(node),!node)throw new Error("no such element: "+selector)}return directives="object"==typeof directives?expandKeys(directives):"function"==typeof directives?directives.call(node,data)||{}:{},Array.isArray(data)?bindArray(node,data,directives):(applyDirectives(node,data,directives),"object"==typeof data?bindObject(node,data,directives):bindScalar(node,data,directives))};tagalong.object=bindObject,tagalong.array=bindArray,tagalong.scalar=bindScalar,module.exports=tagalong;
},{}],18:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],19:[function(require,module,exports){
"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;len>i;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};
},{}],20:[function(require,module,exports){
"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res};
},{}],21:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":19,"./encode":20}]},{},[9])(9)
});
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwianMvc3JjL2NvbXBvbmVudHMvYXJpYS1hY2NvcmRpb24uanMiLCJqcy9zcmMvY29tcG9uZW50cy9jb21wYXQvY3VzdG9tLWV2ZW50LmpzIiwianMvc3JjL2NvbXBvbmVudHMvaW5kZXguanMiLCJqcy9zcmMvY29tcG9uZW50cy9tdWx0aS1zZWxlY3QuanMiLCJqcy9zcmMvY29tcG9uZW50cy9waWNjLW1ldGVyLmpzIiwianMvc3JjL2NvbXBvbmVudHMvcGljYy1yYW5nZS5qcyIsImpzL3NyYy9jb21wb25lbnRzL3BpY2Mtc2xpZGVyLmpzIiwianMvc3JjL2luZGV4LmpzIiwianMvc3JjL3BpY2MuanMiLCJqcy9zcmMvc2Nob29sLmpzIiwianMvc3JjL3NlYXJjaC5qcyIsIm5vZGVfbW9kdWxlcy9haWdodC9haWdodC5qcyIsIm5vZGVfbW9kdWxlcy9hc3luYy9saWIvYXN5bmMuanMiLCJub2RlX21vZHVsZXMvZDMvZDMuanMiLCJub2RlX21vZHVsZXMvZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC9idWlsZC9kb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL2Zvcm1kYi9mb3JtZGIuanMiLCJub2RlX21vZHVsZXMvdGFnYWxvbmcvaW5kZXguanMiLCJub2RlX21vZHVsZXMvd2F0Y2hpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTs7O0FDREE7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIiFmdW5jdGlvbihleHBvcnRzKXtmdW5jdGlvbiBnZXRUcmlnZ2VyKHJvb3Qpe3ZhciBzZWxlY3Rvcj1yb290LmdldEF0dHJpYnV0ZShcInRyaWdnZXJcIil8fFwiW2FyaWEtY29udHJvbHNdXCIsdHJpZ2dlcj1yb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO3JldHVybiB0cmlnZ2VyJiZ0cmlnZ2VyLmhhc0F0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIik/dHJpZ2dlcjp2b2lkIGNvbnNvbGUud2Fybignbm8gdHJpZ2dlciBmb3VuZCBmb3Igc2VsZWN0b3I6IFwiJytzZWxlY3RvcisnXCInKX1mdW5jdGlvbiBnZXRDb250ZW50KHJvb3QsdHJpZ2dlcil7dmFyIGNvbnRlbnRJZD10cmlnZ2VyLmdldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiksY29udGVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250ZW50SWQpO3JldHVybiBjb250ZW50P2NvbnRlbnQ6dm9pZCBjb25zb2xlLndhcm4oJ25vIGNvbnRlbnQgZWxlbWVudCBmb3VuZCB3aXRoIGlkOiBcIicrY29udGVudElkKydcIicpfWZ1bmN0aW9uIGdldEFyaWFCb29sZWFuKGVsLGF0dHIpe3JldHVybiBlbCYmZWwuaGFzQXR0cmlidXRlKGF0dHIpJiZcImZhbHNlXCIhPT1lbC5nZXRBdHRyaWJ1dGUoYXR0cil9dmFyIEVYUEFOREVEPVwiYXJpYS1leHBhbmRlZFwiLEhJRERFTj1cImFyaWEtaGlkZGVuXCIsVE9HR0xFX0VWRU5UUz1bXCJjbGlja1wiXTtleHBvcnRzLkFSSUFBY2NvcmRpb249ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KFwiYXJpYS1hY2NvcmRpb25cIix7cHJvdG90eXBlOk9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlLHthdHRhY2hlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciB0cmlnZ2VyPXRoaXMuX190cmlnZ2VyPWdldFRyaWdnZXIodGhpcyk7aWYodHJpZ2dlcil7dmFyIGNvbnRlbnQ9dGhpcy5fX2NvbnRlbnQ9Z2V0Q29udGVudCh0aGlzLHRyaWdnZXIpO2lmKGNvbnRlbnQpe1wiQlVUVE9OXCI9PT10cmlnZ2VyLm5vZGVOYW1lfHx0cmlnZ2VyLmhhc0F0dHJpYnV0ZShcInJvbGVcIil8fHRyaWdnZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLHRyaWdnZXIuaGFzQXR0cmlidXRlKEVYUEFOREVEKXx8dHJpZ2dlci5zZXRBdHRyaWJ1dGUoRVhQQU5ERUQsZ2V0QXJpYUJvb2xlYW4odGhpcyxFWFBBTkRFRCkpO3ZhciB0b2dnbGU9dGhpcy50b2dnbGUuYmluZCh0aGlzKSx0b2dnbGVBbmRDYW5jZWw9dGhpcy5fX3RvZ2dsZUFuZENhbmNlbD1mdW5jdGlvbihlKXtyZXR1cm4gdG9nZ2xlKCksZS5wcmV2ZW50RGVmYXVsdCgpLCExfTtUT0dHTEVfRVZFTlRTLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpe3RyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudCx0b2dnbGVBbmRDYW5jZWwpfSksdGhpcy51cGRhdGUoKX19fX0sZGV0YWNoZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlcj10aGlzLl9fdHJpZ2dlcjtpZih0cmlnZ2VyKXt2YXIgdG9nZ2xlQW5kQ2FuY2VsPXRoaXMuX190b2dnbGVBbmRDYW5jZWw7VE9HR0xFX0VWRU5UUy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KXt0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsdG9nZ2xlQW5kQ2FuY2VsKX0pfX19LHVwZGF0ZTp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZXhwYW5kZWQ9dGhpcy5leHBhbmRlZDt0aGlzLnNldEF0dHJpYnV0ZShFWFBBTkRFRCxleHBhbmRlZCksdGhpcy5fX3RyaWdnZXIuc2V0QXR0cmlidXRlKEVYUEFOREVELGV4cGFuZGVkKSx0aGlzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoSElEREVOLCFleHBhbmRlZCl9fSxleHBhbmRlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdldEFyaWFCb29sZWFuKHRoaXMuX190cmlnZ2VyLEVYUEFOREVEKX0sc2V0OmZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT0hIXZhbHVlLHZhbHVlIT09dGhpcy5leHBhbmRlZCYmdGhpcy5fX3RyaWdnZXImJih0aGlzLl9fdHJpZ2dlci5zZXRBdHRyaWJ1dGUoRVhQQU5ERUQsdmFsdWUpLHRoaXMudXBkYXRlKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh2YWx1ZT9cIm9wZW5cIjpcImNsb3NlXCIpKSl9fSxvcGVuOnt2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZXhwYW5kZWQ9ITB9fSxjbG9zZTp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmV4cGFuZGVkPSExfX0sdG9nZ2xlOnt2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZXhwYW5kZWQ9IXRoaXMuZXhwYW5kZWR9fSx0cmlnZ2VyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3RyaWdnZXJ9fSxjb250ZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2NvbnRlbnR9fX0pfSl9KHdpbmRvdyk7IiwiIWZ1bmN0aW9uKCl7dHJ5e25ldyBDdXN0b21FdmVudChcImZvb1wiKX1jYXRjaChlcnIpe3ZhciBjcmVhdGVFdmVudD1kb2N1bWVudC5jcmVhdGVDdXN0b21FdmVudHx8ZG9jdW1lbnQuY3JlYXRlRXZlbnQ7d2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGV2ZW50LHBhcmFtcyl7dmFyIGV2dDtyZXR1cm4gcGFyYW1zPXBhcmFtc3x8e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxkZXRhaWw6dm9pZCAwfSxldnQ9Y3JlYXRlRXZlbnQuY2FsbChkb2N1bWVudCxcIkN1c3RvbUV2ZW50XCIpLGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnQscGFyYW1zLmJ1YmJsZXMscGFyYW1zLmNhbmNlbGFibGUscGFyYW1zLmRldGFpbCksZXZ0fSx3aW5kb3cuQ3VzdG9tRXZlbnQucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGV9fSh0aGlzKTsiLCJyZXF1aXJlKFwiZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudFwiKSxyZXF1aXJlKFwiLi9jb21wYXQvY3VzdG9tLWV2ZW50XCIpLHJlcXVpcmUoXCIuL2FyaWEtYWNjb3JkaW9uXCIpLHJlcXVpcmUoXCIuL3BpY2MtbWV0ZXJcIikscmVxdWlyZShcIi4vcGljYy1yYW5nZVwiKSxyZXF1aXJlKFwiLi9waWNjLXNsaWRlclwiKSxyZXF1aXJlKFwiLi9tdWx0aS1zZWxlY3RcIik7IiwiIWZ1bmN0aW9uKGV4cG9ydHMpe2Z1bmN0aW9uIG9uY2hhbmdlKGUpe3RoaXMuX191cGRhdGluZ3x8KHRoaXMudmFsdWU9Z2V0VmFsdWUoZS50YXJnZXQpKX1mdW5jdGlvbiBnZXRWYWx1ZShtdWx0aXNlbGVjdCl7cmV0dXJuW10uZmlsdGVyLmNhbGwobXVsdGlzZWxlY3Qub3B0aW9ucyxmdW5jdGlvbihvcHRpb24pe3JldHVybiBvcHRpb24uc2VsZWN0ZWR9KS5tYXAoZnVuY3Rpb24ob3B0aW9uKXtyZXR1cm4gb3B0aW9uLnZhbHVlfSl9ZnVuY3Rpb24gc2V0VmFsdWUobXVsdGlzZWxlY3QsdmFsdWVzKXt2YXIgY2hhbmdlZD0hMSxtYXA9dmFsdWVzLnJlZHVjZShmdW5jdGlvbihtYXAsZCl7cmV0dXJuIG1hcFtkXT0hMCxtYXB9LHt9KTtbXS5mb3JFYWNoLmNhbGwobXVsdGlzZWxlY3Qub3B0aW9ucyxmdW5jdGlvbihvcHRpb24pe3ZhciBzZWxlY3RlZD0hIW1hcFtvcHRpb24udmFsdWVdO29wdGlvbi5zZWxlY3RlZCE9PXNlbGVjdGVkJiYob3B0aW9uLnNlbGVjdGVkPXNlbGVjdGVkLGNoYW5nZWQ9ITApfSksY2hhbmdlZCYmbXVsdGlzZWxlY3QuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIix7YnViYmxlczohMH0pKX1mdW5jdGlvbiBwb2xsU291cmNlU2VsZWN0KCl7dmFyIHZhbHVlPWdldFZhbHVlKHRoaXMuX19zZWxlY3QpO3RoaXMuX192YWx1ZS5sZW5ndGg+dmFsdWUubGVuZ3RoJiZ2YWx1ZS5wdXNoKG51bGwpLGNvbXBhcmUodGhpcy5fX3ZhbHVlLHZhbHVlKXx8KHRoaXMudmFsdWU9dmFsdWUpfWZ1bmN0aW9uIHJlbW92ZUVtcHR5T3B0aW9uKHNlbGVjdCl7c2VsZWN0Lm9wdGlvbnNbMF0udmFsdWV8fHNlbGVjdC5yZW1vdmVDaGlsZChzZWxlY3Qub3B0aW9uc1swXSl9ZnVuY3Rpb24gcGFyc2VWYWx1ZXMoZCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZCk/ZDpkP1N0cmluZyhkKS5zcGxpdCgvLC9nKTpbZF19ZnVuY3Rpb24gbnVsbGlzaChkKXtyZXR1cm4gbnVsbD09PWR8fHZvaWQgMD09PWR9ZnVuY3Rpb24gY29tcGFyZShhLGIpe2lmKEFycmF5LmlzQXJyYXkoYSkmJkFycmF5LmlzQXJyYXkoYikpZm9yKHZhciBpPTAsbGVuPWEubGVuZ3RoO2xlbj5pO2krKylpZigtMT09PWIuaW5kZXhPZihhW2ldKSlyZXR1cm4hMTtyZXR1cm4gU3RyaW5nKGEpPT09U3RyaW5nKGIpfXZhciBJVEVNX0NMQVNTPVwibXVsdGktc2VsZWN0X2l0ZW1cIjtleHBvcnRzLk11bHRpU2VsZWN0PWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudChcIm11bHRpLXNlbGVjdFwiLHtwcm90b3R5cGU6T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUse2NyZWF0ZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt9fSxhdHRhY2hlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBzZWxlY3Q9dGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO3JldHVybiBzZWxlY3Q/KHNlbGVjdC5yZW1vdmVBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKSx0aGlzLl9fc2VsZWN0PXNlbGVjdC5jbG9uZU5vZGUoITApLHJlbW92ZUVtcHR5T3B0aW9uKHRoaXMuX19zZWxlY3QpLHNlbGVjdC5uYW1lPVwiXCIsdGhpcy5fX3NlbGVjdC5zZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiLFwibXVsdGlwbGVcIiksdGhpcy5jcmVhdGVUZW1wbGF0ZSgpLHRoaXMuaW5zZXJ0QmVmb3JlKHRoaXMuX19zZWxlY3QsdGhpcy5maXJzdENoaWxkKSx0aGlzLnZhbHVlPXNlbGVjdC52YWx1ZSx0aGlzLl9fc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLl9fb25jaGFuZ2U9b25jaGFuZ2UuYmluZCh0aGlzKSksdGhpcy5fX3NlbGVjdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHZvaWQodGhpcy5fX3BvbGxJRD1zZXRJbnRlcnZhbChwb2xsU291cmNlU2VsZWN0LmJpbmQodGhpcyksMjAwKSkpOmNvbnNvbGUuZXJyb3IoXCJubyA8c2VsZWN0PiBmb3VuZCBpbiA8bXVsdGktc2VsZWN0PiFcIil9fSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKGF0dHIsb2xkVmFsdWUsbmV3VmFsdWUpe319LGRldGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fX3NlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5fX29uY2hhbmdlKSxjbGVhclRpbWVvdXQodGhpcy5fX3BvbGxJRCl9fSx1cGRhdGU6e3ZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYWRkKCl7dmFsdWVzLnB1c2gobnVsbCksc2V0KHZhbHVlcywhMCl9dmFyIHJvb3Q9ZDMuc2VsZWN0KHRoaXMpLHZhbHVlcz10aGlzLnZhbHVlLHNldD1mdW5jdGlvbih2LGZvY3VzKXt0aGlzLnZhbHVlPXYsZm9jdXMmJnRoaXMucXVlcnlTZWxlY3RvcihcIi5cIitJVEVNX0NMQVNTK1wiOmxhc3QtY2hpbGQgc2VsZWN0XCIpLmZvY3VzKCl9LmJpbmQodGhpcyksaXRlbXM9cm9vdC5zZWxlY3RBbGwoXCIuXCIrSVRFTV9DTEFTUykuZGF0YSh2YWx1ZXMpLHRlbXBsYXRlPXRoaXMuX190ZW1wbGF0ZTtpdGVtcy5leGl0KCkucmVtb3ZlKCksaXRlbXMuZW50ZXIoKS5hcHBlbmQoZnVuY3Rpb24oKXtyZXR1cm4gdGVtcGxhdGUuY2xvbmVOb2RlKCEwKX0pLmNsYXNzZWQoSVRFTV9DTEFTUywhMCksaXRlbXMuc2VsZWN0KFwic2VsZWN0XCIpLnByb3BlcnR5KFwidmFsdWVcIixmdW5jdGlvbihkKXtyZXR1cm4gbnVsbGlzaChkKT9cIlwiOlN0cmluZyhkKX0pLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oZCxpKXt2YWx1ZXNbaV09dGhpcy52YWx1ZSxzZXQodmFsdWVzKX0pLGl0ZW1zLnNlbGVjdEFsbChcImJ1dHRvblwiKS5vbihcImNsaWNrLmNhbmNlbFwiLGZ1bmN0aW9uKCl7ZDMuZXZlbnQucHJldmVudERlZmF1bHQoKX0pLGl0ZW1zLmVhY2goZnVuY3Rpb24odmFsdWUsaSl7ZnVuY3Rpb24gcmVtb3ZlKCl7aXRlbS5yZW1vdmUoKSx2YWx1ZXMuc3BsaWNlKGksMSksc2V0KHZhbHVlcyl9dmFyIGl0ZW09ZDMuc2VsZWN0KHRoaXMpO2l0ZW0uc2VsZWN0KFwiLmJ1dHRvbi1yZW1vdmVcIikub24oXCJjbGlja1wiLHJlbW92ZSksaXRlbS5zZWxlY3QoXCIuYnV0dG9uLWFkZFwiKS5vbihcImNsaWNrXCIsYWRkKX0pfX0sY3JlYXRlVGVtcGxhdGU6e3ZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX190ZW1wbGF0ZSl7dmFyIGh0bWw9dGhpcy5pbm5lckhUTUwsdGVtcGxhdGU9dGhpcy5fX3RlbXBsYXRlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zm9yKHRlbXBsYXRlLmNsYXNzTmFtZT1JVEVNX0NMQVNTLHRlbXBsYXRlLmlubmVySFRNTD1odG1sO3RoaXMuZmlyc3RDaGlsZDspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmZpcnN0Q2hpbGQpO3JldHVybiB0ZW1wbGF0ZX1yZXR1cm4gdGhpcy5fX3RlbXBsYXRlfX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBBcnJheS5pc0FycmF5KHRoaXMuX192YWx1ZSk/dGhpcy5fX3ZhbHVlLnNsaWNlKCk6dGhpcy5fX3ZhbHVlfHxbbnVsbF19LHNldDpmdW5jdGlvbih2YWx1ZSl7Y29tcGFyZSh0aGlzLl9fdmFsdWUsdmFsdWUpfHwodGhpcy5fX3ZhbHVlPXBhcnNlVmFsdWVzKHZhbHVlKSx0aGlzLl9fdXBkYXRpbmc9ITAsdGhpcy51cGRhdGUoKSxzZXRWYWx1ZSh0aGlzLl9fc2VsZWN0LHRoaXMuX192YWx1ZSksdGhpcy5fX3VwZGF0aW5nPSExKX19fSl9KX0odGhpcyk7IiwiZnVuY3Rpb24gZGVmZXJVcGRhdGUobWV0ZXIsZGVsYXkpe2RlbGF5fHwoZGVsYXk9NTApLG1ldGVyLl9fdGltZW91dHx8KG1ldGVyLl9fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIG1ldGVyLl9fdGltZW91dCxtZXRlci51cGRhdGUoKX0sZGVsYXkpKX1mdW5jdGlvbiBnZXRBdHRyKG5vZGUsYXR0cixmYWxsYmFjayl7cmV0dXJuIG5vZGUuaGFzQXR0cmlidXRlKGF0dHIpP25vZGUuZ2V0QXR0cmlidXRlKGF0dHIpfHxmYWxsYmFjazpmYWxsYmFja31mdW5jdGlvbiBnZXRCYXIobWV0ZXIpe3ZhciBiYXI9bWV0ZXIucXVlcnlTZWxlY3RvcihcIi5cIitDTEFTU19QUkVGSVgrXCJiYXJcIik7cmV0dXJuIGJhcnx8KGJhcj1tZXRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxiYXIuY2xhc3NOYW1lPUNMQVNTX1BSRUZJWCtcImJhclwiKSxiYXJ9ZnVuY3Rpb24gZ2V0TGluZShtZXRlcil7dmFyIGxpbmU9bWV0ZXIucXVlcnlTZWxlY3RvcihcIi5cIitDTEFTU19QUkVGSVgrXCJsaW5lXCIpO3JldHVybiBsaW5lfHwobGluZT1tZXRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxsaW5lLmNsYXNzTmFtZT1DTEFTU19QUkVGSVgrXCJsaW5lXCIsbGluZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImxhYmVsXCIpKSxsaW5lfWZ1bmN0aW9uIG51bWJlcih2YWx1ZSxmYWxsYmFjayl7dmFyIG51bT1TdHJpbmcodmFsdWUpLmxlbmd0aD8rdmFsdWU6TmFOO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJihmYWxsYmFjaz1OYU4pLGlzTmFOKG51bSk/ZmFsbGJhY2s6bnVtfWZ1bmN0aW9uIGNsYXNzaWZ5KGVsLGNsYXNzZXMpe2Zvcih2YXIga2xhc3MgaW4gY2xhc3NlcyllbC5jbGFzc0xpc3RbY2xhc3Nlc1trbGFzc10/XCJhZGRcIjpcInJlbW92ZVwiXShrbGFzcyl9dmFyIENMQVNTX1BSRUZJWD1cInBpY2MtbWV0ZXItXCI7d2luZG93LlBJQ0NNZXRlcj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQoXCJwaWNjLW1ldGVyXCIse3Byb3RvdHlwZTpPYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSx7YXR0YWNoZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1pbj1nZXRBdHRyKHRoaXMsXCJtaW5cIiwwKSx0aGlzLm1heD1nZXRBdHRyKHRoaXMsXCJtYXhcIiwxKSx0aGlzLnZhbHVlPWdldEF0dHIodGhpcyxcInZhbHVlXCIpLHRoaXMuYXZlcmFnZT1nZXRBdHRyKHRoaXMsXCJhdmVyYWdlXCIpLHRoaXMudXBkYXRlKCl9fSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKGF0dHIscHJldix2YWx1ZSl7c3dpdGNoKGF0dHIpe2Nhc2VcIm1pblwiOmNhc2VcIm1heFwiOmNhc2VcInZhbHVlXCI6Y2FzZVwiYXZlcmFnZVwiOnJldHVybiB2b2lkKHRoaXNbYXR0cl09dmFsdWUpfX19LHVwZGF0ZTp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgbWluPXRoaXMubWluLG1heD10aGlzLm1heCx2YWx1ZT10aGlzLnZhbHVlLGF2ZXJhZ2U9dGhpcy5hdmVyYWdlLGJhcj1nZXRCYXIodGhpcyksbGluZT1nZXRMaW5lKHRoaXMpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB2YWx1ZXx8aXNOYU4odmFsdWUpKWJhci5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIiksYmFyLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpLGxpbmUuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsXCJub25lXCIpLGxpbmUuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3R0b21cIiksY2xhc3NpZnkodGhpcyx7bm9fZGF0YTohMCxhYm92ZV9hdmVyYWdlOiExLGJlbG93X2F2ZXJhZ2U6ITEsYWJvdXRfYXZlcmFnZTohMX0pO2Vsc2V7Y2xhc3NpZnkodGhpcyx7bm9fZGF0YTohMX0pO3ZhciBzY2FsZT1mdW5jdGlvbih2KXtyZXR1cm4odi1taW4pLyhtYXgtbWluKX0scGVyY2VudD1mdW5jdGlvbih2KXtyZXR1cm4oMTAwKnNjYWxlKHYpKS50b0ZpeGVkKDEpK1wiJVwifTtpZihiYXIuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpLGJhci5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLHBlcmNlbnQoTWF0aC5taW4odmFsdWUsbWF4KSkpLHRoaXMuaGFzQXR0cmlidXRlKFwiYXZlcmFnZS1yYW5nZVwiKSl7dmFyIHJhbmdlPXRoaXMuZ2V0QXR0cmlidXRlKFwiYXZlcmFnZS1yYW5nZVwiKSxudW1iZXJzPXJhbmdlLnNwbGl0KFwiLi5cIikubWFwKE51bWJlcik7aWYobnVtYmVycy5zb21lKGlzTmFOKSljb25zb2xlLndhcm4oXCJpbnZhbGlkIGF2ZXJhZ2UtcmFuZ2U6XCIscmFuZ2UsbnVtYmVycyksY2xhc3NpZnkodGhpcyx7YWJvdmVfYXZlcmFnZTohMSxiZWxvd19hdmVyYWdlOiExLGFib3V0X2F2ZXJhZ2U6ITF9KTtlbHNle3ZhciBsbz1udW1iZXJzWzBdLGhpPW51bWJlcnNbMV07Y2xhc3NpZnkodGhpcyx7YWJvdmVfYXZlcmFnZTp2YWx1ZT5oaSxiZWxvd19hdmVyYWdlOmxvPnZhbHVlLGFib3V0X2F2ZXJhZ2U6dmFsdWU+PWxvJiZoaT49dmFsdWV9KX19ZWxzZSBjbGFzc2lmeSh0aGlzLHthYm92ZV9hdmVyYWdlOiExLGJlbG93X2F2ZXJhZ2U6ITEsYWJvdXRfYXZlcmFnZTohMX0pO2lzTmFOKGF2ZXJhZ2UpP2xpbmUuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsXCJub25lXCIpOihsaW5lLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiZGlzcGxheVwiKSxsaW5lLnN0eWxlLnNldFByb3BlcnR5KFwiYm90dG9tXCIscGVyY2VudChhdmVyYWdlKSkpfWRlbGV0ZSB0aGlzLl9fdGltZW91dCx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwidXBkYXRlXCIpKX19LG1pbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19taW59LHNldDpmdW5jdGlvbih2YWx1ZSl7dGhpcy5fX21pbj1udW1iZXIodmFsdWUsMCksZGVmZXJVcGRhdGUodGhpcyl9fSxtYXg6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fbWF4fSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX19tYXg9bnVtYmVyKHZhbHVlLDEpLGRlZmVyVXBkYXRlKHRoaXMpfX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdmFsdWV9LHNldDpmdW5jdGlvbih2YWx1ZSl7dGhpcy5fX3ZhbHVlPW51bWJlcih2YWx1ZSksZGVmZXJVcGRhdGUodGhpcyl9fSxhdmVyYWdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2F2ZXJhZ2V9LHNldDpmdW5jdGlvbih2YWx1ZSl7dGhpcy5fX2F2ZXJhZ2U9bnVtYmVyKHZhbHVlKSxkZWZlclVwZGF0ZSh0aGlzKX19fSl9KTsiLCJmdW5jdGlvbiBkZWZlclVwZGF0ZShtZXRlcixkZWxheSl7ZGVsYXl8fChkZWxheT01MCksbWV0ZXIuX190aW1lb3V0fHwobWV0ZXIuX190aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgbWV0ZXIuX190aW1lb3V0LG1ldGVyLnVwZGF0ZSgpfSxkZWxheSkpfWZ1bmN0aW9uIGdldEF0dHIobm9kZSxhdHRyLGZhbGxiYWNrKXtyZXR1cm4gbm9kZS5oYXNBdHRyaWJ1dGUoYXR0cik/bm9kZS5nZXRBdHRyaWJ1dGUoYXR0cil8fGZhbGxiYWNrOmZhbGxiYWNrfWZ1bmN0aW9uIG51bWJlcih2YWx1ZSxmYWxsYmFjayl7dmFyIG51bT0rdmFsdWU7cmV0dXJuIGlzTmFOKHZhbHVlKT9mYWxsYmFjazpudW19ZnVuY3Rpb24gY2xhc3NpZnkoZWwsY2xhc3Nlcyl7Zm9yKHZhciBrbGFzcyBpbiBjbGFzc2VzKWVsLmNsYXNzTGlzdFtjbGFzc2VzW2tsYXNzXT9cImFkZFwiOlwicmVtb3ZlXCJdKGtsYXNzKX12YXIgRUxFTUVOVF9OQU1FPVwicGljYy1yYW5nZVwiLENMQVNTX1BSRUZJWD1FTEVNRU5UX05BTUUrXCItXCIsTEFCRUxfVFlQRVM9W1wibWluXCIsXCJtYXhcIixcImxvd2VyXCIsXCJtaWRkbGVcIixcInVwcGVyXCJdO3dpbmRvdy5QSUNDUmFuZ2U9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KEVMRU1FTlRfTkFNRSx7cHJvdG90eXBlOk9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlLHthdHRhY2hlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBiYXI9dGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtiYXIuY2xhc3NOYW1lPUNMQVNTX1BSRUZJWCtcImJhclwiLExBQkVMX1RZUEVTLmZvckVhY2goZnVuY3Rpb24odHlwZSl7dmFyIGxhYmVsPXRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO2xhYmVsLmNsYXNzTmFtZT1bQ0xBU1NfUFJFRklYK1wibGFiZWxcIixbQ0xBU1NfUFJFRklYLFwibGFiZWwtXCIsdHlwZV0uam9pbihcIlwiKV0uam9pbihcIiBcIiksbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpfSx0aGlzKSx0aGlzLm1pbj1nZXRBdHRyKHRoaXMsXCJtaW5cIiwwKSx0aGlzLm1heD1nZXRBdHRyKHRoaXMsXCJtYXhcIiwxKSx0aGlzLmxvd2VyPWdldEF0dHIodGhpcyxcImxvd2VyXCIpLHRoaXMubWlkZGxlPWdldEF0dHIodGhpcyxcIm1pZGRsZVwiKSx0aGlzLnVwcGVyPWdldEF0dHIodGhpcyxcInVwcGVyXCIpLHRoaXMudXBkYXRlKCl9fSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKGF0dHIscHJldix2YWx1ZSl7c3dpdGNoKGF0dHIpe2Nhc2VcIm1pblwiOmNhc2VcIm1heFwiOmNhc2VcImxvd2VyXCI6Y2FzZVwibWlkZGxlXCI6Y2FzZVwidXBwZXJcIjpyZXR1cm4gdm9pZCh0aGlzW2F0dHJdPXZhbHVlKX19fSx1cGRhdGU6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1pbj10aGlzLm1pbixtYXg9dGhpcy5tYXgsc2NhbGU9ZnVuY3Rpb24odil7cmV0dXJuKHYtbWluKS8obWF4LW1pbil9LHBlcmNlbnQ9ZnVuY3Rpb24odil7cmV0dXJuKDEwMCpzY2FsZSh2KSkudG9GaXhlZCgxKStcIiVcIn0sYmFyPXRoaXMucXVlcnlTZWxlY3RvcihcIi5cIitDTEFTU19QUkVGSVgrXCJiYXJcIik7YmFyLnN0eWxlLnNldFByb3BlcnR5KFwibGVmdFwiLHBlcmNlbnQodGhpcy5sb3dlcikpLGJhci5zdHlsZS5zZXRQcm9wZXJ0eShcInJpZ2h0XCIscGVyY2VudCh0aGlzLm1pbit0aGlzLm1heC10aGlzLnVwcGVyKSksTEFCRUxfVFlQRVMuZm9yRWFjaChmdW5jdGlvbih0eXBlKXt2YXIgbGFiZWw9dGhpcy5xdWVyeVNlbGVjdG9yKFwiLlwiK0NMQVNTX1BSRUZJWCtcImxhYmVsLVwiK3R5cGUpO2lmKGxhYmVsKXt2YXIgdmFsdWU9dGhpc1t0eXBlXTtpZihcIm51bWJlclwiIT10eXBlb2YgdmFsdWV8fGlzTmFOKHZhbHVlKSlsYWJlbC5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIik7ZWxzZXtsYWJlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImRpc3BsYXlcIiksbGFiZWwuc3R5bGUuc2V0UHJvcGVydHkoXCJsZWZ0XCIscGVyY2VudCh2YWx1ZSkpO3ZhciBzcGFuPWxhYmVsLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuXCIpO3NwYW4mJihzcGFuLnRleHRDb250ZW50PVN0cmluZyhNYXRoLnJvdW5kKHZhbHVlKSkpfX19LHRoaXMpLGRlbGV0ZSB0aGlzLl9fdGltZW91dH19LG1pbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19taW59LHNldDpmdW5jdGlvbih2YWx1ZSl7dGhpcy5fX21pbj1udW1iZXIodmFsdWUsMCksZGVmZXJVcGRhdGUodGhpcyl9fSxtYXg6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fbWF4fSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX19tYXg9bnVtYmVyKHZhbHVlKSxkZWZlclVwZGF0ZSh0aGlzKX19LGxvd2VyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2xvd2VyfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX19sb3dlcj1udW1iZXIodmFsdWUpLGRlZmVyVXBkYXRlKHRoaXMpfX0sbWlkZGxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX21pZGRsZX0sc2V0OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLl9fbWlkZGxlPW51bWJlcih2YWx1ZSksZGVmZXJVcGRhdGUodGhpcyl9fSx1cHBlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX191cHBlcn0sc2V0OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLl9fdXBwZXI9bnVtYmVyKHZhbHVlKSxkZWZlclVwZGF0ZSh0aGlzKX19fSl9KTsiLCJmdW5jdGlvbiBjbGljayhlKXsyIT09ZS5idXR0b24mJih0aGlzLl9fZHJhZ2dpbmc9Z2V0Q2xvc2VzdEhhbmRsZS5jYWxsKHRoaXMsZSksbW92ZS5jYWxsKHRoaXMsZSksdGhpcy5fX2RyYWdnaW5nPW51bGwsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiKSkpfWZ1bmN0aW9uIGVuZ2FnZShlKXtyZXR1cm4gMj09PWUuYnV0dG9uP3ZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpOih0aGlzLl9fZHJhZ2dpbmc9Z2V0Q2xvc2VzdEhhbmRsZS5jYWxsKHRoaXMsZSksdGhpcy5fX2RyYWdnaW5nLnNldEF0dHJpYnV0ZShcImFyaWEtZ3JhYmJlZFwiLCEwKSx2b2lkKFwiZm9jdXNcIj09PWUudHlwZT8od2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGdldExpc3RlbmVyKGtleXByZXNzLHRoaXMpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIscmVsZWFzZSwhMCkpOih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGdldExpc3RlbmVyKG1vdmUsdGhpcykpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGdldExpc3RlbmVyKHJlbGVhc2UsdGhpcykpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsZ2V0TGlzdGVuZXIobW92ZSx0aGlzKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGdldExpc3RlbmVyKHJlbGVhc2UsdGhpcykpKSkpfWZ1bmN0aW9uIG1vdmUoZSl7aWYoIXRoaXMuX19kcmFnZ2luZylyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJtb3ZlKCkgd2hpbGUgbm90IGRyYWdnaW5nXCIpO3ZhciBoYW5kbGU9dGhpcy5fX2RyYWdnaW5nLHg9Z2V0TW91c2VYLmNhbGwodGhpcyxlKSxwcm9wZXJ0eT1oYW5kbGU9PT10aGlzLl9fbGVmdD9cImxvd2VyXCI6XCJ1cHBlclwiLHdpZHRoPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7eD1NYXRoLm1heCgwLE1hdGgubWluKHgsd2lkdGgpKTt2YXIgdmFsdWU9dGhpcy5taW4reC93aWR0aCoodGhpcy5tYXgtdGhpcy5taW4pO3RoaXMuc3RlcCYmKHZhbHVlPXJvdW5kVG8odmFsdWUsdGhpcy5zdGVwKSksdGhpc1twcm9wZXJ0eV09dmFsdWUsdGhpcy51cGRhdGUoKSx0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIix2YWx1ZSk7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcImRyYWdcIik7ZXZlbnQucHJvcGVydHk9cHJvcGVydHksZXZlbnQudmFsdWU9dmFsdWUsdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KSxlLnByZXZlbnREZWZhdWx0KCk7dHJ5e3dpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKX1jYXRjaChlcnIpe2NvbnNvbGUud2FybihcInVuYWJsZSB0byBjbGVhciByYW5nZXM6XCIsZXJyKX19ZnVuY3Rpb24gcmVsZWFzZShlKXt0aGlzLl9fZHJhZ2dpbmc/dGhpcy5fX2RyYWdnaW5nLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZ3JhYmJlZFwiKTpjb25zb2xlLndhcm4oXCJyZWxlYXNlKCkgd2hpbGUgbm90IGRyYWdnaW5nXCIpLHRoaXMuX19kcmFnZ2luZz0hMSx0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIiksXCJibHVyXCI9PT1lLnR5cGU/KHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIixnZXRMaXN0ZW5lcihrZXlwcmVzcyx0aGlzKSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLHJlbGVhc2UsITApKTood2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixnZXRMaXN0ZW5lcihtb3ZlLHRoaXMpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixnZXRMaXN0ZW5lcihyZWxlYXNlLHRoaXMpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLGdldExpc3RlbmVyKG1vdmUsdGhpcykpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixnZXRMaXN0ZW5lcihyZWxlYXNlLHRoaXMpKSksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZVwiKSksZS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGtleXByZXNzKGUpe3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgMzc6bnVkZ2UuY2FsbCh0aGlzLC0xKTticmVhaztjYXNlIDM5Om51ZGdlLmNhbGwodGhpcywxKTticmVhaztjYXNlIDM2OmNhc2UgMzU6c3dpdGNoKHRoaXMuX19kcmFnZ2luZyl7Y2FzZSB0aGlzLl9fbGVmdDp0aGlzLmxvd2VyPXRoaXMubWluO2JyZWFrO2Nhc2UgdGhpcy5fX3JpZ2h0OnRoaXMudXBwZXI9dGhpcy5tYXh9fX1mdW5jdGlvbiBnZXRMaXN0ZW5lcihmbixvYmope3ZhciBuYW1lPWZuLm5hbWV8fGZuLnRvU3RyaW5nKCkubWF0Y2goL2Z1bmN0aW9uIChcXHcrKS8pWzFdLGtleT1cIl9fbGlzdGVuZXJfXCIrbmFtZTtyZXR1cm4gb2JqW2tleV18fChvYmpba2V5XT1mbi5iaW5kKG9iaikpfWZ1bmN0aW9uIHJlZ2lzdGVyRWxlbWVudChuYW1lLHByb3RvLHBhcmVudCl7cGFyZW50fHwocGFyZW50PUhUTUxFbGVtZW50KTtmb3IodmFyIGtleSBpbiBwcm90bylcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm90b1trZXldJiYocHJvdG9ba2V5XT17dmFsdWU6cHJvdG9ba2V5XX0sMD09PWtleS5pbmRleE9mKFwiX19cIikmJihwcm90b1trZXldLmVudW1lcmFibGU9ITEpKTtyZXR1cm4gZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KG5hbWUse3Byb3RvdHlwZTpPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUscHJvdG8pfSl9ZnVuY3Rpb24gZ2V0QXR0cihuYW1lLGZhbGxiYWNrKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUobmFtZSk/dGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk6ZmFsbGJhY2t9ZnVuY3Rpb24gcHJvcGVydHkobmFtZSxwYXJzZSl7dmFyIGtleT1cIl9fXCIrbmFtZTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNba2V5XX0sc2V0OmZ1bmN0aW9uKHZhbHVlKXtwYXJzZSYmKHZhbHVlPXBhcnNlLmNhbGwodGhpcyx2YWx1ZSxuYW1lKSksdmFsdWUhPT10aGlzW2tleV0mJih0aGlzW2tleV09dmFsdWUsdGhpcy51cGRhdGUoKSl9fX1mdW5jdGlvbiBjcmVhdGVIYW5kbGUod2hpY2gpe3ZhciBkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gZGl2LmNsYXNzTGlzdC5hZGQoQ0xBU1NfUFJFRklYK1wiaGFuZGxlXCIpLGRpdi5jbGFzc0xpc3QuYWRkKENMQVNTX1BSRUZJWCtcImhhbmRsZV9cIit3aGljaCksZGl2LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsMCksZGl2LmFwcGVuZENoaWxkKGNyZWF0ZUxhYmVsKCkpLHRoaXMuYXBwZW5kQ2hpbGQoZGl2KX1mdW5jdGlvbiBjcmVhdGVSYW5nZSgpe3ZhciBkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gZGl2LmNsYXNzTmFtZT1DTEFTU19QUkVGSVgrXCJyYW5nZVwiLHRoaXMuYXBwZW5kQ2hpbGQoZGl2KX1mdW5jdGlvbiBjcmVhdGVNYXJrKGtsYXNzKXt2YXIgZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGRpdi5jbGFzc05hbWU9Q0xBU1NfUFJFRklYK2tsYXNzLGRpdi5hcHBlbmRDaGlsZChjcmVhdGVMYWJlbCgpKSx0aGlzLmFwcGVuZENoaWxkKGRpdil9ZnVuY3Rpb24gY3JlYXRlTGFiZWwoKXt2YXIgbGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7cmV0dXJuIGxhYmVsLmNsYXNzTmFtZT1DTEFTU19QUkVGSVgrXCJsYWJlbFwiLGxhYmVsfWZ1bmN0aW9uIGdldExhYmVsKHBhcmVudCl7cmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKFwiLlwiK0NMQVNTX1BSRUZJWCtcImxhYmVsXCIpfWZ1bmN0aW9uIGdldENsb3Nlc3RIYW5kbGUoZSl7c3dpdGNoKGUudGFyZ2V0KXtjYXNlIHRoaXMuX19sZWZ0OnJldHVybiB0aGlzLl9fbGVmdDtjYXNlIHRoaXMuX19yaWdodDpyZXR1cm4gdGhpcy5fX3JpZ2h0fXZhciB4PWdldE1vdXNlWC5jYWxsKHRoaXMsZSksbGVmdD10aGlzLl9fbGVmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LHJpZ2h0PXRoaXMuX19yaWdodC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LGRsPU1hdGguYWJzKHgtbGVmdCksZHI9TWF0aC5hYnMoeC1yaWdodCk7cmV0dXJuIGRyPmRsP3RoaXMuX19sZWZ0OnRoaXMuX19yaWdodH1mdW5jdGlvbiBnZXRNb3VzZVgoZSl7dmFyIHJlY3Q9dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx4PShyZWN0LndpZHRoLGUudG91Y2hlcyYmZS50b3VjaGVzLmxlbmd0aD9lLnRvdWNoZXNbMF0uY2xpZW50WDplLmNsaWVudFgpO3JldHVybiB4LXJlY3QubGVmdH1mdW5jdGlvbiBudWRnZShtdWx0aXBsaWVyKXt2YXIgaGFuZGxlPXRoaXMuX19kcmFnZ2luZztpZihoYW5kbGUpe3ZhciBwcm9wZXJ0eT1oYW5kbGU9PT10aGlzLl9fbGVmdD9cImxvd2VyXCI6XCJ1cHBlclwiLHN0ZXA9dGhpcy5zdGVwfHwuMTt0aGlzW3Byb3BlcnR5XSs9c3RlcCptdWx0aXBsaWVyfX1mdW5jdGlvbiBjbGFtcCh4LG1pbixtYXgpe3JldHVybiBtaW4+eD9taW46eD5tYXg/bWF4Onh9ZnVuY3Rpb24gcm91bmRUbyh2YWx1ZSxzdGVwKXtyZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZS9zdGVwKSpzdGVwfWZ1bmN0aW9uIHBlcmNlbnQodmFsdWUpe3JldHVybiB2YWx1ZS50b0ZpeGVkKDIpK1wiJVwifWZ1bmN0aW9uIGZvcm1hdERvbGxhcnMobil7cmV0dXJuIG4+PTFlMz9cIiRcIityb3VuZEZsb2F0KG4vMWUzKStcIktcIjpcIiRcIitNYXRoLnJvdW5kKG4pfWZ1bmN0aW9uIGZvcm1hdFBlcmNlbnQobil7cmV0dXJuIE1hdGgucm91bmQoMTAwKm4pK1wiJVwifWZ1bmN0aW9uIHJvdW5kRmxvYXQobil7cmV0dXJuIG4udG9GaXhlZCgxKS5yZXBsYWNlKC9cXC4wJC8sXCJcIil9dmFyIEVMRU1FTlRfTkFNRT1cInBpY2Mtc2xpZGVyXCIsQ0xBU1NfUFJFRklYPUVMRU1FTlRfTkFNRStcIi1cIjt3aW5kb3cuUElDQ1NsaWRlcj1yZWdpc3RlckVsZW1lbnQoRUxFTUVOVF9OQU1FLHtjcmVhdGVkQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLl9fcmFuZ2U9Y3JlYXRlUmFuZ2UuY2FsbCh0aGlzKSx0aGlzLl9fbWFyaz1jcmVhdGVNYXJrLmNhbGwodGhpcyxcImF2ZXJhZ2VcIiksdGhpcy5fX2xlZnQ9Y3JlYXRlSGFuZGxlLmNhbGwodGhpcyxcIm1pblwiKSx0aGlzLl9fcmlnaHQ9Y3JlYXRlSGFuZGxlLmNhbGwodGhpcyxcIm1heFwiKSx0aGlzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInNsaWRlclwiKSx0aGlzLm1pbj1nZXRBdHRyLmNhbGwodGhpcyxcIm1pblwiLDApLHRoaXMubWF4PWdldEF0dHIuY2FsbCh0aGlzLFwibWF4XCIsMTAwKSx0aGlzLmxvd2VyPWdldEF0dHIuY2FsbCh0aGlzLFwibG93ZXJcIix0aGlzLm1pbiksdGhpcy51cHBlcj1nZXRBdHRyLmNhbGwodGhpcyxcInVwcGVyXCIsdGhpcy5tYXgpLHRoaXMuc3RlcD1nZXRBdHRyLmNhbGwodGhpcyxcInN0ZXBcIiwxKSx0aGlzLmF2ZXJhZ2U9Z2V0QXR0ci5jYWxsKHRoaXMsXCJhdmVyYWdlXCIpLHRoaXMuZm9ybWF0PWdldEF0dHIuY2FsbCh0aGlzLFwiZm9ybWF0XCIpfSxhdHRhY2hlZENhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixjbGljayksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZW5nYWdlKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZW5nYWdlKSx0aGlzLnVwZGF0ZSgpfSxkZXRhY2hlZENhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixjbGljayksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZW5hZ2FnZSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGVuYWdhZ2UpfSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6ZnVuY3Rpb24oYXR0cixwcmV2LHZhbHVlKXtzd2l0Y2goYXR0cil7Y2FzZVwibWluXCI6Y2FzZVwibWF4XCI6Y2FzZVwidmFsdWVcIjpjYXNlXCJzdGVwXCI6Y2FzZVwiYXZlcmFnZVwiOmNhc2VcImZvcm1hdFwiOnRoaXNbYXR0cl09dmFsdWUsdGhpcy51cGRhdGUoKX19LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBtaW49dGhpcy5taW4sbWF4PXRoaXMubWF4O3RoaXMuX19kcmFnZ2luZz09PXRoaXMuX19sZWZ0JiZ0aGlzLl9fbG93ZXI+PXRoaXMuX191cHBlcj90aGlzLl9fbG93ZXI9dGhpcy5fX3VwcGVyLXRoaXMuc3RlcDp0aGlzLl9fZHJhZ2dpbmc9PT10aGlzLl9fcmlnaHQmJnRoaXMuX191cHBlcjw9dGhpcy5fX2xvd2VyJiYodGhpcy5fX3VwcGVyPXRoaXMuX19sb3dlcit0aGlzLnN0ZXApLHRoaXMuX19sb3dlcj1NYXRoLm1pbihNYXRoLm1heCh0aGlzLl9fbG93ZXIsbWluKSxtYXgpLHRoaXMuX191cHBlcj1NYXRoLm1heChNYXRoLm1pbih0aGlzLl9fdXBwZXIsbWF4KSxtaW4pO3ZhciBsb3dlcj10aGlzLmxvd2VyLHVwcGVyPXRoaXMudXBwZXIsYXZlcmFnZT10aGlzLmF2ZXJhZ2UseD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIDEwMCoodmFsdWUtbWluKS8obWF4LW1pbil9LGxlZnQ9cGVyY2VudCh4KGxvd2VyKSkscmlnaHQ9cGVyY2VudCh4KHVwcGVyKSk7dGhpcy5fX2xlZnQuc3R5bGUuc2V0UHJvcGVydHkoXCJsZWZ0XCIsbGVmdCksdGhpcy5fX3JpZ2h0LnN0eWxlLnNldFByb3BlcnR5KFwibGVmdFwiLHJpZ2h0KSx0aGlzLl9fcmFuZ2Uuc3R5bGUuc2V0UHJvcGVydHkoXCJsZWZ0XCIsbGVmdCksdGhpcy5fX3JhbmdlLnN0eWxlLnNldFByb3BlcnR5KFwicmlnaHRcIixwZXJjZW50KHgobWF4LXVwcGVyKSkpO3ZhciBtYXJrPXRoaXMuX19tYXJrLGxhYmVscz1be2VsOmdldExhYmVsKHRoaXMuX19sZWZ0KSx2YWx1ZTpsb3dlcn0se2VsOmdldExhYmVsKHRoaXMuX19yaWdodCksdmFsdWU6dXBwZXJ9LHtlbDpnZXRMYWJlbChtYXJrKSx2YWx1ZTphdmVyYWdlfV0sZm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn07c3dpdGNoKHRoaXMuZm9ybWF0KXtjYXNlXCIlXCI6Zm9ybWF0PWZvcm1hdFBlcmNlbnQ7YnJlYWs7Y2FzZVwiJFwiOmZvcm1hdD1mb3JtYXREb2xsYXJzfXZhciBudWRnZVRocmVzaG9sZD0xMixvdXRlclJlY3Q9dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtvdXRlclJlY3QubGVmdCtudWRnZVRocmVzaG9sZCxvdXRlclJlY3QucmlnaHQ7aWYobGFiZWxzLmZvckVhY2goZnVuY3Rpb24oZCxpKXt2YXIgbGFiZWw9ZC5lbDtyZXR1cm4gbGFiZWw/dm9pZChsYWJlbC50ZXh0Q29udGVudD1mb3JtYXQoZC52YWx1ZSkpOmNvbnNvbGUud2FybihcIm5vIGxhYmVsOlwiLGkpfSksaXNOYU4oYXZlcmFnZSkpbWFyay5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIik7ZWxzZXt2YXIgcD1wZXJjZW50KHgoYXZlcmFnZSkpO21hcmsuc3R5bGUuc2V0UHJvcGVydHkoXCJsZWZ0XCIscCksbWFyay5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImRpc3BsYXlcIil9dGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWluXCIsbG93ZXIpLHRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1heFwiLHVwcGVyKX0sdmFsdWU6cHJvcGVydHkoXCJ2YWx1ZVwiLGZ1bmN0aW9uKHYpe3JldHVybiB2PWNsYW1wKCt2LHRoaXMubWluLHRoaXMubWF4KSx0aGlzLnN0ZXAmJih2PXJvdW5kVG8odix0aGlzLnN0ZXApKSx2fSksbWluOnByb3BlcnR5KFwibWluXCIsTnVtYmVyKSxtYXg6cHJvcGVydHkoXCJtYXhcIixOdW1iZXIpLGxvd2VyOnByb3BlcnR5KFwibG93ZXJcIixOdW1iZXIpLHVwcGVyOnByb3BlcnR5KFwidXBwZXJcIixOdW1iZXIpLHN0ZXA6cHJvcGVydHkoXCJzdGVwXCIsTnVtYmVyKSxhdmVyYWdlOnByb3BlcnR5KFwiYXZlcmFnZVwiLE51bWJlciksZm9ybWF0OnByb3BlcnR5KFwiZm9ybWF0XCIsU3RyaW5nKX0pOyIsInZhciBmb3JtZGI9cmVxdWlyZShcImZvcm1kYlwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBmb3JtPW5ldyBmb3JtZGIuRm9ybShcIiNzZWFyY2gtZm9ybVwiKTtwaWNjLmZvcm0ubWluaWZ5UXVlcnlTdHJpbmcoZm9ybSkscGljYy5yZWFkeShmdW5jdGlvbigpe2lmKGxvY2F0aW9uLmhhc2gubGVuZ3RoPjEpe3ZhciBpZD1sb2NhdGlvbi5oYXNoLnN1YnN0cigxKTtwaWNjLnVpLmV4cGFuZEFjY29yZGlvbnMoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZCYmdGhpcy5pZD09PWlkfSksbG9jYXRpb24uaGFzaD1cIlwiLGxvY2F0aW9uLmhhc2g9XCIjXCIraWR9fSl9OyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGdldHRlcihrZXkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBrZXkpcmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBkW2tleV19O2lmKGtleS5pbmRleE9mKFwiLlwiKT4tMSl7dmFyIGJpdHM9a2V5LnNwbGl0KFwiLlwiKSxsZW49Yml0cy5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKGtleSBpbiBkKXJldHVybiBkW2tleV07Zm9yKHZhciBpPTA7bGVuPmk7aSsrKWlmKGQ9ZFtiaXRzW2ldXSxudWxsPT09ZHx8dm9pZCAwPT09ZClyZXR1cm4gZDtyZXR1cm4gZH19cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBkW2tleV19fVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihyZXF1aXJlKFwiYWlnaHRcIikscmVxdWlyZShcIi4vY29tcG9uZW50c1wiKSk7dmFyIHF1ZXJ5c3RyaW5nPXJlcXVpcmUoXCJxdWVyeXN0cmluZ1wiKSxkMz1yZXF1aXJlKFwiZDNcIiksYXN5bmM9cmVxdWlyZShcImFzeW5jXCIpLGZvcm1kYj1yZXF1aXJlKFwiZm9ybWRiXCIpLHBpY2M9e307cGljYy5lcnJvcnM9e05PX1NDSE9PTF9JRDpcIk5vIHNjaG9vbCBJRCB3YXMgcHJvdmlkZWQuXCIsTk9fU1VDSF9TQ0hPT0w6XCJObyBzY2hvb2wgZm91bmQuXCJ9LHBpY2MuUkFDRV9FVEhOSUNJVFlfTEFCRUxTPXthaWFuOlwiQW1lcmljYW4gSW5kaWFuL0FsYXNrYSBOYXRpdmVcIixhc2lhbjpcIkFzaWFuXCIsYXNpYW5fcGFjaWZpY19pc2xhbmRlcjpcIkFzaWFuL1BhY2lmaWMgSXNsYW5kZXJcIixibGFjazpcIkJsYWNrXCIsYmxhY2tfbm9uX2hpc3BhbmljOlwiQmxhY2sgbm9uLUhpc3BhbmljXCIsaGlzcGFuaWM6XCJIaXNwYW5pY1wiLG5ocGk6XCJOYXRpdmUgSGF3YWlpYW4vUGFjaWZpYyBJc2xhbmRlclwiLG5vbl9yZXNpZGVudF9hbGllbjpcIk5vbi1yZXNpZGVudCBhbGllblwiLHR3b19vcl9tb3JlOlwiVHdvIG9yIG1vcmUgcmFjZXNcIix1bmtub3duOlwiVW5rbm93blwiLHdoaXRlOlwiV2hpdGVcIix3aGl0ZV9ub25faGlzcGFuaWM6XCJXaGl0ZSBub24tSGlzcGFuaWNcIn0scGljYy5BUEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhZGRBUElLZXkocGFyYW1zKXt2YXIgcGFyYW09XCJhcGlfa2V5XCI7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHBhcmFtcz8oQVBJLmtleSYmKHBhcmFtc1twYXJhbV09QVBJLmtleSksY29sbGFwc2VBcnJheXMocGFyYW1zKSxwYXJhbXM9cXVlcnlzdHJpbmcuc3RyaW5naWZ5KHBhcmFtcykpOkFQSS5rZXkmJihwYXJhbXMrPVtcIiZcIixwYXJhbSxcIj1cIixBUEkua2V5XS5qb2luKFwiXCIpKSxwYXJhbXN9ZnVuY3Rpb24gam9pbihsaXN0LGdsdWUpe2Zvcih2YXIgaT0wO2k8bGlzdC5sZW5ndGg7aSsrKXt2YXIgc3RyPVN0cmluZyhsaXN0W2ldKTtzdHIuY2hhckF0KDApPT09Z2x1ZT9saXN0W2ldPXN0ci5zdWJzdHIoMSk6c3RyLmNoYXJBdChzdHIubGVuZ3RoLTEpPT09Z2x1ZSYmKGxpc3RbaV09c3RyLnN1YnN0cigwLHN0ci5sZW5ndGgtMSkpfXJldHVybiBsaXN0LmpvaW4oZ2x1ZSl9ZnVuY3Rpb24gY29sbGFwc2VBcnJheXMob2JqLGdsdWUpe2dsdWV8fChnbHVlPVwiLFwiKTtmb3IodmFyIGtleSBpbiBvYmopQXJyYXkuaXNBcnJheShvYmpba2V5XSkmJihvYmpba2V5XT1vYmpba2V5XS5qb2luKGdsdWUpKTtyZXR1cm4gb2JqfXZhciBBUEk9e3VybDpcIi9hcGkvdjEvXCIsa2V5OlwiXCJ9LGVycm9ycz1waWNjLmVycm9ycyxzY2hvb2xFbmRwb2ludD1cInNjaG9vbHMvXCIsaWRGaWVsZD1cImlkXCI7cmV0dXJuIEFQSS5nZXQ9ZnVuY3Rpb24odXJpLHBhcmFtcyxkb25lKXsyPT09YXJndW1lbnRzLmxlbmd0aD8oZG9uZT1wYXJhbXMscGFyYW1zPWFkZEFQSUtleSh7fSkpOnBhcmFtcyYmKHBhcmFtcz1hZGRBUElLZXkocGFyYW1zKSkscGFyYW1zJiYodXJpPWpvaW4oW3VyaSxwYXJhbXNdLFwiP1wiKSk7dmFyIHVybD1qb2luKFtBUEkudXJsLHVyaV0sXCIvXCIpO3JldHVybiBkMy5qc29uKHVybCxmdW5jdGlvbihlcnJvcixkYXRhKXtyZXR1cm4gZGF0YSYmZGF0YS5lcnJvcnMmJmRhdGEuZXJyb3JzLmxlbmd0aCYmKGVycm9yPWRhdGEuZXJyb3JzWzBdKSxkb25lKGVycm9yLGRhdGEpfSl9LEFQSS5lbmRwb2ludD1mdW5jdGlvbih1cmkpe3JldHVybiBmdW5jdGlvbihwYXJhbXMsZG9uZSl7cmV0dXJuIEFQSS5nZXQodXJpLHBhcmFtcyxkb25lKX19LEFQSS5zZWFyY2g9QVBJLmVuZHBvaW50KHNjaG9vbEVuZHBvaW50KSxBUEkuZ2V0U2Nob29sPWZ1bmN0aW9uKGlkLGRvbmUpe3ZhciBwYXJhbXM9e307cmV0dXJuIHBhcmFtc1tpZEZpZWxkXT1pZCxBUEkuZ2V0KHNjaG9vbEVuZHBvaW50LHBhcmFtcyxmdW5jdGlvbihlcnJvcixyZXMpe3ZhciBtZXRhPXJlcy5tZXRhZGF0YXx8cmVzO3JldHVybiBlcnJvcnx8IW1ldGEudG90YWw/ZG9uZShlcnJvcj9lcnJvci5yZXNwb25zZVRleHR8fGVycm9yfHxlcnJvcnMuTk9fU1VDSF9TQ0hPT0w6ZXJyb3JzLk5PX1NVQ0hfU0NIT09MKToocmVzLnRvdGFsPjEmJmNvbnNvbGUud2FybignTW9yZSB0aGFuIG9uZSBzY2hvb2wgZm91bmQgZm9yIElEOiBcIicraWQrJ1wiJyksZG9uZShudWxsLHJlcy5yZXN1bHRzWzBdKSl9KX0sQVBJLmdldEFsbD1mdW5jdGlvbih1cmxzLGRvbmUpe3JldHVybiBPYmplY3Qua2V5cyh1cmxzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7dmFyIHVybD11cmxzW2tleV07dXJsc1trZXldPUFycmF5LmlzQXJyYXkodXJsKT9mdW5jdGlvbihkb25lKXt2YXIgbWV0aG9kPXVybC5zaGlmdCgpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBtZXRob2QmJihtZXRob2Q9QVBJW21ldGhvZF0pLHVybC5wdXNoKGRvbmUpLG1ldGhvZC5hcHBseShBUEksdXJsKX06ZnVuY3Rpb24oZG9uZSl7cmV0dXJuIEFQSS5nZXQodXJsLGRvbmUpfX0pLGFzeW5jLnBhcmFsbGVsKHVybHMsZG9uZSl9LEFQSX0oKTt2YXIgTkE9XCItLVwiO3BpY2MuZm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGZvcm1hdHRlcj1mdW5jdGlvbihmbXQsX2VtcHR5KXt2YXIgcm91bmQ9ITE7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGZtdCYmKHJvdW5kPSEhZm10Lm1hdGNoKC9kJC8pLGZtdD1kMy5mb3JtYXQoZm10KSksZnVuY3Rpb24oa2V5LGVtcHR5KXtyZXR1cm4gZW1wdHk9ZW1wdHl8fF9lbXB0eSxcInN0cmluZ1wiPT10eXBlb2YgZW1wdHkmJihlbXB0eT1kMy5mdW5jdG9yKGVtcHR5KSksa2V5PWtleT9waWNjLmFjY2VzcyhrZXkpOmZ1bmN0aW9uKHYpe3JldHVybiB2fSxmdW5jdGlvbihkKXt2YXIgdmFsdWU9a2V5LmNhbGwodGhpcyxkKTtyZXR1cm4gZW1wdHkmJlwiXCI9PT12YWx1ZXx8aXNOYU4oU3RyaW5nKHZhbHVlKSk/ZW1wdHkuY2FsbChkKToocm91bmQmJih2YWx1ZT1NYXRoLnJvdW5kKHZhbHVlKSksZm10LmNhbGwoZCx2YWx1ZSxrZXkpKX19fSxtYXA9ZnVuY3Rpb24oa2V5cyxmYWxsYmFjayl7cmV0dXJuIGZ1bmN0aW9uKGtleSl7cmV0dXJuIGtleXNba2V5XXx8ZmFsbGJhY2t9fSxyYW5nZT1mdW5jdGlvbihyYW5nZXMpe3ZhciBpLGxlbj1yYW5nZXMubGVuZ3RoO3JldHVybiBmdW5jdGlvbih2YWx1ZSl7Zm9yKHZhbHVlPSt2YWx1ZSxpPTA7bGVuPmk7aSsrKXt2YXIgcmFuZ2U9cmFuZ2VzW2ldO2lmKHZhbHVlPj1yYW5nZVswXSYmdmFsdWU8cmFuZ2VbMV0pcmV0dXJuIHJhbmdlWzJdfX19O3JldHVybntkb2xsYXJzOmZvcm1hdHRlcihcIiQsZFwiLE5BKSxwZXJjZW50OmZvcm1hdHRlcihcIiUuMGZcIixOQSksbnVtYmVyOmZvcm1hdHRlcihcIixkXCIsTkEpLHBsdXJhbDpmdW5jdGlvbihrZXksc2luZ3VsYXIscGx1cmFsKXtyZXR1cm4ga2V5PXBpY2MuYWNjZXNzKGtleSkscGx1cmFsfHwocGx1cmFsPXNpbmd1bGFyK1wic1wiKSxmdW5jdGlvbihkKXtyZXR1cm4gMT09a2V5LmNhbGwodGhpcyxkKT9zaW5ndWxhcjpwbHVyYWx9fSxtYXA6ZnVuY3Rpb24oa2V5LHZhbHVlcyxlbXB0eSl7cmV0dXJuIGZvcm1hdHRlcihtYXAodmFsdWVzKSkuY2FsbCh0aGlzLGtleSxlbXB0eSl9LGNvbnRyb2w6Zm9ybWF0dGVyKG1hcCh7MTpcIlB1YmxpY1wiLDI6XCJQcml2YXRlXCIsMzpcIkZvci1Qcm9maXRcIn0sXCJjb250cm9sIHVua25vd25cIikpLGNvbnRyb2xDbGFzczpmb3JtYXR0ZXIobWFwKHsxOlwiaWNvbi1wdWJsaWNcIiwyOlwiaWNvbi1wcml2YXRlXCIsMzpcImljb24tcHJvZml0XCJ9LFwiXCIpKSxwcmVkZGVnOmZvcm1hdHRlcihtYXAoezI6XCIyXCIsMzpcIjRcIn0sTkEpKSxlbXB0eTpmdW5jdGlvbihrZXkpe3JldHVybiBrZXk9cGljYy5hY2Nlc3Moa2V5KSxmdW5jdGlvbihkKXtyZXR1cm4ha2V5LmNhbGwodGhpcyxkKX19LG5vdEVtcHR5OmZ1bmN0aW9uKGtleSl7cmV0dXJuIGtleT1waWNjLmFjY2VzcyhrZXkpLGZ1bmN0aW9uKGQpe3JldHVybiEha2V5LmNhbGwodGhpcyxkKX19LHNpemVDYXRlZ29yeTpmb3JtYXR0ZXIocmFuZ2UoW1swLDJlMyxcIlNtYWxsXCJdLFsyZTMsMTVlMyxcIk1lZGl1bVwiXSxbMTVlMywxLzAsXCJMYXJnZVwiXV0pLFwic2l6ZSB1bmtub3duXCIpLHNpemVDYXRlZ29yeUNsYXNzOmZvcm1hdHRlcihyYW5nZShbWzAsMmUzLFwiaWNvbi1zbWFsbFwiXSxbMmUzLDE1ZTMsXCJpY29uLW1lZGl1bVwiXSxbMTVlMywxLzAsXCJpY29uLWxhcmdlXCJdXSksXCJcIiksbG9jYWxlOmZvcm1hdHRlcihtYXAoezExOlwiQ2l0eVwiLDEyOlwiQ2l0eVwiLDEzOlwiQ2l0eVwiLDIxOlwiU3VidXJiYW5cIiwyMjpcIlN1YnVyYmFuXCIsMjM6XCJTdWJ1cmJhblwiLDMxOlwiVG93blwiLDMyOlwiVG93blwiLDMzOlwiVG93blwiLDQxOlwiUnVyYWxcIiw0MjpcIlJ1cmFsXCIsNDM6XCJSdXJhbFwifSxcImxvY2FsZSB1bmtub3duXCIpKSxsb2NhbGVDbGFzczpmb3JtYXR0ZXIobWFwKHsxMTpcImljb24tY2l0eVwiLDEyOlwiaWNvbi1jaXR5XCIsMTM6XCJpY29uLWNpdHlcIiwyMTpcImljb24tc3VidXJiYW5cIiwyMjpcImljb24tc3VidXJiYW5cIiwyMzpcImljb24tc3VidXJiYW5cIiwzMTpcImljb24tdG93blwiLDMyOlwiaWNvbi10b3duXCIsMzM6XCJpY29uLXRvd25cIiw0MTpcImljb24tcnVyYWxcIiw0MjpcImljb24tcnVyYWxcIiw0MzpcImljb24tcnVyYWxcIn0sXCJcIikpLGhyZWY6ZnVuY3Rpb24oa2V5KXtyZXR1cm4ga2V5PXBpY2MuYWNjZXNzKGtleSksZnVuY3Rpb24oZCl7dmFyIHVybD1rZXkuY2FsbCh0aGlzLGQpO3JldHVybiB1cmw/MCE9PVN0cmluZyh1cmwpLmluZGV4T2YoXCJodHRwXCIpP1wiaHR0cDovL1wiK3VybDp1cmw6bnVsbH19fX0oKSxwaWNjLmZpZWxkcz17SUQ6XCJpZFwiLE5BTUU6XCJzY2hvb2wubmFtZVwiLENJVFk6XCJzY2hvb2wuY2l0eVwiLFNUQVRFOlwic2Nob29sLnN0YXRlXCIsWklQX0NPREU6XCJzY2hvb2wuemlwXCIsU0NIT09MX1VSTDpcInNjaG9vbC5zY2hvb2xfdXJsXCIsTE9DQVRJT046XCJsb2NhdGlvblwiLE9XTkVSU0hJUDpcInNjaG9vbC5vd25lcnNoaXBcIixMT0NBTEU6XCJzY2hvb2wubG9jYWxlXCIsUkVHSU9OX0lEOlwic2Nob29sLnJlZ2lvbl9pZFwiLFJFTElHSU9VUzpcInNjaG9vbC5yZWxpZ2lvdXNfYWZmaWxpYXRpb25cIixPUEVSQVRJTkc6XCJzY2hvb2wub3BlcmF0aW5nXCIsU0laRTpcIjIwMTMuc3R1ZGVudC5zaXplXCIsT05MSU5FX09OTFk6XCJzY2hvb2wub25saW5lX29ubHlcIixXT01FTl9PTkxZOlwic2Nob29sLndvbWVuX29ubHlcIixNRU5fT05MWTpcInNjaG9vbC5tZW5fb25seVwiLE1JTk9SSVRZX1NFUlZJTkc6XCJzY2hvb2wubWlub3JpdHlfc2VydmluZ1wiLFBSRURPTUlOQU5UX0RFR1JFRTpcInNjaG9vbC5kZWdyZWVzX2F3YXJkZWQucHJlZG9taW5hbnRcIixVTkRFUl9JTlZFU1RJR0FUSU9OOlwic2Nob29sLnVuZGVyX2ludmVzdGlnYXRpb25cIixORVRfUFJJQ0U6XCIyMDEzLmNvc3QuYXZnX25ldF9wcmljZS5vdmVyYWxsXCIsTkVUX1BSSUNFX0JZX0lOQ09NRTpcIjIwMTMuY29zdC5uZXRfcHJpY2VcIixDT01QTEVUSU9OX1JBVEU6XCIyMDEzLmNvbXBsZXRpb24ucmF0ZV9zdXBwcmVzc2VkLm92ZXJhbGxcIixSRVRFTlRJT05fUkFURTpcIjIwMTMuc3R1ZGVudC5yZXRlbnRpb25fcmF0ZVwiLFJFUEFZTUVOVF9SQVRFOlwiMjAxMy5yZXBheW1lbnQuM195cl9yZXBheW1lbnRfc3VwcHJlc3NlZC5vdmVyYWxsXCIsQVZFUkFHRV9UT1RBTF9ERUJUOlwiMjAxMy5haWQubWVkaWFuX2RlYnRfc3VwcHJlc3NlZC5jb21wbGV0ZXJzLm92ZXJhbGxcIixNT05USExZX0xPQU5fUEFZTUVOVDpcIjIwMTMuYWlkLm1lZGlhbl9kZWJ0X3N1cHByZXNzZWQuY29tcGxldGVycy5tb250aGx5X3BheW1lbnRzXCIsQUlEX1BFUkNFTlRBR0U6XCIyMDEzLmFpZC5mZWRlcmFsX2xvYW5fcmF0ZVwiLFBFTExfUEVSQ0VOVEFHRTpcIjIwMTMuYWlkLnBlbGxfZ3JhbnRfcmF0ZVwiLE1FRElBTl9FQVJOSU5HUzpcIjIwMTEuZWFybmluZ3MuMTBfeXJzX2FmdGVyX2VudHJ5Lm1lZGlhblwiLEVBUk5JTkdTX0dUXzI1SzpcIjIwMTEuZWFybmluZ3MuNl95cnNfYWZ0ZXJfZW50cnkucGVyY2VudF9ncmVhdGVyX3RoYW5fMjUwMDBcIixQUk9HUkFNX1BFUkNFTlRBR0U6XCIyMDEzLmFjYWRlbWljcy5wcm9ncmFtX3BlcmNlbnRhZ2VcIixQUk9HUkFNX09GRkVSRUQ6XCIyMDEzLmFjYWRlbWljcy5wcm9ncmFtXCIsUEFSVF9USU1FX1NIQVJFOlwiMjAxMy5zdHVkZW50LnBhcnRfdGltZV9zaGFyZVwiLEZFTUFMRV9TSEFSRTpcIjIwMTMuc3R1ZGVudC5kZW1vZ3JhcGhpY3MuZmVtYWxlX3NoYXJlXCIsUkFDRV9FVEhOSUNJVFk6XCIyMDEzLnN0dWRlbnQuZGVtb2dyYXBoaWNzLnJhY2VfZXRobmljaXR5XCIsQUdFX0VOVFJZOlwiMjAxMy5zdHVkZW50LmRlbW9ncmFwaGljcy5hZ2VfZW50cnlcIixBQ1RfMjVUSF9QQ1RJTEU6XCIyMDEzLmFkbWlzc2lvbnMuYWN0X3Njb3Jlcy4yNXRoX3BlcmNlbnRpbGUuY3VtdWxhdGl2ZVwiLEFDVF83NVRIX1BDVElMRTpcIjIwMTMuYWRtaXNzaW9ucy5hY3Rfc2NvcmVzLjc1dGhfcGVyY2VudGlsZS5jdW11bGF0aXZlXCIsQUNUX01JRFBPSU5UOlwiMjAxMy5hZG1pc3Npb25zLmFjdF9zY29yZXMubWlkcG9pbnQuY3VtdWxhdGl2ZVwiLFNBVF9DVU1VTEFUSVZFX0FWRVJBR0U6XCIyMDEzLmFkbWlzc2lvbnMuc2F0X3Njb3Jlcy5hdmVyYWdlLm92ZXJhbGxcIixTQVRfUkVBRElOR18yNVRIX1BDVElMRTpcIjIwMTMuYWRtaXNzaW9ucy5zYXRfc2NvcmVzLjI1dGhfcGVyY2VudGlsZS5jcml0aWNhbF9yZWFkaW5nXCIsU0FUX1JFQURJTkdfNzVUSF9QQ1RJTEU6XCIyMDEzLmFkbWlzc2lvbnMuc2F0X3Njb3Jlcy43NXRoX3BlcmNlbnRpbGUuY3JpdGljYWxfcmVhZGluZ1wiLFNBVF9SRUFESU5HX01JRFBPSU5UOlwiMjAxMy5hZG1pc3Npb25zLnNhdF9zY29yZXMubWlkcG9pbnQuY3JpdGljYWxfcmVhZGluZ1wiLFNBVF9NQVRIXzI1VEhfUENUSUxFOlwiMjAxMy5hZG1pc3Npb25zLnNhdF9zY29yZXMuMjV0aF9wZXJjZW50aWxlLm1hdGhcIixTQVRfTUFUSF83NVRIX1BDVElMRTpcIjIwMTMuYWRtaXNzaW9ucy5zYXRfc2NvcmVzLjc1dGhfcGVyY2VudGlsZS5tYXRoXCIsU0FUX01BVEhfTUlEUE9JTlQ6XCIyMDEzLmFkbWlzc2lvbnMuc2F0X3Njb3Jlcy5taWRwb2ludC5tYXRoXCIsU0FUX1dSSVRJTkdfMjVUSF9QQ1RJTEU6XCIyMDEzLmFkbWlzc2lvbnMuc2F0X3Njb3Jlcy4yNXRoX3BlcmNlbnRpbGUud3JpdGluZ1wiLFNBVF9XUklUSU5HXzc1VEhfUENUSUxFOlwiMjAxMy5hZG1pc3Npb25zLnNhdF9zY29yZXMuNzV0aF9wZXJjZW50aWxlLndyaXRpbmdcIixTQVRfV1JJVElOR19NSURQT0lOVDpcIjIwMTMuYWRtaXNzaW9ucy5zYXRfc2NvcmVzLm1pZHBvaW50LndyaXRpbmdcIixORVRfUFJJQ0VfQ0FMQ19VUkw6XCJzY2hvb2wucHJpY2VfY2FsY3VsYXRvcl91cmxcIn0scGljYy5hY2Nlc3M9ZnVuY3Rpb24oa2V5KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBrZXk/a2V5OmdldHRlcihrZXkpfSxwaWNjLmFjY2Vzcy5jb21wb3NlZD1mdW5jdGlvbihrZXkwLGtleTEsa2V5Mil7dmFyIGtleXM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLGxlbj1rZXlzLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIF9rZXlzPWtleXMubWFwKGZ1bmN0aW9uKGtleSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Yga2V5P2tleS5jYWxsKHRoaXMsZCk6a2V5fSx0aGlzKSxfa2V5PV9rZXlzLmpvaW4oXCIuXCIpO2lmKF9rZXkgaW4gZClyZXR1cm4gZFtfa2V5XTtmb3IodmFyIHZhbHVlPWQsaT0wO2xlbj5pO2krKyl7dmFyIGtleT1rZXlzW2ldO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGtleSYmKGtleT1rZXkuY2FsbCh0aGlzLGQpLG51bGw9PT1rZXkpKXJldHVybiBrZXk7aWYodmFsdWU9Z2V0dGVyKGtleSkodmFsdWUpLHZvaWQgMD09PXZhbHVlfHxudWxsPT09dmFsdWUpYnJlYWt9cmV0dXJuIHZhbHVlfX0scGljYy5hY2Nlc3MucHVibGljUHJpdmF0ZT1mdW5jdGlvbihkKXt2YXIgb3duZXJzaGlwPXBpY2MuYWNjZXNzKHBpY2MuZmllbGRzLk9XTkVSU0hJUCkoZCk7c3dpdGNoKCtvd25lcnNoaXApe2Nhc2UgMTpyZXR1cm5cInB1YmxpY1wiO2Nhc2UgMjpjYXNlIDM6cmV0dXJuXCJwcml2YXRlXCJ9cmV0dXJuIG51bGx9LHBpY2MuYWNjZXNzLnllYXJEZXNpZ25hdGlvbj1mdW5jdGlvbihkKXt2YXIgZGVncmVlPXBpY2MuYWNjZXNzKHBpY2MuZmllbGRzLlBSRURPTUlOQU5UX0RFR1JFRSkoZCk7c3dpdGNoKCtkZWdyZWUpe2Nhc2UgMjpyZXR1cm5cImx0X2ZvdXJfeWVhclwiO2Nhc2UgMzpyZXR1cm5cImZvdXJfeWVhclwifXJldHVybiBudWxsfSxwaWNjLmFjY2Vzcy5uYXRpb25hbFN0YXQ9ZnVuY3Rpb24oc3RhdCxzdWZmaXgpe3JldHVybiBzdWZmaXg/KHN1ZmZpeD1waWNjLmFjY2VzcyhzdWZmaXgpLGZ1bmN0aW9uKGQpe3ZhciBrZXk9c3VmZml4LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoW1wiZGF0YVwiLHN0YXQsa2V5XS5qb2luKFwiLVwiKSl9KTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrc3RhdCl9fSxwaWNjLmFjY2Vzcy5uZXRQcmljZT1waWNjLmFjY2Vzcy5jb21wb3NlZChwaWNjLmZpZWxkcy5ORVRfUFJJQ0UpLHBpY2MuYWNjZXNzLm5ldFByaWNlQnlJbmNvbWVMZXZlbD1mdW5jdGlvbihsZXZlbCl7cmV0dXJuIHBpY2MuYWNjZXNzLmNvbXBvc2VkKHBpY2MuZmllbGRzLk5FVF9QUklDRV9CWV9JTkNPTUUscGljYy5hY2Nlc3MucHVibGljUHJpdmF0ZSxcImJ5X2luY29tZV9sZXZlbFwiLGxldmVsKX0scGljYy5hY2Nlc3MuZWFybmluZ3NNZWRpYW49cGljYy5hY2Nlc3MuY29tcG9zZWQocGljYy5maWVsZHMuTUVESUFOX0VBUk5JTkdTKSxwaWNjLmFjY2Vzcy5lYXJuaW5nczI1az1waWNjLmFjY2Vzcy5jb21wb3NlZChwaWNjLmZpZWxkcy5FQVJOSU5HU19HVF8yNUspLHBpY2MuYWNjZXNzLmNvbXBsZXRpb25SYXRlPXBpY2MuYWNjZXNzLmNvbXBvc2VkKHBpY2MuZmllbGRzLkNPTVBMRVRJT05fUkFURSkscGljYy5hY2Nlc3MucGFydFRpbWVTaGFyZT1waWNjLmFjY2Vzcy5jb21wb3NlZChwaWNjLmZpZWxkcy5QQVJUX1RJTUVfU0hBUkUpLHBpY2MuYWNjZXNzLnJldGVudGlvblJhdGU9cGljYy5hY2Nlc3MuY29tcG9zZWQocGljYy5maWVsZHMuUkVURU5USU9OX1JBVEUscGljYy5hY2Nlc3MueWVhckRlc2lnbmF0aW9uLFwiZnVsbF90aW1lXCIpLHBpY2MuYWNjZXNzLnNpemU9cGljYy5hY2Nlc3MuY29tcG9zZWQocGljYy5maWVsZHMuU0laRSkscGljYy5hY2Nlc3MubG9jYXRpb249cGljYy5hY2Nlc3MocGljYy5maWVsZHMuTE9DQVRJT04pLHBpY2MuYWNjZXNzLnNwZWNpYWxEZXNpZ25hdGlvbnM9ZnVuY3Rpb24oZCl7dmFyIGRlc2lnbmF0aW9ucz1bXSxTUEVDSUFMX0RFU0lHTkFUSU9OUz1waWNjLlNQRUNJQUxfREVTSUdOQVRJT05TfHx7fTsrcGljYy5hY2Nlc3MocGljYy5maWVsZHMuV09NRU5fT05MWSkoZCk/ZGVzaWduYXRpb25zLnB1c2goU1BFQ0lBTF9ERVNJR05BVElPTlMud29tZW5fb25seSk6K3BpY2MuYWNjZXNzKHBpY2MuZmllbGRzLk1FTl9PTkxZKShkKSYmZGVzaWduYXRpb25zLnB1c2goU1BFQ0lBTF9ERVNJR05BVElPTlMubWVuX29ubHkpO3ZhciByZWxpZ2lvdXM9cGljYy5hY2Nlc3MocGljYy5maWVsZHMuUkVMSUdJT1VTKShkKTtyZWxpZ2lvdXMgaW4gcGljYy5SRUxJR0lPVVNfQUZGSUxJQVRJT05TX0JZX05VTUJFUiYmZGVzaWduYXRpb25zLnB1c2gocGljYy5SRUxJR0lPVVNfQUZGSUxJQVRJT05TX0JZX05VTUJFUltyZWxpZ2lvdXNdKTt2YXIgbWlub3JpdHlTZXJ2aW5nPXBpY2MuYWNjZXNzKHBpY2MuZmllbGRzLk1JTk9SSVRZX1NFUlZJTkcpKGQpO2lmKG1pbm9yaXR5U2VydmluZylmb3IodmFyIGtleSBpbiBTUEVDSUFMX0RFU0lHTkFUSU9OUykrbWlub3JpdHlTZXJ2aW5nW2tleV0mJmRlc2lnbmF0aW9ucy5wdXNoKFNQRUNJQUxfREVTSUdOQVRJT05TW2tleV0pO3JldHVybiBkZXNpZ25hdGlvbnN9LHBpY2MuYWNjZXNzLnByb2dyYW1BcmVhcz1mdW5jdGlvbihkLG1ldGFkYXRhKXtpZihtZXRhZGF0YXx8KG1ldGFkYXRhPWQubWV0YWRhdGEpLCFtZXRhZGF0YXx8IW1ldGFkYXRhLmRpY3Rpb25hcnkpcmV0dXJuW107dmFyIGRpY3Rpb25hcnk9bWV0YWRhdGEuZGljdGlvbmFyeSxmaWVsZD1waWNjLmZpZWxkcy5QUk9HUkFNX1BFUkNFTlRBR0UscHJvZ3JhbXM9cGljYy5hY2Nlc3MoZmllbGQpKGQpO3JldHVybiBwcm9ncmFtcz8oZmllbGQ9ZmllbGQucmVwbGFjZSgvXlxcZCtcXC4vLFwiXCIpLE9iamVjdC5rZXlzKHByb2dyYW1zfHx7fSkubWFwKGZ1bmN0aW9uKGtleSl7dmFyIHZhbHVlPXByb2dyYW1zW2tleV0sZGljdEtleT1bZmllbGQsa2V5XS5qb2luKFwiLlwiKSxuYW1lPWRpY3Rpb25hcnlbZGljdEtleV0/ZGljdGlvbmFyeVtkaWN0S2V5XS5sYWJlbHx8a2V5OmtleTtyZXR1cm57cHJvZ3JhbTpuYW1lLHBlcmNlbnQ6dmFsdWV9fSkuZmlsdGVyKGZ1bmN0aW9uKGQpe3JldHVybitkLnBlcmNlbnQ+MH0pKTpbXX0scGljYy5udWxsaWZ5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm5cIk5VTExcIj09PXZhbHVlP251bGw6dmFsdWV9LHBpY2MudGVtcGxhdGU9ZnVuY3Rpb24odGVtcGxhdGUpe3JldHVybiB0ZW1wbGF0ZT1TdHJpbmcodGVtcGxhdGUpLGZ1bmN0aW9uKGRhdGEpe3JldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC97XFxzKihcXHcrKVxccyp9L2csZnVuY3Rpb24oX2ssa2V5KXtyZXR1cm4gcGljYy5hY2Nlc3Moa2V5KShkYXRhKX0pfX0scGljYy50ZW1wbGF0ZS5yZXNvbHZlPWZ1bmN0aW9uKHRlbXBsYXRlLGRhdGEpe3JldHVybiBwaWNjLnRlbXBsYXRlKHRlbXBsYXRlKS5jYWxsKHRoaXMsZGF0YSl9LHBpY2Muc2Nob29sPXt9LHBpY2Muc2Nob29sLmRpcmVjdGl2ZXM9ZnVuY3Rpb24oKXt2YXIgYWNjZXNzPXBpY2MuYWNjZXNzLGZvcm1hdD1waWNjLmZvcm1hdCxwZXJjZW50PWZvcm1hdC5wZXJjZW50KCksZmllbGRzPXBpY2MuZmllbGRzLGhyZWY9ZnVuY3Rpb24oZCl7dmFyIG5hbWU9YWNjZXNzKGZpZWxkcy5OQU1FKShkKTtyZXR1cm4gbmFtZT1uYW1lP25hbWUucmVwbGFjZSgvXFxXKy9nLFwiLVwiKTpcIih1bmtub3duKVwiLFtwaWNjLkJBU0VfVVJMLFwiL3NjaG9vbC8/XCIsZC5pZCxcIi1cIixuYW1lXS5qb2luKFwiXCIpfSx1bmRlckludmVzdGlnYXRpb249e1wiQGFyaWEtaGlkZGVuXCI6ZnVuY3Rpb24oZCl7dmFyIGZsYWc9YWNjZXNzKGZpZWxkcy5VTkRFUl9JTlZFU1RJR0FUSU9OKShkKTtyZXR1cm4gMSE9PStmbGFnfX07cmV0dXJue3RpdGxlOntsaW5rOnt0ZXh0OmFjY2VzcyhmaWVsZHMuTkFNRSksXCJAaHJlZlwiOmhyZWZ9fSxzY2hvb2xfbGluazp7XCJAaHJlZlwiOmZvcm1hdC5ocmVmKGZpZWxkcy5TQ0hPT0xfVVJMKSx0ZXh0OmZ1bmN0aW9uKGQpe3ZhciB1cmw9cGljYy5hY2Nlc3MoZmllbGRzLlNDSE9PTF9VUkwpKGQpO3JldHVybiB1cmw/dXJsLnNwbGl0KFwiL1wiKS5zaGlmdCgpLnJlcGxhY2UoL153d3dcXC4vLFwiXCIpOnVybH19LHNoYXJlX2xpbms6e1wiQGhyZWZcIjpmdW5jdGlvbihkKXtyZXR1cm4gcGljYy50ZW1wbGF0ZS5yZXNvbHZlKHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpLHt1cmw6ZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpfSl9fSxyZXNwb25zZV9saW5rOntcIkBocmVmXCI6ZnVuY3Rpb24oZCl7dmFyIGhyZWY9Zm9ybWF0LmhyZWYoZmllbGRzLlNDSE9PTF9VUkwpKGQpO2lmKGhyZWYpe3ZhciBzdWZmaXg9XCIvQ29sbGVnZVNjb3JlY2FyZFwiO3JldHVybiBocmVmKz1cIi9cIj09PWhyZWYuc3Vic3RyKC0xKT9zdWZmaXguc3Vic3RyKDEpOnN1ZmZpeH1yZXR1cm5cIlwifX0sbmFtZTphY2Nlc3MoZmllbGRzLk5BTUUpLGNpdHk6YWNjZXNzKGZpZWxkcy5DSVRZKSxzdGF0ZTphY2Nlc3MoZmllbGRzLlNUQVRFKSx1bmRlcl9pbnZlc3RpZ2F0aW9uOnVuZGVySW52ZXN0aWdhdGlvbix1bmRlcl9pbnZlc3RpZ2F0aW9uMjp1bmRlckludmVzdGlnYXRpb24sc2l6ZV9udW1iZXI6Zm9ybWF0Lm51bWJlcihmaWVsZHMuU0laRSksY29udHJvbDp7XCJAY2xhc3NcIjpmb3JtYXQuY29udHJvbENsYXNzKGZpZWxkcy5PV05FUlNISVApLHZhbHVlOmZvcm1hdC5jb250cm9sKGZpZWxkcy5PV05FUlNISVApfSxsb2NhbGVfbmFtZTp7XCJAY2xhc3NcIjpmb3JtYXQubG9jYWxlQ2xhc3MoZmllbGRzLkxPQ0FMRSksdmFsdWU6Zm9ybWF0LmxvY2FsZShmaWVsZHMuTE9DQUxFKX0seWVhcnM6Zm9ybWF0LnByZWRkZWcoZmllbGRzLlBSRURPTUlOQU5UX0RFR1JFRSksc2l6ZV9jYXRlZ29yeTp7XCJAY2xhc3NcIjpmb3JtYXQuc2l6ZUNhdGVnb3J5Q2xhc3MoZmllbGRzLlNJWkUpLHZhbHVlOmZvcm1hdC5zaXplQ2F0ZWdvcnkoZmllbGRzLlNJWkUpfSxzcGVjaWFsX2Rlc2lnbmF0aW9uczphY2Nlc3Muc3BlY2lhbERlc2lnbmF0aW9ucyxhdmVyYWdlX2Nvc3Q6Zm9ybWF0LmRvbGxhcnMoYWNjZXNzLm5ldFByaWNlKSxhdmVyYWdlX2Nvc3RfbWV0ZXI6e1wiQHZhbHVlXCI6YWNjZXNzLm5ldFByaWNlLGxhYmVsOmZvcm1hdC5kb2xsYXJzKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXZlcmFnZX0pfSxuZXRfcHJpY2VfaW5jb21lMTpmb3JtYXQuZG9sbGFycyhhY2Nlc3MubmV0UHJpY2VCeUluY29tZUxldmVsKFwiMC0zMDAwMFwiKSksbmV0X3ByaWNlX2luY29tZTI6Zm9ybWF0LmRvbGxhcnMoYWNjZXNzLm5ldFByaWNlQnlJbmNvbWVMZXZlbChcIjMwMDAxLTQ4MDAwXCIpKSxuZXRfcHJpY2VfaW5jb21lMzpmb3JtYXQuZG9sbGFycyhhY2Nlc3MubmV0UHJpY2VCeUluY29tZUxldmVsKFwiNDgwMDEtNzUwMDBcIikpLG5ldF9wcmljZV9pbmNvbWU0OmZvcm1hdC5kb2xsYXJzKGFjY2Vzcy5uZXRQcmljZUJ5SW5jb21lTGV2ZWwoXCI3NTAwMS0xMTAwMDBcIikpLG5ldF9wcmljZV9pbmNvbWU1OmZvcm1hdC5kb2xsYXJzKGFjY2Vzcy5uZXRQcmljZUJ5SW5jb21lTGV2ZWwoXCIxMTAwMDEtcGx1c1wiKSksYWR2YW50YWdlX3JhdGU6Zm9ybWF0LnBlcmNlbnQoZmllbGRzLkVBUk5JTkdTX0dUXzI1SyksZ3JhZF9yYXRlOmZvcm1hdC5wZXJjZW50KGFjY2Vzcy5jb21wbGV0aW9uUmF0ZSksZ3JhZF9yYXRlX21ldGVyOntcIkB2YWx1ZVwiOmFjY2Vzcy5jb21wbGV0aW9uUmF0ZSxsYWJlbDpmb3JtYXQucGVyY2VudChmdW5jdGlvbigpe3JldHVybiB0aGlzLmF2ZXJhZ2V9KX0sYXZlcmFnZV9zYWxhcnk6Zm9ybWF0LmRvbGxhcnMoYWNjZXNzLmVhcm5pbmdzTWVkaWFuKSxhdmVyYWdlX3NhbGFyeV9tZXRlcjp7XCJAdmFsdWVcIjphY2Nlc3MuZWFybmluZ3NNZWRpYW4sbGFiZWw6Zm9ybWF0LmRvbGxhcnMoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdmVyYWdlfSl9LHJlcGF5bWVudF9yYXRlX3BlcmNlbnQ6Zm9ybWF0LnBlcmNlbnQoZmllbGRzLlJFUEFZTUVOVF9SQVRFKSxyZXBheW1lbnRfcmF0ZV9tZXRlcjp7XCJAdmFsdWVcIjphY2Nlc3MoZmllbGRzLlJFUEFZTUVOVF9SQVRFKSxsYWJlbDpmb3JtYXQucGVyY2VudChmdW5jdGlvbigpe3JldHVybiB0aGlzLmF2ZXJhZ2V9KX0sYXZlcmFnZV90b3RhbF9kZWJ0OmZvcm1hdC5kb2xsYXJzKGZpZWxkcy5BVkVSQUdFX1RPVEFMX0RFQlQpLGF2ZXJhZ2VfbW9udGhseV9sb2FuX3BheW1lbnQ6Zm9ybWF0LmRvbGxhcnMoZmllbGRzLk1PTlRITFlfTE9BTl9QQVlNRU5UKSxmZWRlcmFsX2FpZF9wZXJjZW50YWdlOmZvcm1hdC5wZXJjZW50KGZpZWxkcy5BSURfUEVSQ0VOVEFHRSkscGVsbF9ncmFudF9wZXJjZW50YWdlOmZvcm1hdC5wZXJjZW50KGZpZWxkcy5QRUxMX1BFUkNFTlRBR0UpLGVhcm5pbmdzX2d0XzI1azpmb3JtYXQucGVyY2VudChhY2Nlc3MuZWFybmluZ3MyNWspLGVhcm5pbmdzX2d0XzI1a19tZXRlcjp7XCJAdmFsdWVcIjphY2Nlc3MuZWFybmluZ3MyNWssbGFiZWw6Zm9ybWF0LnBlcmNlbnQoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdmVyYWdlfSl9LHJldGVudGlvbl9yYXRlX3ZhbHVlOmZvcm1hdC5wZXJjZW50KGFjY2Vzcy5yZXRlbnRpb25SYXRlKSxyZXRlbnRpb25fcmF0ZV9tZXRlcjp7XCJAdmFsdWVcIjphY2Nlc3MucmV0ZW50aW9uUmF0ZSxsYWJlbDpmb3JtYXQucGVyY2VudChmdW5jdGlvbigpe3JldHVybiB0aGlzLmF2ZXJhZ2V9KX0sZnVsbF90aW1lX3BlcmNlbnQ6Zm9ybWF0Lm51bWJlcihmdW5jdGlvbihkKXt2YXIgcHQ9YWNjZXNzLnBhcnRUaW1lU2hhcmUoZCk7cmV0dXJuIG51bGw9PT1wdD9udWxsOjEwMCooMS1wdCl9KSxwYXJ0X3RpbWVfcGVyY2VudDpmb3JtYXQubnVtYmVyKGZ1bmN0aW9uKGQpe3ZhciBwdD1hY2Nlc3MucGFydFRpbWVTaGFyZShkKTtyZXR1cm4gbnVsbD09PXB0P251bGw6MTAwKnB0fSksZ2VuZGVyX3ZhbHVlczpmdW5jdGlvbihkKXt2YXIgZmVtYWxlPWFjY2VzcyhmaWVsZHMuRkVNQUxFX1NIQVJFKShkKTtyZXR1cm4gbnVsbD09PWZlbWFsZT9bXTooZmVtYWxlPStmZW1hbGUsW3tsYWJlbDpcIkZlbWFsZVwiLHZhbHVlOmZlbWFsZSxwZXJjZW50OnBlcmNlbnQoZmVtYWxlKX0se2xhYmVsOlwiTWFsZVwiLHZhbHVlOjEtZmVtYWxlLHBlcmNlbnQ6cGVyY2VudCgxLWZlbWFsZSl9XSl9LHJhY2VfZXRobmljaXR5X3ZhbHVlczpmdW5jdGlvbihkKXtpZighZC5tZXRhZGF0YSlyZXR1cm5bXTt2YXIgdmFsdWVzPWFjY2VzcyhmaWVsZHMuUkFDRV9FVEhOSUNJVFkpKGQpO3JldHVybiB2YWx1ZXM/T2JqZWN0LmtleXModmFsdWVzKS5tYXAoZnVuY3Rpb24oa2V5KXt2YXIgdmFsdWU9cGljYy5udWxsaWZ5KHZhbHVlc1trZXldKSxsYWJlbD1waWNjLlJBQ0VfRVRITklDSVRZX0xBQkVMU1trZXldfHxrZXk7cmV0dXJue2tleTprZXksbGFiZWw6bGFiZWwsdmFsdWU6dmFsdWUscGVyY2VudDp2YWx1ZT49LjAwNT9wZXJjZW50KHZhbHVlKTpcIjwxJVwifX0pLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZC52YWx1ZT4wfSk6W119LGF2YWlsYWJsZV9wcm9ncmFtczpmdW5jdGlvbihkKXt2YXIgYXJlYXM9YWNjZXNzLnByb2dyYW1BcmVhcyhkKTtyZXR1cm4gYXJlYXMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBkMy5hc2NlbmRpbmcoYS5wcm9ncmFtLGIucHJvZ3JhbSl9KX0sbnVtX2F2YWlsYWJsZV9wcm9ncmFtczpmb3JtYXQubnVtYmVyKGZ1bmN0aW9uKGQpe3JldHVybiBhY2Nlc3MucHJvZ3JhbUFyZWFzKGQpLmxlbmd0aH0pLHBvcHVsYXJfcHJvZ3JhbXM6ZnVuY3Rpb24oZCl7dmFyIGFyZWFzPWFjY2Vzcy5wcm9ncmFtQXJlYXMoZCk7aWYoYXJlYXMubGVuZ3RoKXt2YXIgdG90YWw9ZDMuc3VtKGFyZWFzLHBpY2MuYWNjZXNzKFwicGVyY2VudFwiKSk7YXJlYXMuZm9yRWFjaChmdW5jdGlvbihkKXtkLnZhbHVlPStkLnBlcmNlbnQvdG90YWwsZC5wZXJjZW50PXBlcmNlbnQoZC52YWx1ZSl9KX1yZXR1cm4gYXJlYXMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBkMy5kZXNjZW5kaW5nKGEudmFsdWUsYi52YWx1ZSl9KS5zbGljZSgwLDUpfSxwcm9ncmFtc19wbHVyYWw6Zm9ybWF0LnBsdXJhbChmdW5jdGlvbihkKXtyZXR1cm4gYWNjZXNzLnByb2dyYW1BcmVhcyhkKS5sZW5ndGh9LFwiUHJvZ3JhbVwiKSxhZ2VfZW50cnk6ZnVuY3Rpb24oZCl7dmFyIGFnZT1waWNjLmFjY2VzcyhmaWVsZHMuQUdFX0VOVFJZKShkKTtyZXR1cm4gYWdlP2FnZTpOQX0sbW9yZV9saW5rOntcIkBocmVmXCI6aHJlZn0sYWN0X3Njb3Jlc192aXNpYmxlOntcIkBhcmlhLWhpZGRlblwiOmZvcm1hdC5lbXB0eShmaWVsZHMuQUNUX01JRFBPSU5UKX0sYWN0X3Njb3Jlc19pbnZpc2libGU6e1wiQGFyaWEtaGlkZGVuXCI6Zm9ybWF0Lm5vdEVtcHR5KGZpZWxkcy5BQ1RfTUlEUE9JTlQpfSxhY3Rfc2NvcmVzOntcIkBsb3dlclwiOmFjY2VzcyhmaWVsZHMuQUNUXzI1VEhfUENUSUxFKSxcIkB1cHBlclwiOmFjY2VzcyhmaWVsZHMuQUNUXzc1VEhfUENUSUxFKX0sc2F0X3JlYWRpbmdfc2NvcmVzX3Zpc2libGU6e1wiQGFyaWEtaGlkZGVuXCI6Zm9ybWF0LmVtcHR5KGZpZWxkcy5TQVRfUkVBRElOR19NSURQT0lOVCl9LHNhdF9yZWFkaW5nX3Njb3Jlc19pbnZpc2libGU6e1wiQGFyaWEtaGlkZGVuXCI6Zm9ybWF0Lm5vdEVtcHR5KGZpZWxkcy5TQVRfUkVBRElOR19NSURQT0lOVCl9LHNhdF9yZWFkaW5nX3Njb3Jlczp7XCJAbG93ZXJcIjphY2Nlc3MoZmllbGRzLlNBVF9SRUFESU5HXzI1VEhfUENUSUxFKSxcIkB1cHBlclwiOmFjY2VzcyhmaWVsZHMuU0FUX1JFQURJTkdfNzVUSF9QQ1RJTEUpfSxzYXRfbWF0aF9zY29yZXNfdmlzaWJsZTp7XCJAYXJpYS1oaWRkZW5cIjpmb3JtYXQuZW1wdHkoZmllbGRzLlNBVF9NQVRIX01JRFBPSU5UKX0sc2F0X21hdGhfc2NvcmVzX2ludmlzaWJsZTp7XCJAYXJpYS1oaWRkZW5cIjpmb3JtYXQubm90RW1wdHkoZmllbGRzLlNBVF9NQVRIX01JRFBPSU5UKX0sc2F0X21hdGhfc2NvcmVzOntcIkBsb3dlclwiOmFjY2VzcyhmaWVsZHMuU0FUX01BVEhfMjVUSF9QQ1RJTEUpLFwiQHVwcGVyXCI6YWNjZXNzKGZpZWxkcy5TQVRfTUFUSF83NVRIX1BDVElMRSl9LHNhdF93cml0aW5nX3Njb3Jlc192aXNpYmxlOntcIkBhcmlhLWhpZGRlblwiOmZvcm1hdC5lbXB0eShmaWVsZHMuU0FUX1dSSVRJTkdfTUlEUE9JTlQpfSxzYXRfd3JpdGluZ19zY29yZXNfaW52aXNpYmxlOntcIkBhcmlhLWhpZGRlblwiOmZvcm1hdC5ub3RFbXB0eShmaWVsZHMuU0FUX1dSSVRJTkdfTUlEUE9JTlQpfSxzYXRfd3JpdGluZ19zY29yZXM6e1wiQGxvd2VyXCI6YWNjZXNzKGZpZWxkcy5TQVRfV1JJVElOR18yNVRIX1BDVElMRSksXCJAdXBwZXJcIjphY2Nlc3MoZmllbGRzLlNBVF9XUklUSU5HXzc1VEhfUENUSUxFKX0sbmV0X3ByaWNlX2NhbGN1bGF0b3I6e1wiQGhyZWZcIjpmb3JtYXQuaHJlZihmaWVsZHMuTkVUX1BSSUNFX0NBTENfVVJMKX19fSgpLHBpY2MuZm9ybT17fSxwaWNjLmZvcm0ubWFwcGluZ3M9e3NvcnQ6e2FkdmFudGFnZTpwaWNjLmZpZWxkcy5FQVJOSU5HU19HVF8yNUssc2FsYXJ5OnBpY2MuZmllbGRzLk1FRElBTl9FQVJOSU5HUyxuYW1lOnBpY2MuZmllbGRzLk5BTUUsc2l6ZTpwaWNjLmZpZWxkcy5TSVpFLGF2Z19uZXRfcHJpY2U6cGljYy5maWVsZHMuTkVUX1BSSUNFLGNvbXBsZXRpb25fcmF0ZTpwaWNjLmZpZWxkcy5DT01QTEVUSU9OX1JBVEV9LGNvbnRyb2w6e1wicHVibGljXCI6MSxcInByaXZhdGVcIjoyLHByb2ZpdDozfSxzaXplOntzbWFsbDpcIi4uMTk5OVwiLG1lZGl1bTpcIjIwMDAuLjE1MDAwXCIsbGFyZ2U6XCIxNTAwMS4uXCJ9LGRlZ3JlZTp7YTpcIjJcIixiOlwiM1wifX0scGljYy5mb3JtLm1pbmlmeVF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKGZvcm0pe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBmb3JtJiYoZm9ybT1uZXcgZm9ybWRiLkZvcm0oZm9ybSkpLGZvcm0ub24oXCJzdWJtaXRcIixmdW5jdGlvbihkYXRhLGUpe3ZhciB1cmw9W2Zvcm0uZWxlbWVudC5hY3Rpb24scXVlcnlzdHJpbmcuc3RyaW5naWZ5KGRhdGEpXS5qb2luKFwiP1wiKS5yZXBsYWNlKFwiPyZcIixcIj9cIikucmVwbGFjZSgvJnsyLH0vZyxcIiZcIikucmVwbGFjZSgvJiQvLFwiXCIpO3JldHVybiB3aW5kb3cubG9jYXRpb249dXJsLGUucHJldmVudERlZmF1bHQoKSwhMX0pLGZvcm19LHBpY2MuZm9ybS5wcmVwYXJlUGFyYW1zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbWFwU2l6ZSh2YWx1ZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpP3ZhbHVlLm1hcChtYXBTaXplKTpwaWNjLmZvcm0ubWFwcGluZ3Muc2l6ZVt2YWx1ZV19ZnVuY3Rpb24gbWFwRGVncmVlKHZhbHVlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk/dmFsdWUubWFwKG1hcERlZ3JlZSk6cGljYy5mb3JtLm1hcHBpbmdzLmRlZ3JlZVt2YWx1ZV19ZnVuY3Rpb24gbWFwQ29udHJvbCh2YWx1ZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpP3ZhbHVlLm1hcChtYXBDb250cm9sKTpwaWNjLmZvcm0ubWFwcGluZ3MuY29udHJvbFt2YWx1ZV19ZnVuY3Rpb24gZW1wdHkodmFsdWUpe3JldHVyblwiXCI9PT12YWx1ZXx8bnVsbD09PXZhbHVlfHx2b2lkIDA9PT12YWx1ZXx8QXJyYXkuaXNBcnJheSh2YWx1ZSkmJmVtcHR5KHZhbHVlWzBdKX12YXIgZmllbGRzPXBpY2MuZmllbGRzLGFsaWFzPXtuYW1lOmZpZWxkcy5OQU1FLGF2Z19uZXRfcHJpY2U6ZmllbGRzLk5FVF9QUklDRStcIl9fcmFuZ2VcIixjb21wbGV0aW9uX3JhdGU6ZmllbGRzLkNPTVBMRVRJT05fUkFURStcIl9fcmFuZ2VcIixtZWRpYW5fZWFybmluZ3M6ZmllbGRzLk1FRElBTl9FQVJOSU5HUytcIl9fcmFuZ2VcIixtb250aGx5X3BheW1lbnRzOmZpZWxkcy5NT05USExZX0xPQU5fUEFZTUVOVCtcIl9fcmFuZ2VcIixyZWxpZ2lvdXM6ZmllbGRzLlJFTElHSU9VUyxzZXJ2aW5nOmZ1bmN0aW9uKHF1ZXJ5LHZhbHVlLGtleSl7dmFyIGZpZWxkPVtmaWVsZHMuTUlOT1JJVFlfU0VSVklORyx2YWx1ZV0uam9pbihcIi5cIik7c3dpdGNoKHZhbHVlKXtjYXNlXCJtZW5fb25seVwiOmZpZWxkPWZpZWxkcy5NRU5fT05MWTticmVhaztjYXNlXCJ3b21lbl9vbmx5XCI6ZmllbGQ9ZmllbGRzLldPTUVOX09OTFl9cXVlcnlbZmllbGRdPTEsZGVsZXRlIHF1ZXJ5W2tleV19LHN0YXRlOmZpZWxkcy5TVEFURSx6aXA6ZnVuY3Rpb24ocXVlcnksdmFsdWUsa2V5KXtxdWVyeS5kaXN0YW5jZXx8KHF1ZXJ5W2ZpZWxkcy5aSVBfQ09ERV09dmFsdWUsZGVsZXRlIHF1ZXJ5W2tleV0pfSxjb250cm9sOmZ1bmN0aW9uKHF1ZXJ5LHZhbHVlLGtleSl7dmFsdWU9bWFwQ29udHJvbCh2YWx1ZSkscGljYy5kYXRhLnJhbmdpZnkocXVlcnksZmllbGRzLk9XTkVSU0hJUCx2YWx1ZSksZGVsZXRlIHF1ZXJ5W2tleV19LHJlZ2lvbjpmdW5jdGlvbihxdWVyeSx2YWx1ZSxrZXkpe3BpY2MuZGF0YS5yYW5naWZ5KHF1ZXJ5LGZpZWxkcy5SRUdJT05fSUQsdmFsdWUpLGRlbGV0ZSBxdWVyeVtrZXldfSxzb3J0OmZ1bmN0aW9uKHF1ZXJ5LHZhbHVlLGtleSl7dmFyIGJpdHM9U3RyaW5nKHZhbHVlKS5zcGxpdChcIjpcIik7dmFsdWU9Yml0c1swXSxiaXRzWzBdPXBpY2MuZm9ybS5tYXBwaW5ncy5zb3J0W3ZhbHVlXSxiaXRzWzBdfHwoY29uc29sZS53YXJuKFwidW5tYXBwZWQgc29ydCB2YWx1ZTpcIix2YWx1ZSksYml0c1swXT12YWx1ZSkscXVlcnlba2V5XT1iaXRzLmpvaW4oXCI6XCIpfSxtYWpvcjpmdW5jdGlvbihxdWVyeSx2YWx1ZSxrZXkpe3ZhciBzdWJmaWVsZD1cImRlZ3JlZVwiO3N3aXRjaChxdWVyeS5kZWdyZWUpe2Nhc2VcImFcIjpjYXNlXCIyXCI6c3ViZmllbGQ9XCJhc3NvY1wiO2JyZWFrO2Nhc2VcImJcIjpjYXNlXCIzXCI6c3ViZmllbGQ9XCJiYWNoZWxvcnNcIn12YXIgaz1bZmllbGRzLlBST0dSQU1fT0ZGRVJFRCxzdWJmaWVsZCx2YWx1ZV0uam9pbihcIi5cIik7cXVlcnlbaytcIl9fcmFuZ2VcIl09XCIxLi5cIixkZWxldGUgcXVlcnlba2V5XX0sc2l6ZTpmdW5jdGlvbihxdWVyeSx2YWx1ZSxrZXkpe3ZhbHVlPW1hcFNpemUodmFsdWUpLHF1ZXJ5W3BpY2MuZmllbGRzLlNJWkUrXCJfX3JhbmdlXCJdPUFycmF5LmlzQXJyYXkodmFsdWUpP3ZhbHVlLmpvaW4oXCIsXCIpOnZhbHVlLGRlbGV0ZSBxdWVyeVtrZXldfSxkZWdyZWU6ZnVuY3Rpb24ocXVlcnksdmFsdWUsa2V5KXtxdWVyeVtrZXldPW1hcERlZ3JlZSh2YWx1ZSl9LHVuZGVyX2ludmVzdGlnYXRpb246cGljYy5maWVsZHMuVU5ERVJfSU5WRVNUSUdBVElPTn07cmV0dXJuIGZ1bmN0aW9uKHBhcmFtcyl7dmFyIHF1ZXJ5PXBpY2MuZGF0YS5leHRlbmQoe30scGFyYW1zKTtxdWVyeVtmaWVsZHMuT1BFUkFUSU5HXT0xLHF1ZXJ5LmRpc3RhbmNlJiYhcXVlcnkuemlwJiYoY29uc29sZS53YXJuKFwiZGlzdGFuY2UgcHJvdmlkZWQgd2l0aG91dCB6aXA7IGlnbm9yaW5nXCIscXVlcnkpLGRlbGV0ZSBxdWVyeS5kaXN0YW5jZSkscXVlcnkuc2l6ZXx8KHF1ZXJ5W2ZpZWxkcy5TSVpFK1wiX19yYW5nZVwiXT1cIjAuLlwiKTtmb3IodmFyIGtleSBpbiBxdWVyeSl7dmFyIHY9cXVlcnlba2V5XTtpZihlbXB0eSh2KSlkZWxldGUgcXVlcnlba2V5XTtlbHNle3ZhciBrPWFsaWFzW2tleV07c3dpdGNoKHR5cGVvZiBrKXtjYXNlXCJmdW5jdGlvblwiOmsocXVlcnksdixrZXkpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOnF1ZXJ5W2tdPXYsZGVsZXRlIHF1ZXJ5W2tleV19fX1mb3Ioa2V5IGluIHF1ZXJ5KShudWxsPT09cXVlcnlba2V5XXx8dm9pZCAwPT09cXVlcnlba2V5XSkmJmRlbGV0ZSBxdWVyeVtrZXldO3JldHVybiBxdWVyeS5kZWdyZWU/KHBpY2MuZGF0YS5yYW5naWZ5KHF1ZXJ5LHBpY2MuZmllbGRzLlBSRURPTUlOQU5UX0RFR1JFRSxxdWVyeS5kZWdyZWUpLGRlbGV0ZSBxdWVyeS5kZWdyZWUpOnF1ZXJ5W3BpY2MuZmllbGRzLlBSRURPTUlOQU5UX0RFR1JFRStcIl9fcmFuZ2VcIl09XCIyLi4zXCIscXVlcnl9fSgpLHBpY2MudWk9e30scGljYy51aS5leHBhbmRBY2NvcmRpb25zPWZ1bmN0aW9uKHNlbGVjdG9yLGV4cGFuZGVkKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGgmJihleHBhbmRlZD1zZWxlY3RvcixzZWxlY3Rvcj1udWxsKSxzZWxlY3Rvcnx8KHNlbGVjdG9yPVwiYXJpYS1hY2NvcmRpb25cIiksZXhwYW5kZWQ9ZDMuZnVuY3RvcihleHBhbmRlZCksZDMuc2VsZWN0QWxsKHNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hIWV4cGFuZGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLnByb3BlcnR5KFwiZXhwYW5kZWRcIiwhMCl9LHBpY2MucmVhZHk9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVyblwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/KGNhbGxiYWNrKCksITApOih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixjYWxsYmFjayksITEpfSxwaWNjLmRlYm91bmNlPWZ1bmN0aW9uKGZuLGRlbGF5KXt2YXIgdGltZW91dDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgY29udGV4dD10aGlzLGFyZ3M9YXJndW1lbnRzO3JldHVybiBjbGVhclRpbWVvdXQodGltZW91dCksdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm4uYXBwbHkoY29udGV4dCxhcmdzKX0sZGVsYXkpfX0scGljYy5kZWxlZ2F0ZT1mdW5jdGlvbihyb290LHF1YWxpZnksZXZlbnQsbGlzdGVuZXIpe2lmKEFycmF5LmlzQXJyYXkoZXZlbnQpKXJldHVybiBldmVudC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBpY2MuZGVsZWdhdGUocm9vdCxxdWFsaWZ5LGUsbGlzdGVuZXIpfSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV2ZW50KXt2YXIgbGlzdGVuZXJzPXt9O2Zvcih2YXIgZSBpbiBldmVudClsaXN0ZW5lcnNbZV09cGljYy5kZWxlZ2F0ZShyb290LHF1YWxpZnksZSxldmVudFtlXSk7cmV0dXJuIGxpc3RlbmVyc312YXIgX2xpc3RlbmVyPWZ1bmN0aW9uKGUpe3F1YWxpZnkuY2FsbChlLnRhcmdldCxlKSYmbGlzdGVuZXIuY2FsbChlLnRhcmdldCxlKX07cmV0dXJuIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxfbGlzdGVuZXIsITApLGxpc3RlbmVyfSxwaWNjLmRhdGE9e30scGljYy5kYXRhLmV4dGVuZD1mdW5jdGlvbihvYmosYSxiKXtmb3IodmFyIGk9MSxsZW49YXJndW1lbnRzLmxlbmd0aDtsZW4+aTtpKyspe3ZhciBhcmc9YXJndW1lbnRzW2ldO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhcmcpZm9yKHZhciBrZXkgaW4gYXJnKW9ialtrZXldPWFyZ1trZXldfXJldHVybiBvYmp9LHBpY2MuZGF0YS5yYW5naWZ5PWZ1bmN0aW9uKG9iaixrZXksdmFsdWVzKXtpZihBcnJheS5pc0FycmF5KHZhbHVlcykpc3dpdGNoKHZhbHVlcy5sZW5ndGgpe2Nhc2UgMDp2YWx1ZXM9XCJcIjticmVhaztjYXNlIDE6dmFsdWVzPXZhbHVlc1swXX1pZighQXJyYXkuaXNBcnJheSh2YWx1ZXMpKXJldHVybiB2YWx1ZXM9U3RyaW5nKHZhbHVlcyksdmFsdWVzLmluZGV4T2YoXCIuLlwiKT4tMT9vYmpba2V5K1wiX19yYW5nZVwiXT12YWx1ZXM6dmFsdWVzJiYob2JqW2tleV09dmFsdWVzKSxvYmo7dmFsdWVzPXZhbHVlcy5tYXAoTnVtYmVyKS5zb3J0KGQzLmFzY2VuZGluZyk7Zm9yKHZhciByYW5nZT1bdmFsdWVzLnNoaWZ0KCldLHJhbmdlcz1bcmFuZ2VdO3ZhbHVlcy5sZW5ndGg7KXt2YXIgdmFsdWU9dmFsdWVzLnNoaWZ0KCkscHJldmlvdXM9cmFuZ2VbcmFuZ2UubGVuZ3RoLTFdO3ZhbHVlPT09cHJldmlvdXMrMT9yYW5nZS5wdXNoKHZhbHVlKTpyYW5nZXMucHVzaChyYW5nZT1bdmFsdWVdKX1yZXR1cm4gb2JqW2tleStcIl9fcmFuZ2VcIl09cmFuZ2VzLm1hcChmdW5jdGlvbihyYW5nZSxpKXt2YXIgbWluPXJhbmdlLnNoaWZ0KCksbWF4PXJhbmdlLmxlbmd0aD9yYW5nZS5wb3AoKTptaW47aWYobWluPT09bWF4KXN3aXRjaChpKXtjYXNlIDA6cmV0dXJuXCIuLlwiK21pbjtjYXNlIHJhbmdlcy5sZW5ndGgtMTpyZXR1cm4gbWF4K1wiLi5cIn1yZXR1cm5bbWluLG1heF0uam9pbihcIi4uXCIpfSkuam9pbihcIixcIiksb2JqfSxwaWNjLmRhdGEuc2VsZWN0S2V5cz1mdW5jdGlvbihvYmosa2V5cyl7dmFyIGNvcHk9e307cmV0dXJuIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpe2tleSBpbiBvYmo/Y29weVtrZXldPW9ialtrZXldOmNvbnNvbGUud2FybihcIm5vIHN1Y2gga2V5IGluIHNvdXJjZSBvYmplY3Q6XCIsa2V5LG9iail9KSxjb3B5fSxwaWNjLnRvb2x0aXA9e3Nob3c6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KHRoaXMuX190b29sdGlwU2hvd1RpbWVvdXQpO3ZhciB0b29sdGlwPXRoaXMudG9vbHRpcDtpZighdG9vbHRpcCl7aWYodG9vbHRpcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIikpLCF0b29sdGlwKXJldHVybiBjb25zb2xlLndhcm4oXCJubyB0b29sdGlwIGZvdW5kIGZvcjpcIix0aGlzKTt0aGlzLnRvb2x0aXA9dG9vbHRpcH12YXIgcGFyZW50PXRoaXMscmVmPXRoaXMucXVlcnlTZWxlY3RvcihcIi50b29sdGlwLXRhcmdldFwiKXx8dGhpcyxzaG93PWZ1bmN0aW9uKCl7dG9vbHRpcC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCExKTt2YXIgY2xpY2ssd2luPWQzLnNlbGVjdCh3aW5kb3cpLm9uKFwiY2xpY2sudG9vbHRpcFwiLGNsaWNrPWZ1bmN0aW9uKGUpe3dpbi5vbihcImNsaWNrLnRvb2x0aXBcIixudWxsKSxwYXJlbnQuY29udGFpbnModG9vbHRpcCk/cGljYy50b29sdGlwLmhpZGUuY2FsbChwYXJlbnQsZSk6Y29uc29sZS53YXJuKFwiaWdub3JpbmcgY2xpY2sgb24gdW5vd25lZCB0b29sdGlwOlwiLHBhcmVudCx0b29sdGlwKX0sITApO3BpY2MudG9vbHRpcC5jb25zdHJhaW4odG9vbHRpcCxyZWYpfTtcImNsaWNrXCI9PT1lLnR5cGU/c2hvdygpOnRoaXMuX190b29sdGlwU2hvd1RpbWVvdXQ9c2V0VGltZW91dChzaG93LDIwMCl9LGhpZGU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fX3Rvb2x0aXBTaG93VGltZW91dCksdGhpcy50b29sdGlwJiYodGhpcy50b29sdGlwLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsITApLHRoaXMudG9vbHRpcC5vcmlnaW5hbFBhcmVudCYmdGhpcy50b29sdGlwLm9yaWdpbmFsUGFyZW50LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCksdGhpcy50b29sdGlwPW51bGwpfSx0b2dnbGU6ZnVuY3Rpb24oZSl7dGhpcy50b29sdGlwJiZcImZhbHNlXCIhPT10aGlzLnRvb2x0aXAuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIik/cGljYy50b29sdGlwLmhpZGUuY2FsbCh0aGlzLGUpOnBpY2MudG9vbHRpcC5zaG93LmNhbGwodGhpcyxlKX0sY29uc3RyYWluOmZ1bmN0aW9uKHRvb2x0aXAscGFyZW50KXtwYXJlbnQ9PT10b29sdGlwLnBhcmVudE5vZGU/cGFyZW50LnJlbW92ZUNoaWxkKHRvb2x0aXApOnRvb2x0aXAub3JpZ2luYWxQYXJlbnQ9dG9vbHRpcC5wYXJlbnROb2RlO3ZhciBjb250ZW50PXRvb2x0aXAucXVlcnlTZWxlY3RvcihcIi50b29sdGlwLWNvbnRlbnRcIil8fHRvb2x0aXA7Y29udGVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImxlZnRcIik7dmFyIG91dGVyPXBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtwYXJlbnQuYXBwZW5kQ2hpbGQodG9vbHRpcCkscmVjdD1jb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBtYXJnaW49MTAsb2Zmc2V0V2lkdGg9KHJlY3Qud2lkdGgtb3V0ZXIud2lkdGgpLzIsaGFsZldpZHRoPXJlY3Qud2lkdGgvMixidW1wPS1oYWxmV2lkdGgsbGVmdD1vdXRlci5sZWZ0LW9mZnNldFdpZHRoLGxlZnRFZGdlPW1hcmdpbi8yLHJpZ2h0PW91dGVyLnJpZ2h0K29mZnNldFdpZHRoLHJpZ2h0RWRnZT13aW5kb3cuaW5uZXJXaWR0aC0yKm1hcmdpbjtyaWdodD5yaWdodEVkZ2U/YnVtcC09cmlnaHQtcmlnaHRFZGdlOmxlZnRFZGdlPmxlZnQmJihidW1wKz1sZWZ0RWRnZS1sZWZ0KSxidW1wP2NvbnRlbnQuc3R5bGUubGVmdD1NYXRoLnJvdW5kKGJ1bXApK1wicHhcIjpjb250ZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibGVmdFwiKTt2YXIgYm90dG9tPW91dGVyLmJvdHRvbStyZWN0LmhlaWdodCxhYm92ZT1ib3R0b20+d2luZG93LmlubmVySGVpZ2h0O3Rvb2x0aXAuY2xhc3NMaXN0LnRvZ2dsZShcInRvb2x0aXBfYWJvdmVcIixhYm92ZSksdG9vbHRpcC5jbGFzc0xpc3QudG9nZ2xlKFwidG9vbHRpcF9iZWxvd1wiLCFhYm92ZSl9fSxwaWNjLnBhZ2VzPXtpbmRleDpyZXF1aXJlKFwiLi9pbmRleFwiKSxzZWFyY2g6cmVxdWlyZShcIi4vc2VhcmNoXCIpLHNjaG9vbDpyZXF1aXJlKFwiLi9zY2hvb2xcIil9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKHBpY2MucmVhZHkoZnVuY3Rpb24oKXt2YXIgZGVzY3JpYmVkPVwiYXJpYS1kZXNjcmliZWRieVwiO3BpY2MuZGVsZWdhdGUoZG9jdW1lbnQuYm9keSxmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShkZXNjcmliZWQpJiZ0aGlzLmdldEF0dHJpYnV0ZShkZXNjcmliZWQpLm1hdGNoKC9edGlwLS8pfSxkb2N1bWVudC5ib2R5Lm9udG91Y2hzdGFydD97Zm9jdXM6cGljYy50b29sdGlwLnNob3csYmx1cjpwaWNjLnRvb2x0aXAuaGlkZSxjbGljazpwaWNjLnRvb2x0aXAudG9nZ2xlfTp7bW91c2VlbnRlcjpwaWNjLnRvb2x0aXAuc2hvdyxtb3VzZWxlYXZlOnBpY2MudG9vbHRpcC5oaWRlLGZvY3VzOnBpY2MudG9vbHRpcC5zaG93LGJsdXI6cGljYy50b29sdGlwLmhpZGV9KX0pLGQzLnNlbGVjdChkb2N1bWVudCkub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQodGhpcy5fX2RyYWdUaW1lb3V0KTt2YXIgYm9keT10aGlzLmJvZHk7dGhpcy5fX2RyYWdUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtib2R5LmNsYXNzTGlzdC5hZGQoXCJkcmFnZ2luZ1wiKX0sMTAwKX0pLm9uKFwibW91c2V1cFwiLGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dCh0aGlzLl9fZHJhZ1RpbWVvdXQpLHRoaXMuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIil9KS5vbihcImNsaWNrXCIsZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KHRoaXMuX19kcmFnVGltZW91dCksdGhpcy5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnZ2luZ1wiKX0pKSxtb2R1bGUuZXhwb3J0cz1waWNjOyIsInZhciB0YWdhbG9uZz1yZXF1aXJlKFwidGFnYWxvbmdcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBoYXNoQ2hhbmdlKCl7dmFyIGlkPWxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLGZvdW5kPSExO3JldHVybiBwaWNjLnVpLmV4cGFuZEFjY29yZGlvbnMoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZCYmdGhpcy5pZD09PWlkfSkuZWFjaChmdW5jdGlvbigpe2ZvdW5kPXRoaXN9KSxmb3VuZH1mdW5jdGlvbiBnZXRTY2hvb2xJZCgpe2lmKCFsb2NhdGlvbi5zZWFyY2gpcmV0dXJuIG51bGw7dmFyIG1hdGNoPWxvY2F0aW9uLnNlYXJjaC5tYXRjaCgvXlxcPyhcXGQrKShcXGJ8LSkvKTtyZXR1cm4gbWF0Y2g/bWF0Y2hbMV06bnVsbH1mdW5jdGlvbiBzaG93RXJyb3IoZXJyb3Ipe3ZhciBjb250YWluZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlcnJvclwiKSx0YXJnZXQ9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbWVzc2FnZVwiKXx8Y29udGFpbmVyO3JldHVybiBlcnJvcj1lcnJvci5yZXNwb25zZVRleHR8fGVycm9yLHRhcmdldC50ZXh0Q29udGVudD1lcnJvcix0YXJnZXR9ZnVuY3Rpb24gY3JlYXRlTWFwKHNjaG9vbCxjb250YWluZXIpe2lmKCFjb250YWluZXIpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJnb3QgbnVsbCBjb250YWluZXIgaW4gY3JlYXRlTWFwKCk7IGJhaWxpbmdcIiksITE7dmFyIGxvY2F0aW9uPXBpY2MuYWNjZXNzLmxvY2F0aW9uKHNjaG9vbCk7aWYoIWxvY2F0aW9ufHwhK2xvY2F0aW9uLmxhdHx8IStsb2NhdGlvbi5sb24pcmV0dXJuIGNvbnNvbGUud2FybihcIm1pc3Npbmcgb3IgaW52YWxpZCBsb2NhdGlvbjpcIixsb2NhdGlvbixcIjsgaGlkaW5nIHRoZSBtYXBcIiksY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIiksITE7dmFyIGNlbnRlcj1MLmxhdExuZyhsb2NhdGlvbi5sYXQsbG9jYXRpb24ubG9uKSxtYXA9TC5tYXAoY29udGFpbmVyLHt6b29tQ29udHJvbDohMSxwYW5Db250cm9sOiExLGF0dHJpYnV0aW9uQ29udHJvbDohMSxkcmFnZ2luZzohMSxzY3JvbGxXaGVlbFpvb206ITEsdG91Y2hab29tOiExLGRvdWJsZUNsaWNrWm9vbTohMSxib3hab29tOiExfSkuc2V0VmlldyhjZW50ZXIsMTApO0wudGlsZUxheWVyKFwiaHR0cHM6Ly9zdGFtZW4tdGlsZXMte3N9LmEuc3NsLmZhc3RseS5uZXQvdG9uZXItbGl0ZS97en0ve3h9L3t5fS5wbmdcIikuYWRkVG8obWFwKSxMLmNvbnRyb2wuYXR0cmlidXRpb24oe3Bvc2l0aW9uOlwiYm90dG9tbGVmdFwiLHByZWZpeDohMX0pLmFkZEF0dHJpYnV0aW9uKCdNYXAgdGlsZXMgYnkgPGEgaHJlZj1cImh0dHA6Ly9zdGFtZW4uY29tXCI+U3RhbWVuIERlc2lnbjwvYT4sIHVuZGVyIDxhIGhyZWY9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS8zLjBcIj5DQyBCWSAzLjA8L2E+Ljxicj5EYXRhIGJ5IDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiwgdW5kZXIgPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T0RiTDwvYT4uJykuYWRkVG8obWFwKTt2YXIgbWFya2VyPUwuY2lyY2xlKGNlbnRlciwxMjAwLHtjb2xvcjpcImJsYWNrXCIsb3BhY2l0eToxLHN0cm9rZVdpZHRoOjEsZmlsbENvbG9yOlwid2hpdGVcIixmaWxsT3BhY2l0eToxfSkuYWRkVG8obWFwKTtyZXR1cm4gbWFya2VyLmJpbmRQb3B1cChzY2hvb2wuc2Nob29sLm5hbWUpLG1hcH12YXIgbG9hZGFibGU9ZDMuc2VsZWN0KFwiLmxvYWRhYmxlXCIpLGlkPWdldFNjaG9vbElkKCk7aWYoIWlkKXJldHVybiBsb2FkYWJsZS5jbGFzc2VkKFwianMtZXJyb3JcIiwhMCksc2hvd0Vycm9yKHBpY2MuZXJyb3JzLk5PX1NDSE9PTF9JRCk7ZDMuc2VsZWN0KFwiI3JlZmVycmVyLWxpbmtcIikuYXR0cihcImhyZWZcIixkb2N1bWVudC5yZWZlcnJlcnx8bnVsbCksbG9hZGFibGUuY2xhc3NlZChcImpzLWxvYWRpbmdcIiwhMCkscGljYy5BUEkuZ2V0QWxsKHttZXRhZGF0YTpcImRhdGEuanNvblwiLHNjaG9vbDpbcGljYy5BUEkuZ2V0U2Nob29sLGlkXX0sZnVuY3Rpb24oZXJyb3IsZGF0YSl7aWYobG9hZGFibGUuY2xhc3NlZChcImpzLWxvYWRpbmdcIiwhMSksZXJyb3IpcmV0dXJuIGxvYWRhYmxlLmNsYXNzZWQoXCJqcy1lcnJvclwiLCEwKSxzaG93RXJyb3IoZXJyb3IpO2xvYWRhYmxlLmNsYXNzZWQoXCJqcy1sb2FkZWRcIiwhMCk7dmFyIHJvb3Q9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzY2hvb2xcIiksc2Nob29sPWRhdGEuc2Nob29sLG5hbWU9cGljYy5hY2Nlc3MocGljYy5maWVsZHMuTkFNRSkoc2Nob29sKTtkb2N1bWVudC50aXRsZT1uYW1lLHNjaG9vbC5tZXRhZGF0YT1kYXRhLm1ldGFkYXRhLGNvbnNvbGUubG9nKFwiZ290IHNjaG9vbDpcIixzY2hvb2wpLHJvb3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTt2YXIgYXZlcmFnZUxhYmVscz17YWJvdmU6XCJBYm92ZSBhdmVyYWdlXCIsYmVsb3c6XCJMb3dlciB0aGFuIGF2ZXJhZ2VcIixhYm91dDpcIkFib3V0IGF2ZXJhZ2VcIn07ZDMuc2VsZWN0QWxsKFwiaS5hdmVyYWdlLWFycm93W2RhdGEtbWV0ZXJdXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaWNvbj1kMy5zZWxlY3QodGhpcyksbGFiZWw9KGQzLnNlbGVjdChcIiNcIit0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtbWV0ZXJcIikpLm9uKFwidXBkYXRlXCIsZnVuY3Rpb24oKXt2YXIgbWF0Y2g9dGhpcy5jbGFzc05hbWUubWF0Y2goL1xcYihcXHcrKV9hdmVyYWdlXFxiLyksc3RhdGU9bWF0Y2g/bWF0Y2hbMV06XCJuYVwiO2ljb24uY2xhc3NlZChcImFib3ZlX2F2ZXJhZ2UgZmEtYXJyb3ctdXBcIixcImFib3ZlXCI9PT1zdGF0ZSkuY2xhc3NlZChcImJlbG93X2F2ZXJhZ2UgZmEtYXJyb3ctZG93blwiLFwiYmVsb3dcIj09PXN0YXRlKS5jbGFzc2VkKFwiYWJvdXRfYXZlcmFnZSBmYS1jaGVja1wiLFwiYWJvdXRcIj09PXN0YXRlKTt2YXIgdGV4dD1hdmVyYWdlTGFiZWxzW3N0YXRlXTtpY29uLmF0dHIoXCJ0aXRsZVwiLHRleHQpLGxhYmVsLmNsYXNzZWQoXCJhYm92ZV9hdmVyYWdlXCIsXCJhYm92ZVwiPT09c3RhdGUpLmNsYXNzZWQoXCJiZWxvd19hdmVyYWdlXCIsXCJiZWxvd1wiPT09c3RhdGUpLmNsYXNzZWQoXCJhYm91dF9hdmVyYWdlXCIsXCJhYm91dFwiPT09c3RhdGUpLnRleHQodGV4dCl9KSxkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoXCIuYXZlcmFnZS1sYWJlbFwiKSl9KTt2YXIgc2VjdGlvbnM9cm9vdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY3Rpb24tY2FyZF9jb250YWluZXItc2Nob29sXCIpLGRpcmVjdGl2ZXM9cGljYy5zY2hvb2wuZGlyZWN0aXZlcztbcm9vdF0uY29uY2F0KFtdLnNsaWNlLmNhbGwoc2VjdGlvbnMpKS5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe3RhZ2Fsb25nKG5vZGUsc2Nob29sLGRpcmVjdGl2ZXMpfSk7dmFyIGJhcnM9ZDMuc2VsZWN0QWxsKFwib2wuYmFyc1wiKS5zZWxlY3RBbGwoXCJsaVwiKS5kYXR1bShmdW5jdGlvbigpe3JldHVybit0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIudmFsdWVcIikudGV4dENvbnRlbnR9KS5zb3J0KGQzLmRlc2NlbmRpbmcpLmVhY2goZnVuY3Rpb24oKXt2YXIgbGFiZWw9dGhpcy5xdWVyeVNlbGVjdG9yKFwiLmxhYmVsXCIpO2lmKGxhYmVsKXt2YXIga2xhc3M9bGFiZWwudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXFcrL2csXCItXCIpO3RoaXMuY2xhc3NMaXN0LmFkZChcImJhci1cIitrbGFzcyl9fSk7YmFycy5zZWxlY3QoXCIudmFsdWVcIikucmVtb3ZlKCk7dmFyIHNjYWxlPWQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCwxXSkucmFuZ2UoW1wiMSVcIixcIjEwMCVcIl0pO2JhcnMuc2VsZWN0KFwiLmJhclwiKS5zdHlsZShcIndpZHRoXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQ+LjAwNT9zY2FsZShkKTpkP1wiMXB4XCI6MH0pLGNyZWF0ZU1hcChzY2hvb2wscm9vdC5xdWVyeVNlbGVjdG9yKFwiLnNjaG9vbC1tYXBcIikpfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsaGFzaENoYW5nZSk7dmFyIHNlY3Rpb249aGFzaENoYW5nZSgpO3NlY3Rpb24mJihsb2NhdGlvbi5oYXNoPVwiXCIsbG9jYXRpb24uaGFzaD1cIiNcIitzZWN0aW9uLmlkKX07IiwidmFyIHRhZ2Fsb25nPXJlcXVpcmUoXCJ0YWdhbG9uZ1wiKSxmb3JtZGI9cmVxdWlyZShcImZvcm1kYlwiKSxxdWVyeXN0cmluZz1yZXF1aXJlKFwicXVlcnlzdHJpbmdcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvbkNoYW5nZSgpe2lmKCFyZWFkeSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJvbkNoYW5nZSgpIGJlZm9yZSByZWFkeSFcIik7aWYoIXN1Ym1pdClyZXR1cm4gdm9pZChzdWJtaXQ9ITApO3VwZGF0ZURpc3RhbmNlRGlzYWJsZWQoKTt2YXIgcGFyYW1zPWZvcm0uZ2V0RGF0YSgpO2Zvcih2YXIgayBpbiBwYXJhbXMpQXJyYXkuaXNBcnJheShwYXJhbXNba10pJiYhcGFyYW1zW2tdWzBdJiZkZWxldGUgcGFyYW1zW2tdO2RlbGV0ZSBwYXJhbXMuX2RyYXdlcixkaWZmRXhjZXB0KHByZXZpb3VzUGFyYW1zLHBhcmFtcyxbXCJwYWdlXCJdKSYmZGVsZXRlIHBhcmFtcy5wYWdlO3ZhciBxdWVyeT1waWNjLmZvcm0ucHJlcGFyZVBhcmFtcyhwYXJhbXMpO3F1ZXJ5LmZpZWxkcz1bcGljYy5maWVsZHMuSUQscGljYy5maWVsZHMuTkFNRSxwaWNjLmZpZWxkcy5DSVRZLHBpY2MuZmllbGRzLlNUQVRFLHBpY2MuZmllbGRzLlNJWkUscGljYy5maWVsZHMuT1dORVJTSElQLHBpY2MuZmllbGRzLlBSRURPTUlOQU5UX0RFR1JFRSxwaWNjLmZpZWxkcy5ORVRfUFJJQ0UscGljYy5maWVsZHMuQ09NUExFVElPTl9SQVRFLHBpY2MuZmllbGRzLk1FRElBTl9FQVJOSU5HUyxwaWNjLmZpZWxkcy5FQVJOSU5HU19HVF8yNUsscGljYy5maWVsZHMuVU5ERVJfSU5WRVNUSUdBVElPTl0uam9pbihcIixcIik7dmFyIHFzPXF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShwYXJhbXMpO3FzPVwiP1wiK3FzLnJlcGxhY2UoL14mKy8sXCJcIikucmVwbGFjZSgvJnsyLH0vZyxcIiZcIikucmVwbGFjZSgvJTNBL2csXCI6XCIpLHBvcHBpbmdTdGF0ZXx8KGFscmVhZHlMb2FkZWQmJmRpZmYocHJldmlvdXNQYXJhbXMscGFyYW1zKT9oaXN0b3J5LnB1c2hTdGF0ZShwYXJhbXMsXCJzZWFyY2hcIixxcyk6aGlzdG9yeS5yZXBsYWNlU3RhdGUocGFyYW1zLFwic2VhcmNoXCIscXMpKSxkMy5zZWxlY3QoXCJhLnJlc3VsdHMtc2hhcmVcIikuYXR0cihcImhyZWZcIixmdW5jdGlvbigpe3JldHVybiBwaWNjLnRlbXBsYXRlLnJlc29sdmUodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIikse3VybDplbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZil9KX0pLHJlcSYmcmVxLmFib3J0KCkscmVzdWx0c1Jvb3QuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWluY3JlbWVudGFsXCIsaW5jcmVtZW50YWwpLGluY3JlbWVudGFsfHwocmVzdWx0c1Jvb3QuY2xhc3NMaXN0LmFkZChcImpzLWxvYWRpbmdcIikscmVzdWx0c1Jvb3QuY2xhc3NMaXN0LnJlbW92ZShcImpzLWxvYWRlZFwiKSxyZXN1bHRzUm9vdC5jbGFzc0xpc3QucmVtb3ZlKFwianMtZXJyb3JcIikpLHBhZ2luYXRvci5jbGFzc0xpc3QudG9nZ2xlKFwic2hvdy1sb2FkaW5nXCIsaW5jcmVtZW50YWwpLGNvbnNvbGUudGltZSYmY29uc29sZS50aW1lKFwiW2xvYWRdXCIpLHJlcT1waWNjLkFQSS5zZWFyY2gocXVlcnksZnVuY3Rpb24oZXJyb3IsZGF0YSl7aWYocmVzdWx0c1Jvb3QuY2xhc3NMaXN0LnJlbW92ZShcImpzLWxvYWRpbmdcIikscmVzdWx0c1Jvb3QuY2xhc3NMaXN0LnJlbW92ZShcImpzLWluY3JlbWVudGFsXCIpLHBhZ2luYXRvci5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1sb2FkaW5nXCIpLGJvdHRvbVBhZ2luYXRvci5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1sb2FkaW5nXCIpLHByZXZpb3VzUGFyYW1zPXBhcmFtcyxpbmNyZW1lbnRhbD0hMSxjb25zb2xlLnRpbWVFbmQmJmNvbnNvbGUudGltZUVuZChcIltsb2FkXVwiKSxlcnJvcilyZXR1cm4gcmVzdWx0c1Jvb3QuY2xhc3NMaXN0LmFkZChcImpzLWVycm9yXCIpLHNob3dFcnJvcihlcnJvcik7cmVzdWx0c1Jvb3QuY2xhc3NMaXN0LmFkZChcImpzLWxvYWRlZFwiKTt2YXIgZm9ybWF0PXBpY2MuZm9ybWF0O2NvbnNvbGUubG9nKFwibG9hZGVkIHNjaG9vbHM6XCIsZGF0YSksY29uc29sZS50aW1lJiZjb25zb2xlLnRpbWUoXCJbcmVuZGVyXVwiKTt2YXIgbWV0YT1kYXRhLm1ldGFkYXRhfHxkYXRhLHRvdGFsPW1ldGEudG90YWwsaGVhZGluZz1yZXN1bHRzUm9vdC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdHMtbWFpbi1hbGVydFwiKTt0YWdhbG9uZyhoZWFkaW5nLG1ldGEse3Jlc3VsdHNfd29yZDpmb3JtYXQucGx1cmFsKFwidG90YWxcIixcIlJlc3VsdFwiKSxyZXN1bHRzX3RvdGFsOmZvcm1hdC5udW1iZXIoXCJ0b3RhbFwiLFwiMFwiKX0pO3ZhciBwYWdlPStwYXJhbXMucGFnZXx8MCxwZXJQYWdlPW1ldGEucGVyX3BhZ2UscGFnZXM9Z2V0UGFnZXModG90YWwscGVyUGFnZSxwYWdlKTt0YWdhbG9uZyhwYWdpbmF0b3Ise3BhZ2VzOnBhZ2VzfSx7cGFnZXM6e1wiQGRhdGEtaW5kZXhcIjpmdW5jdGlvbihkKXtyZXR1cm4gU3RyaW5nKGQuaW5kZXgpfSxcIkBjbGFzc1wiOmZ1bmN0aW9uKGQpe3JldHVybiBkLmluZGV4PT09cGFnZT9cInBhZ2luYXRpb24tcGFnZV9zZWxlY3RlZFwiOmQuYXJyb3c/XCJwYWdpbmF0aW9uLWFycm93XCI6bnVsbH0sbGluazp7dGV4dDpcInBhZ2VcIixcIkBkYXRhLXBhZ2VcIjpmdW5jdGlvbihkKXtyZXR1cm4gU3RyaW5nKGQuaW5kZXgpfSxcIkBocmVmXCI6ZnVuY3Rpb24oZCl7cmV0dXJuIGQuaW5kZXg9PT1wYWdlP251bGw6ZC5pbmRleD09PSExP251bGw6XCI/XCIrcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHBpY2MuZGF0YS5leHRlbmQoe30scGFyYW1zLHtwYWdlOmQuaW5kZXh9KSl9fX19KSxib3R0b21QYWdpbmF0b3IuaW5uZXJIVE1MPXBhZ2luYXRvci5pbm5lckhUTUw7dmFyIHBhZ2VMaW5rcz1kMy5zZWxlY3QocmVzdWx0c1Jvb3QpLnNlbGVjdEFsbChcImEuc2VsZWN0LXBhZ2VcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTt2YXIgX3BhZ2U9dGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XCJmYWxzZVwiIT09X3BhZ2UmJihwYWdlTGlua3MuZWFjaChmdW5jdGlvbigpe3ZhciBwPXRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpLHNlbGVjdGVkPXA9PV9wYWdlO3RoaXMucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKFwicGFnaW5hdGlvbi1wYWdlX3NlbGVjdGVkXCIsc2VsZWN0ZWQpfSksZm9ybS5zZXQoXCJwYWdlXCIsX3BhZ2UpLGluY3JlbWVudGFsPSEwLGNoYW5nZSgpKX0pLHJlc3VsdHNMaXN0PXJlc3VsdHNSb290LnF1ZXJ5U2VsZWN0b3IoXCIuc2Nob29scy1saXN0XCIpO2llJiZhbHJlYWR5TG9hZGVkJiZyZW1vdmVBbGxDaGlsZHJlbihyZXN1bHRzTGlzdCksdGFnYWxvbmcocmVzdWx0c0xpc3QsZGF0YS5yZXN1bHRzLGRpcmVjdGl2ZXMpLGFscmVhZHlMb2FkZWQ9ITAsY29uc29sZS50aW1lRW5kJiZjb25zb2xlLnRpbWVFbmQoXCJbcmVuZGVyXVwiKX0pfWZ1bmN0aW9uIGdldFBhZ2VzKHRvdGFsLHBlclBhZ2UscGFnZSl7dmFyIG51bVBhZ2VzPU1hdGguY2VpbCh0b3RhbC9wZXJQYWdlKSxwcmV2aW91cz0hMSxuZXh0PSExO2lmKG51bVBhZ2VzPk1BWF9QQUdFUyl7dmFyIGVuZD1NYXRoLm1pbihwYWdlK01BWF9QQUdFUyxudW1QYWdlcyksc3RhcnQ9ZW5kLU1BWF9QQUdFUztwYWdlcz1kMy5yYW5nZShzdGFydCxzdGFydCtNQVhfUEFHRVMpLHByZXZpb3VzPXN0YXJ0PjAsbmV4dD1udW1QYWdlcz5lbmR9ZWxzZSBwYWdlcz1kMy5yYW5nZSgwLG51bVBhZ2VzKTtpZihwYWdlcz1wYWdlcy5tYXAoZnVuY3Rpb24ocGFnZSl7cmV0dXJue3BhZ2U6cGFnZSsxLGluZGV4OnBhZ2V9fSkscHJldmlvdXMpe3ZhciBmaXJzdD1wYWdlc1swXTtwYWdlcy51bnNoaWZ0KHtpbmRleDpmaXJzdC5pbmRleC0xLHBhZ2U6XCI8XCIsYXJyb3c6ITB9KSxmaXJzdC5pbmRleD4xJiZwYWdlcy51bnNoaWZ0KHtpbmRleDowLHBhZ2U6XCI8PFwiLGFycm93OiEwfSl9aWYobmV4dCl7dmFyIGxhc3Q9cGFnZXNbcGFnZXMubGVuZ3RoLTFdO3BhZ2VzLnB1c2goe2luZGV4Omxhc3QuaW5kZXgrMSxwYWdlOlwiPlwiLGFycm93OiEwfSksbGFzdC5pbmRleDxudW1QYWdlcy0xJiZwYWdlcy5wdXNoKHtpbmRleDpudW1QYWdlcy0xLHBhZ2U6XCI+PlwiLGFycm93OiEwfSl9cmV0dXJuIHBhZ2VzfWZ1bmN0aW9uIHNob3dFcnJvcihlcnJvcil7Y29uc29sZS5lcnJvcihcImVycm9yOlwiLGVycm9yKTt2YXIgbWVzc2FnZT1yZXN1bHRzUm9vdC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1lc3NhZ2VcIik7ZXJyb3I9ZXJyb3IucmVzcG9uc2VUZXh0fHxlcnJvcixtZXNzYWdlLnRleHRDb250ZW50PVN0cmluZyhlcnJvcil8fFwiVGhlcmUgd2FzIGFuIHVuZXhwZWN0ZWQgQVBJIGVycm9yLlwifWZ1bmN0aW9uIGRpZmZFeGNlcHQoYSxiLGtleXMpe3JldHVybiBhPXBpY2MuZGF0YS5leHRlbmQoe30sYSksYj1waWNjLmRhdGEuZXh0ZW5kKHt9LGIpLGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpe2RlbGV0ZSBhW2tleV0sZGVsZXRlIGJba2V5XX0pLGRpZmYoYSxiKX1mdW5jdGlvbiBkaWZmKGEsYil7aWYodHlwZW9mIGEhPXR5cGVvZiBiKXJldHVybiEwO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoayBpbiBhKWlmKGRpZmYoYVtrXSxiW2tdKSlyZXR1cm4hMDtmb3IoayBpbiBiKWlmKGRpZmYoYVtrXSxiW2tdKSlyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4gYSE9Yn1mdW5jdGlvbiBjb3B5VW5zZXRLZXlzKGZyb20saW50byl7dmFyIGNvcHk9cGljYy5kYXRhLmV4dGVuZCh7fSxpbnRvKTtmb3IodmFyIGtleSBpbiBmcm9tKWNvcHkuaGFzT3duUHJvcGVydHkoa2V5KXx8KGNvcHlba2V5XT1udWxsKTtyZXR1cm4gY29weX1mdW5jdGlvbiB1cGRhdGVTbGlkZXIoKXt2YXIgaW5wdXQ9dGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7aWYoaW5wdXQpe3ZhciB2YWx1ZT1pbnB1dC52YWx1ZS5zcGxpdChcIi4uXCIpLm1hcChOdW1iZXIpOzI9PT12YWx1ZS5sZW5ndGgmJih0aGlzLmxvd2VyPXZhbHVlWzBdfHx0aGlzLm1pbix0aGlzLnVwcGVyPXZhbHVlWzFdfHx0aGlzLm1heCl9fWZ1bmN0aW9uIHVwZGF0ZURpc3RhbmNlRGlzYWJsZWQoKXt2YXIgemlwPWZvcm0uZ2V0KFwiemlwXCIpLGRpc3Q9Zm9ybS5nZXRJbnB1dHNCeU5hbWUoXCJkaXN0YW5jZVwiKVswXTtkaXN0JiYoZGlzdC5kaXNhYmxlZD0hemlwKX1mdW5jdGlvbiBzY3JvbGxJbnRvVmlldygpe3RyeXtmb3JtLmVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKX1jYXRjaChlcnJvcil7Y29uc29sZS53YXJuKFwidW5hYmxlIHRvIHNjcm9sbCByZXN1bHRzIGludG8gdmlldzpcIixlcnJvcil9fWZ1bmN0aW9uIHJlbW92ZUFsbENoaWxkcmVuKG5vZGUpe2Zvcig7bm9kZS5sYXN0Q2hpbGQ7KW5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpfXZhciByZXEscmVzdWx0c1Jvb3Q9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcmVzdWx0c1wiKSxwYWdpbmF0b3I9cmVzdWx0c1Jvb3QucXVlcnlTZWxlY3RvcihcIi5wYWdpbmF0aW9uXCIpLGJvdHRvbVBhZ2luYXRvcj1yZXN1bHRzUm9vdC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2luYXRpb25fYm90dG9tXCIpLGZvcm09bmV3IGZvcm1kYi5Gb3JtKFwiI3NlYXJjaC1mb3JtXCIpLHF1ZXJ5PXF1ZXJ5c3RyaW5nLnBhcnNlKGxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkpLHByZXZpb3VzUGFyYW1zPXF1ZXJ5fHx7fSxwb3BwaW5nU3RhdGU9ITEscmVhZHk9ITEsYWxyZWFkeUxvYWRlZD0hMSxpZT1cIm51bWJlclwiPT10eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGluY3JlbWVudGFsPSExLHN1Ym1pdD0hMCxNQVhfUEFHRVM9NixjaGFuZ2U9cGljYy5kZWJvdW5jZShvbkNoYW5nZSwxMDApLGRpcmVjdGl2ZXM9cGljYy5kYXRhLnNlbGVjdEtleXMocGljYy5zY2hvb2wuZGlyZWN0aXZlcyxbXCJ0aXRsZVwiLFwic2Nob29sX2xpbmtcIixcIm5hbWVcIixcImNpdHlcIixcInN0YXRlXCIsXCJ1bmRlcl9pbnZlc3RpZ2F0aW9uXCIsXCJzaXplX251bWJlclwiLFwiYXZlcmFnZV9jb3N0XCIsXCJhdmVyYWdlX2Nvc3RfbWV0ZXJcIixcImdyYWRfcmF0ZVwiLFwiZ3JhZF9yYXRlX21ldGVyXCIsXCJhdmVyYWdlX3NhbGFyeVwiLFwiYXZlcmFnZV9zYWxhcnlfbWV0ZXJcIixcIm1vcmVfbGlua1wiXSksd2luPWQzLnNlbGVjdCh3aW5kb3cpLHNsaWRlcnM9ZDMuc2VsZWN0QWxsKFwicGljYy1zbGlkZXJcIiksdG9nZ2xlcz1kMy5zZWxlY3RBbGwoXCIudG9nZ2xlLWFjY29yZGlvblwiKS5vbihcIm9wZW5cIixmdW5jdGlvbigpe3ZhciBvcGVuZWQ9dGhpczt0b2dnbGVzLmVhY2goZnVuY3Rpb24oKXt0aGlzIT09b3BlbmVkJiZ0aGlzLmNsb3NlKCl9KTt2YXIgZXZlbnQ9XCJjbGljay50b2dnbGVcIjt3aW4ub24oZXZlbnQsZnVuY3Rpb24oKXtvcGVuZWQuY29udGFpbnMoZDMuZXZlbnQudGFyZ2V0KXx8KHdpbi5vbihldmVudCxudWxsKSxvcGVuZWQuY2xvc2UoKSl9KX0pO3dpbi5vbihcImtleXVwLnRvZ2dsZVwiLGZ1bmN0aW9uKCl7Mjc9PT1kMy5ldmVudC5rZXlDb2RlJiZ0b2dnbGVzLnByb3BlcnR5KFwiZXhwYW5kZWRcIiwhMSl9KSxwaWNjLnVpLmV4cGFuZEFjY29yZGlvbnMoXCIudG9nZ2xlLWFjY29yZGlvbiBhcmlhLWFjY29yZGlvblwiLGZ1bmN0aW9uKCl7dmFyIGlucHV0cz10aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZV1cIik7cmV0dXJuW10uc29tZS5jYWxsKGlucHV0cyxmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHF1ZXJ5W2lucHV0Lm5hbWVdfSl9KSxwaWNjLnJlYWR5KGZ1bmN0aW9uKCl7cmVhZHk9ITAsZm9ybS5zZXREYXRhKHF1ZXJ5KSxzbGlkZXJzLmVhY2godXBkYXRlU2xpZGVyKS5vbihcImNoYW5nZVwiLHBpY2MuZGVib3VuY2UoZnVuY3Rpb24oKXt2YXIgaW5wdXQ9dGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7aWYoaW5wdXQpe2lmKHRoaXMubG93ZXI+dGhpcy5taW58fHRoaXMudXBwZXI8dGhpcy5tYXgpe3ZhciBsb3dlcj10aGlzLmxvd2VyPnRoaXMubWluP3RoaXMubG93ZXI6XCJcIix1cHBlcj10aGlzLnVwcGVyPHRoaXMubWF4P3RoaXMudXBwZXI6XCJcIjtpbnB1dC52YWx1ZT1bbG93ZXIsdXBwZXJdLmpvaW4oXCIuLlwiKX1lbHNlIGlucHV0LnZhbHVlPVwiXCI7Y2hhbmdlKCl9fSwyMDApKSxjaGFuZ2UoKX0pLGZvcm0ub24oXCJjaGFuZ2VcIixjaGFuZ2UpLGZvcm0ub24oXCJjaGFuZ2U6c29ydFwiLGZ1bmN0aW9uKCl7aW5jcmVtZW50YWw9ITB9KSxmb3JtLm9uKFwiY2hhbmdlOnppcFwiLHVwZGF0ZURpc3RhbmNlRGlzYWJsZWQpLGZvcm0ub24oXCJjaGFuZ2U6X2RyYXdlclwiLGZ1bmN0aW9uKHZhbHVlLGUpe3N1Ym1pdD0hMX0pLGZvcm0ub24oXCJzdWJtaXRcIixmdW5jdGlvbihkYXRhLGUpe3JldHVybiB0b2dnbGVzLnByb3BlcnR5KFwiZXhwYW5kZWRcIiwhMSksc2Nyb2xsSW50b1ZpZXcoKSxjaGFuZ2UoKSxlLnByZXZlbnREZWZhdWx0KCksITF9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsZnVuY3Rpb24oZSl7aWYoZS5zdGF0ZSl7dmFyIHN0YXRlPWNvcHlVbnNldEtleXMocHJldmlvdXNQYXJhbXMsZS5zdGF0ZSk7Zm9ybS5zZXREYXRhKHN0YXRlKSxzbGlkZXJzLmVhY2godXBkYXRlU2xpZGVyKSxwb3BwaW5nU3RhdGU9ITAsb25DaGFuZ2UoKSxwb3BwaW5nU3RhdGU9ITF9fSl9OyIsIihmdW5jdGlvbihhaWdodCl7ZnVuY3Rpb24gYWxpYXNJbnRlcmZhY2UobnMsZXhwZWN0ZWROYW1lLG5vblN0YW5kYXJkTmFtZSl7cmV0dXJuIG5zW25vblN0YW5kYXJkTmFtZV0mJiFuc1tleHBlY3RlZE5hbWVdPyhuc1tleHBlY3RlZE5hbWVdPW5zW25vblN0YW5kYXJkTmFtZV0sITApOiExfWZ1bmN0aW9uIGNvbW1vbkV2ZW50TG9vcChjdXJyZW50VGFyZ2V0LGUsJGhhbmRsZXJzLHN5bnRoZXRpYyl7Zm9yKHZhciBjb250aW51ZVByb3BhZ2F0aW9uLGhhbmRsZXJzPSRoYW5kbGVycy5zbGljZSgpLGV2dD1lbnJpY2goZSxjdXJyZW50VGFyZ2V0KSxpPTAsbGVuZ3RoPWhhbmRsZXJzLmxlbmd0aDtsZW5ndGg+aSYmKGhhbmRsZXI9aGFuZGxlcnNbaV0sXCJvYmplY3RcIj09dHlwZW9mIGhhbmRsZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGhhbmRsZXIuaGFuZGxlRXZlbnQ/aGFuZGxlci5oYW5kbGVFdmVudChldnQpOmhhbmRsZXIuY2FsbChjdXJyZW50VGFyZ2V0LGV2dCksIWV2dC5zdG9wcGVkSW1tZWRpYXRlUHJvcGFnYXRpb24pO2krKyk7cmV0dXJuIGNvbnRpbnVlUHJvcGFnYXRpb249IWV2dC5zdG9wcGVkUHJvcGFnYXRpb24sc3ludGhldGljJiZjb250aW51ZVByb3BhZ2F0aW9uJiZjdXJyZW50VGFyZ2V0LnBhcmVudE5vZGU/Y3VycmVudFRhcmdldC5wYXJlbnROb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTohZXZ0LmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gY29tbW9uRGVzY3JpcHRvcihnZXQsc2V0KXtyZXR1cm57Y29uZmlndXJhYmxlOiEwLGdldDpnZXQsc2V0OnNldH19ZnVuY3Rpb24gY29tbW9uVGV4dENvbnRlbnQocHJvdG9EZXN0LHByb3RvU291cmNlLHByb3BlcnR5KXt2YXIgZGVzY3JpcHRvcj1nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG9Tb3VyY2V8fHByb3RvRGVzdCxwcm9wZXJ0eSk7ZGVmaW5lUHJvcGVydHkocHJvdG9EZXN0LFwidGV4dENvbnRlbnRcIixjb21tb25EZXNjcmlwdG9yKGZ1bmN0aW9uKCl7cmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcyl9LGZ1bmN0aW9uKHRleHRDb250ZW50KXtkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMsdGV4dENvbnRlbnQpfSkpfWZ1bmN0aW9uIGVucmljaChlLGN1cnJlbnRUYXJnZXQpe3JldHVybiBlLmN1cnJlbnRUYXJnZXQ9Y3VycmVudFRhcmdldCxlLmV2ZW50UGhhc2U9ZS50YXJnZXQ9PT1lLmN1cnJlbnRUYXJnZXQ/MjozLGV9ZnVuY3Rpb24gZmluZChhcnJheSx2YWx1ZSl7Zm9yKHZhciBpPWFycmF5Lmxlbmd0aDtpLS0mJmFycmF5W2ldIT09dmFsdWU7KTtyZXR1cm4gaX1mdW5jdGlvbiBnZXRUZXh0Q29udGVudCgpe2lmKFwiQlJcIj09PXRoaXMudGFnTmFtZSlyZXR1cm5cIlxcblwiO2Zvcih2YXIgdGV4dE5vZGU9dGhpcy5maXJzdENoaWxkLGFycmF5Q29udGVudD1bXTt0ZXh0Tm9kZTspOCE9PXRleHROb2RlLm5vZGVUeXBlJiY3IT09dGV4dE5vZGUubm9kZVR5cGUmJmFycmF5Q29udGVudC5wdXNoKHRleHROb2RlLnRleHRDb250ZW50KSx0ZXh0Tm9kZT10ZXh0Tm9kZS5uZXh0U2libGluZztyZXR1cm4gYXJyYXlDb250ZW50LmpvaW4oXCJcIil9ZnVuY3Rpb24gb25SZWFkeVN0YXRlKGUpeyFSRUFEWUVWRU5URElTUEFUQ0hFRCYmcmVhZHlTdGF0ZU9LLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSkmJihSRUFEWUVWRU5URElTUEFUQ0hFRD0hUkVBRFlFVkVOVERJU1BBVENIRUQsZG9jdW1lbnQuZGV0YWNoRXZlbnQoT05SRUFEWVNUQVRFQ0hBTkdFLG9uUmVhZHlTdGF0ZSksZT1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpLGUuaW5pdEV2ZW50KERPTUNPTlRFTlRMT0FERUQsITAsITApLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSkpfWZ1bmN0aW9uIHNldFRleHRDb250ZW50KHRleHRDb250ZW50KXtmb3IodmFyIG5vZGU7bm9kZT10aGlzLmxhc3RDaGlsZDspdGhpcy5yZW1vdmVDaGlsZChub2RlKTtudWxsIT10ZXh0Q29udGVudCYmdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0Q29udGVudCkpfWZ1bmN0aW9uIHZlcmlmeShzZWxmLGUpe3JldHVybiBlfHwoZT13aW5kb3cuZXZlbnQpLGUudGFyZ2V0fHwoZS50YXJnZXQ9ZS5zcmNFbGVtZW50fHxlLmZyb21FbGVtZW50fHxkb2N1bWVudCksZS50aW1lU3RhbXB8fChlLnRpbWVTdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSksZX1haWdodC52ZXJzaW9uPVwiMi4xLjFcIjt2YXIgbmF2PW51bGwsdmVyc2lvbj0wLGllPSExO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBuYXZpZ2F0b3ImJihuYXY9bmF2aWdhdG9yLmFwcE5hbWUsdmVyc2lvbj1uYXZpZ2F0b3IuYXBwVmVyc2lvbixpZT1cIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2KSl7dmFyIG1hdGNoPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUgKFswLTldezEsfVtcXC4wLTldezAsfSkvKTt2ZXJzaW9uPW1hdGNoP3BhcnNlRmxvYXQobWF0Y2hbMV0pOjB9aWYoYWlnaHQuYnJvd3Nlcj17bmFtZTpuYXYsaWU6aWU/dmVyc2lvbjohMSxpZTk6aWUmJnZlcnNpb24+PTkmJjEwPnZlcnNpb24saWU4OmllJiZ2ZXJzaW9uPj04JiY5PnZlcnNpb24saWU3OmllJiZ2ZXJzaW9uPj03JiY4PnZlcnNpb24saWU2OmllJiZ2ZXJzaW9uPj02JiY3PnZlcnNpb259LFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpe2lmKHdpbmRvdy5haWdodD1haWdodCxhbGlhc0ludGVyZmFjZSh3aW5kb3csXCJIVE1MQ29tbWVudEVsZW1lbnRcIixcIkNvbW1lbnRcIiksYWxpYXNJbnRlcmZhY2Uod2luZG93LFwiSFRNTERvY3VtZW50XCIsXCJEb2N1bWVudFwiKSxhaWdodC5icm93c2VyLmllPDkpe2lmKGRvY3VtZW50LmNyZWF0ZUV2ZW50KXJldHVybjt2YXIgRFVOTk9BQk9VVERPTUxPQURFRD0hMCxSRUFEWUVWRU5URElTUEFUQ0hFRD0hMSxPTlJFQURZU1RBVEVDSEFOR0U9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixET01DT05URU5UTE9BREVEPVwiRE9NQ29udGVudExvYWRlZFwiLFNFQ1JFVD1cIl9fSUU4X19cIitNYXRoLnJhbmRvbSgpLGRlZmluZVByb3BlcnR5PU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Ipe29iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZX0sZGVmaW5lUHJvcGVydGllcz1PYmplY3QuZGVmaW5lUHJvcGVydGllc3x8ZnVuY3Rpb24ob2JqZWN0LGRlc2NyaXB0b3JzKXtmb3IodmFyIGtleSBpbiBkZXNjcmlwdG9ycylpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc2NyaXB0b3JzLGtleSkpdHJ5e2RlZmluZVByb3BlcnR5KG9iamVjdCxrZXksZGVzY3JpcHRvcnNba2V5XSl9Y2F0Y2gob19PKXt3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coa2V5K1wiIGZhaWxlZCBvbiBvYmplY3Q6XCIsb2JqZWN0LG9fTy5tZXNzYWdlKX19LGdldE93blByb3BlcnR5RGVzY3JpcHRvcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRWxlbWVudFByb3RvdHlwZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUsVGV4dFByb3RvdHlwZT13aW5kb3cuVGV4dC5wcm90b3R5cGUscG9zc2libHlOYXRpdmVFdmVudD0vXlthLXpdKyQvLHJlYWR5U3RhdGVPSz0vbG9hZGVkfGNvbXBsZXRlLyx0eXBlcz17fSxkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjb21tb25UZXh0Q29udGVudCh3aW5kb3cuSFRNTENvbW1lbnRFbGVtZW50LnByb3RvdHlwZSxFbGVtZW50UHJvdG90eXBlLFwibm9kZVZhbHVlXCIpLGNvbW1vblRleHRDb250ZW50KHdpbmRvdy5IVE1MU2NyaXB0RWxlbWVudC5wcm90b3R5cGUsbnVsbCxcInRleHRcIiksY29tbW9uVGV4dENvbnRlbnQoVGV4dFByb3RvdHlwZSxudWxsLFwibm9kZVZhbHVlXCIpLGNvbW1vblRleHRDb250ZW50KHdpbmRvdy5IVE1MVGl0bGVFbGVtZW50LnByb3RvdHlwZSxudWxsLFwidGV4dFwiKSxkZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTFN0eWxlRWxlbWVudC5wcm90b3R5cGUsXCJ0ZXh0Q29udGVudFwiLGZ1bmN0aW9uKGRlc2NyaXB0b3Ipe3JldHVybiBjb21tb25EZXNjcmlwdG9yKGZ1bmN0aW9uKCl7cmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcy5zdHlsZVNoZWV0KX0sZnVuY3Rpb24odGV4dENvbnRlbnQpe2Rlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcy5zdHlsZVNoZWV0LHRleHRDb250ZW50KX0pfShnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkNTU1N0eWxlU2hlZXQucHJvdG90eXBlLFwiY3NzVGV4dFwiKSkpLGRlZmluZVByb3BlcnRpZXMoRWxlbWVudFByb3RvdHlwZSx7dGV4dENvbnRlbnQ6e2dldDpnZXRUZXh0Q29udGVudCxzZXQ6c2V0VGV4dENvbnRlbnR9LGZpcnN0RWxlbWVudENoaWxkOntnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGNoaWxkTm9kZXM9dGhpcy5jaGlsZE5vZGVzfHxbXSxpPTAsbGVuZ3RoPWNoaWxkTm9kZXMubGVuZ3RoO2xlbmd0aD5pO2krKylpZigxPT1jaGlsZE5vZGVzW2ldLm5vZGVUeXBlKXJldHVybiBjaGlsZE5vZGVzW2ldfX0sbGFzdEVsZW1lbnRDaGlsZDp7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBjaGlsZE5vZGVzPXRoaXMuY2hpbGROb2Rlc3x8W10saT1jaGlsZE5vZGVzLmxlbmd0aDtpLS07KWlmKDE9PWNoaWxkTm9kZXNbaV0ubm9kZVR5cGUpcmV0dXJuIGNoaWxkTm9kZXNbaV19fSxwcmV2aW91c0VsZW1lbnRTaWJsaW5nOntnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHByZXZpb3VzRWxlbWVudFNpYmxpbmc9dGhpcy5wcmV2aW91c1NpYmxpbmc7cHJldmlvdXNFbGVtZW50U2libGluZyYmMSE9cHJldmlvdXNFbGVtZW50U2libGluZy5ub2RlVHlwZTspcHJldmlvdXNFbGVtZW50U2libGluZz1wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnByZXZpb3VzU2libGluZztyZXR1cm4gcHJldmlvdXNFbGVtZW50U2libGluZ319LG5leHRFbGVtZW50U2libGluZzp7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBuZXh0RWxlbWVudFNpYmxpbmc9dGhpcy5uZXh0U2libGluZztuZXh0RWxlbWVudFNpYmxpbmcmJjEhPW5leHRFbGVtZW50U2libGluZy5ub2RlVHlwZTspbmV4dEVsZW1lbnRTaWJsaW5nPW5leHRFbGVtZW50U2libGluZy5uZXh0U2libGluZztyZXR1cm4gbmV4dEVsZW1lbnRTaWJsaW5nfX0sY2hpbGRFbGVtZW50Q291bnQ6e2dldDpmdW5jdGlvbigpe2Zvcih2YXIgY291bnQ9MCxjaGlsZE5vZGVzPXRoaXMuY2hpbGROb2Rlc3x8W10saT1jaGlsZE5vZGVzLmxlbmd0aDtpLS07Y291bnQrPTE9PWNoaWxkTm9kZXNbaV0ubm9kZVR5cGUpO3JldHVybiBjb3VudH19LGFkZEV2ZW50TGlzdGVuZXI6e3ZhbHVlOmZ1bmN0aW9uKHR5cGUsaGFuZGxlcixjYXB0dXJlKXt2YXIgZSxzZWxmPXRoaXMsb250eXBlPVwib25cIit0eXBlLHRlbXBsZT1zZWxmW1NFQ1JFVF18fGRlZmluZVByb3BlcnR5KHNlbGYsU0VDUkVULHt2YWx1ZTp7fX0pW1NFQ1JFVF0sY3VycmVudFR5cGU9dGVtcGxlW29udHlwZV18fCh0ZW1wbGVbb250eXBlXT17fSksaGFuZGxlcnM9Y3VycmVudFR5cGUuaHx8KGN1cnJlbnRUeXBlLmg9W10pO2lmKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGN1cnJlbnRUeXBlLFwid1wiKSl7aWYoY3VycmVudFR5cGUudz1mdW5jdGlvbihlKXtyZXR1cm4gZVtTRUNSRVRdfHxjb21tb25FdmVudExvb3Aoc2VsZix2ZXJpZnkoc2VsZixlKSxoYW5kbGVycywhMSl9LCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGVzLG9udHlwZSkpaWYocG9zc2libHlOYXRpdmVFdmVudC50ZXN0KHR5cGUpKXRyeXtlPWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksZVtTRUNSRVRdPSEwLDkhPXNlbGYubm9kZVR5cGUmJm51bGw9PXNlbGYucGFyZW50Tm9kZSYmZGl2LmFwcGVuZENoaWxkKHNlbGYpLHNlbGYuZmlyZUV2ZW50KG9udHlwZSxlKSx0eXBlc1tvbnR5cGVdPSEwfWNhdGNoKGUpe2Zvcih0eXBlc1tvbnR5cGVdPSExO2Rpdi5oYXNDaGlsZE5vZGVzKCk7KWRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCl9ZWxzZSB0eXBlc1tvbnR5cGVdPSExOyhjdXJyZW50VHlwZS5uPXR5cGVzW29udHlwZV0pJiZzZWxmLmF0dGFjaEV2ZW50KG9udHlwZSxjdXJyZW50VHlwZS53KX1maW5kKGhhbmRsZXJzLGhhbmRsZXIpPDAmJmhhbmRsZXJzW2NhcHR1cmU/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGhhbmRsZXIpfX0sZGlzcGF0Y2hFdmVudDp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHBhcmVudE5vZGUsc2VsZj10aGlzLG9udHlwZT1cIm9uXCIrZS50eXBlLHRlbXBsZT1zZWxmW1NFQ1JFVF0sY3VycmVudFR5cGU9dGVtcGxlJiZ0ZW1wbGVbb250eXBlXSx2YWxpZD0hIWN1cnJlbnRUeXBlO3JldHVybiBlLnRhcmdldHx8KGUudGFyZ2V0PXNlbGYpLHZhbGlkP2N1cnJlbnRUeXBlLm4/c2VsZi5maXJlRXZlbnQob250eXBlLGUpOmNvbW1vbkV2ZW50TG9vcChzZWxmLGUsY3VycmVudFR5cGUuaCwhMCk6KHBhcmVudE5vZGU9c2VsZi5wYXJlbnROb2RlKT9wYXJlbnROb2RlLmRpc3BhdGNoRXZlbnQoZSk6ITAsIWUuZGVmYXVsdFByZXZlbnRlZH19LHJlbW92ZUV2ZW50TGlzdGVuZXI6e3ZhbHVlOmZ1bmN0aW9uKHR5cGUsaGFuZGxlcixjYXB0dXJlKXt2YXIgc2VsZj10aGlzLG9udHlwZT1cIm9uXCIrdHlwZSx0ZW1wbGU9c2VsZltTRUNSRVRdLGN1cnJlbnRUeXBlPXRlbXBsZSYmdGVtcGxlW29udHlwZV0saGFuZGxlcnM9Y3VycmVudFR5cGUmJmN1cnJlbnRUeXBlLmgsaT1oYW5kbGVycz9maW5kKGhhbmRsZXJzLGhhbmRsZXIpOi0xO2k+LTEmJmhhbmRsZXJzLnNwbGljZShpLDEpfX19KSxkZWZpbmVQcm9wZXJ0aWVzKFRleHRQcm90b3R5cGUse2FkZEV2ZW50TGlzdGVuZXI6e3ZhbHVlOkVsZW1lbnRQcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcn0sZGlzcGF0Y2hFdmVudDp7dmFsdWU6RWxlbWVudFByb3RvdHlwZS5kaXNwYXRjaEV2ZW50fSxyZW1vdmVFdmVudExpc3RlbmVyOnt2YWx1ZTpFbGVtZW50UHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXJ9fSksZGVmaW5lUHJvcGVydGllcyh3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLHthZGRFdmVudExpc3RlbmVyOnt2YWx1ZTpmdW5jdGlvbih0eXBlLGhhbmRsZXIsY2FwdHVyZSl7dmFyIHNlbGY9dGhpcyxvbnR5cGU9XCJvblwiK3R5cGUsdGVtcGxlPXNlbGZbU0VDUkVUXXx8ZGVmaW5lUHJvcGVydHkoc2VsZixTRUNSRVQse3ZhbHVlOnt9fSlbU0VDUkVUXSxjdXJyZW50VHlwZT10ZW1wbGVbb250eXBlXXx8KHRlbXBsZVtvbnR5cGVdPXt9KSxoYW5kbGVycz1jdXJyZW50VHlwZS5ofHwoY3VycmVudFR5cGUuaD1bXSk7ZmluZChoYW5kbGVycyxoYW5kbGVyKTwwJiYoc2VsZltvbnR5cGVdfHwoc2VsZltvbnR5cGVdPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtlLmluaXRFdmVudCh0eXBlLCEwLCEwKSxzZWxmLmRpc3BhdGNoRXZlbnQoZSl9KSxoYW5kbGVyc1tjYXB0dXJlP1widW5zaGlmdFwiOlwicHVzaFwiXShoYW5kbGVyKSl9fSxkaXNwYXRjaEV2ZW50Ont2YWx1ZTpmdW5jdGlvbihlKXt2YXIgc2VsZj10aGlzLG9udHlwZT1cIm9uXCIrZS50eXBlLHRlbXBsZT1zZWxmW1NFQ1JFVF0sY3VycmVudFR5cGU9dGVtcGxlJiZ0ZW1wbGVbb250eXBlXSx2YWxpZD0hIWN1cnJlbnRUeXBlO3JldHVybiB2YWxpZCYmKGN1cnJlbnRUeXBlLm4/c2VsZi5maXJlRXZlbnQob250eXBlLGUpOmNvbW1vbkV2ZW50TG9vcChzZWxmLGUsY3VycmVudFR5cGUuaCwhMCkpfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjp7dmFsdWU6RWxlbWVudFByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyfX0pLGRlZmluZVByb3BlcnRpZXMod2luZG93LkV2ZW50LnByb3RvdHlwZSx7YnViYmxlczp7dmFsdWU6ITAsd3JpdGFibGU6ITB9LGNhbmNlbGFibGU6e3ZhbHVlOiEwLHdyaXRhYmxlOiEwfSxwcmV2ZW50RGVmYXVsdDp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGFibGUmJih0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITAsdGhpcy5yZXR1cm5WYWx1ZT0hMSl9fSxzdG9wUHJvcGFnYXRpb246e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wcGVkUHJvcGFnYXRpb249ITAsdGhpcy5jYW5jZWxCdWJibGU9ITB9fSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wcGVkSW1tZWRpYXRlUHJvcGFnYXRpb249ITAsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LGluaXRFdmVudDp7dmFsdWU6ZnVuY3Rpb24odHlwZSxidWJibGVzLGNhbmNlbGFibGUpe3RoaXMudHlwZT10eXBlLHRoaXMuYnViYmxlcz0hIWJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlPSEhY2FuY2VsYWJsZSx0aGlzLmJ1YmJsZXN8fHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fX0pLGRlZmluZVByb3BlcnRpZXMod2luZG93LkhUTUxEb2N1bWVudC5wcm90b3R5cGUse3RleHRDb250ZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMTE9PT10aGlzLm5vZGVUeXBlP2dldFRleHRDb250ZW50LmNhbGwodGhpcyk6bnVsbH0sc2V0OmZ1bmN0aW9uKHRleHRDb250ZW50KXsxMT09PXRoaXMubm9kZVR5cGUmJnNldFRleHRDb250ZW50LmNhbGwodGhpcyx0ZXh0Q29udGVudCl9fSxhZGRFdmVudExpc3RlbmVyOnt2YWx1ZTpmdW5jdGlvbih0eXBlLGhhbmRsZXIsY2FwdHVyZSl7dmFyIHNlbGY9dGhpcztFbGVtZW50UHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIuY2FsbChzZWxmLHR5cGUsaGFuZGxlcixjYXB0dXJlKSxEVU5OT0FCT1VURE9NTE9BREVEJiZ0eXBlPT09RE9NQ09OVEVOVExPQURFRCYmIXJlYWR5U3RhdGVPSy50ZXN0KHNlbGYucmVhZHlTdGF0ZSkmJihEVU5OT0FCT1VURE9NTE9BREVEPSExLHNlbGYuYXR0YWNoRXZlbnQoT05SRUFEWVNUQVRFQ0hBTkdFLG9uUmVhZHlTdGF0ZSksd2luZG93PT10b3AmJiFmdW5jdGlvbiBnb25uYShlKXt0cnl7c2VsZi5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoXCJsZWZ0XCIpLG9uUmVhZHlTdGF0ZSgpfWNhdGNoKG9fTyl7c2V0VGltZW91dChnb25uYSw1MCl9fSgpKX19LGRpc3BhdGNoRXZlbnQ6e3ZhbHVlOkVsZW1lbnRQcm90b3R5cGUuZGlzcGF0Y2hFdmVudH0scmVtb3ZlRXZlbnRMaXN0ZW5lcjp7dmFsdWU6RWxlbWVudFByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyfSxjcmVhdGVFdmVudDp7dmFsdWU6ZnVuY3Rpb24oQ2xhc3Mpe3ZhciBlO2lmKFwiRXZlbnRcIiE9PUNsYXNzKXRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIFwiK0NsYXNzKTtyZXR1cm4gZT1kb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpLGUudGltZVN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGV9fX0pLGRlZmluZVByb3BlcnRpZXMod2luZG93LldpbmRvdy5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6e3ZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ29tcHV0ZWRTdHlsZShfKXt0aGlzLl89X31mdW5jdGlvbiBQc2V1ZG9Db21wdXRlZFN0eWxlKCl7fXZhciBub3RwaXhlbD0vXig/OlsrLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KSkoPyFweClbYS16JV0rJC8scG9zaXRpb249L14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvLHJlPS9cXC0oW2Etel0pL2cscGxhY2U9ZnVuY3Rpb24obWF0Y2gsJDEpe3JldHVybiAkMS50b1VwcGVyQ2FzZSgpfTtyZXR1cm4gQ29tcHV0ZWRTdHlsZS5wcm90b3R5cGUuZ2V0UHJvcGVydHlWYWx1ZT1mdW5jdGlvbihuYW1lKXt2YXIgcmVzdWx0LGxlZnQscnRMZWZ0LGVsPXRoaXMuXyxzdHlsZT1lbC5zdHlsZSxjdXJyZW50U3R5bGU9ZWwuY3VycmVudFN0eWxlLHJ1bnRpbWVTdHlsZT1lbC5ydW50aW1lU3R5bGU7cmV0dXJuIG5hbWU9KFwiZmxvYXRcIj09PW5hbWU/XCJzdHlsZS1mbG9hdFwiOm5hbWUpLnJlcGxhY2UocmUscGxhY2UpLHJlc3VsdD1jdXJyZW50U3R5bGU/Y3VycmVudFN0eWxlW25hbWVdOnN0eWxlW25hbWVdLG5vdHBpeGVsLnRlc3QocmVzdWx0KSYmIXBvc2l0aW9uLnRlc3QobmFtZSkmJihsZWZ0PXN0eWxlLmxlZnQscnRMZWZ0PXJ1bnRpbWVTdHlsZSYmcnVudGltZVN0eWxlLmxlZnQscnRMZWZ0JiYocnVudGltZVN0eWxlLmxlZnQ9Y3VycmVudFN0eWxlLmxlZnQpLHN0eWxlLmxlZnQ9XCJmb250U2l6ZVwiPT09bmFtZT9cIjFlbVwiOnJlc3VsdCxyZXN1bHQ9c3R5bGUucGl4ZWxMZWZ0K1wicHhcIixzdHlsZS5sZWZ0PWxlZnQscnRMZWZ0JiYocnVudGltZVN0eWxlLmxlZnQ9cnRMZWZ0KSksbnVsbD09cmVzdWx0P3Jlc3VsdDpyZXN1bHQrXCJcInx8XCJhdXRvXCJ9LFBzZXVkb0NvbXB1dGVkU3R5bGUucHJvdG90eXBlLmdldFByb3BlcnR5VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZnVuY3Rpb24oZWwscHNldWRvKXtyZXR1cm4gcHNldWRvP25ldyBQc2V1ZG9Db21wdXRlZFN0eWxlKGVsKTpuZXcgQ29tcHV0ZWRTdHlsZShlbCl9fSgpfSxhZGRFdmVudExpc3RlbmVyOnt2YWx1ZTpmdW5jdGlvbih0eXBlLGhhbmRsZXIsY2FwdHVyZSl7dmFyIGhhbmRsZXJzLHNlbGY9d2luZG93LG9udHlwZT1cIm9uXCIrdHlwZTtzZWxmW29udHlwZV18fChzZWxmW29udHlwZV09ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbW1vbkV2ZW50TG9vcChzZWxmLHZlcmlmeShzZWxmLGUpLGhhbmRsZXJzLCExKX0pLGhhbmRsZXJzPXNlbGZbb250eXBlXVtTRUNSRVRdfHwoc2VsZltvbnR5cGVdW1NFQ1JFVF09W10pLGZpbmQoaGFuZGxlcnMsaGFuZGxlcik8MCYmaGFuZGxlcnNbY2FwdHVyZT9cInVuc2hpZnRcIjpcInB1c2hcIl0oaGFuZGxlcil9fSxkaXNwYXRjaEV2ZW50Ont2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbWV0aG9kPXdpbmRvd1tcIm9uXCIrZS50eXBlXTtyZXR1cm4gbWV0aG9kP21ldGhvZC5jYWxsKHdpbmRvdyxlKSE9PSExJiYhZS5kZWZhdWx0UHJldmVudGVkOiEwfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjp7dmFsdWU6ZnVuY3Rpb24odHlwZSxoYW5kbGVyLGNhcHR1cmUpe3ZhciBvbnR5cGU9XCJvblwiK3R5cGUsaGFuZGxlcnM9KHdpbmRvd1tvbnR5cGVdfHxPYmplY3QpW1NFQ1JFVF0saT1oYW5kbGVycz9maW5kKGhhbmRsZXJzLGhhbmRsZXIpOi0xO2k+LTEmJmhhbmRsZXJzLnNwbGljZShpLDEpfX19KX1pZihmdW5jdGlvbih3aW5kb3cpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHRleHROb2RlSWZTdHJpbmcobm9kZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG5vZGU/d2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpOm5vZGV9ZnVuY3Rpb24gbXV0YXRpb25NYWNybyhub2Rlcyl7aWYoMT09PW5vZGVzLmxlbmd0aClyZXR1cm4gdGV4dE5vZGVJZlN0cmluZyhub2Rlc1swXSk7Zm9yKHZhciBmcmFnbWVudD13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGxpc3Q9c2xpY2UuY2FsbChub2RlcyksaT0wO2k8bm9kZXMubGVuZ3RoO2krKylmcmFnbWVudC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZUlmU3RyaW5nKGxpc3RbaV0pKTtyZXR1cm4gZnJhZ21lbnR9Zm9yKHZhciBoZWFkLHByb3BlcnR5LHZlcmlmeVRva2VuLERPTVRva2VuTGlzdCxkZWZpbmVQcm9wZXJ0eT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKXtvYmplY3QuX19kZWZpbmVHZXR0ZXJfXyhwcm9wZXJ0eSxkZXNjcmlwdG9yLmdldCl9LGluZGV4T2Y9W10uaW5kZXhPZnx8ZnVuY3Rpb24odmFsdWUpe2Zvcih2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO2xlbmd0aC0tJiZ0aGlzW2xlbmd0aF0hPT12YWx1ZTspO3JldHVybiBsZW5ndGh9LHRyaW09L15cXHMrfFxccyskL2csc3BhY2VzPS9cXHMrLyxTUEFDRT1cIiBcIix0b2dnbGU9ZnVuY3Rpb24odG9rZW4sZm9yY2Upe3JldHVybiB0aGlzLmNvbnRhaW5zKHRva2VuKT9mb3JjZXx8dGhpcy5yZW1vdmUodG9rZW4pOih2b2lkIDA9PT1mb3JjZXx8Zm9yY2UpJiYoZm9yY2U9ITAsdGhpcy5hZGQodG9rZW4pKSwhIWZvcmNlfSxFbGVtZW50UHJvdG90eXBlPSh3aW5kb3cuRWxlbWVudHx8d2luZG93Lk5vZGV8fHdpbmRvdy5IVE1MRWxlbWVudCkucHJvdG90eXBlLHByb3BlcnRpZXM9W1wibWF0Y2hlc1wiLEVsZW1lbnRQcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxFbGVtZW50UHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8RWxlbWVudFByb3RvdHlwZS5raHRtbE1hdGNoZXNTZWxlY3Rvcnx8RWxlbWVudFByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEVsZW1lbnRQcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3J8fEVsZW1lbnRQcm90b3R5cGUub01hdGNoZXNTZWxlY3Rvcnx8ZnVuY3Rpb24oc2VsZWN0b3Ipe3ZhciBwYXJlbnROb2RlPXRoaXMucGFyZW50Tm9kZTtyZXR1cm4hIXBhcmVudE5vZGUmJi0xPGluZGV4T2YuY2FsbChwYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLHRoaXMpfSxcImNsb3Nlc3RcIixmdW5jdGlvbihzZWxlY3Rvcil7Zm9yKHZhciBtYXRjaGVzLHBhcmVudE5vZGU9dGhpczsobWF0Y2hlcz1wYXJlbnROb2RlJiZwYXJlbnROb2RlLm1hdGNoZXMpJiYhcGFyZW50Tm9kZS5tYXRjaGVzKHNlbGVjdG9yKTspcGFyZW50Tm9kZT1wYXJlbnROb2RlLnBhcmVudE5vZGU7cmV0dXJuIG1hdGNoZXM/cGFyZW50Tm9kZTpudWxsfSxcInByZXBlbmRcIixmdW5jdGlvbigpe3ZhciBmaXJzdENoaWxkPXRoaXMuZmlyc3RDaGlsZCxub2RlPW11dGF0aW9uTWFjcm8oYXJndW1lbnRzKTtmaXJzdENoaWxkP3RoaXMuaW5zZXJ0QmVmb3JlKG5vZGUsZmlyc3RDaGlsZCk6dGhpcy5hcHBlbmRDaGlsZChub2RlKX0sXCJhcHBlbmRcIixmdW5jdGlvbigpe3RoaXMuYXBwZW5kQ2hpbGQobXV0YXRpb25NYWNybyhhcmd1bWVudHMpKX0sXCJiZWZvcmVcIixmdW5jdGlvbigpe3ZhciBwYXJlbnROb2RlPXRoaXMucGFyZW50Tm9kZTtwYXJlbnROb2RlJiZwYXJlbnROb2RlLmluc2VydEJlZm9yZShtdXRhdGlvbk1hY3JvKGFyZ3VtZW50cyksdGhpcyl9LFwiYWZ0ZXJcIixmdW5jdGlvbigpe3ZhciBwYXJlbnROb2RlPXRoaXMucGFyZW50Tm9kZSxuZXh0U2libGluZz10aGlzLm5leHRTaWJsaW5nLG5vZGU9bXV0YXRpb25NYWNybyhhcmd1bWVudHMpO3BhcmVudE5vZGUmJihuZXh0U2libGluZz9wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLG5leHRTaWJsaW5nKTpwYXJlbnROb2RlLmFwcGVuZENoaWxkKG5vZGUpKX0sXCJyZXBsYWNlXCIsZnVuY3Rpb24oKXt0aGlzLnJlcGxhY2VXaXRoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sXCJyZXBsYWNlV2l0aFwiLGZ1bmN0aW9uKCl7dmFyIHBhcmVudE5vZGU9dGhpcy5wYXJlbnROb2RlO3BhcmVudE5vZGUmJnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG11dGF0aW9uTWFjcm8oYXJndW1lbnRzKSx0aGlzKX0sXCJyZW1vdmVcIixmdW5jdGlvbigpe3ZhciBwYXJlbnROb2RlPXRoaXMucGFyZW50Tm9kZTtwYXJlbnROb2RlJiZwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfV0sc2xpY2U9cHJvcGVydGllcy5zbGljZSxpPXByb3BlcnRpZXMubGVuZ3RoO2k7aS09Milwcm9wZXJ0eT1wcm9wZXJ0aWVzW2ktMl0scHJvcGVydHkgaW4gRWxlbWVudFByb3RvdHlwZXx8KEVsZW1lbnRQcm90b3R5cGVbcHJvcGVydHldPXByb3BlcnRpZXNbaS0xXSk7ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikubWF0Y2hlcyhcImFcIil8fChFbGVtZW50UHJvdG90eXBlW3Byb3BlcnR5XT1mdW5jdGlvbihtYXRjaGVzKXtyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiBtYXRjaGVzLmNhbGwodGhpcy5wYXJlbnROb2RlP3RoaXM6ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKHRoaXMpLHNlbGVjdG9yKX19KEVsZW1lbnRQcm90b3R5cGVbcHJvcGVydHldKSksXCJjbGFzc0xpc3RcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudD8oRE9NVG9rZW5MaXN0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuY2xhc3NMaXN0LERPTVRva2VuTGlzdC5hZGQoXCJhXCIsXCJiXCIsXCJhXCIpLFwiYSBiXCIhPURPTVRva2VuTGlzdCYmKEVsZW1lbnRQcm90b3R5cGU9RE9NVG9rZW5MaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImFkZFwiaW4gRWxlbWVudFByb3RvdHlwZXx8KEVsZW1lbnRQcm90b3R5cGU9d2luZG93LkRPTVRva2VuTGlzdC5wcm90b3R5cGUpLHZlcmlmeVRva2VuPWZ1bmN0aW9uKG9yaWdpbmFsKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7KW9yaWdpbmFsLmNhbGwodGhpcyxhcmd1bWVudHNbaSsrXSl9fSxFbGVtZW50UHJvdG90eXBlLmFkZD12ZXJpZnlUb2tlbihFbGVtZW50UHJvdG90eXBlLmFkZCksRWxlbWVudFByb3RvdHlwZS5yZW1vdmU9dmVyaWZ5VG9rZW4oRWxlbWVudFByb3RvdHlwZS5yZW1vdmUpLEVsZW1lbnRQcm90b3R5cGUudG9nZ2xlPXRvZ2dsZSkpOih2ZXJpZnlUb2tlbj1mdW5jdGlvbih0b2tlbil7aWYoIXRva2VuKXRocm93XCJTeW50YXhFcnJvclwiO2lmKHNwYWNlcy50ZXN0KHRva2VuKSl0aHJvd1wiSW52YWxpZENoYXJhY3RlckVycm9yXCI7cmV0dXJuIHRva2VufSxET01Ub2tlbkxpc3Q9ZnVuY3Rpb24obm9kZSl7dGhpcy5fc3ZnPVwib2JqZWN0XCI9PXR5cGVvZiBub2RlLmNsYXNzTmFtZTt2YXIgY2xhc3NOYW1lPSh0aGlzLl9zdmc/bm9kZS5jbGFzc05hbWUuYmFzZVZhbDpub2RlLmNsYXNzTmFtZSkucmVwbGFjZSh0cmltLFwiXCIpO2NsYXNzTmFtZSYmcHJvcGVydGllcy5wdXNoLmFwcGx5KHRoaXMsY2xhc3NOYW1lLnNwbGl0KHNwYWNlcykpLHRoaXMuXz1ub2RlfSxET01Ub2tlbkxpc3QucHJvdG90eXBlPXtsZW5ndGg6MCxhZGQ6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuLGo9MDtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKXRva2VuPWFyZ3VtZW50c1tqXSx0aGlzLmNvbnRhaW5zKHRva2VuKXx8cHJvcGVydGllcy5wdXNoLmNhbGwodGhpcyxwcm9wZXJ0eSk7dGhpcy5fc3ZnP3RoaXMuXy5jbGFzc05hbWUuYmFzZVZhbD1cIlwiK3RoaXM6dGhpcy5fLmNsYXNzTmFtZT1cIlwiK3RoaXN9LGNvbnRhaW5zOmZ1bmN0aW9uKGluZGV4T2Ype3JldHVybiBmdW5jdGlvbih0b2tlbil7cmV0dXJuIGk9aW5kZXhPZi5jYWxsKHRoaXMscHJvcGVydHk9dmVyaWZ5VG9rZW4odG9rZW4pKSxpPi0xfX0oW10uaW5kZXhPZnx8ZnVuY3Rpb24odG9rZW4pe2ZvcihpPXRoaXMubGVuZ3RoO2ktLSYmdGhpc1tpXSE9PXRva2VuOyk7cmV0dXJuIGl9KSxpdGVtOmZ1bmN0aW9uKGkpe3JldHVybiB0aGlzW2ldfHxudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuLGo9MDtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKXRva2VuPWFyZ3VtZW50c1tqXSx0aGlzLmNvbnRhaW5zKHRva2VuKSYmcHJvcGVydGllcy5zcGxpY2UuY2FsbCh0aGlzLGksMSk7dGhpcy5fc3ZnP3RoaXMuXy5jbGFzc05hbWUuYmFzZVZhbD1cIlwiK3RoaXM6dGhpcy5fLmNsYXNzTmFtZT1cIlwiK3RoaXN9LHRvZ2dsZTp0b2dnbGUsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gcHJvcGVydGllcy5qb2luLmNhbGwodGhpcyxTUEFDRSl9fSxkZWZpbmVQcm9wZXJ0eShFbGVtZW50UHJvdG90eXBlLFwiY2xhc3NMaXN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgRE9NVG9rZW5MaXN0KHRoaXMpfSxzZXQ6ZnVuY3Rpb24oKXt9fSkpLFwiaGVhZFwiaW4gZG9jdW1lbnR8fGRlZmluZVByb3BlcnR5KGRvY3VtZW50LFwiaGVhZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaGVhZHx8KGhlYWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdKX19KTt0cnl7bmV3IHdpbmRvdy5DdXN0b21FdmVudChcIj9cIil9Y2F0Y2gob19PKXt3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oZXZlbnROYW1lLGRlZmF1bHRJbml0RGljdCl7ZnVuY3Rpb24gQ3VzdG9tRXZlbnQodHlwZSxldmVudEluaXREaWN0KXt2YXIgZXZlbnQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoZXZlbnROYW1lKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJBbiBldmVudCBuYW1lIG11c3QgYmUgcHJvdmlkZWRcIik7cmV0dXJuXCJFdmVudFwiPT1ldmVudE5hbWUmJihldmVudC5pbml0Q3VzdG9tRXZlbnQ9aW5pdEN1c3RvbUV2ZW50KSxudWxsPT1ldmVudEluaXREaWN0JiYoZXZlbnRJbml0RGljdD1kZWZhdWx0SW5pdERpY3QpLGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLGV2ZW50SW5pdERpY3QuYnViYmxlcyxldmVudEluaXREaWN0LmNhbmNlbGFibGUsZXZlbnRJbml0RGljdC5kZXRhaWwpLGV2ZW50fWZ1bmN0aW9uIGluaXRDdXN0b21FdmVudCh0eXBlLGJ1YmJsZXMsY2FuY2VsYWJsZSxkZXRhaWwpe3RoaXMuaW5pdEV2ZW50KHR5cGUsYnViYmxlcyxjYW5jZWxhYmxlKSx0aGlzLmRldGFpbD1kZXRhaWx9cmV0dXJuIEN1c3RvbUV2ZW50fSh3aW5kb3cuQ3VzdG9tRXZlbnQ/XCJDdXN0b21FdmVudFwiOlwiRXZlbnRcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDpudWxsfSl9fSh3aW5kb3cpLGZ1bmN0aW9uKENTU1NEUHJvdG8pe2Z1bmN0aW9uIGdldEF0dHJpYnV0ZShwcm9wZXJ0eSl7cmV0dXJuIHByb3BlcnR5LnJlcGxhY2UoLy1bYS16XS9nLGZ1bmN0aW9uKGJpdCl7cmV0dXJuIGJpdFsxXS50b1VwcGVyQ2FzZSgpfSl9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIENTU1NEUHJvdG8uc2V0QXR0cmlidXRlJiYoQ1NTU0RQcm90by5zZXRQcm9wZXJ0eT1mdW5jdGlvbihwcm9wZXJ0eSx2YWx1ZSl7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKGdldEF0dHJpYnV0ZShwcm9wZXJ0eSksU3RyaW5nKHZhbHVlKSl9LENTU1NEUHJvdG8uZ2V0UHJvcGVydHlWYWx1ZT1mdW5jdGlvbihwcm9wZXJ0eSl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGdldEF0dHJpYnV0ZShwcm9wZXJ0eSkpfHxudWxsfSxDU1NTRFByb3RvLnJlbW92ZVByb3BlcnR5PWZ1bmN0aW9uKHByb3BlcnR5KXt2YXIgdmFsdWU9dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtyZXR1cm4gdGhpcy5yZW1vdmVBdHRyaWJ1dGUoZ2V0QXR0cmlidXRlKHByb3BlcnR5KSksdmFsdWV9KX0oQ1NTU3R5bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUpLCEoXCJjcmVhdGVFbGVtZW50TlNcImluIGRvY3VtZW50KSl7dmFyIERvY3VtZW50UHJvdG90eXBlPXdpbmRvdy5IVE1MRG9jdW1lbnQucHJvdG90eXBlO0RvY3VtZW50UHJvdG90eXBlLmNyZWF0ZUVsZW1lbnROUz1mdW5jdGlvbihucyxuYW1lKXtpZihucyl0aHJvdyBuZXcgRXJyb3IoXCJzb3JyeSwgdGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlc1wiKTtyZXR1cm4gRG9jdW1lbnRQcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsbmFtZSl9fSFmdW5jdGlvbih3aW5kb3csZG9jdW1lbnQpe2Z1bmN0aW9uIGFkZFN0eWxlU2hlZXQob3duZXJEb2N1bWVudCxjc3NUZXh0KXt2YXIgcD1vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLHBhcmVudD1vd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXXx8b3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIHAuaW5uZXJIVE1MPVwieDxzdHlsZT5cIitjc3NUZXh0K1wiPC9zdHlsZT5cIixwYXJlbnQuaW5zZXJ0QmVmb3JlKHAubGFzdENoaWxkLHBhcmVudC5maXJzdENoaWxkKX1mdW5jdGlvbiBnZXRFbGVtZW50cygpe3ZhciBlbGVtZW50cz1odG1sNS5lbGVtZW50cztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZWxlbWVudHM/ZWxlbWVudHMuc3BsaXQoXCIgXCIpOmVsZW1lbnRzfWZ1bmN0aW9uIGFkZEVsZW1lbnRzKG5ld0VsZW1lbnRzLG93bmVyRG9jdW1lbnQpe3ZhciBlbGVtZW50cz1odG1sNS5lbGVtZW50cztcInN0cmluZ1wiIT10eXBlb2YgZWxlbWVudHMmJihlbGVtZW50cz1lbGVtZW50cy5qb2luKFwiIFwiKSksXCJzdHJpbmdcIiE9dHlwZW9mIG5ld0VsZW1lbnRzJiYobmV3RWxlbWVudHM9bmV3RWxlbWVudHMuam9pbihcIiBcIikpLGh0bWw1LmVsZW1lbnRzPWVsZW1lbnRzK1wiIFwiK25ld0VsZW1lbnRzLHNoaXZEb2N1bWVudChvd25lckRvY3VtZW50KX1mdW5jdGlvbiBnZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KXt2YXIgZGF0YT1leHBhbmRvRGF0YVtvd25lckRvY3VtZW50W2V4cGFuZG9dXTtyZXR1cm4gZGF0YXx8KGRhdGE9e30sZXhwYW5JRCsrLG93bmVyRG9jdW1lbnRbZXhwYW5kb109ZXhwYW5JRCxleHBhbmRvRGF0YVtleHBhbklEXT1kYXRhKSxkYXRhfWZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQobm9kZU5hbWUsb3duZXJEb2N1bWVudCxkYXRhKXtpZihvd25lckRvY3VtZW50fHwob3duZXJEb2N1bWVudD1kb2N1bWVudCksc3VwcG9ydHNVbmtub3duRWxlbWVudHMpcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7ZGF0YXx8KGRhdGE9Z2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCkpO3ZhciBub2RlO3JldHVybiBub2RlPWRhdGEuY2FjaGVbbm9kZU5hbWVdP2RhdGEuY2FjaGVbbm9kZU5hbWVdLmNsb25lTm9kZSgpOnNhdmVDbG9uZXMudGVzdChub2RlTmFtZSk/KGRhdGEuY2FjaGVbbm9kZU5hbWVdPWRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSkpLmNsb25lTm9kZSgpOmRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSksIW5vZGUuY2FuSGF2ZUNoaWxkcmVufHxyZVNraXAudGVzdChub2RlTmFtZSl8fG5vZGUudGFnVXJuP25vZGU6ZGF0YS5mcmFnLmFwcGVuZENoaWxkKG5vZGUpfWZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQob3duZXJEb2N1bWVudCxkYXRhKXtpZihvd25lckRvY3VtZW50fHwob3duZXJEb2N1bWVudD1kb2N1bWVudCksc3VwcG9ydHNVbmtub3duRWxlbWVudHMpcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2RhdGE9ZGF0YXx8Z2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7Zm9yKHZhciBjbG9uZT1kYXRhLmZyYWcuY2xvbmVOb2RlKCksaT0wLGVsZW1zPWdldEVsZW1lbnRzKCksbD1lbGVtcy5sZW5ndGg7bD5pO2krKyljbG9uZS5jcmVhdGVFbGVtZW50KGVsZW1zW2ldKTtyZXR1cm4gY2xvbmV9ZnVuY3Rpb24gc2hpdk1ldGhvZHMob3duZXJEb2N1bWVudCxkYXRhKXtkYXRhLmNhY2hlfHwoZGF0YS5jYWNoZT17fSxkYXRhLmNyZWF0ZUVsZW09b3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50LGRhdGEuY3JlYXRlRnJhZz1vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQsZGF0YS5mcmFnPWRhdGEuY3JlYXRlRnJhZygpKSxvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24obm9kZU5hbWUpe3JldHVybiBodG1sNS5zaGl2TWV0aG9kcz9jcmVhdGVFbGVtZW50KG5vZGVOYW1lLG93bmVyRG9jdW1lbnQsZGF0YSk6ZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKX0sb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50PUZ1bmN0aW9uKFwiaCxmXCIsXCJyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50O2guc2hpdk1ldGhvZHMmJihcIitnZXRFbGVtZW50cygpLmpvaW4oKS5yZXBsYWNlKC9bXFx3XFwtOl0rL2csZnVuY3Rpb24obm9kZU5hbWUpe3JldHVybiBkYXRhLmNyZWF0ZUVsZW0obm9kZU5hbWUpLGRhdGEuZnJhZy5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSwnYyhcIicrbm9kZU5hbWUrJ1wiKSd9KStcIik7cmV0dXJuIG59XCIpKGh0bWw1LGRhdGEuZnJhZyl9ZnVuY3Rpb24gc2hpdkRvY3VtZW50KG93bmVyRG9jdW1lbnQpe293bmVyRG9jdW1lbnR8fChvd25lckRvY3VtZW50PWRvY3VtZW50KTt2YXIgZGF0YT1nZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KTtyZXR1cm4haHRtbDUuc2hpdkNTU3x8c3VwcG9ydHNIdG1sNVN0eWxlc3x8ZGF0YS5oYXNDU1N8fChkYXRhLmhhc0NTUz0hIWFkZFN0eWxlU2hlZXQob3duZXJEb2N1bWVudCxcImFydGljbGUsYXNpZGUsZGlhbG9nLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb257ZGlzcGxheTpibG9ja31tYXJre2JhY2tncm91bmQ6I0ZGMDtjb2xvcjojMDAwfXRlbXBsYXRle2Rpc3BsYXk6bm9uZX1cIikpLHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzfHxzaGl2TWV0aG9kcyhvd25lckRvY3VtZW50LGRhdGEpLG93bmVyRG9jdW1lbnR9dmFyIHN1cHBvcnRzSHRtbDVTdHlsZXMsc3VwcG9ydHNVbmtub3duRWxlbWVudHMsdmVyc2lvbj1cIjMuNy4yXCIsb3B0aW9ucz13aW5kb3cuaHRtbDV8fHt9LHJlU2tpcD0vXjx8Xig/OmJ1dHRvbnxtYXB8c2VsZWN0fHRleHRhcmVhfG9iamVjdHxpZnJhbWV8b3B0aW9ufG9wdGdyb3VwKSQvaSxzYXZlQ2xvbmVzPS9eKD86YXxifGNvZGV8ZGl2fGZpZWxkc2V0fGgxfGgyfGgzfGg0fGg1fGg2fGl8bGFiZWx8bGl8b2x8cHxxfHNwYW58c3Ryb25nfHN0eWxlfHRhYmxlfHRib2R5fHRkfHRofHRyfHVsKSQvaSxleHBhbmRvPVwiX2h0bWw1c2hpdlwiLGV4cGFuSUQ9MCxleHBhbmRvRGF0YT17fTshZnVuY3Rpb24oKXt0cnl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7YS5pbm5lckhUTUw9XCI8eHl6PjwveHl6PlwiLHN1cHBvcnRzSHRtbDVTdHlsZXM9XCJoaWRkZW5cImluIGEsc3VwcG9ydHNVbmtub3duRWxlbWVudHM9MT09YS5jaGlsZE5vZGVzLmxlbmd0aHx8ZnVuY3Rpb24oKXtkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTt2YXIgZnJhZz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGZyYWcuY2xvbmVOb2RlfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZnJhZy5jcmVhdGVEb2N1bWVudEZyYWdtZW50fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZnJhZy5jcmVhdGVFbGVtZW50fSgpfWNhdGNoKGUpe3N1cHBvcnRzSHRtbDVTdHlsZXM9ITAsc3VwcG9ydHNVbmtub3duRWxlbWVudHM9ITB9fSgpO3ZhciBodG1sNT17ZWxlbWVudHM6b3B0aW9ucy5lbGVtZW50c3x8XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZGlhbG9nIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRlbXBsYXRlIHRpbWUgdmlkZW9cIix2ZXJzaW9uOnZlcnNpb24sc2hpdkNTUzpvcHRpb25zLnNoaXZDU1MhPT0hMSxzdXBwb3J0c1Vua25vd25FbGVtZW50czpzdXBwb3J0c1Vua25vd25FbGVtZW50cyxzaGl2TWV0aG9kczpvcHRpb25zLnNoaXZNZXRob2RzIT09ITEsdHlwZTpcImRlZmF1bHRcIixzaGl2RG9jdW1lbnQ6c2hpdkRvY3VtZW50LGNyZWF0ZUVsZW1lbnQ6Y3JlYXRlRWxlbWVudCxjcmVhdGVEb2N1bWVudEZyYWdtZW50OmNyZWF0ZURvY3VtZW50RnJhZ21lbnQsYWRkRWxlbWVudHM6YWRkRWxlbWVudHN9O3dpbmRvdy5odG1sNT1odG1sNSxzaGl2RG9jdW1lbnQoZG9jdW1lbnQpfSh0aGlzLGRvY3VtZW50KX19KS5jYWxsKHRoaXMsXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0czp0aGlzLmFpZ2h0PXt9KSxmdW5jdGlvbihyb290LGZhY3Rvcnkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZmFjdG9yeSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZmFjdG9yeSgpOnJvb3QucmV0dXJuRXhwb3J0cz1mYWN0b3J5KCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiB0b0ludGVnZXIobil7cmV0dXJuIG49K24sbiE9PW4/bj0wOjAhPT1uJiZuIT09MS8wJiZuIT09LSgxLzApJiYobj0obj4wfHwtMSkqTWF0aC5mbG9vcihNYXRoLmFicyhuKSkpLG59ZnVuY3Rpb24gaXNQcmltaXRpdmUoaW5wdXQpe3ZhciB0eXBlPXR5cGVvZiBpbnB1dDtyZXR1cm4gbnVsbD09PWlucHV0fHxcInVuZGVmaW5lZFwiPT09dHlwZXx8XCJib29sZWFuXCI9PT10eXBlfHxcIm51bWJlclwiPT09dHlwZXx8XCJzdHJpbmdcIj09PXR5cGV9ZnVuY3Rpb24gdG9QcmltaXRpdmUoaW5wdXQpe3ZhciB2YWwsdmFsdWVPZix0b1N0cjtpZihpc1ByaW1pdGl2ZShpbnB1dCkpcmV0dXJuIGlucHV0O2lmKHZhbHVlT2Y9aW5wdXQudmFsdWVPZixpc0Z1bmN0aW9uKHZhbHVlT2YpJiYodmFsPXZhbHVlT2YuY2FsbChpbnB1dCksaXNQcmltaXRpdmUodmFsKSkpcmV0dXJuIHZhbDtpZih0b1N0cj1pbnB1dC50b1N0cmluZyxpc0Z1bmN0aW9uKHRvU3RyKSYmKHZhbD10b1N0ci5jYWxsKGlucHV0KSxpc1ByaW1pdGl2ZSh2YWwpKSlyZXR1cm4gdmFsO3Rocm93IG5ldyBUeXBlRXJyb3J9ZnVuY3Rpb24gRW1wdHkoKXt9dmFyIGRlZmluZVByb3BlcnR5LEFycmF5UHJvdG90eXBlPUFycmF5LnByb3RvdHlwZSxPYmplY3RQcm90b3R5cGU9T2JqZWN0LnByb3RvdHlwZSxGdW5jdGlvblByb3RvdHlwZT1GdW5jdGlvbi5wcm90b3R5cGUsU3RyaW5nUHJvdG90eXBlPVN0cmluZy5wcm90b3R5cGUsTnVtYmVyUHJvdG90eXBlPU51bWJlci5wcm90b3R5cGUsYXJyYXlfc2xpY2U9QXJyYXlQcm90b3R5cGUuc2xpY2UsYXJyYXlfc3BsaWNlPUFycmF5UHJvdG90eXBlLnNwbGljZSxhcnJheV91bnNoaWZ0PShBcnJheVByb3RvdHlwZS5wdXNoLEFycmF5UHJvdG90eXBlLnVuc2hpZnQpLGNhbGw9RnVuY3Rpb25Qcm90b3R5cGUuY2FsbCxfdG9TdHJpbmc9T2JqZWN0UHJvdG90eXBlLnRvU3RyaW5nLGlzRnVuY3Rpb249ZnVuY3Rpb24odmFsKXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3RQcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpfSxpc1JlZ2V4PWZ1bmN0aW9uKHZhbCl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PU9iamVjdFByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCl9LGlzQXJyYXk9ZnVuY3Rpb24ob2JqKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1fdG9TdHJpbmcuY2FsbChvYmopfSxpc1N0cmluZz1mdW5jdGlvbihvYmope3JldHVyblwiW29iamVjdCBTdHJpbmddXCI9PT1fdG9TdHJpbmcuY2FsbChvYmopfSxpc0FyZ3VtZW50cz1mdW5jdGlvbih2YWx1ZSl7dmFyIHN0cj1fdG9TdHJpbmcuY2FsbCh2YWx1ZSksaXNBcmdzPVwiW29iamVjdCBBcmd1bWVudHNdXCI9PT1zdHI7cmV0dXJuIGlzQXJnc3x8KGlzQXJncz0haXNBcnJheSh2YWx1ZSkmJm51bGwhPT12YWx1ZSYmXCJvYmplY3RcIj09dHlwZW9mIHZhbHVlJiZcIm51bWJlclwiPT10eXBlb2YgdmFsdWUubGVuZ3RoJiZ2YWx1ZS5sZW5ndGg+PTAmJmlzRnVuY3Rpb24odmFsdWUuY2FsbGVlKSksaXNBcmdzfSxzdXBwb3J0c0Rlc2NyaXB0b3JzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmZnVuY3Rpb24oKXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInhcIix7fSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO2RlZmluZVByb3BlcnR5PXN1cHBvcnRzRGVzY3JpcHRvcnM/ZnVuY3Rpb24ob2JqZWN0LG5hbWUsbWV0aG9kLGZvcmNlQXNzaWduKXshZm9yY2VBc3NpZ24mJm5hbWUgaW4gb2JqZWN0fHxPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LG5hbWUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOm1ldGhvZH0pfTpmdW5jdGlvbihvYmplY3QsbmFtZSxtZXRob2QsZm9yY2VBc3NpZ24peyFmb3JjZUFzc2lnbiYmbmFtZSBpbiBvYmplY3R8fChvYmplY3RbbmFtZV09bWV0aG9kKX07dmFyIGRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24ob2JqZWN0LG1hcCxmb3JjZUFzc2lnbil7Zm9yKHZhciBuYW1lIGluIG1hcClPYmplY3RQcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXAsbmFtZSkmJmRlZmluZVByb3BlcnR5KG9iamVjdCxuYW1lLG1hcFtuYW1lXSxmb3JjZUFzc2lnbil9LHRvT2JqZWN0PWZ1bmN0aW9uKG8pe2lmKG51bGw9PW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbid0IGNvbnZlcnQgXCIrbytcIiB0byBvYmplY3RcIik7cmV0dXJuIE9iamVjdChvKX0sVG9VaW50MzI9ZnVuY3Rpb24oeCl7cmV0dXJuIHg+Pj4wfTtkZWZpbmVQcm9wZXJ0aWVzKEZ1bmN0aW9uUHJvdG90eXBlLHtiaW5kOmZ1bmN0aW9uKHRoYXQpe3ZhciB0YXJnZXQ9dGhpcztpZighaXNGdW5jdGlvbih0YXJnZXQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlIFwiK3RhcmdldCk7Zm9yKHZhciBhcmdzPWFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGJpbmRlcj1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBib3VuZCl7dmFyIHJlc3VsdD10YXJnZXQuYXBwbHkodGhpcyxhcmdzLmNvbmNhdChhcnJheV9zbGljZS5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KHJlc3VsdCk9PT1yZXN1bHQ/cmVzdWx0OnRoaXN9cmV0dXJuIHRhcmdldC5hcHBseSh0aGF0LGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzKSkpfSxib3VuZExlbmd0aD1NYXRoLm1heCgwLHRhcmdldC5sZW5ndGgtYXJncy5sZW5ndGgpLGJvdW5kQXJncz1bXSxpPTA7Ym91bmRMZW5ndGg+aTtpKyspYm91bmRBcmdzLnB1c2goXCIkXCIraSk7dmFyIGJvdW5kPUZ1bmN0aW9uKFwiYmluZGVyXCIsXCJyZXR1cm4gZnVuY3Rpb24gKFwiK2JvdW5kQXJncy5qb2luKFwiLFwiKStcIil7cmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9XCIpKGJpbmRlcik7cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH19KTt2YXIgZGVmaW5lR2V0dGVyLGRlZmluZVNldHRlcixsb29rdXBHZXR0ZXIsbG9va3VwU2V0dGVyLHN1cHBvcnRzQWNjZXNzb3JzLG93bnM9Y2FsbC5iaW5kKE9iamVjdFByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7KHN1cHBvcnRzQWNjZXNzb3JzPW93bnMoT2JqZWN0UHJvdG90eXBlLFwiX19kZWZpbmVHZXR0ZXJfX1wiKSkmJihkZWZpbmVHZXR0ZXI9Y2FsbC5iaW5kKE9iamVjdFByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKE9iamVjdFByb3RvdHlwZS5fX2RlZmluZVNldHRlcl9fKSxsb29rdXBHZXR0ZXI9Y2FsbC5iaW5kKE9iamVjdFByb3RvdHlwZS5fX2xvb2t1cEdldHRlcl9fKSxsb29rdXBTZXR0ZXI9Y2FsbC5iaW5kKE9iamVjdFByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKSk7dmFyIHNwbGljZU5vb3BSZXR1cm5zRW1wdHlBcnJheT1mdW5jdGlvbigpe3ZhciBhPVsxLDJdLHJlc3VsdD1hLnNwbGljZSgpO3JldHVybiAyPT09YS5sZW5ndGgmJmlzQXJyYXkocmVzdWx0KSYmMD09PXJlc3VsdC5sZW5ndGh9KCk7ZGVmaW5lUHJvcGVydGllcyhBcnJheVByb3RvdHlwZSx7c3BsaWNlOmZ1bmN0aW9uKHN0YXJ0LGRlbGV0ZUNvdW50KXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/W106YXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHNwbGljZU5vb3BSZXR1cm5zRW1wdHlBcnJheSk7dmFyIHNwbGljZVdvcmtzV2l0aEVtcHR5T2JqZWN0PWZ1bmN0aW9uKCl7dmFyIG9iaj17fTtyZXR1cm4gQXJyYXlQcm90b3R5cGUuc3BsaWNlLmNhbGwob2JqLDAsMCwxKSwxPT09b2JqLmxlbmd0aH0oKTtkZWZpbmVQcm9wZXJ0aWVzKEFycmF5UHJvdG90eXBlLHtzcGxpY2U6ZnVuY3Rpb24oc3RhcnQsZGVsZXRlQ291bnQpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybltdO3ZhciBhcmdzPWFyZ3VtZW50cztyZXR1cm4gdGhpcy5sZW5ndGg9TWF0aC5tYXgodG9JbnRlZ2VyKHRoaXMubGVuZ3RoKSwwKSxhcmd1bWVudHMubGVuZ3RoPjAmJlwibnVtYmVyXCIhPXR5cGVvZiBkZWxldGVDb3VudCYmKGFyZ3M9YXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpLGFyZ3MubGVuZ3RoPDI/YXJncy5wdXNoKHRoaXMubGVuZ3RoLXN0YXJ0KTphcmdzWzFdPXRvSW50ZWdlcihkZWxldGVDb3VudCkpLGFycmF5X3NwbGljZS5hcHBseSh0aGlzLGFyZ3MpfX0sIXNwbGljZVdvcmtzV2l0aEVtcHR5T2JqZWN0KTt2YXIgaGFzVW5zaGlmdFJldHVyblZhbHVlQnVnPTEhPT1bXS51bnNoaWZ0KDApO2RlZmluZVByb3BlcnRpZXMoQXJyYXlQcm90b3R5cGUse3Vuc2hpZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXJyYXlfdW5zaGlmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5sZW5ndGh9fSxoYXNVbnNoaWZ0UmV0dXJuVmFsdWVCdWcpLGRlZmluZVByb3BlcnRpZXMoQXJyYXkse2lzQXJyYXk6aXNBcnJheX0pO3ZhciBib3hlZFN0cmluZz1PYmplY3QoXCJhXCIpLHNwbGl0U3RyaW5nPVwiYVwiIT09Ym94ZWRTdHJpbmdbMF18fCEoMCBpbiBib3hlZFN0cmluZykscHJvcGVybHlCb3hlc0NvbnRleHQ9ZnVuY3Rpb24obWV0aG9kKXt2YXIgcHJvcGVybHlCb3hlc05vblN0cmljdD0hMCxwcm9wZXJseUJveGVzU3RyaWN0PSEwO3JldHVybiBtZXRob2QmJihtZXRob2QuY2FsbChcImZvb1wiLGZ1bmN0aW9uKF8sX18sY29udGV4dCl7XCJvYmplY3RcIiE9dHlwZW9mIGNvbnRleHQmJihwcm9wZXJseUJveGVzTm9uU3RyaWN0PSExKX0pLG1ldGhvZC5jYWxsKFsxXSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3Byb3Blcmx5Qm94ZXNTdHJpY3Q9XCJzdHJpbmdcIj09dHlwZW9mIHRoaXN9LFwieFwiKSksISFtZXRob2QmJnByb3Blcmx5Qm94ZXNOb25TdHJpY3QmJnByb3Blcmx5Qm94ZXNTdHJpY3R9O2RlZmluZVByb3BlcnRpZXMoQXJyYXlQcm90b3R5cGUse2ZvckVhY2g6ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJmlzU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXCJcIik6b2JqZWN0LHRoaXNwPWFyZ3VtZW50c1sxXSxpPS0xLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWlzRnVuY3Rpb24oZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7KytpPGxlbmd0aDspaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KX19LCFwcm9wZXJseUJveGVzQ29udGV4dChBcnJheVByb3RvdHlwZS5mb3JFYWNoKSksZGVmaW5lUHJvcGVydGllcyhBcnJheVByb3RvdHlwZSx7bWFwOmZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZpc1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFwiXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1BcnJheShsZW5ndGgpLHRoaXNwPWFyZ3VtZW50c1sxXTtpZighaXNGdW5jdGlvbihmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHRbaV09ZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9fSwhcHJvcGVybHlCb3hlc0NvbnRleHQoQXJyYXlQcm90b3R5cGUubWFwKSksZGVmaW5lUHJvcGVydGllcyhBcnJheVByb3RvdHlwZSx7ZmlsdGVyOmZ1bmN0aW9uKGZ1bil7dmFyIHZhbHVlLG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZpc1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFwiXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1bXSx0aGlzcD1hcmd1bWVudHNbMV07aWYoIWlzRnVuY3Rpb24oZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYodmFsdWU9c2VsZltpXSxmdW4uY2FsbCh0aGlzcCx2YWx1ZSxpLG9iamVjdCkmJnJlc3VsdC5wdXNoKHZhbHVlKSk7cmV0dXJuIHJlc3VsdH19LCFwcm9wZXJseUJveGVzQ29udGV4dChBcnJheVByb3RvdHlwZS5maWx0ZXIpKSxkZWZpbmVQcm9wZXJ0aWVzKEFycmF5UHJvdG90eXBlLHtldmVyeTpmdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmaXNTdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcIlwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoIWlzRnVuY3Rpb24oZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiYhZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITE7cmV0dXJuITB9fSwhcHJvcGVybHlCb3hlc0NvbnRleHQoQXJyYXlQcm90b3R5cGUuZXZlcnkpKSxkZWZpbmVQcm9wZXJ0aWVzKEFycmF5UHJvdG90eXBlLHtzb21lOmZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZpc1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFwiXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZighaXNGdW5jdGlvbihmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiEwO3JldHVybiExfX0sIXByb3Blcmx5Qm94ZXNDb250ZXh0KEFycmF5UHJvdG90eXBlLnNvbWUpKTt2YXIgcmVkdWNlQ29lcmNlc1RvT2JqZWN0PSExO0FycmF5UHJvdG90eXBlLnJlZHVjZSYmKHJlZHVjZUNvZXJjZXNUb09iamVjdD1cIm9iamVjdFwiPT10eXBlb2YgQXJyYXlQcm90b3R5cGUucmVkdWNlLmNhbGwoXCJlczVcIixmdW5jdGlvbihfLF9fLF9fXyxsaXN0KXtyZXR1cm4gbGlzdH0pKSxkZWZpbmVQcm9wZXJ0aWVzKEFycmF5UHJvdG90eXBlLHtyZWR1Y2U6ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJmlzU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXCJcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWlzRnVuY3Rpb24oZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtpZighbGVuZ3RoJiYxPT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTt2YXIgcmVzdWx0LGk9MDtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaSsrXTticmVha31pZigrK2k+PWxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1mb3IoO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH19LCFyZWR1Y2VDb2VyY2VzVG9PYmplY3QpO3ZhciByZWR1Y2VSaWdodENvZXJjZXNUb09iamVjdD0hMTtBcnJheVByb3RvdHlwZS5yZWR1Y2VSaWdodCYmKHJlZHVjZVJpZ2h0Q29lcmNlc1RvT2JqZWN0PVwib2JqZWN0XCI9PXR5cGVvZiBBcnJheVByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKFwiZXM1XCIsZnVuY3Rpb24oXyxfXyxfX18sbGlzdCl7cmV0dXJuIGxpc3R9KSksZGVmaW5lUHJvcGVydGllcyhBcnJheVByb3RvdHlwZSx7cmVkdWNlUmlnaHQ6ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJmlzU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXCJcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWlzRnVuY3Rpb24oZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtpZighbGVuZ3RoJiYxPT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpO3ZhciByZXN1bHQsaT1sZW5ndGgtMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaS0tXTticmVha31pZigtLWk8MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWlmKDA+aSlyZXR1cm4gcmVzdWx0O2RvIGkgaW4gc2VsZiYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTt3aGlsZShpLS0pO3JldHVybiByZXN1bHR9fSwhcmVkdWNlUmlnaHRDb2VyY2VzVG9PYmplY3QpO3ZhciBoYXNGaXJlZm94MkluZGV4T2ZCdWc9QXJyYXkucHJvdG90eXBlLmluZGV4T2YmJi0xIT09WzAsMV0uaW5kZXhPZigxLDIpO2RlZmluZVByb3BlcnRpZXMoQXJyYXlQcm90b3R5cGUse2luZGV4T2Y6ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmaXNTdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcIlwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9MDtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT10b0ludGVnZXIoYXJndW1lbnRzWzFdKSksaT1pPj0wP2k6TWF0aC5tYXgoMCxsZW5ndGgraSk7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmc2VsZltpXT09PXNvdWdodClyZXR1cm4gaTtyZXR1cm4tMX19LGhhc0ZpcmVmb3gySW5kZXhPZkJ1Zyk7dmFyIGhhc0ZpcmVmb3gyTGFzdEluZGV4T2ZCdWc9QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiYtMSE9PVswLDFdLmxhc3RJbmRleE9mKDAsLTMpO2RlZmluZVByb3BlcnRpZXMoQXJyYXlQcm90b3R5cGUse2xhc3RJbmRleE9mOmZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJmlzU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXCJcIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPWxlbmd0aC0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPU1hdGgubWluKGksdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpKSxpPWk+PTA/aTpsZW5ndGgtTWF0aC5hYnMoaSk7aT49MDtpLS0paWYoaSBpbiBzZWxmJiZzb3VnaHQ9PT1zZWxmW2ldKXJldHVybiBpO3JldHVybi0xfX0saGFzRmlyZWZveDJMYXN0SW5kZXhPZkJ1Zyk7dmFyIGhhc0RvbnRFbnVtQnVnPSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoXCJ0b1N0cmluZ1wiKSxoYXNQcm90b0VudW1CdWc9ZnVuY3Rpb24oKXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlKFwicHJvdG90eXBlXCIpLGRvbnRFbnVtcz1bXCJ0b1N0cmluZ1wiLFwidG9Mb2NhbGVTdHJpbmdcIixcInZhbHVlT2ZcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwiY29uc3RydWN0b3JcIl0sZG9udEVudW1zTGVuZ3RoPWRvbnRFbnVtcy5sZW5ndGg7ZGVmaW5lUHJvcGVydGllcyhPYmplY3Qse2tleXM6ZnVuY3Rpb24ob2JqZWN0KXt2YXIgaXNGbj1pc0Z1bmN0aW9uKG9iamVjdCksaXNBcmdzPWlzQXJndW1lbnRzKG9iamVjdCksaXNPYmplY3Q9bnVsbCE9PW9iamVjdCYmXCJvYmplY3RcIj09dHlwZW9mIG9iamVjdCxpc1N0cj1pc09iamVjdCYmaXNTdHJpbmcob2JqZWN0KTtpZighaXNPYmplY3QmJiFpc0ZuJiYhaXNBcmdzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XCIpO3ZhciB0aGVLZXlzPVtdLHNraXBQcm90bz1oYXNQcm90b0VudW1CdWcmJmlzRm47aWYoaXNTdHJ8fGlzQXJncylmb3IodmFyIGk9MDtpPG9iamVjdC5sZW5ndGg7KytpKXRoZUtleXMucHVzaChTdHJpbmcoaSkpO2Vsc2UgZm9yKHZhciBuYW1lIGluIG9iamVjdClza2lwUHJvdG8mJlwicHJvdG90eXBlXCI9PT1uYW1lfHwhb3ducyhvYmplY3QsbmFtZSl8fHRoZUtleXMucHVzaChTdHJpbmcobmFtZSkpO2lmKGhhc0RvbnRFbnVtQnVnKWZvcih2YXIgY3Rvcj1vYmplY3QuY29uc3RydWN0b3Isc2tpcENvbnN0cnVjdG9yPWN0b3ImJmN0b3IucHJvdG90eXBlPT09b2JqZWN0LGo9MDtkb250RW51bXNMZW5ndGg+ajtqKyspe3ZhciBkb250RW51bT1kb250RW51bXNbal07c2tpcENvbnN0cnVjdG9yJiZcImNvbnN0cnVjdG9yXCI9PT1kb250RW51bXx8IW93bnMob2JqZWN0LGRvbnRFbnVtKXx8dGhlS2V5cy5wdXNoKGRvbnRFbnVtKX1yZXR1cm4gdGhlS2V5c319KTt2YXIga2V5c1dvcmtzV2l0aEFyZ3VtZW50cz1PYmplY3Qua2V5cyYmZnVuY3Rpb24oKXtyZXR1cm4gMj09PU9iamVjdC5rZXlzKGFyZ3VtZW50cykubGVuZ3RofSgxLDIpLG9yaWdpbmFsS2V5cz1PYmplY3Qua2V5cztkZWZpbmVQcm9wZXJ0aWVzKE9iamVjdCx7a2V5czpmdW5jdGlvbihvYmplY3Qpe3JldHVybiBvcmlnaW5hbEtleXMoaXNBcmd1bWVudHMob2JqZWN0KT9BcnJheVByb3RvdHlwZS5zbGljZS5jYWxsKG9iamVjdCk6b2JqZWN0KX19LCFrZXlzV29ya3NXaXRoQXJndW1lbnRzKTt2YXIgbmVnYXRpdmVEYXRlPS02MjE5ODc1NTJlNSxuZWdhdGl2ZVllYXJTdHJpbmc9XCItMDAwMDAxXCIsaGFzTmVnYXRpdmVEYXRlQnVnPURhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nJiYtMT09PW5ldyBEYXRlKG5lZ2F0aXZlRGF0ZSkudG9JU09TdHJpbmcoKS5pbmRleE9mKG5lZ2F0aXZlWWVhclN0cmluZyk7XG5kZWZpbmVQcm9wZXJ0aWVzKERhdGUucHJvdG90eXBlLHt0b0lTT1N0cmluZzpmdW5jdGlvbigpe3ZhciByZXN1bHQsbGVuZ3RoLHZhbHVlLHllYXIsbW9udGg7aWYoIWlzRmluaXRlKHRoaXMpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcgY2FsbGVkIG9uIG5vbi1maW5pdGUgdmFsdWUuXCIpO2Zvcih5ZWFyPXRoaXMuZ2V0VVRDRnVsbFllYXIoKSxtb250aD10aGlzLmdldFVUQ01vbnRoKCkseWVhcis9TWF0aC5mbG9vcihtb250aC8xMiksbW9udGg9KG1vbnRoJTEyKzEyKSUxMixyZXN1bHQ9W21vbnRoKzEsdGhpcy5nZXRVVENEYXRlKCksdGhpcy5nZXRVVENIb3VycygpLHRoaXMuZ2V0VVRDTWludXRlcygpLHRoaXMuZ2V0VVRDU2Vjb25kcygpXSx5ZWFyPSgwPnllYXI/XCItXCI6eWVhcj45OTk5P1wiK1wiOlwiXCIpKyhcIjAwMDAwXCIrTWF0aC5hYnMoeWVhcikpLnNsaWNlKHllYXI+PTAmJjk5OTk+PXllYXI/LTQ6LTYpLGxlbmd0aD1yZXN1bHQubGVuZ3RoO2xlbmd0aC0tOyl2YWx1ZT1yZXN1bHRbbGVuZ3RoXSwxMD52YWx1ZSYmKHJlc3VsdFtsZW5ndGhdPVwiMFwiK3ZhbHVlKTtyZXR1cm4geWVhcitcIi1cIityZXN1bHQuc2xpY2UoMCwyKS5qb2luKFwiLVwiKStcIlRcIityZXN1bHQuc2xpY2UoMikuam9pbihcIjpcIikrXCIuXCIrKFwiMDAwXCIrdGhpcy5nZXRVVENNaWxsaXNlY29uZHMoKSkuc2xpY2UoLTMpK1wiWlwifX0saGFzTmVnYXRpdmVEYXRlQnVnKTt2YXIgZGF0ZVRvSlNPTklzU3VwcG9ydGVkPSExO3RyeXtkYXRlVG9KU09OSXNTdXBwb3J0ZWQ9RGF0ZS5wcm90b3R5cGUudG9KU09OJiZudWxsPT09bmV3IERhdGUoTmFOKS50b0pTT04oKSYmLTEhPT1uZXcgRGF0ZShuZWdhdGl2ZURhdGUpLnRvSlNPTigpLmluZGV4T2YobmVnYXRpdmVZZWFyU3RyaW5nKSYmRGF0ZS5wcm90b3R5cGUudG9KU09OLmNhbGwoe3RvSVNPU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSl9Y2F0Y2goZSl7fWRhdGVUb0pTT05Jc1N1cHBvcnRlZHx8KERhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihrZXkpe3ZhciB0b0lTTyxvPU9iamVjdCh0aGlzKSx0dj10b1ByaW1pdGl2ZShvKTtpZihcIm51bWJlclwiPT10eXBlb2YgdHYmJiFpc0Zpbml0ZSh0dikpcmV0dXJuIG51bGw7aWYodG9JU089by50b0lTT1N0cmluZyxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0b0lTTyl0aHJvdyBuZXcgVHlwZUVycm9yKFwidG9JU09TdHJpbmcgcHJvcGVydHkgaXMgbm90IGNhbGxhYmxlXCIpO3JldHVybiB0b0lTTy5jYWxsKG8pfSk7dmFyIHN1cHBvcnRzRXh0ZW5kZWRZZWFycz0xZTE1PT09RGF0ZS5wYXJzZShcIiswMzM2NTgtMDktMjdUMDE6NDY6NDAuMDAwWlwiKSxhY2NlcHRzSW52YWxpZERhdGVzPSFpc05hTihEYXRlLnBhcnNlKFwiMjAxMi0wNC0wNFQyNDowMDowMC41MDBaXCIpKXx8IWlzTmFOKERhdGUucGFyc2UoXCIyMDEyLTExLTMxVDIzOjU5OjU5LjAwMFpcIikpLGRvZXNOb3RQYXJzZVkyS05ld1llYXI9aXNOYU4oRGF0ZS5wYXJzZShcIjIwMDAtMDEtMDFUMDA6MDA6MDAuMDAwWlwiKSk7KCFEYXRlLnBhcnNlfHxkb2VzTm90UGFyc2VZMktOZXdZZWFyfHxhY2NlcHRzSW52YWxpZERhdGVzfHwhc3VwcG9ydHNFeHRlbmRlZFllYXJzKSYmKERhdGU9ZnVuY3Rpb24oTmF0aXZlRGF0ZSl7ZnVuY3Rpb24gRGF0ZShZLE0sRCxoLG0scyxtcyl7dmFyIGxlbmd0aD1hcmd1bWVudHMubGVuZ3RoO2lmKHRoaXMgaW5zdGFuY2VvZiBOYXRpdmVEYXRlKXt2YXIgZGF0ZT0xPT09bGVuZ3RoJiZTdHJpbmcoWSk9PT1ZP25ldyBOYXRpdmVEYXRlKERhdGUucGFyc2UoWSkpOmxlbmd0aD49Nz9uZXcgTmF0aXZlRGF0ZShZLE0sRCxoLG0scyxtcyk6bGVuZ3RoPj02P25ldyBOYXRpdmVEYXRlKFksTSxELGgsbSxzKTpsZW5ndGg+PTU/bmV3IE5hdGl2ZURhdGUoWSxNLEQsaCxtKTpsZW5ndGg+PTQ/bmV3IE5hdGl2ZURhdGUoWSxNLEQsaCk6bGVuZ3RoPj0zP25ldyBOYXRpdmVEYXRlKFksTSxEKTpsZW5ndGg+PTI/bmV3IE5hdGl2ZURhdGUoWSxNKTpsZW5ndGg+PTE/bmV3IE5hdGl2ZURhdGUoWSk6bmV3IE5hdGl2ZURhdGU7cmV0dXJuIGRhdGUuY29uc3RydWN0b3I9RGF0ZSxkYXRlfXJldHVybiBOYXRpdmVEYXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkYXlGcm9tTW9udGgoeWVhcixtb250aCl7dmFyIHQ9bW9udGg+MT8xOjA7cmV0dXJuIG1vbnRoc1ttb250aF0rTWF0aC5mbG9vcigoeWVhci0xOTY5K3QpLzQpLU1hdGguZmxvb3IoKHllYXItMTkwMSt0KS8xMDApK01hdGguZmxvb3IoKHllYXItMTYwMSt0KS80MDApKzM2NSooeWVhci0xOTcwKX1mdW5jdGlvbiB0b1VUQyh0KXtyZXR1cm4gTnVtYmVyKG5ldyBOYXRpdmVEYXRlKDE5NzAsMCwxLDAsMCwwLHQpKX12YXIgaXNvRGF0ZUV4cHJlc3Npb249bmV3IFJlZ0V4cChcIl4oXFxcXGR7NH18WystXVxcXFxkezZ9KSg/Oi0oXFxcXGR7Mn0pKD86LShcXFxcZHsyfSkoPzpUKFxcXFxkezJ9KTooXFxcXGR7Mn0pKD86OihcXFxcZHsyfSkoPzooXFxcXC5cXFxcZHsxLH0pKT8pPyhafCg/OihbLStdKShcXFxcZHsyfSk6KFxcXFxkezJ9KSkpPyk/KT8pPyRcIiksbW9udGhzPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzQsMzY1XTtmb3IodmFyIGtleSBpbiBOYXRpdmVEYXRlKURhdGVba2V5XT1OYXRpdmVEYXRlW2tleV07cmV0dXJuIERhdGUubm93PU5hdGl2ZURhdGUubm93LERhdGUuVVRDPU5hdGl2ZURhdGUuVVRDLERhdGUucHJvdG90eXBlPU5hdGl2ZURhdGUucHJvdG90eXBlLERhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPURhdGUsRGF0ZS5wYXJzZT1mdW5jdGlvbihzdHJpbmcpe3ZhciBtYXRjaD1pc29EYXRlRXhwcmVzc2lvbi5leGVjKHN0cmluZyk7aWYobWF0Y2gpe3ZhciByZXN1bHQseWVhcj1OdW1iZXIobWF0Y2hbMV0pLG1vbnRoPU51bWJlcihtYXRjaFsyXXx8MSktMSxkYXk9TnVtYmVyKG1hdGNoWzNdfHwxKS0xLGhvdXI9TnVtYmVyKG1hdGNoWzRdfHwwKSxtaW51dGU9TnVtYmVyKG1hdGNoWzVdfHwwKSxzZWNvbmQ9TnVtYmVyKG1hdGNoWzZdfHwwKSxtaWxsaXNlY29uZD1NYXRoLmZsb29yKDFlMypOdW1iZXIobWF0Y2hbN118fDApKSxpc0xvY2FsVGltZT1Cb29sZWFuKG1hdGNoWzRdJiYhbWF0Y2hbOF0pLHNpZ25PZmZzZXQ9XCItXCI9PT1tYXRjaFs5XT8xOi0xLGhvdXJPZmZzZXQ9TnVtYmVyKG1hdGNoWzEwXXx8MCksbWludXRlT2Zmc2V0PU51bWJlcihtYXRjaFsxMV18fDApO3JldHVybihtaW51dGU+MHx8c2Vjb25kPjB8fG1pbGxpc2Vjb25kPjA/MjQ6MjUpPmhvdXImJjYwPm1pbnV0ZSYmNjA+c2Vjb25kJiYxZTM+bWlsbGlzZWNvbmQmJm1vbnRoPi0xJiYxMj5tb250aCYmMjQ+aG91ck9mZnNldCYmNjA+bWludXRlT2Zmc2V0JiZkYXk+LTEmJmRheTxkYXlGcm9tTW9udGgoeWVhcixtb250aCsxKS1kYXlGcm9tTW9udGgoeWVhcixtb250aCkmJihyZXN1bHQ9NjAqKDI0KihkYXlGcm9tTW9udGgoeWVhcixtb250aCkrZGF5KStob3VyK2hvdXJPZmZzZXQqc2lnbk9mZnNldCkscmVzdWx0PTFlMyooNjAqKHJlc3VsdCttaW51dGUrbWludXRlT2Zmc2V0KnNpZ25PZmZzZXQpK3NlY29uZCkrbWlsbGlzZWNvbmQsaXNMb2NhbFRpbWUmJihyZXN1bHQ9dG9VVEMocmVzdWx0KSkscmVzdWx0Pj0tODY0ZTEzJiY4NjRlMTM+PXJlc3VsdCk/cmVzdWx0Ok5hTn1yZXR1cm4gTmF0aXZlRGF0ZS5wYXJzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LERhdGV9KERhdGUpKSxEYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgaGFzVG9GaXhlZEJ1Z3M9TnVtYmVyUHJvdG90eXBlLnRvRml4ZWQmJihcIjAuMDAwXCIhPT04ZS01LnRvRml4ZWQoMyl8fFwiMVwiIT09LjkudG9GaXhlZCgwKXx8XCIxLjI1XCIhPT0xLjI1NS50b0ZpeGVkKDIpfHxcIjEwMDAwMDAwMDAwMDAwMDAxMjhcIiE9PTB4ZGUwYjZiM2E3NjQwMDgwLnRvRml4ZWQoMCkpLHRvRml4ZWRIZWxwZXJzPXtiYXNlOjFlNyxzaXplOjYsZGF0YTpbMCwwLDAsMCwwLDBdLG11bHRpcGx5OmZ1bmN0aW9uKG4sYyl7Zm9yKHZhciBpPS0xOysraTx0b0ZpeGVkSGVscGVycy5zaXplOyljKz1uKnRvRml4ZWRIZWxwZXJzLmRhdGFbaV0sdG9GaXhlZEhlbHBlcnMuZGF0YVtpXT1jJXRvRml4ZWRIZWxwZXJzLmJhc2UsYz1NYXRoLmZsb29yKGMvdG9GaXhlZEhlbHBlcnMuYmFzZSl9LGRpdmlkZTpmdW5jdGlvbihuKXtmb3IodmFyIGk9dG9GaXhlZEhlbHBlcnMuc2l6ZSxjPTA7LS1pPj0wOyljKz10b0ZpeGVkSGVscGVycy5kYXRhW2ldLHRvRml4ZWRIZWxwZXJzLmRhdGFbaV09TWF0aC5mbG9vcihjL24pLGM9YyVuKnRvRml4ZWRIZWxwZXJzLmJhc2V9LG51bVRvU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPXRvRml4ZWRIZWxwZXJzLnNpemUscz1cIlwiOy0taT49MDspaWYoXCJcIiE9PXN8fDA9PT1pfHwwIT09dG9GaXhlZEhlbHBlcnMuZGF0YVtpXSl7dmFyIHQ9U3RyaW5nKHRvRml4ZWRIZWxwZXJzLmRhdGFbaV0pO1wiXCI9PT1zP3M9dDpzKz1cIjAwMDAwMDBcIi5zbGljZSgwLDctdC5sZW5ndGgpK3R9cmV0dXJuIHN9LHBvdzpmdW5jdGlvbiBwb3coeCxuLGFjYyl7cmV0dXJuIDA9PT1uP2FjYzpuJTI9PT0xP3Bvdyh4LG4tMSxhY2MqeCk6cG93KHgqeCxuLzIsYWNjKX0sbG9nOmZ1bmN0aW9uKHgpe2Zvcih2YXIgbj0wO3g+PTQwOTY7KW4rPTEyLHgvPTQwOTY7Zm9yKDt4Pj0yOyluKz0xLHgvPTI7cmV0dXJuIG59fTtkZWZpbmVQcm9wZXJ0aWVzKE51bWJlclByb3RvdHlwZSx7dG9GaXhlZDpmdW5jdGlvbihmcmFjdGlvbkRpZ2l0cyl7dmFyIGYseCxzLG0sZSx6LGosaztpZihmPU51bWJlcihmcmFjdGlvbkRpZ2l0cyksZj1mIT09Zj8wOk1hdGguZmxvb3IoZiksMD5mfHxmPjIwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiTnVtYmVyLnRvRml4ZWQgY2FsbGVkIHdpdGggaW52YWxpZCBudW1iZXIgb2YgZGVjaW1hbHNcIik7aWYoeD1OdW1iZXIodGhpcykseCE9PXgpcmV0dXJuXCJOYU5cIjtpZigtMWUyMT49eHx8eD49MWUyMSlyZXR1cm4gU3RyaW5nKHgpO2lmKHM9XCJcIiwwPngmJihzPVwiLVwiLHg9LXgpLG09XCIwXCIseD4xZS0yMSlpZihlPXRvRml4ZWRIZWxwZXJzLmxvZyh4KnRvRml4ZWRIZWxwZXJzLnBvdygyLDY5LDEpKS02OSx6PTA+ZT94KnRvRml4ZWRIZWxwZXJzLnBvdygyLC1lLDEpOngvdG9GaXhlZEhlbHBlcnMucG93KDIsZSwxKSx6Kj00NTAzNTk5NjI3MzcwNDk2LGU9NTItZSxlPjApe2Zvcih0b0ZpeGVkSGVscGVycy5tdWx0aXBseSgwLHopLGo9ZjtqPj03Oyl0b0ZpeGVkSGVscGVycy5tdWx0aXBseSgxZTcsMCksai09Nztmb3IodG9GaXhlZEhlbHBlcnMubXVsdGlwbHkodG9GaXhlZEhlbHBlcnMucG93KDEwLGosMSksMCksaj1lLTE7aj49MjM7KXRvRml4ZWRIZWxwZXJzLmRpdmlkZSgxPDwyMyksai09MjM7dG9GaXhlZEhlbHBlcnMuZGl2aWRlKDE8PGopLHRvRml4ZWRIZWxwZXJzLm11bHRpcGx5KDEsMSksdG9GaXhlZEhlbHBlcnMuZGl2aWRlKDIpLG09dG9GaXhlZEhlbHBlcnMubnVtVG9TdHJpbmcoKX1lbHNlIHRvRml4ZWRIZWxwZXJzLm11bHRpcGx5KDAseiksdG9GaXhlZEhlbHBlcnMubXVsdGlwbHkoMTw8LWUsMCksbT10b0ZpeGVkSGVscGVycy5udW1Ub1N0cmluZygpK1wiMC4wMDAwMDAwMDAwMDAwMDAwMDAwMFwiLnNsaWNlKDIsMitmKTtyZXR1cm4gZj4wPyhrPW0ubGVuZ3RoLG09Zj49az9zK1wiMC4wMDAwMDAwMDAwMDAwMDAwMDAwXCIuc2xpY2UoMCxmLWsrMikrbTpzK20uc2xpY2UoMCxrLWYpK1wiLlwiK20uc2xpY2Uoay1mKSk6bT1zK20sbX19LGhhc1RvRml4ZWRCdWdzKTt2YXIgc3RyaW5nX3NwbGl0PVN0cmluZ1Byb3RvdHlwZS5zcGxpdDsyIT09XCJhYlwiLnNwbGl0KC8oPzphYikqLykubGVuZ3RofHw0IT09XCIuXCIuc3BsaXQoLyguPykoLj8pLykubGVuZ3RofHxcInRcIj09PVwidGVzc3RcIi5zcGxpdCgvKHMpKi8pWzFdfHw0IT09XCJ0ZXN0XCIuc3BsaXQoLyg/OikvLC0xKS5sZW5ndGh8fFwiXCIuc3BsaXQoLy4/LykubGVuZ3RofHxcIi5cIi5zcGxpdCgvKCkoKS8pLmxlbmd0aD4xPyFmdW5jdGlvbigpe3ZhciBjb21wbGlhbnRFeGVjTnBjZz12b2lkIDA9PT0vKCk/Py8uZXhlYyhcIlwiKVsxXTtTdHJpbmdQcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24oc2VwYXJhdG9yLGxpbWl0KXt2YXIgc3RyaW5nPXRoaXM7aWYodm9pZCAwPT09c2VwYXJhdG9yJiYwPT09bGltaXQpcmV0dXJuW107aWYoXCJbb2JqZWN0IFJlZ0V4cF1cIiE9PV90b1N0cmluZy5jYWxsKHNlcGFyYXRvcikpcmV0dXJuIHN0cmluZ19zcGxpdC5jYWxsKHRoaXMsc2VwYXJhdG9yLGxpbWl0KTt2YXIgc2VwYXJhdG9yMixtYXRjaCxsYXN0SW5kZXgsbGFzdExlbmd0aCxvdXRwdXQ9W10sZmxhZ3M9KHNlcGFyYXRvci5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyhzZXBhcmF0b3IubXVsdGlsaW5lP1wibVwiOlwiXCIpKyhzZXBhcmF0b3IuZXh0ZW5kZWQ/XCJ4XCI6XCJcIikrKHNlcGFyYXRvci5zdGlja3k/XCJ5XCI6XCJcIiksbGFzdExhc3RJbmRleD0wO2ZvcihzZXBhcmF0b3I9bmV3IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLGZsYWdzK1wiZ1wiKSxzdHJpbmcrPVwiXCIsY29tcGxpYW50RXhlY05wY2d8fChzZXBhcmF0b3IyPW5ldyBSZWdFeHAoXCJeXCIrc2VwYXJhdG9yLnNvdXJjZStcIiQoPyFcXFxccylcIixmbGFncykpLGxpbWl0PXZvaWQgMD09PWxpbWl0Py0xPj4+MDpUb1VpbnQzMihsaW1pdCk7KG1hdGNoPXNlcGFyYXRvci5leGVjKHN0cmluZykpJiYobGFzdEluZGV4PW1hdGNoLmluZGV4K21hdGNoWzBdLmxlbmd0aCwhKGxhc3RJbmRleD5sYXN0TGFzdEluZGV4JiYob3V0cHV0LnB1c2goc3RyaW5nLnNsaWNlKGxhc3RMYXN0SW5kZXgsbWF0Y2guaW5kZXgpKSwhY29tcGxpYW50RXhlY05wY2cmJm1hdGNoLmxlbmd0aD4xJiZtYXRjaFswXS5yZXBsYWNlKHNlcGFyYXRvcjIsZnVuY3Rpb24oKXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGgtMjtpKyspdm9pZCAwPT09YXJndW1lbnRzW2ldJiYobWF0Y2hbaV09dm9pZCAwKX0pLG1hdGNoLmxlbmd0aD4xJiZtYXRjaC5pbmRleDxzdHJpbmcubGVuZ3RoJiZBcnJheVByb3RvdHlwZS5wdXNoLmFwcGx5KG91dHB1dCxtYXRjaC5zbGljZSgxKSksbGFzdExlbmd0aD1tYXRjaFswXS5sZW5ndGgsbGFzdExhc3RJbmRleD1sYXN0SW5kZXgsb3V0cHV0Lmxlbmd0aD49bGltaXQpKSk7KXNlcGFyYXRvci5sYXN0SW5kZXg9PT1tYXRjaC5pbmRleCYmc2VwYXJhdG9yLmxhc3RJbmRleCsrO3JldHVybiBsYXN0TGFzdEluZGV4PT09c3RyaW5nLmxlbmd0aD8obGFzdExlbmd0aHx8IXNlcGFyYXRvci50ZXN0KFwiXCIpKSYmb3V0cHV0LnB1c2goXCJcIik6b3V0cHV0LnB1c2goc3RyaW5nLnNsaWNlKGxhc3RMYXN0SW5kZXgpKSxvdXRwdXQubGVuZ3RoPmxpbWl0P291dHB1dC5zbGljZSgwLGxpbWl0KTpvdXRwdXR9fSgpOlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGgmJihTdHJpbmdQcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24oc2VwYXJhdG9yLGxpbWl0KXtyZXR1cm4gdm9pZCAwPT09c2VwYXJhdG9yJiYwPT09bGltaXQ/W106c3RyaW5nX3NwbGl0LmNhbGwodGhpcyxzZXBhcmF0b3IsbGltaXQpfSk7dmFyIHN0cl9yZXBsYWNlPVN0cmluZ1Byb3RvdHlwZS5yZXBsYWNlLHJlcGxhY2VSZXBvcnRzR3JvdXBzQ29ycmVjdGx5PWZ1bmN0aW9uKCl7dmFyIGdyb3Vwcz1bXTtyZXR1cm5cInhcIi5yZXBsYWNlKC94KC4pPy9nLGZ1bmN0aW9uKG1hdGNoLGdyb3VwKXtncm91cHMucHVzaChncm91cCl9KSwxPT09Z3JvdXBzLmxlbmd0aCYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGdyb3Vwc1swXX0oKTtyZXBsYWNlUmVwb3J0c0dyb3Vwc0NvcnJlY3RseXx8KFN0cmluZ1Byb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHNlYXJjaFZhbHVlLHJlcGxhY2VWYWx1ZSl7dmFyIGlzRm49aXNGdW5jdGlvbihyZXBsYWNlVmFsdWUpLGhhc0NhcHR1cmluZ0dyb3Vwcz1pc1JlZ2V4KHNlYXJjaFZhbHVlKSYmL1xcKVsqP10vLnRlc3Qoc2VhcmNoVmFsdWUuc291cmNlKTtpZihpc0ZuJiZoYXNDYXB0dXJpbmdHcm91cHMpe3ZhciB3cmFwcGVkUmVwbGFjZVZhbHVlPWZ1bmN0aW9uKG1hdGNoKXt2YXIgbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGgsb3JpZ2luYWxMYXN0SW5kZXg9c2VhcmNoVmFsdWUubGFzdEluZGV4O3NlYXJjaFZhbHVlLmxhc3RJbmRleD0wO3ZhciBhcmdzPXNlYXJjaFZhbHVlLmV4ZWMobWF0Y2gpfHxbXTtyZXR1cm4gc2VhcmNoVmFsdWUubGFzdEluZGV4PW9yaWdpbmFsTGFzdEluZGV4LGFyZ3MucHVzaChhcmd1bWVudHNbbGVuZ3RoLTJdLGFyZ3VtZW50c1tsZW5ndGgtMV0pLHJlcGxhY2VWYWx1ZS5hcHBseSh0aGlzLGFyZ3MpfTtyZXR1cm4gc3RyX3JlcGxhY2UuY2FsbCh0aGlzLHNlYXJjaFZhbHVlLHdyYXBwZWRSZXBsYWNlVmFsdWUpfXJldHVybiBzdHJfcmVwbGFjZS5jYWxsKHRoaXMsc2VhcmNoVmFsdWUscmVwbGFjZVZhbHVlKX0pO3ZhciBzdHJpbmdfc3Vic3RyPVN0cmluZ1Byb3RvdHlwZS5zdWJzdHIsaGFzTmVnYXRpdmVTdWJzdHJCdWc9XCJcIi5zdWJzdHImJlwiYlwiIT09XCIwYlwiLnN1YnN0cigtMSk7ZGVmaW5lUHJvcGVydGllcyhTdHJpbmdQcm90b3R5cGUse3N1YnN0cjpmdW5jdGlvbihzdGFydCxsZW5ndGgpe3JldHVybiBzdHJpbmdfc3Vic3RyLmNhbGwodGhpcywwPnN0YXJ0JiYoc3RhcnQ9dGhpcy5sZW5ndGgrc3RhcnQpPDA/MDpzdGFydCxsZW5ndGgpfX0saGFzTmVnYXRpdmVTdWJzdHJCdWcpO3ZhciB3cz1cIlx0XFxuXHUwMDBiXFxmXFxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFx1MjAyOFxcdTIwMjlcXHVmZWZmXCIsemVyb1dpZHRoPVwi4oCLXCIsd3NSZWdleENoYXJzPVwiW1wiK3dzK1wiXVwiLHRyaW1CZWdpblJlZ2V4cD1uZXcgUmVnRXhwKFwiXlwiK3dzUmVnZXhDaGFycyt3c1JlZ2V4Q2hhcnMrXCIqXCIpLHRyaW1FbmRSZWdleHA9bmV3IFJlZ0V4cCh3c1JlZ2V4Q2hhcnMrd3NSZWdleENoYXJzK1wiKiRcIiksaGFzVHJpbVdoaXRlc3BhY2VCdWc9U3RyaW5nUHJvdG90eXBlLnRyaW0mJih3cy50cmltKCl8fCF6ZXJvV2lkdGgudHJpbSgpKTtkZWZpbmVQcm9wZXJ0aWVzKFN0cmluZ1Byb3RvdHlwZSx7dHJpbTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXN8fG51bGw9PT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW4ndCBjb252ZXJ0IFwiK3RoaXMrXCIgdG8gb2JqZWN0XCIpO3JldHVybiBTdHJpbmcodGhpcykucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsXCJcIikucmVwbGFjZSh0cmltRW5kUmVnZXhwLFwiXCIpfX0saGFzVHJpbVdoaXRlc3BhY2VCdWcpLCg4IT09cGFyc2VJbnQod3MrXCIwOFwiKXx8MjIhPT1wYXJzZUludCh3cytcIjB4MTZcIikpJiYocGFyc2VJbnQ9ZnVuY3Rpb24ob3JpZ1BhcnNlSW50KXt2YXIgaGV4UmVnZXg9L14wW3hYXS87cmV0dXJuIGZ1bmN0aW9uKHN0cixyYWRpeCl7cmV0dXJuIHN0cj1TdHJpbmcoc3RyKS50cmltKCksTnVtYmVyKHJhZGl4KXx8KHJhZGl4PWhleFJlZ2V4LnRlc3Qoc3RyKT8xNjoxMCksb3JpZ1BhcnNlSW50KHN0cixyYWRpeCl9fShwYXJzZUludCkpfSksZnVuY3Rpb24ocm9vdCxmYWN0b3J5KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZhY3RvcnkpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTpyb290LnJldHVybkV4cG9ydHM9ZmFjdG9yeSgpfSh0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZG9lc0dldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmsob2JqZWN0KXt0cnl7cmV0dXJuIG9iamVjdC5zZW50aW5lbD0wLDA9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxcInNlbnRpbmVsXCIpLnZhbHVlfWNhdGNoKGV4Y2VwdGlvbil7fX1mdW5jdGlvbiBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKG9iamVjdCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LFwic2VudGluZWxcIix7fSksXCJzZW50aW5lbFwiaW4gb2JqZWN0fWNhdGNoKGV4Y2VwdGlvbil7fX12YXIgZGVmaW5lR2V0dGVyLGRlZmluZVNldHRlcixsb29rdXBHZXR0ZXIsbG9va3VwU2V0dGVyLGNhbGw9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscHJvdG90eXBlT2ZPYmplY3Q9T2JqZWN0LnByb3RvdHlwZSxvd25zPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSksc3VwcG9ydHNBY2Nlc3NvcnM9b3ducyhwcm90b3R5cGVPZk9iamVjdCxcIl9fZGVmaW5lR2V0dGVyX19cIik7aWYoc3VwcG9ydHNBY2Nlc3NvcnMmJihkZWZpbmVHZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18pLGRlZmluZVNldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVTZXR0ZXJfXyksbG9va3VwR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cEdldHRlcl9fKSxsb29rdXBTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18pKSxPYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChPYmplY3QuZ2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24ob2JqZWN0KXt2YXIgcHJvdG89b2JqZWN0Ll9fcHJvdG9fXztyZXR1cm4gcHJvdG98fG51bGw9PT1wcm90bz9wcm90bzpvYmplY3QuY29uc3RydWN0b3I/b2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTpwcm90b3R5cGVPZk9iamVjdH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25PYmplY3Q9ZG9lc0dldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmsoe30pLGdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25Eb209XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50fHxkb2VzR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yV29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtpZighZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yV29ya3NPbkRvbXx8IWdldE93blByb3BlcnR5RGVzY3JpcHRvcldvcmtzT25PYmplY3QpdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvckZhbGxiYWNrPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3J9aWYoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3J8fGdldE93blByb3BlcnR5RGVzY3JpcHRvckZhbGxiYWNrKXt2YXIgRVJSX05PTl9PQkpFQ1Q9XCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhIG5vbi1vYmplY3Q6IFwiO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtpZihcIm9iamVjdFwiIT10eXBlb2Ygb2JqZWN0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCtvYmplY3QpO2lmKGdldE93blByb3BlcnR5RGVzY3JpcHRvckZhbGxiYWNrKXRyeXtyZXR1cm4gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yRmFsbGJhY2suY2FsbChPYmplY3Qsb2JqZWN0LHByb3BlcnR5KX1jYXRjaChleGNlcHRpb24pe31pZihvd25zKG9iamVjdCxwcm9wZXJ0eSkpe3ZhciBkZXNjcmlwdG9yPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07aWYoc3VwcG9ydHNBY2Nlc3NvcnMpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXyxub3RQcm90b3R5cGVPZk9iamVjdD1vYmplY3QhPT1wcm90b3R5cGVPZk9iamVjdDtub3RQcm90b3R5cGVPZk9iamVjdCYmKG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3QpO3ZhciBnZXR0ZXI9bG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSksc2V0dGVyPWxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpO2lmKG5vdFByb3RvdHlwZU9mT2JqZWN0JiYob2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGUpLGdldHRlcnx8c2V0dGVyKXJldHVybiBnZXR0ZXImJihkZXNjcmlwdG9yLmdldD1nZXR0ZXIpLHNldHRlciYmKGRlc2NyaXB0b3Iuc2V0PXNldHRlciksZGVzY3JpcHRvcn1yZXR1cm4gZGVzY3JpcHRvci52YWx1ZT1vYmplY3RbcHJvcGVydHldLGRlc2NyaXB0b3Iud3JpdGFibGU9ITAsZGVzY3JpcHRvcn19fWlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHwoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KX0pLCFPYmplY3QuY3JlYXRlKXt2YXIgY3JlYXRlRW1wdHksc3VwcG9ydHNQcm90bz0hKHtfX3Byb3RvX186bnVsbH1pbnN0YW5jZW9mIE9iamVjdCk7Y3JlYXRlRW1wdHk9c3VwcG9ydHNQcm90b3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P2Z1bmN0aW9uKCl7cmV0dXJue19fcHJvdG9fXzpudWxsfX06ZnVuY3Rpb24oKXtmdW5jdGlvbiBFbXB0eSgpe312YXIgaWZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIikscGFyZW50PWRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixwYXJlbnQuYXBwZW5kQ2hpbGQoaWZyYW1lKSxpZnJhbWUuc3JjPVwiamF2YXNjcmlwdDpcIjt2YXIgZW1wdHk9aWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0LnByb3RvdHlwZTtyZXR1cm4gcGFyZW50LnJlbW92ZUNoaWxkKGlmcmFtZSksaWZyYW1lPW51bGwsZGVsZXRlIGVtcHR5LmNvbnN0cnVjdG9yLGRlbGV0ZSBlbXB0eS5oYXNPd25Qcm9wZXJ0eSxkZWxldGUgZW1wdHkucHJvcGVydHlJc0VudW1lcmFibGUsZGVsZXRlIGVtcHR5LmlzUHJvdG90eXBlT2YsZGVsZXRlIGVtcHR5LnRvTG9jYWxlU3RyaW5nLGRlbGV0ZSBlbXB0eS50b1N0cmluZyxkZWxldGUgZW1wdHkudmFsdWVPZixlbXB0eS5fX3Byb3RvX189bnVsbCxFbXB0eS5wcm90b3R5cGU9ZW1wdHksY3JlYXRlRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVtcHR5fSxuZXcgRW1wdHl9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe2Z1bmN0aW9uIFR5cGUoKXt9dmFyIG9iamVjdDtpZihudWxsPT09cHJvdG90eXBlKW9iamVjdD1jcmVhdGVFbXB0eSgpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHByb3RvdHlwZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgcHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsXCIpO1R5cGUucHJvdG90eXBlPXByb3RvdHlwZSxvYmplY3Q9bmV3IFR5cGUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9cmV0dXJuIHZvaWQgMCE9PXByb3BlcnRpZXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCxwcm9wZXJ0aWVzKSxvYmplY3R9fWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIGRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdD1kb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KSxkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb209XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50fHxkb2VzRGVmaW5lUHJvcGVydHlXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2lmKCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3R8fCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2s9T2JqZWN0LmRlZmluZVByb3BlcnR5LGRlZmluZVByb3BlcnRpZXNGYWxsYmFjaz1PYmplY3QuZGVmaW5lUHJvcGVydGllc31pZighT2JqZWN0LmRlZmluZVByb3BlcnR5fHxkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXt2YXIgRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUj1cIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcIixFUlJfTk9OX09CSkVDVF9UQVJHRVQ9XCJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6IFwiLEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRD1cImdldHRlcnMgJiBzZXR0ZXJzIGNhbiBub3QgYmUgZGVmaW5lZCBvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lXCI7T2JqZWN0LmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygb2JqZWN0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9UQVJHRVQrb2JqZWN0KTtpZihcIm9iamVjdFwiIT10eXBlb2YgZGVzY3JpcHRvciYmXCJmdW5jdGlvblwiIT10eXBlb2YgZGVzY3JpcHRvcnx8bnVsbD09PWRlc2NyaXB0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SK2Rlc2NyaXB0b3IpO2lmKGRlZmluZVByb3BlcnR5RmFsbGJhY2spdHJ5e3JldHVybiBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrLmNhbGwoT2JqZWN0LG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKX1jYXRjaChleGNlcHRpb24pe31pZihvd25zKGRlc2NyaXB0b3IsXCJ2YWx1ZVwiKSlpZihzdXBwb3J0c0FjY2Vzc29ycyYmKGxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpfHxsb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KSkpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0LGRlbGV0ZSBvYmplY3RbcHJvcGVydHldLG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1lbHNlIG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZTtlbHNle2lmKCFzdXBwb3J0c0FjY2Vzc29ycyl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7b3ducyhkZXNjcmlwdG9yLFwiZ2V0XCIpJiZkZWZpbmVHZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IuZ2V0KSxvd25zKGRlc2NyaXB0b3IsXCJzZXRcIikmJmRlZmluZVNldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5zZXQpfXJldHVybiBvYmplY3R9fSghT2JqZWN0LmRlZmluZVByb3BlcnRpZXN8fGRlZmluZVByb3BlcnRpZXNGYWxsYmFjaykmJihPYmplY3QuZGVmaW5lUHJvcGVydGllcz1mdW5jdGlvbihvYmplY3QscHJvcGVydGllcyl7aWYoZGVmaW5lUHJvcGVydGllc0ZhbGxiYWNrKXRyeXtyZXR1cm4gZGVmaW5lUHJvcGVydGllc0ZhbGxiYWNrLmNhbGwoT2JqZWN0LG9iamVjdCxwcm9wZXJ0aWVzKX1jYXRjaChleGNlcHRpb24pe31mb3IodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpb3ducyhwcm9wZXJ0aWVzLHByb3BlcnR5KSYmXCJfX3Byb3RvX19cIiE9PXByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LHByb3BlcnR5LHByb3BlcnRpZXNbcHJvcGVydHldKTtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LnNlYWx8fChPYmplY3Quc2VhbD1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuZnJlZXplfHwoT2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGV4Y2VwdGlvbil7T2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihmcmVlemVPYmplY3Qpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG9iamVjdD9vYmplY3Q6ZnJlZXplT2JqZWN0KG9iamVjdCl9fShPYmplY3QuZnJlZXplKX1PYmplY3QucHJldmVudEV4dGVuc2lvbnN8fChPYmplY3QucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmlzU2VhbGVkfHwoT2JqZWN0LmlzU2VhbGVkPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuITF9KSxPYmplY3QuaXNGcm96ZW58fChPYmplY3QuaXNGcm96ZW49ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4hMX0pLE9iamVjdC5pc0V4dGVuc2libGV8fChPYmplY3QuaXNFeHRlbnNpYmxlPWZ1bmN0aW9uKG9iamVjdCl7aWYoT2JqZWN0KG9iamVjdCkhPT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IodmFyIG5hbWU9XCJcIjtvd25zKG9iamVjdCxuYW1lKTspbmFtZSs9XCI/XCI7b2JqZWN0W25hbWVdPSEwO3ZhciByZXR1cm5WYWx1ZT1vd25zKG9iamVjdCxuYW1lKTtyZXR1cm4gZGVsZXRlIG9iamVjdFtuYW1lXSxyZXR1cm5WYWx1ZX0pfSk7IiwiIWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbm9vcCgpe31mdW5jdGlvbiBpZGVudGl0eSh2KXtyZXR1cm4gdn1mdW5jdGlvbiB0b0Jvb2wodil7cmV0dXJuISF2fWZ1bmN0aW9uIG5vdElkKHYpe3JldHVybiF2fWZ1bmN0aW9uIG9ubHlfb25jZShmbil7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobnVsbD09PWZuKXRocm93IG5ldyBFcnJvcihcIkNhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC5cIik7Zm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGZuPW51bGx9fWZ1bmN0aW9uIF9vbmNlKGZuKXtyZXR1cm4gZnVuY3Rpb24oKXtudWxsIT09Zm4mJihmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksZm49bnVsbCl9fWZ1bmN0aW9uIF9pc0FycmF5TGlrZShhcnIpe3JldHVybiBfaXNBcnJheShhcnIpfHxcIm51bWJlclwiPT10eXBlb2YgYXJyLmxlbmd0aCYmYXJyLmxlbmd0aD49MCYmYXJyLmxlbmd0aCUxPT09MH1mdW5jdGlvbiBfZWFjaChjb2xsLGl0ZXJhdG9yKXtyZXR1cm4gX2lzQXJyYXlMaWtlKGNvbGwpP19hcnJheUVhY2goY29sbCxpdGVyYXRvcik6X2ZvckVhY2hPZihjb2xsLGl0ZXJhdG9yKX1mdW5jdGlvbiBfYXJyYXlFYWNoKGFycixpdGVyYXRvcil7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9YXJyLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspaXRlcmF0b3IoYXJyW2luZGV4XSxpbmRleCxhcnIpfWZ1bmN0aW9uIF9tYXAoYXJyLGl0ZXJhdG9yKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnIubGVuZ3RoLHJlc3VsdD1BcnJheShsZW5ndGgpOysraW5kZXg8bGVuZ3RoOylyZXN1bHRbaW5kZXhdPWl0ZXJhdG9yKGFycltpbmRleF0saW5kZXgsYXJyKTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIF9yYW5nZShjb3VudCl7cmV0dXJuIF9tYXAoQXJyYXkoY291bnQpLGZ1bmN0aW9uKHYsaSl7cmV0dXJuIGl9KX1mdW5jdGlvbiBfcmVkdWNlKGFycixpdGVyYXRvcixtZW1vKXtyZXR1cm4gX2FycmF5RWFjaChhcnIsZnVuY3Rpb24oeCxpLGEpe21lbW89aXRlcmF0b3IobWVtbyx4LGksYSl9KSxtZW1vfWZ1bmN0aW9uIF9mb3JFYWNoT2Yob2JqZWN0LGl0ZXJhdG9yKXtfYXJyYXlFYWNoKF9rZXlzKG9iamVjdCksZnVuY3Rpb24oa2V5KXtpdGVyYXRvcihvYmplY3Rba2V5XSxrZXkpfSl9ZnVuY3Rpb24gX2luZGV4T2YoYXJyLGl0ZW0pe2Zvcih2YXIgaT0wO2k8YXJyLmxlbmd0aDtpKyspaWYoYXJyW2ldPT09aXRlbSlyZXR1cm4gaTtyZXR1cm4tMX1mdW5jdGlvbiBfa2V5SXRlcmF0b3IoY29sbCl7dmFyIGxlbixrZXlzLGk9LTE7cmV0dXJuIF9pc0FycmF5TGlrZShjb2xsKT8obGVuPWNvbGwubGVuZ3RoLGZ1bmN0aW9uKCl7cmV0dXJuIGkrKyxsZW4+aT9pOm51bGx9KTooa2V5cz1fa2V5cyhjb2xsKSxsZW49a2V5cy5sZW5ndGgsZnVuY3Rpb24oKXtyZXR1cm4gaSsrLGxlbj5pP2tleXNbaV06bnVsbH0pfWZ1bmN0aW9uIF9yZXN0UGFyYW0oZnVuYyxzdGFydEluZGV4KXtyZXR1cm4gc3RhcnRJbmRleD1udWxsPT1zdGFydEluZGV4P2Z1bmMubGVuZ3RoLTE6K3N0YXJ0SW5kZXgsZnVuY3Rpb24oKXtmb3IodmFyIGxlbmd0aD1NYXRoLm1heChhcmd1bWVudHMubGVuZ3RoLXN0YXJ0SW5kZXgsMCkscmVzdD1BcnJheShsZW5ndGgpLGluZGV4PTA7bGVuZ3RoPmluZGV4O2luZGV4KyspcmVzdFtpbmRleF09YXJndW1lbnRzW2luZGV4K3N0YXJ0SW5kZXhdO3N3aXRjaChzdGFydEluZGV4KXtjYXNlIDA6cmV0dXJuIGZ1bmMuY2FsbCh0aGlzLHJlc3QpO2Nhc2UgMTpyZXR1cm4gZnVuYy5jYWxsKHRoaXMsYXJndW1lbnRzWzBdLHJlc3QpO2Nhc2UgMjpyZXR1cm4gZnVuYy5jYWxsKHRoaXMsYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSxyZXN0KX19fWZ1bmN0aW9uIF93aXRob3V0SW5kZXgoaXRlcmF0b3Ipe3JldHVybiBmdW5jdGlvbih2YWx1ZSxpbmRleCxjYWxsYmFjayl7cmV0dXJuIGl0ZXJhdG9yKHZhbHVlLGNhbGxiYWNrKX19ZnVuY3Rpb24gX2VhY2hPZkxpbWl0KGxpbWl0KXtyZXR1cm4gZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNhbGxiYWNrKXtjYWxsYmFjaz1fb25jZShjYWxsYmFja3x8bm9vcCksb2JqPW9ianx8W107dmFyIG5leHRLZXk9X2tleUl0ZXJhdG9yKG9iaik7aWYoMD49bGltaXQpcmV0dXJuIGNhbGxiYWNrKG51bGwpO3ZhciBkb25lPSExLHJ1bm5pbmc9MCxlcnJvcmVkPSExOyFmdW5jdGlvbiByZXBsZW5pc2goKXtpZihkb25lJiYwPj1ydW5uaW5nKXJldHVybiBjYWxsYmFjayhudWxsKTtmb3IoO2xpbWl0PnJ1bm5pbmcmJiFlcnJvcmVkOyl7dmFyIGtleT1uZXh0S2V5KCk7aWYobnVsbD09PWtleSlyZXR1cm4gZG9uZT0hMCx2b2lkKDA+PXJ1bm5pbmcmJmNhbGxiYWNrKG51bGwpKTtydW5uaW5nKz0xLGl0ZXJhdG9yKG9ialtrZXldLGtleSxvbmx5X29uY2UoZnVuY3Rpb24oZXJyKXtydW5uaW5nLT0xLGVycj8oY2FsbGJhY2soZXJyKSxlcnJvcmVkPSEwKTpyZXBsZW5pc2goKX0pKX19KCl9fWZ1bmN0aW9uIGRvUGFyYWxsZWwoZm4pe3JldHVybiBmdW5jdGlvbihvYmosaXRlcmF0b3IsY2FsbGJhY2spe3JldHVybiBmbihhc3luYy5lYWNoT2Ysb2JqLGl0ZXJhdG9yLGNhbGxiYWNrKX19ZnVuY3Rpb24gZG9QYXJhbGxlbExpbWl0KGZuKXtyZXR1cm4gZnVuY3Rpb24ob2JqLGxpbWl0LGl0ZXJhdG9yLGNhbGxiYWNrKXtyZXR1cm4gZm4oX2VhY2hPZkxpbWl0KGxpbWl0KSxvYmosaXRlcmF0b3IsY2FsbGJhY2spfX1mdW5jdGlvbiBkb1Nlcmllcyhmbil7cmV0dXJuIGZ1bmN0aW9uKG9iaixpdGVyYXRvcixjYWxsYmFjayl7cmV0dXJuIGZuKGFzeW5jLmVhY2hPZlNlcmllcyxvYmosaXRlcmF0b3IsY2FsbGJhY2spfX1mdW5jdGlvbiBfYXN5bmNNYXAoZWFjaGZuLGFycixpdGVyYXRvcixjYWxsYmFjayl7Y2FsbGJhY2s9X29uY2UoY2FsbGJhY2t8fG5vb3ApO3ZhciByZXN1bHRzPVtdO2VhY2hmbihhcnIsZnVuY3Rpb24odmFsdWUsaW5kZXgsY2FsbGJhY2spe2l0ZXJhdG9yKHZhbHVlLGZ1bmN0aW9uKGVycix2KXtyZXN1bHRzW2luZGV4XT12LGNhbGxiYWNrKGVycil9KX0sZnVuY3Rpb24oZXJyKXtjYWxsYmFjayhlcnIscmVzdWx0cyl9KX1mdW5jdGlvbiBfZmlsdGVyKGVhY2hmbixhcnIsaXRlcmF0b3IsY2FsbGJhY2spe3ZhciByZXN1bHRzPVtdO2VhY2hmbihhcnIsZnVuY3Rpb24oeCxpbmRleCxjYWxsYmFjayl7aXRlcmF0b3IoeCxmdW5jdGlvbih2KXt2JiZyZXN1bHRzLnB1c2goe2luZGV4OmluZGV4LHZhbHVlOnh9KSxjYWxsYmFjaygpfSl9LGZ1bmN0aW9uKCl7Y2FsbGJhY2soX21hcChyZXN1bHRzLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5pbmRleC1iLmluZGV4fSksZnVuY3Rpb24oeCl7cmV0dXJuIHgudmFsdWV9KSl9KX1mdW5jdGlvbiBfcmVqZWN0KGVhY2hmbixhcnIsaXRlcmF0b3IsY2FsbGJhY2spe19maWx0ZXIoZWFjaGZuLGFycixmdW5jdGlvbih2YWx1ZSxjYil7aXRlcmF0b3IodmFsdWUsZnVuY3Rpb24odil7Y2IoIXYpfSl9LGNhbGxiYWNrKX1mdW5jdGlvbiBfY3JlYXRlVGVzdGVyKGVhY2hmbixjaGVjayxnZXRSZXN1bHQpe3JldHVybiBmdW5jdGlvbihhcnIsbGltaXQsaXRlcmF0b3IsY2Ipe2Z1bmN0aW9uIGRvbmUoKXtjYiYmY2IoZ2V0UmVzdWx0KCExLHZvaWQgMCkpfWZ1bmN0aW9uIGl0ZXJhdGVlKHgsXyxjYWxsYmFjayl7cmV0dXJuIGNiP3ZvaWQgaXRlcmF0b3IoeCxmdW5jdGlvbih2KXtjYiYmY2hlY2sodikmJihjYihnZXRSZXN1bHQoITAseCkpLGNiPWl0ZXJhdG9yPSExKSxjYWxsYmFjaygpfSk6Y2FsbGJhY2soKX1hcmd1bWVudHMubGVuZ3RoPjM/ZWFjaGZuKGFycixsaW1pdCxpdGVyYXRlZSxkb25lKTooY2I9aXRlcmF0b3IsaXRlcmF0b3I9bGltaXQsZWFjaGZuKGFycixpdGVyYXRlZSxkb25lKSl9fWZ1bmN0aW9uIF9maW5kR2V0UmVzdWx0KHYseCl7cmV0dXJuIHh9ZnVuY3Rpb24gX3BhcmFsbGVsKGVhY2hmbix0YXNrcyxjYWxsYmFjayl7Y2FsbGJhY2s9Y2FsbGJhY2t8fG5vb3A7dmFyIHJlc3VsdHM9X2lzQXJyYXlMaWtlKHRhc2tzKT9bXTp7fTtlYWNoZm4odGFza3MsZnVuY3Rpb24odGFzayxrZXksY2FsbGJhY2spe3Rhc2soX3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsYXJncyl7YXJncy5sZW5ndGg8PTEmJihhcmdzPWFyZ3NbMF0pLHJlc3VsdHNba2V5XT1hcmdzLGNhbGxiYWNrKGVycil9KSl9LGZ1bmN0aW9uKGVycil7Y2FsbGJhY2soZXJyLHJlc3VsdHMpfSl9ZnVuY3Rpb24gX2NvbmNhdChlYWNoZm4sYXJyLGZuLGNhbGxiYWNrKXt2YXIgcmVzdWx0PVtdO2VhY2hmbihhcnIsZnVuY3Rpb24oeCxpbmRleCxjYil7Zm4oeCxmdW5jdGlvbihlcnIseSl7cmVzdWx0PXJlc3VsdC5jb25jYXQoeXx8W10pLGNiKGVycil9KX0sZnVuY3Rpb24oZXJyKXtjYWxsYmFjayhlcnIscmVzdWx0KX0pfWZ1bmN0aW9uIF9xdWV1ZSh3b3JrZXIsY29uY3VycmVuY3kscGF5bG9hZCl7ZnVuY3Rpb24gX2luc2VydChxLGRhdGEscG9zLGNhbGxiYWNrKXtpZihudWxsIT1jYWxsYmFjayYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKFwidGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIHEuc3RhcnRlZD0hMCxfaXNBcnJheShkYXRhKXx8KGRhdGE9W2RhdGFdKSwwPT09ZGF0YS5sZW5ndGgmJnEuaWRsZSgpP2FzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbigpe3EuZHJhaW4oKX0pOihfYXJyYXlFYWNoKGRhdGEsZnVuY3Rpb24odGFzayl7dmFyIGl0ZW09e2RhdGE6dGFzayxjYWxsYmFjazpjYWxsYmFja3x8bm9vcH07cG9zP3EudGFza3MudW5zaGlmdChpdGVtKTpxLnRhc2tzLnB1c2goaXRlbSkscS50YXNrcy5sZW5ndGg9PT1xLmNvbmN1cnJlbmN5JiZxLnNhdHVyYXRlZCgpfSksdm9pZCBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKSl9ZnVuY3Rpb24gX25leHQocSx0YXNrcyl7cmV0dXJuIGZ1bmN0aW9uKCl7d29ya2Vycy09MTt2YXIgYXJncz1hcmd1bWVudHM7X2FycmF5RWFjaCh0YXNrcyxmdW5jdGlvbih0YXNrKXt0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssYXJncyl9KSxxLnRhc2tzLmxlbmd0aCt3b3JrZXJzPT09MCYmcS5kcmFpbigpLHEucHJvY2VzcygpfX1pZihudWxsPT1jb25jdXJyZW5jeSljb25jdXJyZW5jeT0xO2Vsc2UgaWYoMD09PWNvbmN1cnJlbmN5KXRocm93IG5ldyBFcnJvcihcIkNvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm9cIik7dmFyIHdvcmtlcnM9MCxxPXt0YXNrczpbXSxjb25jdXJyZW5jeTpjb25jdXJyZW5jeSxwYXlsb2FkOnBheWxvYWQsc2F0dXJhdGVkOm5vb3AsZW1wdHk6bm9vcCxkcmFpbjpub29wLHN0YXJ0ZWQ6ITEscGF1c2VkOiExLHB1c2g6ZnVuY3Rpb24oZGF0YSxjYWxsYmFjayl7X2luc2VydChxLGRhdGEsITEsY2FsbGJhY2spfSxraWxsOmZ1bmN0aW9uKCl7cS5kcmFpbj1ub29wLHEudGFza3M9W119LHVuc2hpZnQ6ZnVuY3Rpb24oZGF0YSxjYWxsYmFjayl7X2luc2VydChxLGRhdGEsITAsY2FsbGJhY2spfSxwcm9jZXNzOmZ1bmN0aW9uKCl7aWYoIXEucGF1c2VkJiZ3b3JrZXJzPHEuY29uY3VycmVuY3kmJnEudGFza3MubGVuZ3RoKWZvcig7d29ya2VyczxxLmNvbmN1cnJlbmN5JiZxLnRhc2tzLmxlbmd0aDspe3ZhciB0YXNrcz1xLnBheWxvYWQ/cS50YXNrcy5zcGxpY2UoMCxxLnBheWxvYWQpOnEudGFza3Muc3BsaWNlKDAscS50YXNrcy5sZW5ndGgpLGRhdGE9X21hcCh0YXNrcyxmdW5jdGlvbih0YXNrKXtyZXR1cm4gdGFzay5kYXRhfSk7MD09PXEudGFza3MubGVuZ3RoJiZxLmVtcHR5KCksd29ya2Vycys9MTt2YXIgY2I9b25seV9vbmNlKF9uZXh0KHEsdGFza3MpKTt3b3JrZXIoZGF0YSxjYil9fSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gcS50YXNrcy5sZW5ndGh9LHJ1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gd29ya2Vyc30saWRsZTpmdW5jdGlvbigpe3JldHVybiBxLnRhc2tzLmxlbmd0aCt3b3JrZXJzPT09MH0scGF1c2U6ZnVuY3Rpb24oKXtxLnBhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7aWYocS5wYXVzZWQhPT0hMSl7cS5wYXVzZWQ9ITE7Zm9yKHZhciByZXN1bWVDb3VudD1NYXRoLm1pbihxLmNvbmN1cnJlbmN5LHEudGFza3MubGVuZ3RoKSx3PTE7cmVzdW1lQ291bnQ+PXc7dysrKWFzeW5jLnNldEltbWVkaWF0ZShxLnByb2Nlc3MpfX19O3JldHVybiBxfWZ1bmN0aW9uIF9jb25zb2xlX2ZuKG5hbWUpe3JldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uKGZuLGFyZ3Mpe2ZuLmFwcGx5KG51bGwsYXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLGFyZ3Mpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiYoZXJyP2NvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoZXJyKTpjb25zb2xlW25hbWVdJiZfYXJyYXlFYWNoKGFyZ3MsZnVuY3Rpb24oeCl7Y29uc29sZVtuYW1lXSh4KX0pKX0pXSkpfSl9ZnVuY3Rpb24gX3RpbWVzKG1hcHBlcil7cmV0dXJuIGZ1bmN0aW9uKGNvdW50LGl0ZXJhdG9yLGNhbGxiYWNrKXttYXBwZXIoX3JhbmdlKGNvdW50KSxpdGVyYXRvcixjYWxsYmFjayl9fWZ1bmN0aW9uIF9hcHBseUVhY2goZWFjaGZuKXtyZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbihmbnMsYXJncyl7dmFyIGdvPV9yZXN0UGFyYW0oZnVuY3Rpb24oYXJncyl7dmFyIHRoYXQ9dGhpcyxjYWxsYmFjaz1hcmdzLnBvcCgpO3JldHVybiBlYWNoZm4oZm5zLGZ1bmN0aW9uKGZuLF8sY2Ipe2ZuLmFwcGx5KHRoYXQsYXJncy5jb25jYXQoW2NiXSkpfSxjYWxsYmFjayl9KTtyZXR1cm4gYXJncy5sZW5ndGg/Z28uYXBwbHkodGhpcyxhcmdzKTpnb30pfWZ1bmN0aW9uIGVuc3VyZUFzeW5jKGZuKXtyZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbihhcmdzKXt2YXIgY2FsbGJhY2s9YXJncy5wb3AoKTthcmdzLnB1c2goZnVuY3Rpb24oKXt2YXIgaW5uZXJBcmdzPWFyZ3VtZW50cztzeW5jP2FzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbigpe2NhbGxiYWNrLmFwcGx5KG51bGwsaW5uZXJBcmdzKX0pOmNhbGxiYWNrLmFwcGx5KG51bGwsaW5uZXJBcmdzKX0pO3ZhciBzeW5jPSEwO2ZuLmFwcGx5KHRoaXMsYXJncyksc3luYz0hMX0pfXZhciBwcmV2aW91c19hc3luYyxhc3luYz17fSxyb290PVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLnNlbGY9PT1zZWxmJiZzZWxmfHxcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwuZ2xvYmFsPT09Z2xvYmFsJiZnbG9iYWx8fHRoaXM7bnVsbCE9cm9vdCYmKHByZXZpb3VzX2FzeW5jPXJvb3QuYXN5bmMpLGFzeW5jLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcm9vdC5hc3luYz1wcmV2aW91c19hc3luYyxhc3luY307dmFyIF90b1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLF9pc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKG9iail7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09X3RvU3RyaW5nLmNhbGwob2JqKX0sX2tleXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrIGluIG9iailvYmouaGFzT3duUHJvcGVydHkoaykmJmtleXMucHVzaChrKTtyZXR1cm4ga2V5c30sX3NldEltbWVkaWF0ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRJbW1lZGlhdGUmJnNldEltbWVkaWF0ZSxfZGVsYXk9X3NldEltbWVkaWF0ZT9mdW5jdGlvbihmbil7X3NldEltbWVkaWF0ZShmbil9OmZ1bmN0aW9uKGZuKXtzZXRUaW1lb3V0KGZuLDApfTtcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy5uZXh0VGljaz9hc3luYy5uZXh0VGljaz1wcm9jZXNzLm5leHRUaWNrOmFzeW5jLm5leHRUaWNrPV9kZWxheSxhc3luYy5zZXRJbW1lZGlhdGU9X3NldEltbWVkaWF0ZT9fZGVsYXk6YXN5bmMubmV4dFRpY2ssYXN5bmMuZm9yRWFjaD1hc3luYy5lYWNoPWZ1bmN0aW9uKGFycixpdGVyYXRvcixjYWxsYmFjayl7cmV0dXJuIGFzeW5jLmVhY2hPZihhcnIsX3dpdGhvdXRJbmRleChpdGVyYXRvciksY2FsbGJhY2spfSxhc3luYy5mb3JFYWNoU2VyaWVzPWFzeW5jLmVhY2hTZXJpZXM9ZnVuY3Rpb24oYXJyLGl0ZXJhdG9yLGNhbGxiYWNrKXtyZXR1cm4gYXN5bmMuZWFjaE9mU2VyaWVzKGFycixfd2l0aG91dEluZGV4KGl0ZXJhdG9yKSxjYWxsYmFjayl9LGFzeW5jLmZvckVhY2hMaW1pdD1hc3luYy5lYWNoTGltaXQ9ZnVuY3Rpb24oYXJyLGxpbWl0LGl0ZXJhdG9yLGNhbGxiYWNrKXtyZXR1cm4gX2VhY2hPZkxpbWl0KGxpbWl0KShhcnIsX3dpdGhvdXRJbmRleChpdGVyYXRvciksY2FsbGJhY2spfSxhc3luYy5mb3JFYWNoT2Y9YXN5bmMuZWFjaE9mPWZ1bmN0aW9uKG9iamVjdCxpdGVyYXRvcixjYWxsYmFjayl7ZnVuY3Rpb24gZG9uZShlcnIpe2Vycj9jYWxsYmFjayhlcnIpOihjb21wbGV0ZWQrPTEsY29tcGxldGVkPj1zaXplJiZjYWxsYmFjayhudWxsKSl9Y2FsbGJhY2s9X29uY2UoY2FsbGJhY2t8fG5vb3ApLG9iamVjdD1vYmplY3R8fFtdO3ZhciBzaXplPV9pc0FycmF5TGlrZShvYmplY3QpP29iamVjdC5sZW5ndGg6X2tleXMob2JqZWN0KS5sZW5ndGgsY29tcGxldGVkPTA7cmV0dXJuIHNpemU/dm9pZCBfZWFjaChvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5KXtpdGVyYXRvcihvYmplY3Rba2V5XSxrZXksb25seV9vbmNlKGRvbmUpKX0pOmNhbGxiYWNrKG51bGwpfSxhc3luYy5mb3JFYWNoT2ZTZXJpZXM9YXN5bmMuZWFjaE9mU2VyaWVzPWZ1bmN0aW9uKG9iaixpdGVyYXRvcixjYWxsYmFjayl7ZnVuY3Rpb24gaXRlcmF0ZSgpe3ZhciBzeW5jPSEwO3JldHVybiBudWxsPT09a2V5P2NhbGxiYWNrKG51bGwpOihpdGVyYXRvcihvYmpba2V5XSxrZXksb25seV9vbmNlKGZ1bmN0aW9uKGVycil7aWYoZXJyKWNhbGxiYWNrKGVycik7ZWxzZXtpZihrZXk9bmV4dEtleSgpLG51bGw9PT1rZXkpcmV0dXJuIGNhbGxiYWNrKG51bGwpO3N5bmM/YXN5bmMubmV4dFRpY2soaXRlcmF0ZSk6aXRlcmF0ZSgpfX0pKSx2b2lkKHN5bmM9ITEpKX1jYWxsYmFjaz1fb25jZShjYWxsYmFja3x8bm9vcCksb2JqPW9ianx8W107dmFyIG5leHRLZXk9X2tleUl0ZXJhdG9yKG9iaiksa2V5PW5leHRLZXkoKTtpdGVyYXRlKCl9LGFzeW5jLmZvckVhY2hPZkxpbWl0PWFzeW5jLmVhY2hPZkxpbWl0PWZ1bmN0aW9uKG9iaixsaW1pdCxpdGVyYXRvcixjYWxsYmFjayl7X2VhY2hPZkxpbWl0KGxpbWl0KShvYmosaXRlcmF0b3IsY2FsbGJhY2spfSxhc3luYy5tYXA9ZG9QYXJhbGxlbChfYXN5bmNNYXApLGFzeW5jLm1hcFNlcmllcz1kb1NlcmllcyhfYXN5bmNNYXApLGFzeW5jLm1hcExpbWl0PWRvUGFyYWxsZWxMaW1pdChfYXN5bmNNYXApLGFzeW5jLmluamVjdD1hc3luYy5mb2xkbD1hc3luYy5yZWR1Y2U9ZnVuY3Rpb24oYXJyLG1lbW8saXRlcmF0b3IsY2FsbGJhY2spe2FzeW5jLmVhY2hPZlNlcmllcyhhcnIsZnVuY3Rpb24oeCxpLGNhbGxiYWNrKXtpdGVyYXRvcihtZW1vLHgsZnVuY3Rpb24oZXJyLHYpe21lbW89dixjYWxsYmFjayhlcnIpfSl9LGZ1bmN0aW9uKGVycil7Y2FsbGJhY2soZXJyfHxudWxsLG1lbW8pfSl9LGFzeW5jLmZvbGRyPWFzeW5jLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGFycixtZW1vLGl0ZXJhdG9yLGNhbGxiYWNrKXt2YXIgcmV2ZXJzZWQ9X21hcChhcnIsaWRlbnRpdHkpLnJldmVyc2UoKTthc3luYy5yZWR1Y2UocmV2ZXJzZWQsbWVtbyxpdGVyYXRvcixjYWxsYmFjayl9LGFzeW5jLnNlbGVjdD1hc3luYy5maWx0ZXI9ZG9QYXJhbGxlbChfZmlsdGVyKSxhc3luYy5zZWxlY3RMaW1pdD1hc3luYy5maWx0ZXJMaW1pdD1kb1BhcmFsbGVsTGltaXQoX2ZpbHRlciksYXN5bmMuc2VsZWN0U2VyaWVzPWFzeW5jLmZpbHRlclNlcmllcz1kb1NlcmllcyhfZmlsdGVyKSxhc3luYy5yZWplY3Q9ZG9QYXJhbGxlbChfcmVqZWN0KSxhc3luYy5yZWplY3RMaW1pdD1kb1BhcmFsbGVsTGltaXQoX3JlamVjdCksYXN5bmMucmVqZWN0U2VyaWVzPWRvU2VyaWVzKF9yZWplY3QpLGFzeW5jLmFueT1hc3luYy5zb21lPV9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mLHRvQm9vbCxpZGVudGl0eSksYXN5bmMuc29tZUxpbWl0PV9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mTGltaXQsdG9Cb29sLGlkZW50aXR5KSxhc3luYy5hbGw9YXN5bmMuZXZlcnk9X2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2Ysbm90SWQsbm90SWQpLGFzeW5jLmV2ZXJ5TGltaXQ9X2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2ZMaW1pdCxub3RJZCxub3RJZCksYXN5bmMuZGV0ZWN0PV9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mLGlkZW50aXR5LF9maW5kR2V0UmVzdWx0KSxhc3luYy5kZXRlY3RTZXJpZXM9X2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2ZTZXJpZXMsaWRlbnRpdHksX2ZpbmRHZXRSZXN1bHQpLGFzeW5jLnNvcnRCeT1mdW5jdGlvbihhcnIsaXRlcmF0b3IsY2FsbGJhY2spe2Z1bmN0aW9uIGNvbXBhcmF0b3IobGVmdCxyaWdodCl7dmFyIGE9bGVmdC5jcml0ZXJpYSxiPXJpZ2h0LmNyaXRlcmlhO3JldHVybiBiPmE/LTE6YT5iPzE6MH1hc3luYy5tYXAoYXJyLGZ1bmN0aW9uKHgsY2FsbGJhY2spe2l0ZXJhdG9yKHgsZnVuY3Rpb24oZXJyLGNyaXRlcmlhKXtlcnI/Y2FsbGJhY2soZXJyKTpjYWxsYmFjayhudWxsLHt2YWx1ZTp4LGNyaXRlcmlhOmNyaXRlcmlhfSl9KX0sZnVuY3Rpb24oZXJyLHJlc3VsdHMpe3JldHVybiBlcnI/Y2FsbGJhY2soZXJyKTp2b2lkIGNhbGxiYWNrKG51bGwsX21hcChyZXN1bHRzLnNvcnQoY29tcGFyYXRvciksZnVuY3Rpb24oeCl7cmV0dXJuIHgudmFsdWV9KSl9KX0sYXN5bmMuYXV0bz1mdW5jdGlvbih0YXNrcyxjYWxsYmFjayl7ZnVuY3Rpb24gYWRkTGlzdGVuZXIoZm4pe2xpc3RlbmVycy51bnNoaWZ0KGZuKX1mdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihmbil7dmFyIGlkeD1faW5kZXhPZihsaXN0ZW5lcnMsZm4pO2lkeD49MCYmbGlzdGVuZXJzLnNwbGljZShpZHgsMSl9ZnVuY3Rpb24gdGFza0NvbXBsZXRlKCl7cmVtYWluaW5nVGFza3MtLSxfYXJyYXlFYWNoKGxpc3RlbmVycy5zbGljZSgwKSxmdW5jdGlvbihmbil7Zm4oKX0pfWNhbGxiYWNrPV9vbmNlKGNhbGxiYWNrfHxub29wKTt2YXIga2V5cz1fa2V5cyh0YXNrcykscmVtYWluaW5nVGFza3M9a2V5cy5sZW5ndGg7aWYoIXJlbWFpbmluZ1Rhc2tzKXJldHVybiBjYWxsYmFjayhudWxsKTt2YXIgcmVzdWx0cz17fSxsaXN0ZW5lcnM9W107YWRkTGlzdGVuZXIoZnVuY3Rpb24oKXtyZW1haW5pbmdUYXNrc3x8Y2FsbGJhY2sobnVsbCxyZXN1bHRzKX0pLF9hcnJheUVhY2goa2V5cyxmdW5jdGlvbihrKXtmdW5jdGlvbiByZWFkeSgpe3JldHVybiBfcmVkdWNlKHJlcXVpcmVzLGZ1bmN0aW9uKGEseCl7cmV0dXJuIGEmJnJlc3VsdHMuaGFzT3duUHJvcGVydHkoeCl9LCEwKSYmIXJlc3VsdHMuaGFzT3duUHJvcGVydHkoayl9ZnVuY3Rpb24gbGlzdGVuZXIoKXtyZWFkeSgpJiYocmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpLHRhc2tbdGFzay5sZW5ndGgtMV0odGFza0NhbGxiYWNrLHJlc3VsdHMpKX1mb3IodmFyIGRlcCx0YXNrPV9pc0FycmF5KHRhc2tzW2tdKT90YXNrc1trXTpbdGFza3Nba11dLHRhc2tDYWxsYmFjaz1fcmVzdFBhcmFtKGZ1bmN0aW9uKGVycixhcmdzKXtpZihhcmdzLmxlbmd0aDw9MSYmKGFyZ3M9YXJnc1swXSksZXJyKXt2YXIgc2FmZVJlc3VsdHM9e307X2ZvckVhY2hPZihyZXN1bHRzLGZ1bmN0aW9uKHZhbCxya2V5KXtzYWZlUmVzdWx0c1tya2V5XT12YWx9KSxzYWZlUmVzdWx0c1trXT1hcmdzLGNhbGxiYWNrKGVycixzYWZlUmVzdWx0cyl9ZWxzZSByZXN1bHRzW2tdPWFyZ3MsYXN5bmMuc2V0SW1tZWRpYXRlKHRhc2tDb21wbGV0ZSl9KSxyZXF1aXJlcz10YXNrLnNsaWNlKDAsdGFzay5sZW5ndGgtMSksbGVuPXJlcXVpcmVzLmxlbmd0aDtsZW4tLTspe2lmKCEoZGVwPXRhc2tzW3JlcXVpcmVzW2xlbl1dKSl0aHJvdyBuZXcgRXJyb3IoXCJIYXMgaW5leGlzdGFudCBkZXBlbmRlbmN5XCIpO2lmKF9pc0FycmF5KGRlcCkmJl9pbmRleE9mKGRlcCxrKT49MCl0aHJvdyBuZXcgRXJyb3IoXCJIYXMgY3ljbGljIGRlcGVuZGVuY2llc1wiKX1yZWFkeSgpP3Rhc2tbdGFzay5sZW5ndGgtMV0odGFza0NhbGxiYWNrLHJlc3VsdHMpOmFkZExpc3RlbmVyKGxpc3RlbmVyKX0pfSxhc3luYy5yZXRyeT1mdW5jdGlvbih0aW1lcyx0YXNrLGNhbGxiYWNrKXtmdW5jdGlvbiBwYXJzZVRpbWVzKGFjYyx0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClhY2MudGltZXM9cGFyc2VJbnQodCwxMCl8fERFRkFVTFRfVElNRVM7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhcmd1bWVudCB0eXBlIGZvciAndGltZXMnOiBcIit0eXBlb2YgdCk7YWNjLnRpbWVzPXBhcnNlSW50KHQudGltZXMsMTApfHxERUZBVUxUX1RJTUVTLGFjYy5pbnRlcnZhbD1wYXJzZUludCh0LmludGVydmFsLDEwKXx8REVGQVVMVF9JTlRFUlZBTH19ZnVuY3Rpb24gd3JhcHBlZFRhc2sod3JhcHBlZENhbGxiYWNrLHdyYXBwZWRSZXN1bHRzKXtmdW5jdGlvbiByZXRyeUF0dGVtcHQodGFzayxmaW5hbEF0dGVtcHQpe3JldHVybiBmdW5jdGlvbihzZXJpZXNDYWxsYmFjayl7dGFzayhmdW5jdGlvbihlcnIscmVzdWx0KXtzZXJpZXNDYWxsYmFjayghZXJyfHxmaW5hbEF0dGVtcHQse2VycjplcnIscmVzdWx0OnJlc3VsdH0pfSx3cmFwcGVkUmVzdWx0cyl9fWZ1bmN0aW9uIHJldHJ5SW50ZXJ2YWwoaW50ZXJ2YWwpe3JldHVybiBmdW5jdGlvbihzZXJpZXNDYWxsYmFjayl7c2V0VGltZW91dChmdW5jdGlvbigpe3Nlcmllc0NhbGxiYWNrKG51bGwpfSxpbnRlcnZhbCl9fWZvcig7b3B0cy50aW1lczspe3ZhciBmaW5hbEF0dGVtcHQ9IShvcHRzLnRpbWVzLT0xKTthdHRlbXB0cy5wdXNoKHJldHJ5QXR0ZW1wdChvcHRzLnRhc2ssZmluYWxBdHRlbXB0KSksIWZpbmFsQXR0ZW1wdCYmb3B0cy5pbnRlcnZhbD4wJiZhdHRlbXB0cy5wdXNoKHJldHJ5SW50ZXJ2YWwob3B0cy5pbnRlcnZhbCkpfWFzeW5jLnNlcmllcyhhdHRlbXB0cyxmdW5jdGlvbihkb25lLGRhdGEpe2RhdGE9ZGF0YVtkYXRhLmxlbmd0aC0xXSwod3JhcHBlZENhbGxiYWNrfHxvcHRzLmNhbGxiYWNrKShkYXRhLmVycixkYXRhLnJlc3VsdCl9KX12YXIgREVGQVVMVF9USU1FUz01LERFRkFVTFRfSU5URVJWQUw9MCxhdHRlbXB0cz1bXSxvcHRzPXt0aW1lczpERUZBVUxUX1RJTUVTLGludGVydmFsOkRFRkFVTFRfSU5URVJWQUx9LGxlbmd0aD1hcmd1bWVudHMubGVuZ3RoO2lmKDE+bGVuZ3RofHxsZW5ndGg+Myl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyAtIG11c3QgYmUgZWl0aGVyICh0YXNrKSwgKHRhc2ssIGNhbGxiYWNrKSwgKHRpbWVzLCB0YXNrKSBvciAodGltZXMsIHRhc2ssIGNhbGxiYWNrKVwiKTtyZXR1cm4gMj49bGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aW1lcyYmKGNhbGxiYWNrPXRhc2ssdGFzaz10aW1lcyksXCJmdW5jdGlvblwiIT10eXBlb2YgdGltZXMmJnBhcnNlVGltZXMob3B0cyx0aW1lcyksb3B0cy5jYWxsYmFjaz1jYWxsYmFjayxvcHRzLnRhc2s9dGFzayxvcHRzLmNhbGxiYWNrP3dyYXBwZWRUYXNrKCk6d3JhcHBlZFRhc2t9LGFzeW5jLndhdGVyZmFsbD1mdW5jdGlvbih0YXNrcyxjYWxsYmFjayl7ZnVuY3Rpb24gd3JhcEl0ZXJhdG9yKGl0ZXJhdG9yKXtyZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsYXJncyl7aWYoZXJyKWNhbGxiYWNrLmFwcGx5KG51bGwsW2Vycl0uY29uY2F0KGFyZ3MpKTtlbHNle3ZhciBuZXh0PWl0ZXJhdG9yLm5leHQoKTtuZXh0P2FyZ3MucHVzaCh3cmFwSXRlcmF0b3IobmV4dCkpOmFyZ3MucHVzaChjYWxsYmFjayksZW5zdXJlQXN5bmMoaXRlcmF0b3IpLmFwcGx5KG51bGwsYXJncyl9fSl9aWYoY2FsbGJhY2s9X29uY2UoY2FsbGJhY2t8fG5vb3ApLCFfaXNBcnJheSh0YXNrcykpe3ZhciBlcnI9bmV3IEVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gd2F0ZXJmYWxsIG11c3QgYmUgYW4gYXJyYXkgb2YgZnVuY3Rpb25zXCIpO3JldHVybiBjYWxsYmFjayhlcnIpfXJldHVybiB0YXNrcy5sZW5ndGg/dm9pZCB3cmFwSXRlcmF0b3IoYXN5bmMuaXRlcmF0b3IodGFza3MpKSgpOmNhbGxiYWNrKCl9LGFzeW5jLnBhcmFsbGVsPWZ1bmN0aW9uKHRhc2tzLGNhbGxiYWNrKXtfcGFyYWxsZWwoYXN5bmMuZWFjaE9mLHRhc2tzLGNhbGxiYWNrKX0sYXN5bmMucGFyYWxsZWxMaW1pdD1mdW5jdGlvbih0YXNrcyxsaW1pdCxjYWxsYmFjayl7X3BhcmFsbGVsKF9lYWNoT2ZMaW1pdChsaW1pdCksdGFza3MsY2FsbGJhY2spfSxhc3luYy5zZXJpZXM9ZnVuY3Rpb24odGFza3MsY2FsbGJhY2spe19wYXJhbGxlbChhc3luYy5lYWNoT2ZTZXJpZXMsdGFza3MsY2FsbGJhY2spfSxhc3luYy5pdGVyYXRvcj1mdW5jdGlvbih0YXNrcyl7ZnVuY3Rpb24gbWFrZUNhbGxiYWNrKGluZGV4KXtmdW5jdGlvbiBmbigpe3JldHVybiB0YXNrcy5sZW5ndGgmJnRhc2tzW2luZGV4XS5hcHBseShudWxsLGFyZ3VtZW50cyksZm4ubmV4dCgpfXJldHVybiBmbi5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGluZGV4PHRhc2tzLmxlbmd0aC0xP21ha2VDYWxsYmFjayhpbmRleCsxKTpudWxsfSxmbn1yZXR1cm4gbWFrZUNhbGxiYWNrKDApfSxhc3luYy5hcHBseT1fcmVzdFBhcmFtKGZ1bmN0aW9uKGZuLGFyZ3Mpe3JldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uKGNhbGxBcmdzKXtyZXR1cm4gZm4uYXBwbHkobnVsbCxhcmdzLmNvbmNhdChjYWxsQXJncykpfSl9KSxhc3luYy5jb25jYXQ9ZG9QYXJhbGxlbChfY29uY2F0KSxhc3luYy5jb25jYXRTZXJpZXM9ZG9TZXJpZXMoX2NvbmNhdCksYXN5bmMud2hpbHN0PWZ1bmN0aW9uKHRlc3QsaXRlcmF0b3IsY2FsbGJhY2spe2lmKGNhbGxiYWNrPWNhbGxiYWNrfHxub29wLHRlc3QoKSl7dmFyIG5leHQ9X3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsYXJncyl7ZXJyP2NhbGxiYWNrKGVycik6dGVzdC5hcHBseSh0aGlzLGFyZ3MpP2l0ZXJhdG9yKG5leHQpOmNhbGxiYWNrKG51bGwpfSk7aXRlcmF0b3IobmV4dCl9ZWxzZSBjYWxsYmFjayhudWxsKX0sYXN5bmMuZG9XaGlsc3Q9ZnVuY3Rpb24oaXRlcmF0b3IsdGVzdCxjYWxsYmFjayl7dmFyIGNhbGxzPTA7cmV0dXJuIGFzeW5jLndoaWxzdChmdW5jdGlvbigpe3JldHVybisrY2FsbHM8PTF8fHRlc3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpdGVyYXRvcixjYWxsYmFjayl9LGFzeW5jLnVudGlsPWZ1bmN0aW9uKHRlc3QsaXRlcmF0b3IsY2FsbGJhY2spe3JldHVybiBhc3luYy53aGlsc3QoZnVuY3Rpb24oKXtyZXR1cm4hdGVzdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGl0ZXJhdG9yLGNhbGxiYWNrKX0sYXN5bmMuZG9VbnRpbD1mdW5jdGlvbihpdGVyYXRvcix0ZXN0LGNhbGxiYWNrKXtyZXR1cm4gYXN5bmMuZG9XaGlsc3QoaXRlcmF0b3IsZnVuY3Rpb24oKXtyZXR1cm4hdGVzdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNhbGxiYWNrKX0sYXN5bmMuZHVyaW5nPWZ1bmN0aW9uKHRlc3QsaXRlcmF0b3IsY2FsbGJhY2spe2NhbGxiYWNrPWNhbGxiYWNrfHxub29wO3ZhciBuZXh0PV9yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLGFyZ3Mpe2Vycj9jYWxsYmFjayhlcnIpOihhcmdzLnB1c2goY2hlY2spLHRlc3QuYXBwbHkodGhpcyxhcmdzKSl9KSxjaGVjaz1mdW5jdGlvbihlcnIsdHJ1dGgpe2Vycj9jYWxsYmFjayhlcnIpOnRydXRoP2l0ZXJhdG9yKG5leHQpOmNhbGxiYWNrKG51bGwpfTt0ZXN0KGNoZWNrKX0sYXN5bmMuZG9EdXJpbmc9ZnVuY3Rpb24oaXRlcmF0b3IsdGVzdCxjYWxsYmFjayl7dmFyIGNhbGxzPTA7YXN5bmMuZHVyaW5nKGZ1bmN0aW9uKG5leHQpe2NhbGxzKys8MT9uZXh0KG51bGwsITApOnRlc3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpdGVyYXRvcixjYWxsYmFjayl9LGFzeW5jLnF1ZXVlPWZ1bmN0aW9uKHdvcmtlcixjb25jdXJyZW5jeSl7dmFyIHE9X3F1ZXVlKGZ1bmN0aW9uKGl0ZW1zLGNiKXt3b3JrZXIoaXRlbXNbMF0sY2IpfSxjb25jdXJyZW5jeSwxKTtyZXR1cm4gcX0sYXN5bmMucHJpb3JpdHlRdWV1ZT1mdW5jdGlvbih3b3JrZXIsY29uY3VycmVuY3kpe2Z1bmN0aW9uIF9jb21wYXJlVGFza3MoYSxiKXtyZXR1cm4gYS5wcmlvcml0eS1iLnByaW9yaXR5fWZ1bmN0aW9uIF9iaW5hcnlTZWFyY2goc2VxdWVuY2UsaXRlbSxjb21wYXJlKXtmb3IodmFyIGJlZz0tMSxlbmQ9c2VxdWVuY2UubGVuZ3RoLTE7ZW5kPmJlZzspe3ZhciBtaWQ9YmVnKyhlbmQtYmVnKzE+Pj4xKTtjb21wYXJlKGl0ZW0sc2VxdWVuY2VbbWlkXSk+PTA/YmVnPW1pZDplbmQ9bWlkLTF9cmV0dXJuIGJlZ31mdW5jdGlvbiBfaW5zZXJ0KHEsZGF0YSxwcmlvcml0eSxjYWxsYmFjayl7aWYobnVsbCE9Y2FsbGJhY2smJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGxiYWNrKXRocm93IG5ldyBFcnJvcihcInRhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBxLnN0YXJ0ZWQ9ITAsX2lzQXJyYXkoZGF0YSl8fChkYXRhPVtkYXRhXSksMD09PWRhdGEubGVuZ3RoP2FzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbigpe3EuZHJhaW4oKX0pOnZvaWQgX2FycmF5RWFjaChkYXRhLGZ1bmN0aW9uKHRhc2spe3ZhciBpdGVtPXtkYXRhOnRhc2sscHJpb3JpdHk6cHJpb3JpdHksY2FsbGJhY2s6XCJmdW5jdGlvblwiPT10eXBlb2YgY2FsbGJhY2s/Y2FsbGJhY2s6bm9vcH07cS50YXNrcy5zcGxpY2UoX2JpbmFyeVNlYXJjaChxLnRhc2tzLGl0ZW0sX2NvbXBhcmVUYXNrcykrMSwwLGl0ZW0pLHEudGFza3MubGVuZ3RoPT09cS5jb25jdXJyZW5jeSYmcS5zYXR1cmF0ZWQoKSxhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKX0pfXZhciBxPWFzeW5jLnF1ZXVlKHdvcmtlcixjb25jdXJyZW5jeSk7cmV0dXJuIHEucHVzaD1mdW5jdGlvbihkYXRhLHByaW9yaXR5LGNhbGxiYWNrKXtfaW5zZXJ0KHEsZGF0YSxwcmlvcml0eSxjYWxsYmFjayl9LGRlbGV0ZSBxLnVuc2hpZnQscX0sYXN5bmMuY2FyZ289ZnVuY3Rpb24od29ya2VyLHBheWxvYWQpe3JldHVybiBfcXVldWUod29ya2VyLDEscGF5bG9hZCl9LGFzeW5jLmxvZz1fY29uc29sZV9mbihcImxvZ1wiKSxhc3luYy5kaXI9X2NvbnNvbGVfZm4oXCJkaXJcIiksYXN5bmMubWVtb2l6ZT1mdW5jdGlvbihmbixoYXNoZXIpe3ZhciBtZW1vPXt9LHF1ZXVlcz17fTtoYXNoZXI9aGFzaGVyfHxpZGVudGl0eTt2YXIgbWVtb2l6ZWQ9X3Jlc3RQYXJhbShmdW5jdGlvbihhcmdzKXt2YXIgY2FsbGJhY2s9YXJncy5wb3AoKSxrZXk9aGFzaGVyLmFwcGx5KG51bGwsYXJncyk7a2V5IGluIG1lbW8/YXN5bmMubmV4dFRpY2soZnVuY3Rpb24oKXtjYWxsYmFjay5hcHBseShudWxsLG1lbW9ba2V5XSl9KTprZXkgaW4gcXVldWVzP3F1ZXVlc1trZXldLnB1c2goY2FsbGJhY2spOihxdWV1ZXNba2V5XT1bY2FsbGJhY2tdLGZuLmFwcGx5KG51bGwsYXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24oYXJncyl7bWVtb1trZXldPWFyZ3M7dmFyIHE9cXVldWVzW2tleV07ZGVsZXRlIHF1ZXVlc1trZXldO2Zvcih2YXIgaT0wLGw9cS5sZW5ndGg7bD5pO2krKylxW2ldLmFwcGx5KG51bGwsYXJncyl9KV0pKSl9KTtyZXR1cm4gbWVtb2l6ZWQubWVtbz1tZW1vLG1lbW9pemVkLnVubWVtb2l6ZWQ9Zm4sbWVtb2l6ZWR9LGFzeW5jLnVubWVtb2l6ZT1mdW5jdGlvbihmbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKGZuLnVubWVtb2l6ZWR8fGZuKS5hcHBseShudWxsLGFyZ3VtZW50cyl9fSxhc3luYy50aW1lcz1fdGltZXMoYXN5bmMubWFwKSxhc3luYy50aW1lc1Nlcmllcz1fdGltZXMoYXN5bmMubWFwU2VyaWVzKSxhc3luYy50aW1lc0xpbWl0PWZ1bmN0aW9uKGNvdW50LGxpbWl0LGl0ZXJhdG9yLGNhbGxiYWNrKXtyZXR1cm4gYXN5bmMubWFwTGltaXQoX3JhbmdlKGNvdW50KSxsaW1pdCxpdGVyYXRvcixjYWxsYmFjayl9LGFzeW5jLnNlcT1mdW5jdGlvbigpe3ZhciBmbnM9YXJndW1lbnRzO3JldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uKGFyZ3Mpe3ZhciB0aGF0PXRoaXMsY2FsbGJhY2s9YXJnc1thcmdzLmxlbmd0aC0xXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjYWxsYmFjaz9hcmdzLnBvcCgpOmNhbGxiYWNrPW5vb3AsYXN5bmMucmVkdWNlKGZucyxhcmdzLGZ1bmN0aW9uKG5ld2FyZ3MsZm4sY2Ipe2ZuLmFwcGx5KHRoYXQsbmV3YXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLG5leHRhcmdzKXtjYihlcnIsbmV4dGFyZ3MpfSldKSl9LGZ1bmN0aW9uKGVycixyZXN1bHRzKXtjYWxsYmFjay5hcHBseSh0aGF0LFtlcnJdLmNvbmNhdChyZXN1bHRzKSl9KX0pfSxhc3luYy5jb21wb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIGFzeW5jLnNlcS5hcHBseShudWxsLEFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwoYXJndW1lbnRzKSl9LGFzeW5jLmFwcGx5RWFjaD1fYXBwbHlFYWNoKGFzeW5jLmVhY2hPZiksYXN5bmMuYXBwbHlFYWNoU2VyaWVzPV9hcHBseUVhY2goYXN5bmMuZWFjaE9mU2VyaWVzKSxhc3luYy5mb3JldmVyPWZ1bmN0aW9uKGZuLGNhbGxiYWNrKXtmdW5jdGlvbiBuZXh0KGVycil7cmV0dXJuIGVycj9kb25lKGVycik6dm9pZCB0YXNrKG5leHQpfXZhciBkb25lPW9ubHlfb25jZShjYWxsYmFja3x8bm9vcCksdGFzaz1lbnN1cmVBc3luYyhmbik7bmV4dCgpfSxhc3luYy5lbnN1cmVBc3luYz1lbnN1cmVBc3luYyxhc3luYy5jb25zdGFudD1fcmVzdFBhcmFtKGZ1bmN0aW9uKHZhbHVlcyl7dmFyIGFyZ3M9W251bGxdLmNvbmNhdCh2YWx1ZXMpO3JldHVybiBmdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsYXJncyl9fSksYXN5bmMud3JhcFN5bmM9YXN5bmMuYXN5bmNpZnk9ZnVuY3Rpb24oZnVuYyl7cmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24oYXJncyl7dmFyIHJlc3VsdCxjYWxsYmFjaz1hcmdzLnBvcCgpO3RyeXtyZXN1bHQ9ZnVuYy5hcHBseSh0aGlzLGFyZ3MpfWNhdGNoKGUpe3JldHVybiBjYWxsYmFjayhlKX1cInVuZGVmaW5lZFwiIT10eXBlb2YgcmVzdWx0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXN1bHQudGhlbj9yZXN1bHQudGhlbihmdW5jdGlvbih2YWx1ZSl7Y2FsbGJhY2sobnVsbCx2YWx1ZSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGVycil7Y2FsbGJhY2soZXJyLm1lc3NhZ2U/ZXJyOm5ldyBFcnJvcihlcnIpKX0pOmNhbGxiYWNrKG51bGwscmVzdWx0KX0pfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hc3luYzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxmdW5jdGlvbigpe3JldHVybiBhc3luY30pOnJvb3QuYXN5bmM9YXN5bmN9KCk7IiwiIWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZDNfZG9jdW1lbnRFbGVtZW50KG5vZGUpe3JldHVybiBub2RlJiYobm9kZS5vd25lckRvY3VtZW50fHxub2RlLmRvY3VtZW50fHxub2RlKS5kb2N1bWVudEVsZW1lbnR9ZnVuY3Rpb24gZDNfd2luZG93KG5vZGUpe3JldHVybiBub2RlJiYobm9kZS5vd25lckRvY3VtZW50JiZub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fG5vZGUuZG9jdW1lbnQmJm5vZGV8fG5vZGUuZGVmYXVsdFZpZXcpfWZ1bmN0aW9uIGQzX2FzY2VuZGluZyhhLGIpe3JldHVybiBiPmE/LTE6YT5iPzE6YT49Yj8wOk5hTn1mdW5jdGlvbiBkM19udW1iZXIoeCl7cmV0dXJuIG51bGw9PT14P05hTjoreH1mdW5jdGlvbiBkM19udW1lcmljKHgpe3JldHVybiFpc05hTih4KX1mdW5jdGlvbiBkM19iaXNlY3Rvcihjb21wYXJlKXtyZXR1cm57bGVmdDpmdW5jdGlvbihhLHgsbG8saGkpe2Zvcihhcmd1bWVudHMubGVuZ3RoPDMmJihsbz0wKSxhcmd1bWVudHMubGVuZ3RoPDQmJihoaT1hLmxlbmd0aCk7aGk+bG87KXt2YXIgbWlkPWxvK2hpPj4+MTtjb21wYXJlKGFbbWlkXSx4KTwwP2xvPW1pZCsxOmhpPW1pZH1yZXR1cm4gbG99LHJpZ2h0OmZ1bmN0aW9uKGEseCxsbyxoaSl7Zm9yKGFyZ3VtZW50cy5sZW5ndGg8MyYmKGxvPTApLGFyZ3VtZW50cy5sZW5ndGg8NCYmKGhpPWEubGVuZ3RoKTtoaT5sbzspe3ZhciBtaWQ9bG8raGk+Pj4xO2NvbXBhcmUoYVttaWRdLHgpPjA/aGk9bWlkOmxvPW1pZCsxfXJldHVybiBsb319fWZ1bmN0aW9uIGQzX3ppcExlbmd0aChkKXtyZXR1cm4gZC5sZW5ndGh9ZnVuY3Rpb24gZDNfcmFuZ2VfaW50ZWdlclNjYWxlKHgpe2Zvcih2YXIgaz0xO3gqayUxOylrKj0xMDtyZXR1cm4ga31mdW5jdGlvbiBkM19jbGFzcyhjdG9yLHByb3BlcnRpZXMpe2Zvcih2YXIga2V5IGluIHByb3BlcnRpZXMpT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0b3IucHJvdG90eXBlLGtleSx7dmFsdWU6cHJvcGVydGllc1trZXldLGVudW1lcmFibGU6ITF9KX1mdW5jdGlvbiBkM19NYXAoKXt0aGlzLl89T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBkM19tYXBfZXNjYXBlKGtleSl7cmV0dXJuKGtleSs9XCJcIik9PT1kM19tYXBfcHJvdG98fGtleVswXT09PWQzX21hcF96ZXJvP2QzX21hcF96ZXJvK2tleTprZXl9ZnVuY3Rpb24gZDNfbWFwX3VuZXNjYXBlKGtleSl7cmV0dXJuKGtleSs9XCJcIilbMF09PT1kM19tYXBfemVybz9rZXkuc2xpY2UoMSk6a2V5fWZ1bmN0aW9uIGQzX21hcF9oYXMoa2V5KXtyZXR1cm4gZDNfbWFwX2VzY2FwZShrZXkpaW4gdGhpcy5ffWZ1bmN0aW9uIGQzX21hcF9yZW1vdmUoa2V5KXtyZXR1cm4oa2V5PWQzX21hcF9lc2NhcGUoa2V5KSlpbiB0aGlzLl8mJmRlbGV0ZSB0aGlzLl9ba2V5XX1mdW5jdGlvbiBkM19tYXBfa2V5cygpe3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIHRoaXMuXylrZXlzLnB1c2goZDNfbWFwX3VuZXNjYXBlKGtleSkpO3JldHVybiBrZXlzfWZ1bmN0aW9uIGQzX21hcF9zaXplKCl7dmFyIHNpemU9MDtmb3IodmFyIGtleSBpbiB0aGlzLl8pKytzaXplO3JldHVybiBzaXplfWZ1bmN0aW9uIGQzX21hcF9lbXB0eSgpe2Zvcih2YXIga2V5IGluIHRoaXMuXylyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBkM19TZXQoKXt0aGlzLl89T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBkM19pZGVudGl0eShkKXtyZXR1cm4gZH1mdW5jdGlvbiBkM19yZWJpbmQodGFyZ2V0LHNvdXJjZSxtZXRob2Qpe3JldHVybiBmdW5jdGlvbigpe3ZhciB2YWx1ZT1tZXRob2QuYXBwbHkoc291cmNlLGFyZ3VtZW50cyk7cmV0dXJuIHZhbHVlPT09c291cmNlP3RhcmdldDp2YWx1ZX19ZnVuY3Rpb24gZDNfdmVuZG9yU3ltYm9sKG9iamVjdCxuYW1lKXtpZihuYW1lIGluIG9iamVjdClyZXR1cm4gbmFtZTtuYW1lPW5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbmFtZS5zbGljZSgxKTtmb3IodmFyIGk9MCxuPWQzX3ZlbmRvclByZWZpeGVzLmxlbmd0aDtuPmk7KytpKXt2YXIgcHJlZml4TmFtZT1kM192ZW5kb3JQcmVmaXhlc1tpXStuYW1lO2lmKHByZWZpeE5hbWUgaW4gb2JqZWN0KXJldHVybiBwcmVmaXhOYW1lfX1mdW5jdGlvbiBkM19ub29wKCl7fWZ1bmN0aW9uIGQzX2Rpc3BhdGNoKCl7fWZ1bmN0aW9uIGQzX2Rpc3BhdGNoX2V2ZW50KGRpc3BhdGNoKXtmdW5jdGlvbiBldmVudCgpe2Zvcih2YXIgbCx6PWxpc3RlbmVycyxpPS0xLG49ei5sZW5ndGg7KytpPG47KShsPXpbaV0ub24pJiZsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZGlzcGF0Y2h9dmFyIGxpc3RlbmVycz1bXSxsaXN0ZW5lckJ5TmFtZT1uZXcgZDNfTWFwO3JldHVybiBldmVudC5vbj1mdW5jdGlvbihuYW1lLGxpc3RlbmVyKXt2YXIgaSxsPWxpc3RlbmVyQnlOYW1lLmdldChuYW1lKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP2wmJmwub246KGwmJihsLm9uPW51bGwsbGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgwLGk9bGlzdGVuZXJzLmluZGV4T2YobCkpLmNvbmNhdChsaXN0ZW5lcnMuc2xpY2UoaSsxKSksbGlzdGVuZXJCeU5hbWUucmVtb3ZlKG5hbWUpKSxsaXN0ZW5lciYmbGlzdGVuZXJzLnB1c2gobGlzdGVuZXJCeU5hbWUuc2V0KG5hbWUse29uOmxpc3RlbmVyfSkpLGRpc3BhdGNoKX0sZXZlbnR9ZnVuY3Rpb24gZDNfZXZlbnRQcmV2ZW50RGVmYXVsdCgpe2QzLmV2ZW50LnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gZDNfZXZlbnRTb3VyY2UoKXtmb3IodmFyIHMsZT1kMy5ldmVudDtzPWUuc291cmNlRXZlbnQ7KWU9cztyZXR1cm4gZX1mdW5jdGlvbiBkM19ldmVudERpc3BhdGNoKHRhcmdldCl7Zm9yKHZhciBkaXNwYXRjaD1uZXcgZDNfZGlzcGF0Y2gsaT0wLG49YXJndW1lbnRzLmxlbmd0aDsrK2k8bjspZGlzcGF0Y2hbYXJndW1lbnRzW2ldXT1kM19kaXNwYXRjaF9ldmVudChkaXNwYXRjaCk7cmV0dXJuIGRpc3BhdGNoLm9mPWZ1bmN0aW9uKHRoaXosYXJndW1lbnR6KXtyZXR1cm4gZnVuY3Rpb24oZTEpe3RyeXt2YXIgZTA9ZTEuc291cmNlRXZlbnQ9ZDMuZXZlbnQ7ZTEudGFyZ2V0PXRhcmdldCxkMy5ldmVudD1lMSxkaXNwYXRjaFtlMS50eXBlXS5hcHBseSh0aGl6LGFyZ3VtZW50eil9ZmluYWxseXtkMy5ldmVudD1lMH19fSxkaXNwYXRjaH1mdW5jdGlvbiBkM19zZWxlY3Rpb24oZ3JvdXBzKXtyZXR1cm4gZDNfc3ViY2xhc3MoZ3JvdXBzLGQzX3NlbGVjdGlvblByb3RvdHlwZSksZ3JvdXBzfWZ1bmN0aW9uIGQzX3NlbGVjdGlvbl9zZWxlY3RvcihzZWxlY3Rvcil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZWN0b3I/c2VsZWN0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gZDNfc2VsZWN0KHNlbGVjdG9yLHRoaXMpfX1mdW5jdGlvbiBkM19zZWxlY3Rpb25fc2VsZWN0b3JBbGwoc2VsZWN0b3Ipe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHNlbGVjdG9yP3NlbGVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIGQzX3NlbGVjdEFsbChzZWxlY3Rvcix0aGlzKX19ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX2F0dHIobmFtZSx2YWx1ZSl7ZnVuY3Rpb24gYXR0ck51bGwoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKX1mdW5jdGlvbiBhdHRyTnVsbE5TKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwpfWZ1bmN0aW9uIGF0dHJDb25zdGFudCgpe3RoaXMuc2V0QXR0cmlidXRlKG5hbWUsdmFsdWUpfWZ1bmN0aW9uIGF0dHJDb25zdGFudE5TKCl7dGhpcy5zZXRBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwsdmFsdWUpfWZ1bmN0aW9uIGF0dHJGdW5jdGlvbigpe3ZhciB4PXZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT14P3RoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOnRoaXMuc2V0QXR0cmlidXRlKG5hbWUseCl9ZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoKXt2YXIgeD12YWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09eD90aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKG5hbWUuc3BhY2UsbmFtZS5sb2NhbCk6dGhpcy5zZXRBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwseCl9cmV0dXJuIG5hbWU9ZDMubnMucXVhbGlmeShuYW1lKSxudWxsPT12YWx1ZT9uYW1lLmxvY2FsP2F0dHJOdWxsTlM6YXR0ck51bGw6XCJmdW5jdGlvblwiPT10eXBlb2YgdmFsdWU/bmFtZS5sb2NhbD9hdHRyRnVuY3Rpb25OUzphdHRyRnVuY3Rpb246bmFtZS5sb2NhbD9hdHRyQ29uc3RhbnROUzphdHRyQ29uc3RhbnR9ZnVuY3Rpb24gZDNfY29sbGFwc2Uocyl7cmV0dXJuIHMudHJpbSgpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX2NsYXNzZWRSZShuYW1lKXtyZXR1cm4gbmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiK2QzLnJlcXVvdGUobmFtZSkrXCIoPzpcXFxccyt8JClcIixcImdcIil9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX2NsYXNzZXMobmFtZSl7cmV0dXJuKG5hbWUrXCJcIikudHJpbSgpLnNwbGl0KC9efFxccysvKX1mdW5jdGlvbiBkM19zZWxlY3Rpb25fY2xhc3NlZChuYW1lLHZhbHVlKXtmdW5jdGlvbiBjbGFzc2VkQ29uc3RhbnQoKXtmb3IodmFyIGk9LTE7KytpPG47KW5hbWVbaV0odGhpcyx2YWx1ZSl9ZnVuY3Rpb24gY2xhc3NlZEZ1bmN0aW9uKCl7Zm9yKHZhciBpPS0xLHg9dmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpOysraTxuOyluYW1lW2ldKHRoaXMseCl9bmFtZT1kM19zZWxlY3Rpb25fY2xhc3NlcyhuYW1lKS5tYXAoZDNfc2VsZWN0aW9uX2NsYXNzZWROYW1lKTt2YXIgbj1uYW1lLmxlbmd0aDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB2YWx1ZT9jbGFzc2VkRnVuY3Rpb246Y2xhc3NlZENvbnN0YW50fWZ1bmN0aW9uIGQzX3NlbGVjdGlvbl9jbGFzc2VkTmFtZShuYW1lKXt2YXIgcmU9ZDNfc2VsZWN0aW9uX2NsYXNzZWRSZShuYW1lKTtyZXR1cm4gZnVuY3Rpb24obm9kZSx2YWx1ZSl7aWYoYz1ub2RlLmNsYXNzTGlzdClyZXR1cm4gdmFsdWU/Yy5hZGQobmFtZSk6Yy5yZW1vdmUobmFtZSk7dmFyIGM9bm9kZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjt2YWx1ZT8ocmUubGFzdEluZGV4PTAscmUudGVzdChjKXx8bm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGQzX2NvbGxhcHNlKGMrXCIgXCIrbmFtZSkpKTpub2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsZDNfY29sbGFwc2UoYy5yZXBsYWNlKHJlLFwiIFwiKSkpfX1mdW5jdGlvbiBkM19zZWxlY3Rpb25fc3R5bGUobmFtZSx2YWx1ZSxwcmlvcml0eSl7ZnVuY3Rpb24gc3R5bGVOdWxsKCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKX1mdW5jdGlvbiBzdHlsZUNvbnN0YW50KCl7dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLHZhbHVlLHByaW9yaXR5KX1mdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKCl7dmFyIHg9dmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PXg/dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTp0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUseCxwcmlvcml0eSl9cmV0dXJuIG51bGw9PXZhbHVlP3N0eWxlTnVsbDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB2YWx1ZT9zdHlsZUZ1bmN0aW9uOnN0eWxlQ29uc3RhbnR9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX3Byb3BlcnR5KG5hbWUsdmFsdWUpe2Z1bmN0aW9uIHByb3BlcnR5TnVsbCgpe2RlbGV0ZSB0aGlzW25hbWVdfWZ1bmN0aW9uIHByb3BlcnR5Q29uc3RhbnQoKXt0aGlzW25hbWVdPXZhbHVlfWZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24oKXt2YXIgeD12YWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09eD9kZWxldGUgdGhpc1tuYW1lXTp0aGlzW25hbWVdPXh9cmV0dXJuIG51bGw9PXZhbHVlP3Byb3BlcnR5TnVsbDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB2YWx1ZT9wcm9wZXJ0eUZ1bmN0aW9uOnByb3BlcnR5Q29uc3RhbnR9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX2NyZWF0b3IobmFtZSl7ZnVuY3Rpb24gY3JlYXRlKCl7dmFyIGRvY3VtZW50PXRoaXMub3duZXJEb2N1bWVudCxuYW1lc3BhY2U9dGhpcy5uYW1lc3BhY2VVUkk7cmV0dXJuIG5hbWVzcGFjZT9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLG5hbWUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSl9ZnVuY3Rpb24gY3JlYXRlTlMoKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwpfXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG5hbWU/bmFtZToobmFtZT1kMy5ucy5xdWFsaWZ5KG5hbWUpKS5sb2NhbD9jcmVhdGVOUzpjcmVhdGV9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uUmVtb3ZlKCl7dmFyIHBhcmVudD10aGlzLnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyl9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX2RhdGFOb2RlKGRhdGEpe3JldHVybntfX2RhdGFfXzpkYXRhfX1mdW5jdGlvbiBkM19zZWxlY3Rpb25fZmlsdGVyKHNlbGVjdG9yKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZDNfc2VsZWN0TWF0Y2hlcyh0aGlzLHNlbGVjdG9yKX19ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX3NvcnRDb21wYXJhdG9yKGNvbXBhcmF0b3Ipe3JldHVybiBhcmd1bWVudHMubGVuZ3RofHwoY29tcGFyYXRvcj1kM19hc2NlbmRpbmcpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJmI/Y29tcGFyYXRvcihhLl9fZGF0YV9fLGIuX19kYXRhX18pOiFhLSFifX1mdW5jdGlvbiBkM19zZWxlY3Rpb25fZWFjaChncm91cHMsY2FsbGJhY2spe2Zvcih2YXIgaj0wLG09Z3JvdXBzLmxlbmd0aDttPmo7aisrKWZvcih2YXIgbm9kZSxncm91cD1ncm91cHNbal0saT0wLG49Z3JvdXAubGVuZ3RoO24+aTtpKyspKG5vZGU9Z3JvdXBbaV0pJiZjYWxsYmFjayhub2RlLGksaik7cmV0dXJuIGdyb3Vwc31mdW5jdGlvbiBkM19zZWxlY3Rpb25fZW50ZXIoc2VsZWN0aW9uKXtyZXR1cm4gZDNfc3ViY2xhc3Moc2VsZWN0aW9uLGQzX3NlbGVjdGlvbl9lbnRlclByb3RvdHlwZSksc2VsZWN0aW9ufWZ1bmN0aW9uIGQzX3NlbGVjdGlvbl9lbnRlckluc2VydEJlZm9yZShlbnRlcil7dmFyIGkwLGowO3JldHVybiBmdW5jdGlvbihkLGksail7dmFyIG5vZGUsZ3JvdXA9ZW50ZXJbal0udXBkYXRlLG49Z3JvdXAubGVuZ3RoO2ZvcihqIT1qMCYmKGowPWosaTA9MCksaT49aTAmJihpMD1pKzEpOyEobm9kZT1ncm91cFtpMF0pJiYrK2kwPG47KTtyZXR1cm4gbm9kZX19ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX29uKHR5cGUsbGlzdGVuZXIsY2FwdHVyZSl7ZnVuY3Rpb24gb25SZW1vdmUoKXt2YXIgbD10aGlzW25hbWVdO2wmJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxsLGwuJCksZGVsZXRlIHRoaXNbbmFtZV0pfWZ1bmN0aW9uIG9uQWRkKCl7dmFyIGw9d3JhcChsaXN0ZW5lcixkM19hcnJheShhcmd1bWVudHMpKTtvblJlbW92ZS5jYWxsKHRoaXMpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLHRoaXNbbmFtZV09bCxsLiQ9Y2FwdHVyZSksbC5fPWxpc3RlbmVyfWZ1bmN0aW9uIHJlbW92ZUFsbCgpe3ZhciBtYXRjaCxyZT1uZXcgUmVnRXhwKFwiXl9fb24oW14uXSspXCIrZDMucmVxdW90ZSh0eXBlKStcIiRcIik7Zm9yKHZhciBuYW1lIGluIHRoaXMpaWYobWF0Y2g9bmFtZS5tYXRjaChyZSkpe3ZhciBsPXRoaXNbbmFtZV07dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG1hdGNoWzFdLGwsbC4kKSxkZWxldGUgdGhpc1tuYW1lXX19dmFyIG5hbWU9XCJfX29uXCIrdHlwZSxpPXR5cGUuaW5kZXhPZihcIi5cIiksd3JhcD1kM19zZWxlY3Rpb25fb25MaXN0ZW5lcjtpPjAmJih0eXBlPXR5cGUuc2xpY2UoMCxpKSk7dmFyIGZpbHRlcj1kM19zZWxlY3Rpb25fb25GaWx0ZXJzLmdldCh0eXBlKTtyZXR1cm4gZmlsdGVyJiYodHlwZT1maWx0ZXIsd3JhcD1kM19zZWxlY3Rpb25fb25GaWx0ZXIpLGk/bGlzdGVuZXI/b25BZGQ6b25SZW1vdmU6bGlzdGVuZXI/ZDNfbm9vcDpyZW1vdmVBbGx9ZnVuY3Rpb24gZDNfc2VsZWN0aW9uX29uTGlzdGVuZXIobGlzdGVuZXIsYXJndW1lbnR6KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG89ZDMuZXZlbnQ7ZDMuZXZlbnQ9ZSxhcmd1bWVudHpbMF09dGhpcy5fX2RhdGFfXzt0cnl7bGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHopfWZpbmFsbHl7ZDMuZXZlbnQ9b319fWZ1bmN0aW9uIGQzX3NlbGVjdGlvbl9vbkZpbHRlcihsaXN0ZW5lcixhcmd1bWVudHope3ZhciBsPWQzX3NlbGVjdGlvbl9vbkxpc3RlbmVyKGxpc3RlbmVyLGFyZ3VtZW50eik7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0YXJnZXQ9dGhpcyxyZWxhdGVkPWUucmVsYXRlZFRhcmdldDtyZWxhdGVkJiYocmVsYXRlZD09PXRhcmdldHx8OCZyZWxhdGVkLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRhcmdldCkpfHxsLmNhbGwodGFyZ2V0LGUpfX1mdW5jdGlvbiBkM19ldmVudF9kcmFnU3VwcHJlc3Mobm9kZSl7dmFyIG5hbWU9XCIuZHJhZ3N1cHByZXNzLVwiKyArK2QzX2V2ZW50X2RyYWdJZCxjbGljaz1cImNsaWNrXCIrbmFtZSx3PWQzLnNlbGVjdChkM193aW5kb3cobm9kZSkpLm9uKFwidG91Y2htb3ZlXCIrbmFtZSxkM19ldmVudFByZXZlbnREZWZhdWx0KS5vbihcImRyYWdzdGFydFwiK25hbWUsZDNfZXZlbnRQcmV2ZW50RGVmYXVsdCkub24oXCJzZWxlY3RzdGFydFwiK25hbWUsZDNfZXZlbnRQcmV2ZW50RGVmYXVsdCk7aWYobnVsbD09ZDNfZXZlbnRfZHJhZ1NlbGVjdCYmKGQzX2V2ZW50X2RyYWdTZWxlY3Q9XCJvbnNlbGVjdHN0YXJ0XCJpbiBub2RlPyExOmQzX3ZlbmRvclN5bWJvbChub2RlLnN0eWxlLFwidXNlclNlbGVjdFwiKSksZDNfZXZlbnRfZHJhZ1NlbGVjdCl7dmFyIHN0eWxlPWQzX2RvY3VtZW50RWxlbWVudChub2RlKS5zdHlsZSxzZWxlY3Q9c3R5bGVbZDNfZXZlbnRfZHJhZ1NlbGVjdF07c3R5bGVbZDNfZXZlbnRfZHJhZ1NlbGVjdF09XCJub25lXCJ9cmV0dXJuIGZ1bmN0aW9uKHN1cHByZXNzQ2xpY2spe2lmKHcub24obmFtZSxudWxsKSxkM19ldmVudF9kcmFnU2VsZWN0JiYoc3R5bGVbZDNfZXZlbnRfZHJhZ1NlbGVjdF09c2VsZWN0KSxzdXBwcmVzc0NsaWNrKXt2YXIgb2ZmPWZ1bmN0aW9uKCl7dy5vbihjbGljayxudWxsKX07dy5vbihjbGljayxmdW5jdGlvbigpe2QzX2V2ZW50UHJldmVudERlZmF1bHQoKSxvZmYoKX0sITApLHNldFRpbWVvdXQob2ZmLDApfX19ZnVuY3Rpb24gZDNfbW91c2VQb2ludChjb250YWluZXIsZSl7ZS5jaGFuZ2VkVG91Y2hlcyYmKGU9ZS5jaGFuZ2VkVG91Y2hlc1swXSk7dmFyIHN2Zz1jb250YWluZXIub3duZXJTVkdFbGVtZW50fHxjb250YWluZXI7aWYoc3ZnLmNyZWF0ZVNWR1BvaW50KXt2YXIgcG9pbnQ9c3ZnLmNyZWF0ZVNWR1BvaW50KCk7aWYoMD5kM19tb3VzZV9idWc0NDA4Myl7dmFyIHdpbmRvdz1kM193aW5kb3coY29udGFpbmVyKTtpZih3aW5kb3cuc2Nyb2xsWHx8d2luZG93LnNjcm9sbFkpe3N2Zz1kMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcInN2Z1wiKS5zdHlsZSh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxwYWRkaW5nOjAsYm9yZGVyOlwibm9uZVwifSxcImltcG9ydGFudFwiKTt2YXIgY3RtPXN2Z1swXVswXS5nZXRTY3JlZW5DVE0oKTtkM19tb3VzZV9idWc0NDA4Mz0hKGN0bS5mfHxjdG0uZSksc3ZnLnJlbW92ZSgpfX1yZXR1cm4gZDNfbW91c2VfYnVnNDQwODM/KHBvaW50Lng9ZS5wYWdlWCxwb2ludC55PWUucGFnZVkpOihwb2ludC54PWUuY2xpZW50WCxwb2ludC55PWUuY2xpZW50WSkscG9pbnQ9cG9pbnQubWF0cml4VHJhbnNmb3JtKGNvbnRhaW5lci5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpLFtwb2ludC54LHBvaW50LnldfXZhciByZWN0PWNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm5bZS5jbGllbnRYLXJlY3QubGVmdC1jb250YWluZXIuY2xpZW50TGVmdCxlLmNsaWVudFktcmVjdC50b3AtY29udGFpbmVyLmNsaWVudFRvcF19ZnVuY3Rpb24gZDNfYmVoYXZpb3JfZHJhZ1RvdWNoSWQoKXtyZXR1cm4gZDMuZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcn1mdW5jdGlvbiBkM19zZ24oeCl7cmV0dXJuIHg+MD8xOjA+eD8tMTowfWZ1bmN0aW9uIGQzX2Nyb3NzMmQoYSxiLGMpe3JldHVybihiWzBdLWFbMF0pKihjWzFdLWFbMV0pLShiWzFdLWFbMV0pKihjWzBdLWFbMF0pfWZ1bmN0aW9uIGQzX2Fjb3MoeCl7cmV0dXJuIHg+MT8wOi0xPng/z4A6TWF0aC5hY29zKHgpfWZ1bmN0aW9uIGQzX2FzaW4oeCl7cmV0dXJuIHg+MT9oYWxmz4A6LTE+eD8taGFsZs+AOk1hdGguYXNpbih4KX1mdW5jdGlvbiBkM19zaW5oKHgpe3JldHVybigoeD1NYXRoLmV4cCh4KSktMS94KS8yfWZ1bmN0aW9uIGQzX2Nvc2goeCl7cmV0dXJuKCh4PU1hdGguZXhwKHgpKSsxL3gpLzJ9ZnVuY3Rpb24gZDNfdGFuaCh4KXtyZXR1cm4oKHg9TWF0aC5leHAoMip4KSktMSkvKHgrMSl9ZnVuY3Rpb24gZDNfaGF2ZXJzaW4oeCl7cmV0dXJuKHg9TWF0aC5zaW4oeC8yKSkqeH1mdW5jdGlvbiBkM19jb2xvcigpe31mdW5jdGlvbiBkM19oc2woaCxzLGwpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZDNfaHNsPyh0aGlzLmg9K2gsdGhpcy5zPStzLHZvaWQodGhpcy5sPStsKSk6YXJndW1lbnRzLmxlbmd0aDwyP2ggaW5zdGFuY2VvZiBkM19oc2w/bmV3IGQzX2hzbChoLmgsaC5zLGgubCk6ZDNfcmdiX3BhcnNlKFwiXCIraCxkM19yZ2JfaHNsLGQzX2hzbCk6bmV3IGQzX2hzbChoLHMsbCl9ZnVuY3Rpb24gZDNfaHNsX3JnYihoLHMsbCl7ZnVuY3Rpb24gdihoKXtyZXR1cm4gaD4zNjA/aC09MzYwOjA+aCYmKGgrPTM2MCksNjA+aD9tMSsobTItbTEpKmgvNjA6MTgwPmg/bTI6MjQwPmg/bTErKG0yLW0xKSooMjQwLWgpLzYwOm0xfWZ1bmN0aW9uIHZ2KGgpe3JldHVybiBNYXRoLnJvdW5kKDI1NSp2KGgpKX12YXIgbTEsbTI7cmV0dXJuIGg9aXNOYU4oaCk/MDooaCU9MzYwKTwwP2grMzYwOmgscz1pc05hTihzKT8wOjA+cz8wOnM+MT8xOnMsbD0wPmw/MDpsPjE/MTpsLG0yPS41Pj1sP2wqKDErcyk6bCtzLWwqcyxtMT0yKmwtbTIsbmV3IGQzX3JnYih2dihoKzEyMCksdnYoaCksdnYoaC0xMjApKX1mdW5jdGlvbiBkM19oY2woaCxjLGwpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZDNfaGNsPyh0aGlzLmg9K2gsdGhpcy5jPStjLHZvaWQodGhpcy5sPStsKSk6YXJndW1lbnRzLmxlbmd0aDwyP2ggaW5zdGFuY2VvZiBkM19oY2w/bmV3IGQzX2hjbChoLmgsaC5jLGgubCk6aCBpbnN0YW5jZW9mIGQzX2xhYj9kM19sYWJfaGNsKGgubCxoLmEsaC5iKTpkM19sYWJfaGNsKChoPWQzX3JnYl9sYWIoKGg9ZDMucmdiKGgpKS5yLGguZyxoLmIpKS5sLGguYSxoLmIpOm5ldyBkM19oY2woaCxjLGwpfWZ1bmN0aW9uIGQzX2hjbF9sYWIoaCxjLGwpe3JldHVybiBpc05hTihoKSYmKGg9MCksaXNOYU4oYykmJihjPTApLG5ldyBkM19sYWIobCxNYXRoLmNvcyhoKj1kM19yYWRpYW5zKSpjLE1hdGguc2luKGgpKmMpfWZ1bmN0aW9uIGQzX2xhYihsLGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBkM19sYWI/KHRoaXMubD0rbCx0aGlzLmE9K2Esdm9pZCh0aGlzLmI9K2IpKTphcmd1bWVudHMubGVuZ3RoPDI/bCBpbnN0YW5jZW9mIGQzX2xhYj9uZXcgZDNfbGFiKGwubCxsLmEsbC5iKTpsIGluc3RhbmNlb2YgZDNfaGNsP2QzX2hjbF9sYWIobC5oLGwuYyxsLmwpOmQzX3JnYl9sYWIoKGw9ZDNfcmdiKGwpKS5yLGwuZyxsLmIpOm5ldyBkM19sYWIobCxhLGIpfWZ1bmN0aW9uIGQzX2xhYl9yZ2IobCxhLGIpe3ZhciB5PShsKzE2KS8xMTYseD15K2EvNTAwLHo9eS1iLzIwMDtyZXR1cm4geD1kM19sYWJfeHl6KHgpKmQzX2xhYl9YLHk9ZDNfbGFiX3h5eih5KSpkM19sYWJfWSx6PWQzX2xhYl94eXooeikqZDNfbGFiX1osbmV3IGQzX3JnYihkM194eXpfcmdiKDMuMjQwNDU0Mip4LTEuNTM3MTM4NSp5LS40OTg1MzE0KnopLGQzX3h5el9yZ2IoLS45NjkyNjYqeCsxLjg3NjAxMDgqeSsuMDQxNTU2KnopLGQzX3h5el9yZ2IoLjA1NTY0MzQqeC0uMjA0MDI1OSp5KzEuMDU3MjI1Mip6KSl9ZnVuY3Rpb24gZDNfbGFiX2hjbChsLGEsYil7cmV0dXJuIGw+MD9uZXcgZDNfaGNsKE1hdGguYXRhbjIoYixhKSpkM19kZWdyZWVzLE1hdGguc3FydChhKmErYipiKSxsKTpuZXcgZDNfaGNsKE5hTixOYU4sbCl9ZnVuY3Rpb24gZDNfbGFiX3h5eih4KXtyZXR1cm4geD4uMjA2ODkzMDM0P3gqeCp4Oih4LTQvMjkpLzcuNzg3MDM3fWZ1bmN0aW9uIGQzX3h5el9sYWIoeCl7cmV0dXJuIHg+LjAwODg1Nj9NYXRoLnBvdyh4LDEvMyk6Ny43ODcwMzcqeCs0LzI5fWZ1bmN0aW9uIGQzX3h5el9yZ2Iocil7cmV0dXJuIE1hdGgucm91bmQoMjU1KiguMDAzMDQ+PXI/MTIuOTIqcjoxLjA1NSpNYXRoLnBvdyhyLDEvMi40KS0uMDU1KSl9ZnVuY3Rpb24gZDNfcmdiKHIsZyxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGQzX3JnYj8odGhpcy5yPX5+cix0aGlzLmc9fn5nLHZvaWQodGhpcy5iPX5+YikpOmFyZ3VtZW50cy5sZW5ndGg8Mj9yIGluc3RhbmNlb2YgZDNfcmdiP25ldyBkM19yZ2Ioci5yLHIuZyxyLmIpOmQzX3JnYl9wYXJzZShcIlwiK3IsZDNfcmdiLGQzX2hzbF9yZ2IpOm5ldyBkM19yZ2IocixnLGIpfWZ1bmN0aW9uIGQzX3JnYk51bWJlcih2YWx1ZSl7cmV0dXJuIG5ldyBkM19yZ2IodmFsdWU+PjE2LHZhbHVlPj44JjI1NSwyNTUmdmFsdWUpfWZ1bmN0aW9uIGQzX3JnYlN0cmluZyh2YWx1ZSl7cmV0dXJuIGQzX3JnYk51bWJlcih2YWx1ZSkrXCJcIn1mdW5jdGlvbiBkM19yZ2JfaGV4KHYpe3JldHVybiAxNj52P1wiMFwiK01hdGgubWF4KDAsdikudG9TdHJpbmcoMTYpOk1hdGgubWluKDI1NSx2KS50b1N0cmluZygxNil9ZnVuY3Rpb24gZDNfcmdiX3BhcnNlKGZvcm1hdCxyZ2IsaHNsKXtmb3JtYXQ9Zm9ybWF0LnRvTG93ZXJDYXNlKCk7dmFyIG0xLG0yLGNvbG9yLHI9MCxnPTAsYj0wO2lmKG0xPS8oW2Etel0rKVxcKCguKilcXCkvLmV4ZWMoZm9ybWF0KSlzd2l0Y2gobTI9bTFbMl0uc3BsaXQoXCIsXCIpLG0xWzFdKXtjYXNlXCJoc2xcIjpyZXR1cm4gaHNsKHBhcnNlRmxvYXQobTJbMF0pLHBhcnNlRmxvYXQobTJbMV0pLzEwMCxwYXJzZUZsb2F0KG0yWzJdKS8xMDApO2Nhc2VcInJnYlwiOnJldHVybiByZ2IoZDNfcmdiX3BhcnNlTnVtYmVyKG0yWzBdKSxkM19yZ2JfcGFyc2VOdW1iZXIobTJbMV0pLGQzX3JnYl9wYXJzZU51bWJlcihtMlsyXSkpfXJldHVybihjb2xvcj1kM19yZ2JfbmFtZXMuZ2V0KGZvcm1hdCkpP3JnYihjb2xvci5yLGNvbG9yLmcsY29sb3IuYik6KG51bGw9PWZvcm1hdHx8XCIjXCIhPT1mb3JtYXQuY2hhckF0KDApfHxpc05hTihjb2xvcj1wYXJzZUludChmb3JtYXQuc2xpY2UoMSksMTYpKXx8KDQ9PT1mb3JtYXQubGVuZ3RoPyhyPSgzODQwJmNvbG9yKT4+NCxyPXI+PjR8cixnPTI0MCZjb2xvcixnPWc+PjR8ZyxiPTE1JmNvbG9yLGI9Yjw8NHxiKTo3PT09Zm9ybWF0Lmxlbmd0aCYmKHI9KDE2NzExNjgwJmNvbG9yKT4+MTYsZz0oNjUyODAmY29sb3IpPj44LGI9MjU1JmNvbG9yKSkscmdiKHIsZyxiKSl9ZnVuY3Rpb24gZDNfcmdiX2hzbChyLGcsYil7dmFyIGgscyxtaW49TWF0aC5taW4oci89MjU1LGcvPTI1NSxiLz0yNTUpLG1heD1NYXRoLm1heChyLGcsYiksZD1tYXgtbWluLGw9KG1heCttaW4pLzI7cmV0dXJuIGQ/KHM9LjU+bD9kLyhtYXgrbWluKTpkLygyLW1heC1taW4pLGg9cj09bWF4PyhnLWIpL2QrKGI+Zz82OjApOmc9PW1heD8oYi1yKS9kKzI6KHItZykvZCs0LGgqPTYwKTooaD1OYU4scz1sPjAmJjE+bD8wOmgpLG5ldyBkM19oc2woaCxzLGwpfWZ1bmN0aW9uIGQzX3JnYl9sYWIocixnLGIpe3I9ZDNfcmdiX3h5eihyKSxnPWQzX3JnYl94eXooZyksYj1kM19yZ2JfeHl6KGIpO3ZhciB4PWQzX3h5el9sYWIoKC40MTI0NTY0KnIrLjM1NzU3NjEqZysuMTgwNDM3NSpiKS9kM19sYWJfWCkseT1kM194eXpfbGFiKCguMjEyNjcyOSpyKy43MTUxNTIyKmcrLjA3MjE3NSpiKS9kM19sYWJfWSksej1kM194eXpfbGFiKCguMDE5MzMzOSpyKy4xMTkxOTIqZysuOTUwMzA0MSpiKS9kM19sYWJfWik7cmV0dXJuIGQzX2xhYigxMTYqeS0xNiw1MDAqKHgteSksMjAwKih5LXopKX1mdW5jdGlvbiBkM19yZ2JfeHl6KHIpe3JldHVybihyLz0yNTUpPD0uMDQwNDU/ci8xMi45MjpNYXRoLnBvdygocisuMDU1KS8xLjA1NSwyLjQpfWZ1bmN0aW9uIGQzX3JnYl9wYXJzZU51bWJlcihjKXt2YXIgZj1wYXJzZUZsb2F0KGMpO3JldHVyblwiJVwiPT09Yy5jaGFyQXQoYy5sZW5ndGgtMSk/TWF0aC5yb3VuZCgyLjU1KmYpOmZ9ZnVuY3Rpb24gZDNfZnVuY3Rvcih2KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB2P3Y6ZnVuY3Rpb24oKXtyZXR1cm4gdn19ZnVuY3Rpb24gZDNfeGhyVHlwZShyZXNwb25zZSl7cmV0dXJuIGZ1bmN0aW9uKHVybCxtaW1lVHlwZSxjYWxsYmFjayl7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBtaW1lVHlwZSYmKGNhbGxiYWNrPW1pbWVUeXBlLG1pbWVUeXBlPW51bGwpLGQzX3hocih1cmwsbWltZVR5cGUscmVzcG9uc2UsY2FsbGJhY2spfX1mdW5jdGlvbiBkM194aHIodXJsLG1pbWVUeXBlLHJlc3BvbnNlLGNhbGxiYWNrKXtmdW5jdGlvbiByZXNwb25kKCl7dmFyIHJlc3VsdCxzdGF0dXM9cmVxdWVzdC5zdGF0dXM7aWYoIXN0YXR1cyYmZDNfeGhySGFzUmVzcG9uc2UocmVxdWVzdCl8fHN0YXR1cz49MjAwJiYzMDA+c3RhdHVzfHwzMDQ9PT1zdGF0dXMpe3RyeXtyZXN1bHQ9cmVzcG9uc2UuY2FsbCh4aHIscmVxdWVzdCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgZGlzcGF0Y2guZXJyb3IuY2FsbCh4aHIsZSl9ZGlzcGF0Y2gubG9hZC5jYWxsKHhocixyZXN1bHQpfWVsc2UgZGlzcGF0Y2guZXJyb3IuY2FsbCh4aHIscmVxdWVzdCl9dmFyIHhocj17fSxkaXNwYXRjaD1kMy5kaXNwYXRjaChcImJlZm9yZXNlbmRcIixcInByb2dyZXNzXCIsXCJsb2FkXCIsXCJlcnJvclwiKSxoZWFkZXJzPXt9LHJlcXVlc3Q9bmV3IFhNTEh0dHBSZXF1ZXN0LHJlc3BvbnNlVHlwZT1udWxsO3JldHVybiF0aGlzLlhEb21haW5SZXF1ZXN0fHxcIndpdGhDcmVkZW50aWFsc1wiaW4gcmVxdWVzdHx8IS9eKGh0dHAocyk/Oik/XFwvXFwvLy50ZXN0KHVybCl8fChyZXF1ZXN0PW5ldyBYRG9tYWluUmVxdWVzdCksXCJvbmxvYWRcImluIHJlcXVlc3Q/cmVxdWVzdC5vbmxvYWQ9cmVxdWVzdC5vbmVycm9yPXJlc3BvbmQ6cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtyZXF1ZXN0LnJlYWR5U3RhdGU+MyYmcmVzcG9uZCgpfSxyZXF1ZXN0Lm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciBvPWQzLmV2ZW50O2QzLmV2ZW50PWV2ZW50O3RyeXtkaXNwYXRjaC5wcm9ncmVzcy5jYWxsKHhocixyZXF1ZXN0KX1maW5hbGx5e2QzLmV2ZW50PW99fSx4aHIuaGVhZGVyPWZ1bmN0aW9uKG5hbWUsdmFsdWUpe3JldHVybiBuYW1lPShuYW1lK1wiXCIpLnRvTG93ZXJDYXNlKCksYXJndW1lbnRzLmxlbmd0aDwyP2hlYWRlcnNbbmFtZV06KG51bGw9PXZhbHVlP2RlbGV0ZSBoZWFkZXJzW25hbWVdOmhlYWRlcnNbbmFtZV09dmFsdWUrXCJcIix4aHIpfSx4aHIubWltZVR5cGU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhtaW1lVHlwZT1udWxsPT12YWx1ZT9udWxsOnZhbHVlK1wiXCIseGhyKTptaW1lVHlwZX0seGhyLnJlc3BvbnNlVHlwZT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHJlc3BvbnNlVHlwZT12YWx1ZSx4aHIpOnJlc3BvbnNlVHlwZX0seGhyLnJlc3BvbnNlPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gcmVzcG9uc2U9dmFsdWUseGhyfSxbXCJnZXRcIixcInBvc3RcIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2Qpe3hoclttZXRob2RdPWZ1bmN0aW9uKCl7cmV0dXJuIHhoci5zZW5kLmFwcGx5KHhocixbbWV0aG9kXS5jb25jYXQoZDNfYXJyYXkoYXJndW1lbnRzKSkpfX0pLHhoci5zZW5kPWZ1bmN0aW9uKG1ldGhvZCxkYXRhLGNhbGxiYWNrKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZGF0YSYmKGNhbGxiYWNrPWRhdGEsZGF0YT1udWxsKSxyZXF1ZXN0Lm9wZW4obWV0aG9kLHVybCwhMCksbnVsbD09bWltZVR5cGV8fFwiYWNjZXB0XCJpbiBoZWFkZXJzfHwoaGVhZGVycy5hY2NlcHQ9bWltZVR5cGUrXCIsKi8qXCIpLHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcilmb3IodmFyIG5hbWUgaW4gaGVhZGVycylyZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIobmFtZSxoZWFkZXJzW25hbWVdKTtyZXR1cm4gbnVsbCE9bWltZVR5cGUmJnJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZSYmcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKG1pbWVUeXBlKSxudWxsIT1yZXNwb25zZVR5cGUmJihyZXF1ZXN0LnJlc3BvbnNlVHlwZT1yZXNwb25zZVR5cGUpLG51bGwhPWNhbGxiYWNrJiZ4aHIub24oXCJlcnJvclwiLGNhbGxiYWNrKS5vbihcImxvYWRcIixmdW5jdGlvbihyZXF1ZXN0KXtjYWxsYmFjayhudWxsLHJlcXVlc3QpfSksZGlzcGF0Y2guYmVmb3Jlc2VuZC5jYWxsKHhocixyZXF1ZXN0KSxyZXF1ZXN0LnNlbmQobnVsbD09ZGF0YT9udWxsOmRhdGEpLHhocn0seGhyLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHJlcXVlc3QuYWJvcnQoKSx4aHJ9LGQzLnJlYmluZCh4aHIsZGlzcGF0Y2gsXCJvblwiKSxudWxsPT1jYWxsYmFjaz94aHI6eGhyLmdldChkM194aHJfZml4Q2FsbGJhY2soY2FsbGJhY2spKX1mdW5jdGlvbiBkM194aHJfZml4Q2FsbGJhY2soY2FsbGJhY2spe3JldHVybiAxPT09Y2FsbGJhY2subGVuZ3RoP2Z1bmN0aW9uKGVycm9yLHJlcXVlc3Qpe2NhbGxiYWNrKG51bGw9PWVycm9yP3JlcXVlc3Q6bnVsbCl9OmNhbGxiYWNrfWZ1bmN0aW9uIGQzX3hockhhc1Jlc3BvbnNlKHJlcXVlc3Qpe3ZhciB0eXBlPXJlcXVlc3QucmVzcG9uc2VUeXBlO3JldHVybiB0eXBlJiZcInRleHRcIiE9PXR5cGU/cmVxdWVzdC5yZXNwb25zZTpyZXF1ZXN0LnJlc3BvbnNlVGV4dH1mdW5jdGlvbiBkM190aW1lcl9zdGVwKCl7dmFyIG5vdz1kM190aW1lcl9tYXJrKCksZGVsYXk9ZDNfdGltZXJfc3dlZXAoKS1ub3c7ZGVsYXk+MjQ/KGlzRmluaXRlKGRlbGF5KSYmKGNsZWFyVGltZW91dChkM190aW1lcl90aW1lb3V0KSxkM190aW1lcl90aW1lb3V0PXNldFRpbWVvdXQoZDNfdGltZXJfc3RlcCxkZWxheSkpLGQzX3RpbWVyX2ludGVydmFsPTApOihkM190aW1lcl9pbnRlcnZhbD0xLGQzX3RpbWVyX2ZyYW1lKGQzX3RpbWVyX3N0ZXApKX1mdW5jdGlvbiBkM190aW1lcl9tYXJrKCl7dmFyIG5vdz1EYXRlLm5vdygpO2ZvcihkM190aW1lcl9hY3RpdmU9ZDNfdGltZXJfcXVldWVIZWFkO2QzX3RpbWVyX2FjdGl2ZTspbm93Pj1kM190aW1lcl9hY3RpdmUudCYmKGQzX3RpbWVyX2FjdGl2ZS5mPWQzX3RpbWVyX2FjdGl2ZS5jKG5vdy1kM190aW1lcl9hY3RpdmUudCkpLGQzX3RpbWVyX2FjdGl2ZT1kM190aW1lcl9hY3RpdmUubjtyZXR1cm4gbm93fWZ1bmN0aW9uIGQzX3RpbWVyX3N3ZWVwKCl7Zm9yKHZhciB0MCx0MT1kM190aW1lcl9xdWV1ZUhlYWQsdGltZT0xLzA7dDE7KXQxLmY/dDE9dDA/dDAubj10MS5uOmQzX3RpbWVyX3F1ZXVlSGVhZD10MS5uOih0MS50PHRpbWUmJih0aW1lPXQxLnQpLHQxPSh0MD10MSkubik7cmV0dXJuIGQzX3RpbWVyX3F1ZXVlVGFpbD10MCx0aW1lfWZ1bmN0aW9uIGQzX2Zvcm1hdF9wcmVjaXNpb24oeCxwKXtyZXR1cm4gcC0oeD9NYXRoLmNlaWwoTWF0aC5sb2coeCkvTWF0aC5MTjEwKToxKX1mdW5jdGlvbiBkM19mb3JtYXRQcmVmaXgoZCxpKXt2YXIgaz1NYXRoLnBvdygxMCwzKmFicyg4LWkpKTtyZXR1cm57c2NhbGU6aT44P2Z1bmN0aW9uKGQpe3JldHVybiBkL2t9OmZ1bmN0aW9uKGQpe3JldHVybiBkKmt9LHN5bWJvbDpkfX1mdW5jdGlvbiBkM19sb2NhbGVfbnVtYmVyRm9ybWF0KGxvY2FsZSl7dmFyIGxvY2FsZV9kZWNpbWFsPWxvY2FsZS5kZWNpbWFsLGxvY2FsZV90aG91c2FuZHM9bG9jYWxlLnRob3VzYW5kcyxsb2NhbGVfZ3JvdXBpbmc9bG9jYWxlLmdyb3VwaW5nLGxvY2FsZV9jdXJyZW5jeT1sb2NhbGUuY3VycmVuY3ksZm9ybWF0R3JvdXA9bG9jYWxlX2dyb3VwaW5nJiZsb2NhbGVfdGhvdXNhbmRzP2Z1bmN0aW9uKHZhbHVlLHdpZHRoKXtmb3IodmFyIGk9dmFsdWUubGVuZ3RoLHQ9W10saj0wLGc9bG9jYWxlX2dyb3VwaW5nWzBdLGxlbmd0aD0wO2k+MCYmZz4wJiYobGVuZ3RoK2crMT53aWR0aCYmKGc9TWF0aC5tYXgoMSx3aWR0aC1sZW5ndGgpKSx0LnB1c2godmFsdWUuc3Vic3RyaW5nKGktPWcsaStnKSksISgobGVuZ3RoKz1nKzEpPndpZHRoKSk7KWc9bG9jYWxlX2dyb3VwaW5nW2o9KGorMSklbG9jYWxlX2dyb3VwaW5nLmxlbmd0aF07cmV0dXJuIHQucmV2ZXJzZSgpLmpvaW4obG9jYWxlX3Rob3VzYW5kcyl9OmQzX2lkZW50aXR5O3JldHVybiBmdW5jdGlvbihzcGVjaWZpZXIpe3ZhciBtYXRjaD1kM19mb3JtYXRfcmUuZXhlYyhzcGVjaWZpZXIpLGZpbGw9bWF0Y2hbMV18fFwiIFwiLGFsaWduPW1hdGNoWzJdfHxcIj5cIixzaWduPW1hdGNoWzNdfHxcIi1cIixzeW1ib2w9bWF0Y2hbNF18fFwiXCIsemZpbGw9bWF0Y2hbNV0sd2lkdGg9K21hdGNoWzZdLGNvbW1hPW1hdGNoWzddLHByZWNpc2lvbj1tYXRjaFs4XSx0eXBlPW1hdGNoWzldLHNjYWxlPTEscHJlZml4PVwiXCIsc3VmZml4PVwiXCIsaW50ZWdlcj0hMSxleHBvbmVudD0hMDtzd2l0Y2gocHJlY2lzaW9uJiYocHJlY2lzaW9uPStwcmVjaXNpb24uc3Vic3RyaW5nKDEpKSwoemZpbGx8fFwiMFwiPT09ZmlsbCYmXCI9XCI9PT1hbGlnbikmJih6ZmlsbD1maWxsPVwiMFwiLGFsaWduPVwiPVwiKSx0eXBlKXtjYXNlXCJuXCI6Y29tbWE9ITAsdHlwZT1cImdcIjticmVhaztjYXNlXCIlXCI6c2NhbGU9MTAwLHN1ZmZpeD1cIiVcIix0eXBlPVwiZlwiO2JyZWFrO2Nhc2VcInBcIjpzY2FsZT0xMDAsc3VmZml4PVwiJVwiLHR5cGU9XCJyXCI7YnJlYWs7Y2FzZVwiYlwiOmNhc2VcIm9cIjpjYXNlXCJ4XCI6Y2FzZVwiWFwiOlwiI1wiPT09c3ltYm9sJiYocHJlZml4PVwiMFwiK3R5cGUudG9Mb3dlckNhc2UoKSk7Y2FzZVwiY1wiOmV4cG9uZW50PSExO2Nhc2VcImRcIjppbnRlZ2VyPSEwLHByZWNpc2lvbj0wO2JyZWFrO2Nhc2VcInNcIjpzY2FsZT0tMSx0eXBlPVwiclwifVwiJFwiPT09c3ltYm9sJiYocHJlZml4PWxvY2FsZV9jdXJyZW5jeVswXSxzdWZmaXg9bG9jYWxlX2N1cnJlbmN5WzFdKSxcInJcIiE9dHlwZXx8cHJlY2lzaW9ufHwodHlwZT1cImdcIiksbnVsbCE9cHJlY2lzaW9uJiYoXCJnXCI9PXR5cGU/cHJlY2lzaW9uPU1hdGgubWF4KDEsTWF0aC5taW4oMjEscHJlY2lzaW9uKSk6KFwiZVwiPT10eXBlfHxcImZcIj09dHlwZSkmJihwcmVjaXNpb249TWF0aC5tYXgoMCxNYXRoLm1pbigyMCxwcmVjaXNpb24pKSkpLHR5cGU9ZDNfZm9ybWF0X3R5cGVzLmdldCh0eXBlKXx8ZDNfZm9ybWF0X3R5cGVEZWZhdWx0O3ZhciB6Y29tbWE9emZpbGwmJmNvbW1hO3JldHVybiBmdW5jdGlvbih2YWx1ZSl7dmFyIGZ1bGxTdWZmaXg9c3VmZml4O2lmKGludGVnZXImJnZhbHVlJTEpcmV0dXJuXCJcIjt2YXIgbmVnYXRpdmU9MD52YWx1ZXx8MD09PXZhbHVlJiYwPjEvdmFsdWU/KHZhbHVlPS12YWx1ZSxcIi1cIik6XCItXCI9PT1zaWduP1wiXCI6c2lnbjtpZigwPnNjYWxlKXt2YXIgdW5pdD1kMy5mb3JtYXRQcmVmaXgodmFsdWUscHJlY2lzaW9uKTt2YWx1ZT11bml0LnNjYWxlKHZhbHVlKSxmdWxsU3VmZml4PXVuaXQuc3ltYm9sK3N1ZmZpeH1lbHNlIHZhbHVlKj1zY2FsZTt2YWx1ZT10eXBlKHZhbHVlLHByZWNpc2lvbik7dmFyIGJlZm9yZSxhZnRlcixpPXZhbHVlLmxhc3RJbmRleE9mKFwiLlwiKTtpZigwPmkpe3ZhciBqPWV4cG9uZW50P3ZhbHVlLmxhc3RJbmRleE9mKFwiZVwiKTotMTswPmo/KGJlZm9yZT12YWx1ZSxhZnRlcj1cIlwiKTooYmVmb3JlPXZhbHVlLnN1YnN0cmluZygwLGopLGFmdGVyPXZhbHVlLnN1YnN0cmluZyhqKSl9ZWxzZSBiZWZvcmU9dmFsdWUuc3Vic3RyaW5nKDAsaSksYWZ0ZXI9bG9jYWxlX2RlY2ltYWwrdmFsdWUuc3Vic3RyaW5nKGkrMSk7IXpmaWxsJiZjb21tYSYmKGJlZm9yZT1mb3JtYXRHcm91cChiZWZvcmUsMS8wKSk7dmFyIGxlbmd0aD1wcmVmaXgubGVuZ3RoK2JlZm9yZS5sZW5ndGgrYWZ0ZXIubGVuZ3RoKyh6Y29tbWE/MDpuZWdhdGl2ZS5sZW5ndGgpLHBhZGRpbmc9d2lkdGg+bGVuZ3RoP25ldyBBcnJheShsZW5ndGg9d2lkdGgtbGVuZ3RoKzEpLmpvaW4oZmlsbCk6XCJcIjtyZXR1cm4gemNvbW1hJiYoYmVmb3JlPWZvcm1hdEdyb3VwKHBhZGRpbmcrYmVmb3JlLHBhZGRpbmcubGVuZ3RoP3dpZHRoLWFmdGVyLmxlbmd0aDoxLzApKSxuZWdhdGl2ZSs9cHJlZml4LHZhbHVlPWJlZm9yZSthZnRlciwoXCI8XCI9PT1hbGlnbj9uZWdhdGl2ZSt2YWx1ZStwYWRkaW5nOlwiPlwiPT09YWxpZ24/cGFkZGluZytuZWdhdGl2ZSt2YWx1ZTpcIl5cIj09PWFsaWduP3BhZGRpbmcuc3Vic3RyaW5nKDAsbGVuZ3RoPj49MSkrbmVnYXRpdmUrdmFsdWUrcGFkZGluZy5zdWJzdHJpbmcobGVuZ3RoKTpuZWdhdGl2ZSsoemNvbW1hP3ZhbHVlOnBhZGRpbmcrdmFsdWUpKStmdWxsU3VmZml4fX19ZnVuY3Rpb24gZDNfZm9ybWF0X3R5cGVEZWZhdWx0KHgpe3JldHVybiB4K1wiXCJ9ZnVuY3Rpb24gZDNfZGF0ZV91dGMoKXt0aGlzLl89bmV3IERhdGUoYXJndW1lbnRzLmxlbmd0aD4xP0RhdGUuVVRDLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphcmd1bWVudHNbMF0pfWZ1bmN0aW9uIGQzX3RpbWVfaW50ZXJ2YWwobG9jYWwsc3RlcCxudW1iZXIpe2Z1bmN0aW9uIHJvdW5kKGRhdGUpe3ZhciBkMD1sb2NhbChkYXRlKSxkMT1vZmZzZXQoZDAsMSk7cmV0dXJuIGQxLWRhdGU+ZGF0ZS1kMD9kMDpkMX1mdW5jdGlvbiBjZWlsKGRhdGUpe3JldHVybiBzdGVwKGRhdGU9bG9jYWwobmV3IGQzX2RhdGUoZGF0ZS0xKSksMSksZGF0ZX1mdW5jdGlvbiBvZmZzZXQoZGF0ZSxrKXtyZXR1cm4gc3RlcChkYXRlPW5ldyBkM19kYXRlKCtkYXRlKSxrKSxkYXRlfWZ1bmN0aW9uIHJhbmdlKHQwLHQxLGR0KXt2YXIgdGltZT1jZWlsKHQwKSx0aW1lcz1bXTtpZihkdD4xKWZvcig7dDE+dGltZTspbnVtYmVyKHRpbWUpJWR0fHx0aW1lcy5wdXNoKG5ldyBEYXRlKCt0aW1lKSksc3RlcCh0aW1lLDEpO2Vsc2UgZm9yKDt0MT50aW1lOyl0aW1lcy5wdXNoKG5ldyBEYXRlKCt0aW1lKSksc3RlcCh0aW1lLDEpO3JldHVybiB0aW1lc31mdW5jdGlvbiByYW5nZV91dGModDAsdDEsZHQpe3RyeXtkM19kYXRlPWQzX2RhdGVfdXRjO3ZhciB1dGM9bmV3IGQzX2RhdGVfdXRjO3JldHVybiB1dGMuXz10MCxyYW5nZSh1dGMsdDEsZHQpfWZpbmFsbHl7ZDNfZGF0ZT1EYXRlfX1sb2NhbC5mbG9vcj1sb2NhbCxsb2NhbC5yb3VuZD1yb3VuZCxsb2NhbC5jZWlsPWNlaWwsbG9jYWwub2Zmc2V0PW9mZnNldCxsb2NhbC5yYW5nZT1yYW5nZTt2YXIgdXRjPWxvY2FsLnV0Yz1kM190aW1lX2ludGVydmFsX3V0Yyhsb2NhbCk7cmV0dXJuIHV0Yy5mbG9vcj11dGMsdXRjLnJvdW5kPWQzX3RpbWVfaW50ZXJ2YWxfdXRjKHJvdW5kKSx1dGMuY2VpbD1kM190aW1lX2ludGVydmFsX3V0YyhjZWlsKSx1dGMub2Zmc2V0PWQzX3RpbWVfaW50ZXJ2YWxfdXRjKG9mZnNldCksdXRjLnJhbmdlPXJhbmdlX3V0Yyxsb2NhbH1mdW5jdGlvbiBkM190aW1lX2ludGVydmFsX3V0YyhtZXRob2Qpe3JldHVybiBmdW5jdGlvbihkYXRlLGspe3RyeXtkM19kYXRlPWQzX2RhdGVfdXRjO3ZhciB1dGM9bmV3IGQzX2RhdGVfdXRjO3JldHVybiB1dGMuXz1kYXRlLG1ldGhvZCh1dGMsaykuX31maW5hbGx5e2QzX2RhdGU9RGF0ZX19fWZ1bmN0aW9uIGQzX2xvY2FsZV90aW1lRm9ybWF0KGxvY2FsZSl7ZnVuY3Rpb24gZDNfdGltZV9mb3JtYXQodGVtcGxhdGUpe2Z1bmN0aW9uIGZvcm1hdChkYXRlKXtmb3IodmFyIGMscCxmLHN0cmluZz1bXSxpPS0xLGo9MDsrK2k8bjspMzc9PT10ZW1wbGF0ZS5jaGFyQ29kZUF0KGkpJiYoc3RyaW5nLnB1c2godGVtcGxhdGUuc2xpY2UoaixpKSksbnVsbCE9KHA9ZDNfdGltZV9mb3JtYXRQYWRzW2M9dGVtcGxhdGUuY2hhckF0KCsraSldKSYmKGM9dGVtcGxhdGUuY2hhckF0KCsraSkpLChmPWQzX3RpbWVfZm9ybWF0c1tjXSkmJihjPWYoZGF0ZSxudWxsPT1wP1wiZVwiPT09Yz9cIiBcIjpcIjBcIjpwKSksc3RyaW5nLnB1c2goYyksaj1pKzEpO3JldHVybiBzdHJpbmcucHVzaCh0ZW1wbGF0ZS5zbGljZShqLGkpKSxzdHJpbmcuam9pbihcIlwiKX12YXIgbj10ZW1wbGF0ZS5sZW5ndGg7cmV0dXJuIGZvcm1hdC5wYXJzZT1mdW5jdGlvbihzdHJpbmcpe3ZhciBkPXt5OjE5MDAsbTowLGQ6MSxIOjAsTTowLFM6MCxMOjAsWjpudWxsfSxpPWQzX3RpbWVfcGFyc2UoZCx0ZW1wbGF0ZSxzdHJpbmcsMCk7aWYoaSE9c3RyaW5nLmxlbmd0aClyZXR1cm4gbnVsbDtcInBcImluIGQmJihkLkg9ZC5IJTEyKzEyKmQucCk7dmFyIGxvY2FsWj1udWxsIT1kLlomJmQzX2RhdGUhPT1kM19kYXRlX3V0YyxkYXRlPW5ldyhsb2NhbFo/ZDNfZGF0ZV91dGM6ZDNfZGF0ZSk7cmV0dXJuXCJqXCJpbiBkP2RhdGUuc2V0RnVsbFllYXIoZC55LDAsZC5qKTpcIndcImluIGQmJihcIldcImluIGR8fFwiVVwiaW4gZCk/KGRhdGUuc2V0RnVsbFllYXIoZC55LDAsMSksZGF0ZS5zZXRGdWxsWWVhcihkLnksMCxcIldcImluIGQ/KGQudys2KSU3KzcqZC5XLShkYXRlLmdldERheSgpKzUpJTc6ZC53KzcqZC5VLShkYXRlLmdldERheSgpKzYpJTcpKTpkYXRlLnNldEZ1bGxZZWFyKGQueSxkLm0sZC5kKSxkYXRlLnNldEhvdXJzKGQuSCsoZC5aLzEwMHwwKSxkLk0rZC5aJTEwMCxkLlMsZC5MKSxsb2NhbFo/ZGF0ZS5fOmRhdGV9LGZvcm1hdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0ZW1wbGF0ZX0sZm9ybWF0fWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2UoZGF0ZSx0ZW1wbGF0ZSxzdHJpbmcsail7Zm9yKHZhciBjLHAsdCxpPTAsbj10ZW1wbGF0ZS5sZW5ndGgsbT1zdHJpbmcubGVuZ3RoO24+aTspe2lmKGo+PW0pcmV0dXJuLTE7aWYoYz10ZW1wbGF0ZS5jaGFyQ29kZUF0KGkrKyksMzc9PT1jKXtpZih0PXRlbXBsYXRlLmNoYXJBdChpKyspLHA9ZDNfdGltZV9wYXJzZXJzW3QgaW4gZDNfdGltZV9mb3JtYXRQYWRzP3RlbXBsYXRlLmNoYXJBdChpKyspOnRdLCFwfHwoaj1wKGRhdGUsc3RyaW5nLGopKTwwKXJldHVybi0xfWVsc2UgaWYoYyE9c3RyaW5nLmNoYXJDb2RlQXQoaisrKSlyZXR1cm4tMX1yZXR1cm4gan1mdW5jdGlvbiBkM190aW1lX3BhcnNlV2Vla2RheUFiYnJldihkYXRlLHN0cmluZyxpKXtkM190aW1lX2RheUFiYnJldlJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfZGF5QWJicmV2UmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO3JldHVybiBuPyhkYXRlLnc9ZDNfdGltZV9kYXlBYmJyZXZMb29rdXAuZ2V0KG5bMF0udG9Mb3dlckNhc2UoKSksaStuWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZVdlZWtkYXkoZGF0ZSxzdHJpbmcsaSl7ZDNfdGltZV9kYXlSZS5sYXN0SW5kZXg9MDt2YXIgbj1kM190aW1lX2RheVJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtyZXR1cm4gbj8oZGF0ZS53PWQzX3RpbWVfZGF5TG9va3VwLmdldChuWzBdLnRvTG93ZXJDYXNlKCkpLGkrblswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VNb250aEFiYnJldihkYXRlLHN0cmluZyxpKXtkM190aW1lX21vbnRoQWJicmV2UmUubGFzdEluZGV4PTA7dmFyIG49ZDNfdGltZV9tb250aEFiYnJldlJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtyZXR1cm4gbj8oZGF0ZS5tPWQzX3RpbWVfbW9udGhBYmJyZXZMb29rdXAuZ2V0KG5bMF0udG9Mb3dlckNhc2UoKSksaStuWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZU1vbnRoKGRhdGUsc3RyaW5nLGkpe2QzX3RpbWVfbW9udGhSZS5sYXN0SW5kZXg9MDt2YXIgbj1kM190aW1lX21vbnRoUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO3JldHVybiBuPyhkYXRlLm09ZDNfdGltZV9tb250aExvb2t1cC5nZXQoblswXS50b0xvd2VyQ2FzZSgpKSxpK25bMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBkM190aW1lX3BhcnNlTG9jYWxlRnVsbChkYXRlLHN0cmluZyxpKXtyZXR1cm4gZDNfdGltZV9wYXJzZShkYXRlLGQzX3RpbWVfZm9ybWF0cy5jLnRvU3RyaW5nKCksc3RyaW5nLGkpfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VMb2NhbGVEYXRlKGRhdGUsc3RyaW5nLGkpe3JldHVybiBkM190aW1lX3BhcnNlKGRhdGUsZDNfdGltZV9mb3JtYXRzLngudG9TdHJpbmcoKSxzdHJpbmcsaSl9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZUxvY2FsZVRpbWUoZGF0ZSxzdHJpbmcsaSl7cmV0dXJuIGQzX3RpbWVfcGFyc2UoZGF0ZSxkM190aW1lX2Zvcm1hdHMuWC50b1N0cmluZygpLHN0cmluZyxpKX1mdW5jdGlvbiBkM190aW1lX3BhcnNlQW1QbShkYXRlLHN0cmluZyxpKXt2YXIgbj1kM190aW1lX3BlcmlvZExvb2t1cC5nZXQoc3RyaW5nLnNsaWNlKGksaSs9MikudG9Mb3dlckNhc2UoKSk7cmV0dXJuIG51bGw9PW4/LTE6KGRhdGUucD1uLGkpfXZhciBsb2NhbGVfZGF0ZVRpbWU9bG9jYWxlLmRhdGVUaW1lLGxvY2FsZV9kYXRlPWxvY2FsZS5kYXRlLGxvY2FsZV90aW1lPWxvY2FsZS50aW1lLGxvY2FsZV9wZXJpb2RzPWxvY2FsZS5wZXJpb2RzLGxvY2FsZV9kYXlzPWxvY2FsZS5kYXlzLGxvY2FsZV9zaG9ydERheXM9bG9jYWxlLnNob3J0RGF5cyxsb2NhbGVfbW9udGhzPWxvY2FsZS5tb250aHMsbG9jYWxlX3Nob3J0TW9udGhzPWxvY2FsZS5zaG9ydE1vbnRocztkM190aW1lX2Zvcm1hdC51dGM9ZnVuY3Rpb24odGVtcGxhdGUpe2Z1bmN0aW9uIGZvcm1hdChkYXRlKXt0cnl7ZDNfZGF0ZT1kM19kYXRlX3V0Yzt2YXIgdXRjPW5ldyBkM19kYXRlO3JldHVybiB1dGMuXz1kYXRlLGxvY2FsKHV0Yyl9ZmluYWxseXtkM19kYXRlPURhdGV9fXZhciBsb2NhbD1kM190aW1lX2Zvcm1hdCh0ZW1wbGF0ZSk7cmV0dXJuIGZvcm1hdC5wYXJzZT1mdW5jdGlvbihzdHJpbmcpe3RyeXtkM19kYXRlPWQzX2RhdGVfdXRjO3ZhciBkYXRlPWxvY2FsLnBhcnNlKHN0cmluZyk7cmV0dXJuIGRhdGUmJmRhdGUuX31maW5hbGx5e2QzX2RhdGU9RGF0ZX19LGZvcm1hdC50b1N0cmluZz1sb2NhbC50b1N0cmluZyxmb3JtYXR9LGQzX3RpbWVfZm9ybWF0Lm11bHRpPWQzX3RpbWVfZm9ybWF0LnV0Yy5tdWx0aT1kM190aW1lX2Zvcm1hdE11bHRpO3ZhciBkM190aW1lX3BlcmlvZExvb2t1cD1kMy5tYXAoKSxkM190aW1lX2RheVJlPWQzX3RpbWVfZm9ybWF0UmUobG9jYWxlX2RheXMpLGQzX3RpbWVfZGF5TG9va3VwPWQzX3RpbWVfZm9ybWF0TG9va3VwKGxvY2FsZV9kYXlzKSxkM190aW1lX2RheUFiYnJldlJlPWQzX3RpbWVfZm9ybWF0UmUobG9jYWxlX3Nob3J0RGF5cyksZDNfdGltZV9kYXlBYmJyZXZMb29rdXA9ZDNfdGltZV9mb3JtYXRMb29rdXAobG9jYWxlX3Nob3J0RGF5cyksZDNfdGltZV9tb250aFJlPWQzX3RpbWVfZm9ybWF0UmUobG9jYWxlX21vbnRocyksZDNfdGltZV9tb250aExvb2t1cD1kM190aW1lX2Zvcm1hdExvb2t1cChsb2NhbGVfbW9udGhzKSxkM190aW1lX21vbnRoQWJicmV2UmU9ZDNfdGltZV9mb3JtYXRSZShsb2NhbGVfc2hvcnRNb250aHMpLGQzX3RpbWVfbW9udGhBYmJyZXZMb29rdXA9ZDNfdGltZV9mb3JtYXRMb29rdXAobG9jYWxlX3Nob3J0TW9udGhzKTtsb2NhbGVfcGVyaW9kcy5mb3JFYWNoKGZ1bmN0aW9uKHAsaSl7ZDNfdGltZV9wZXJpb2RMb29rdXAuc2V0KHAudG9Mb3dlckNhc2UoKSxpKX0pO3ZhciBkM190aW1lX2Zvcm1hdHM9e2E6ZnVuY3Rpb24oZCl7cmV0dXJuIGxvY2FsZV9zaG9ydERheXNbZC5nZXREYXkoKV19LEE6ZnVuY3Rpb24oZCl7cmV0dXJuIGxvY2FsZV9kYXlzW2QuZ2V0RGF5KCldfSxiOmZ1bmN0aW9uKGQpe3JldHVybiBsb2NhbGVfc2hvcnRNb250aHNbZC5nZXRNb250aCgpXX0sQjpmdW5jdGlvbihkKXtyZXR1cm4gbG9jYWxlX21vbnRoc1tkLmdldE1vbnRoKCldfSxjOmQzX3RpbWVfZm9ybWF0KGxvY2FsZV9kYXRlVGltZSksZDpmdW5jdGlvbihkLHApe3JldHVybiBkM190aW1lX2Zvcm1hdFBhZChkLmdldERhdGUoKSxwLDIpfSxlOmZ1bmN0aW9uKGQscCl7cmV0dXJuIGQzX3RpbWVfZm9ybWF0UGFkKGQuZ2V0RGF0ZSgpLHAsMil9LEg6ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZDNfdGltZV9mb3JtYXRQYWQoZC5nZXRIb3VycygpLHAsMil9LEk6ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZDNfdGltZV9mb3JtYXRQYWQoZC5nZXRIb3VycygpJTEyfHwxMixwLDIpfSxqOmZ1bmN0aW9uKGQscCl7cmV0dXJuIGQzX3RpbWVfZm9ybWF0UGFkKDErZDNfdGltZS5kYXlPZlllYXIoZCkscCwzKX0sTDpmdW5jdGlvbihkLHApe3JldHVybiBkM190aW1lX2Zvcm1hdFBhZChkLmdldE1pbGxpc2Vjb25kcygpLHAsMyl9LG06ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZDNfdGltZV9mb3JtYXRQYWQoZC5nZXRNb250aCgpKzEscCwyKX0sTTpmdW5jdGlvbihkLHApe3JldHVybiBkM190aW1lX2Zvcm1hdFBhZChkLmdldE1pbnV0ZXMoKSxwLDIpfSxwOmZ1bmN0aW9uKGQpe3JldHVybiBsb2NhbGVfcGVyaW9kc1srKGQuZ2V0SG91cnMoKT49MTIpXX0sUzpmdW5jdGlvbihkLHApe3JldHVybiBkM190aW1lX2Zvcm1hdFBhZChkLmdldFNlY29uZHMoKSxwLDIpfSxVOmZ1bmN0aW9uKGQscCl7cmV0dXJuIGQzX3RpbWVfZm9ybWF0UGFkKGQzX3RpbWUuc3VuZGF5T2ZZZWFyKGQpLHAsMil9LHc6ZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0RGF5KCl9LFc6ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZDNfdGltZV9mb3JtYXRQYWQoZDNfdGltZS5tb25kYXlPZlllYXIoZCkscCwyKX0seDpkM190aW1lX2Zvcm1hdChsb2NhbGVfZGF0ZSksWDpkM190aW1lX2Zvcm1hdChsb2NhbGVfdGltZSkseTpmdW5jdGlvbihkLHApe3JldHVybiBkM190aW1lX2Zvcm1hdFBhZChkLmdldEZ1bGxZZWFyKCklMTAwLHAsMil9LFk6ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZDNfdGltZV9mb3JtYXRQYWQoZC5nZXRGdWxsWWVhcigpJTFlNCxwLDQpfSxaOmQzX3RpbWVfem9uZSxcIiVcIjpmdW5jdGlvbigpe3JldHVyblwiJVwifX0sZDNfdGltZV9wYXJzZXJzPXthOmQzX3RpbWVfcGFyc2VXZWVrZGF5QWJicmV2LEE6ZDNfdGltZV9wYXJzZVdlZWtkYXksYjpkM190aW1lX3BhcnNlTW9udGhBYmJyZXYsQjpkM190aW1lX3BhcnNlTW9udGgsYzpkM190aW1lX3BhcnNlTG9jYWxlRnVsbCxkOmQzX3RpbWVfcGFyc2VEYXksZTpkM190aW1lX3BhcnNlRGF5LEg6ZDNfdGltZV9wYXJzZUhvdXIyNCxJOmQzX3RpbWVfcGFyc2VIb3VyMjQsajpkM190aW1lX3BhcnNlRGF5T2ZZZWFyLEw6ZDNfdGltZV9wYXJzZU1pbGxpc2Vjb25kcyxtOmQzX3RpbWVfcGFyc2VNb250aE51bWJlcixNOmQzX3RpbWVfcGFyc2VNaW51dGVzLHA6ZDNfdGltZV9wYXJzZUFtUG0sUzpkM190aW1lX3BhcnNlU2Vjb25kcyxVOmQzX3RpbWVfcGFyc2VXZWVrTnVtYmVyU3VuZGF5LHc6ZDNfdGltZV9wYXJzZVdlZWtkYXlOdW1iZXIsVzpkM190aW1lX3BhcnNlV2Vla051bWJlck1vbmRheSx4OmQzX3RpbWVfcGFyc2VMb2NhbGVEYXRlLFg6ZDNfdGltZV9wYXJzZUxvY2FsZVRpbWUseTpkM190aW1lX3BhcnNlWWVhcixZOmQzX3RpbWVfcGFyc2VGdWxsWWVhcixaOmQzX3RpbWVfcGFyc2Vab25lLFwiJVwiOmQzX3RpbWVfcGFyc2VMaXRlcmFsUGVyY2VudH07cmV0dXJuIGQzX3RpbWVfZm9ybWF0fWZ1bmN0aW9uIGQzX3RpbWVfZm9ybWF0UGFkKHZhbHVlLGZpbGwsd2lkdGgpe3ZhciBzaWduPTA+dmFsdWU/XCItXCI6XCJcIixzdHJpbmc9KHNpZ24/LXZhbHVlOnZhbHVlKStcIlwiLGxlbmd0aD1zdHJpbmcubGVuZ3RoO3JldHVybiBzaWduKyh3aWR0aD5sZW5ndGg/bmV3IEFycmF5KHdpZHRoLWxlbmd0aCsxKS5qb2luKGZpbGwpK3N0cmluZzpzdHJpbmcpfWZ1bmN0aW9uIGQzX3RpbWVfZm9ybWF0UmUobmFtZXMpe3JldHVybiBuZXcgUmVnRXhwKFwiXig/OlwiK25hbWVzLm1hcChkMy5yZXF1b3RlKS5qb2luKFwifFwiKStcIilcIixcImlcIil9ZnVuY3Rpb24gZDNfdGltZV9mb3JtYXRMb29rdXAobmFtZXMpe2Zvcih2YXIgbWFwPW5ldyBkM19NYXAsaT0tMSxuPW5hbWVzLmxlbmd0aDsrK2k8bjspbWFwLnNldChuYW1lc1tpXS50b0xvd2VyQ2FzZSgpLGkpO3JldHVybiBtYXB9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZVdlZWtkYXlOdW1iZXIoZGF0ZSxzdHJpbmcsaSl7ZDNfdGltZV9udW1iZXJSZS5sYXN0SW5kZXg9MDt2YXIgbj1kM190aW1lX251bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksaSsxKSk7cmV0dXJuIG4/KGRhdGUudz0rblswXSxpK25bMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBkM190aW1lX3BhcnNlV2Vla051bWJlclN1bmRheShkYXRlLHN0cmluZyxpKXtkM190aW1lX251bWJlclJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO3JldHVybiBuPyhkYXRlLlU9K25bMF0saStuWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZVdlZWtOdW1iZXJNb25kYXkoZGF0ZSxzdHJpbmcsaSl7ZDNfdGltZV9udW1iZXJSZS5sYXN0SW5kZXg9MDt2YXIgbj1kM190aW1lX251bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtyZXR1cm4gbj8oZGF0ZS5XPStuWzBdLGkrblswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VGdWxsWWVhcihkYXRlLHN0cmluZyxpKXtkM190aW1lX251bWJlclJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSxpKzQpKTtyZXR1cm4gbj8oZGF0ZS55PStuWzBdLGkrblswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VZZWFyKGRhdGUsc3RyaW5nLGkpe2QzX3RpbWVfbnVtYmVyUmUubGFzdEluZGV4PTA7dmFyIG49ZDNfdGltZV9udW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLGkrMikpO3JldHVybiBuPyhkYXRlLnk9ZDNfdGltZV9leHBhbmRZZWFyKCtuWzBdKSxpK25bMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBkM190aW1lX3BhcnNlWm9uZShkYXRlLHN0cmluZyxpKXtyZXR1cm4vXlsrLV1cXGR7NH0kLy50ZXN0KHN0cmluZz1zdHJpbmcuc2xpY2UoaSxpKzUpKT8oZGF0ZS5aPS1zdHJpbmcsaSs1KTotMX1mdW5jdGlvbiBkM190aW1lX2V4cGFuZFllYXIoZCl7cmV0dXJuIGQrKGQ+Njg/MTkwMDoyZTMpfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VNb250aE51bWJlcihkYXRlLHN0cmluZyxpKXtkM190aW1lX251bWJlclJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSxpKzIpKTtyZXR1cm4gbj8oZGF0ZS5tPW5bMF0tMSxpK25bMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBkM190aW1lX3BhcnNlRGF5KGRhdGUsc3RyaW5nLGkpe2QzX3RpbWVfbnVtYmVyUmUubGFzdEluZGV4PTA7dmFyIG49ZDNfdGltZV9udW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLGkrMikpO3JldHVybiBuPyhkYXRlLmQ9K25bMF0saStuWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZURheU9mWWVhcihkYXRlLHN0cmluZyxpKXtkM190aW1lX251bWJlclJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSxpKzMpKTtyZXR1cm4gbj8oZGF0ZS5qPStuWzBdLGkrblswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VIb3VyMjQoZGF0ZSxzdHJpbmcsaSl7ZDNfdGltZV9udW1iZXJSZS5sYXN0SW5kZXg9MDt2YXIgbj1kM190aW1lX251bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksaSsyKSk7cmV0dXJuIG4/KGRhdGUuSD0rblswXSxpK25bMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBkM190aW1lX3BhcnNlTWludXRlcyhkYXRlLHN0cmluZyxpKXtkM190aW1lX251bWJlclJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSxpKzIpKTtyZXR1cm4gbj8oZGF0ZS5NPStuWzBdLGkrblswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGQzX3RpbWVfcGFyc2VTZWNvbmRzKGRhdGUsc3RyaW5nLGkpe2QzX3RpbWVfbnVtYmVyUmUubGFzdEluZGV4PTA7dmFyIG49ZDNfdGltZV9udW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLGkrMikpO3JldHVybiBuPyhkYXRlLlM9K25bMF0saStuWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZU1pbGxpc2Vjb25kcyhkYXRlLHN0cmluZyxpKXtkM190aW1lX251bWJlclJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSxpKzMpKTtyZXR1cm4gbj8oZGF0ZS5MPStuWzBdLGkrblswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGQzX3RpbWVfem9uZShkKXt2YXIgej1kLmdldFRpbWV6b25lT2Zmc2V0KCksenM9ej4wP1wiLVwiOlwiK1wiLHpoPWFicyh6KS82MHwwLHptPWFicyh6KSU2MDtyZXR1cm4genMrZDNfdGltZV9mb3JtYXRQYWQoemgsXCIwXCIsMikrZDNfdGltZV9mb3JtYXRQYWQoem0sXCIwXCIsMil9ZnVuY3Rpb24gZDNfdGltZV9wYXJzZUxpdGVyYWxQZXJjZW50KGRhdGUsc3RyaW5nLGkpe2QzX3RpbWVfcGVyY2VudFJlLmxhc3RJbmRleD0wO3ZhciBuPWQzX3RpbWVfcGVyY2VudFJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksaSsxKSk7cmV0dXJuIG4/aStuWzBdLmxlbmd0aDotMX1mdW5jdGlvbiBkM190aW1lX2Zvcm1hdE11bHRpKGZvcm1hdHMpe2Zvcih2YXIgbj1mb3JtYXRzLmxlbmd0aCxpPS0xOysraTxuOylmb3JtYXRzW2ldWzBdPXRoaXMoZm9ybWF0c1tpXVswXSk7cmV0dXJuIGZ1bmN0aW9uKGRhdGUpe2Zvcih2YXIgaT0wLGY9Zm9ybWF0c1tpXTshZlsxXShkYXRlKTspZj1mb3JtYXRzWysraV07cmV0dXJuIGZbMF0oZGF0ZSl9fWZ1bmN0aW9uIGQzX2FkZGVyKCl7fWZ1bmN0aW9uIGQzX2FkZGVyU3VtKGEsYixvKXt2YXIgeD1vLnM9YStiLGJ2PXgtYSxhdj14LWJ2O28udD1hLWF2KyhiLWJ2KX1mdW5jdGlvbiBkM19nZW9fc3RyZWFtR2VvbWV0cnkoZ2VvbWV0cnksbGlzdGVuZXIpe2dlb21ldHJ5JiZkM19nZW9fc3RyZWFtR2VvbWV0cnlUeXBlLmhhc093blByb3BlcnR5KGdlb21ldHJ5LnR5cGUpJiZkM19nZW9fc3RyZWFtR2VvbWV0cnlUeXBlW2dlb21ldHJ5LnR5cGVdKGdlb21ldHJ5LGxpc3RlbmVyKX1mdW5jdGlvbiBkM19nZW9fc3RyZWFtTGluZShjb29yZGluYXRlcyxsaXN0ZW5lcixjbG9zZWQpe3ZhciBjb29yZGluYXRlLGk9LTEsbj1jb29yZGluYXRlcy5sZW5ndGgtY2xvc2VkO2ZvcihsaXN0ZW5lci5saW5lU3RhcnQoKTsrK2k8bjspY29vcmRpbmF0ZT1jb29yZGluYXRlc1tpXSxsaXN0ZW5lci5wb2ludChjb29yZGluYXRlWzBdLGNvb3JkaW5hdGVbMV0sY29vcmRpbmF0ZVsyXSk7bGlzdGVuZXIubGluZUVuZCgpfWZ1bmN0aW9uIGQzX2dlb19zdHJlYW1Qb2x5Z29uKGNvb3JkaW5hdGVzLGxpc3RlbmVyKXt2YXIgaT0tMSxuPWNvb3JkaW5hdGVzLmxlbmd0aDtmb3IobGlzdGVuZXIucG9seWdvblN0YXJ0KCk7KytpPG47KWQzX2dlb19zdHJlYW1MaW5lKGNvb3JkaW5hdGVzW2ldLGxpc3RlbmVyLDEpO2xpc3RlbmVyLnBvbHlnb25FbmQoKX1mdW5jdGlvbiBkM19nZW9fYXJlYVJpbmdTdGFydCgpe2Z1bmN0aW9uIG5leHRQb2ludCjOuyzPhil7zrsqPWQzX3JhZGlhbnMsz4Y9z4YqZDNfcmFkaWFucy8yK8+ALzQ7dmFyIGTOuz3Ouy3OuzAsc2TOuz1kzrs+PTA/MTotMSxhZM67PXNkzrsqZM67LGNvc8+GPU1hdGguY29zKM+GKSxzaW7Phj1NYXRoLnNpbijPhiksaz1zaW7PhjAqc2luz4YsdT1jb3PPhjAqY29zz4YraypNYXRoLmNvcyhhZM67KSx2PWsqc2TOuypNYXRoLnNpbihhZM67KTtkM19nZW9fYXJlYVJpbmdTdW0uYWRkKE1hdGguYXRhbjIodix1KSkszrswPc67LGNvc8+GMD1jb3PPhixzaW7PhjA9c2luz4Z9dmFyIM67MDAsz4YwMCzOuzAsY29zz4YwLHNpbs+GMDtkM19nZW9fYXJlYS5wb2ludD1mdW5jdGlvbijOuyzPhil7ZDNfZ2VvX2FyZWEucG9pbnQ9bmV4dFBvaW50LM67MD0ozrswMD3OuykqZDNfcmFkaWFucyxjb3PPhjA9TWF0aC5jb3Moz4Y9KM+GMDA9z4YpKmQzX3JhZGlhbnMvMivPgC80KSxzaW7PhjA9TWF0aC5zaW4oz4YpfSxkM19nZW9fYXJlYS5saW5lRW5kPWZ1bmN0aW9uKCl7bmV4dFBvaW50KM67MDAsz4YwMCl9fWZ1bmN0aW9uIGQzX2dlb19jYXJ0ZXNpYW4oc3BoZXJpY2FsKXt2YXIgzrs9c3BoZXJpY2FsWzBdLM+GPXNwaGVyaWNhbFsxXSxjb3PPhj1NYXRoLmNvcyjPhik7cmV0dXJuW2Nvc8+GKk1hdGguY29zKM67KSxjb3PPhipNYXRoLnNpbijOuyksTWF0aC5zaW4oz4YpXX1mdW5jdGlvbiBkM19nZW9fY2FydGVzaWFuRG90KGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV0rYVsyXSpiWzJdfWZ1bmN0aW9uIGQzX2dlb19jYXJ0ZXNpYW5Dcm9zcyhhLGIpe3JldHVyblthWzFdKmJbMl0tYVsyXSpiWzFdLGFbMl0qYlswXS1hWzBdKmJbMl0sYVswXSpiWzFdLWFbMV0qYlswXV07XG59ZnVuY3Rpb24gZDNfZ2VvX2NhcnRlc2lhbkFkZChhLGIpe2FbMF0rPWJbMF0sYVsxXSs9YlsxXSxhWzJdKz1iWzJdfWZ1bmN0aW9uIGQzX2dlb19jYXJ0ZXNpYW5TY2FsZSh2ZWN0b3Isayl7cmV0dXJuW3ZlY3RvclswXSprLHZlY3RvclsxXSprLHZlY3RvclsyXSprXX1mdW5jdGlvbiBkM19nZW9fY2FydGVzaWFuTm9ybWFsaXplKGQpe3ZhciBsPU1hdGguc3FydChkWzBdKmRbMF0rZFsxXSpkWzFdK2RbMl0qZFsyXSk7ZFswXS89bCxkWzFdLz1sLGRbMl0vPWx9ZnVuY3Rpb24gZDNfZ2VvX3NwaGVyaWNhbChjYXJ0ZXNpYW4pe3JldHVybltNYXRoLmF0YW4yKGNhcnRlc2lhblsxXSxjYXJ0ZXNpYW5bMF0pLGQzX2FzaW4oY2FydGVzaWFuWzJdKV19ZnVuY3Rpb24gZDNfZ2VvX3NwaGVyaWNhbEVxdWFsKGEsYil7cmV0dXJuIGFicyhhWzBdLWJbMF0pPM61JiZhYnMoYVsxXS1iWzFdKTzOtX1mdW5jdGlvbiBkM19nZW9fY2VudHJvaWRQb2ludCjOuyzPhil7zrsqPWQzX3JhZGlhbnM7dmFyIGNvc8+GPU1hdGguY29zKM+GKj1kM19yYWRpYW5zKTtkM19nZW9fY2VudHJvaWRQb2ludFhZWihjb3PPhipNYXRoLmNvcyjOuyksY29zz4YqTWF0aC5zaW4ozrspLE1hdGguc2luKM+GKSl9ZnVuY3Rpb24gZDNfZ2VvX2NlbnRyb2lkUG9pbnRYWVooeCx5LHopeysrZDNfZ2VvX2NlbnRyb2lkVzAsZDNfZ2VvX2NlbnRyb2lkWDArPSh4LWQzX2dlb19jZW50cm9pZFgwKS9kM19nZW9fY2VudHJvaWRXMCxkM19nZW9fY2VudHJvaWRZMCs9KHktZDNfZ2VvX2NlbnRyb2lkWTApL2QzX2dlb19jZW50cm9pZFcwLGQzX2dlb19jZW50cm9pZFowKz0oei1kM19nZW9fY2VudHJvaWRaMCkvZDNfZ2VvX2NlbnRyb2lkVzB9ZnVuY3Rpb24gZDNfZ2VvX2NlbnRyb2lkTGluZVN0YXJ0KCl7ZnVuY3Rpb24gbmV4dFBvaW50KM67LM+GKXvOuyo9ZDNfcmFkaWFuczt2YXIgY29zz4Y9TWF0aC5jb3Moz4YqPWQzX3JhZGlhbnMpLHg9Y29zz4YqTWF0aC5jb3MozrspLHk9Y29zz4YqTWF0aC5zaW4ozrspLHo9TWF0aC5zaW4oz4YpLHc9TWF0aC5hdGFuMihNYXRoLnNxcnQoKHc9eTAqei16MCp5KSp3Kyh3PXowKngteDAqeikqdysodz14MCp5LXkwKngpKncpLHgwKngreTAqeSt6MCp6KTtkM19nZW9fY2VudHJvaWRXMSs9dyxkM19nZW9fY2VudHJvaWRYMSs9dyooeDArKHgwPXgpKSxkM19nZW9fY2VudHJvaWRZMSs9dyooeTArKHkwPXkpKSxkM19nZW9fY2VudHJvaWRaMSs9dyooejArKHowPXopKSxkM19nZW9fY2VudHJvaWRQb2ludFhZWih4MCx5MCx6MCl9dmFyIHgwLHkwLHowO2QzX2dlb19jZW50cm9pZC5wb2ludD1mdW5jdGlvbijOuyzPhil7zrsqPWQzX3JhZGlhbnM7dmFyIGNvc8+GPU1hdGguY29zKM+GKj1kM19yYWRpYW5zKTt4MD1jb3PPhipNYXRoLmNvcyjOuykseTA9Y29zz4YqTWF0aC5zaW4ozrspLHowPU1hdGguc2luKM+GKSxkM19nZW9fY2VudHJvaWQucG9pbnQ9bmV4dFBvaW50LGQzX2dlb19jZW50cm9pZFBvaW50WFlaKHgwLHkwLHowKX19ZnVuY3Rpb24gZDNfZ2VvX2NlbnRyb2lkTGluZUVuZCgpe2QzX2dlb19jZW50cm9pZC5wb2ludD1kM19nZW9fY2VudHJvaWRQb2ludH1mdW5jdGlvbiBkM19nZW9fY2VudHJvaWRSaW5nU3RhcnQoKXtmdW5jdGlvbiBuZXh0UG9pbnQozrssz4Ype867Kj1kM19yYWRpYW5zO3ZhciBjb3PPhj1NYXRoLmNvcyjPhio9ZDNfcmFkaWFucykseD1jb3PPhipNYXRoLmNvcyjOuykseT1jb3PPhipNYXRoLnNpbijOuyksej1NYXRoLnNpbijPhiksY3g9eTAqei16MCp5LGN5PXowKngteDAqeixjej14MCp5LXkwKngsbT1NYXRoLnNxcnQoY3gqY3grY3kqY3krY3oqY3opLHU9eDAqeCt5MCp5K3owKnosdj1tJiYtZDNfYWNvcyh1KS9tLHc9TWF0aC5hdGFuMihtLHUpO2QzX2dlb19jZW50cm9pZFgyKz12KmN4LGQzX2dlb19jZW50cm9pZFkyKz12KmN5LGQzX2dlb19jZW50cm9pZFoyKz12KmN6LGQzX2dlb19jZW50cm9pZFcxKz13LGQzX2dlb19jZW50cm9pZFgxKz13Kih4MCsoeDA9eCkpLGQzX2dlb19jZW50cm9pZFkxKz13Kih5MCsoeTA9eSkpLGQzX2dlb19jZW50cm9pZFoxKz13Kih6MCsoejA9eikpLGQzX2dlb19jZW50cm9pZFBvaW50WFlaKHgwLHkwLHowKX12YXIgzrswMCzPhjAwLHgwLHkwLHowO2QzX2dlb19jZW50cm9pZC5wb2ludD1mdW5jdGlvbijOuyzPhil7zrswMD3OuyzPhjAwPc+GLGQzX2dlb19jZW50cm9pZC5wb2ludD1uZXh0UG9pbnQszrsqPWQzX3JhZGlhbnM7dmFyIGNvc8+GPU1hdGguY29zKM+GKj1kM19yYWRpYW5zKTt4MD1jb3PPhipNYXRoLmNvcyjOuykseTA9Y29zz4YqTWF0aC5zaW4ozrspLHowPU1hdGguc2luKM+GKSxkM19nZW9fY2VudHJvaWRQb2ludFhZWih4MCx5MCx6MCl9LGQzX2dlb19jZW50cm9pZC5saW5lRW5kPWZ1bmN0aW9uKCl7bmV4dFBvaW50KM67MDAsz4YwMCksZDNfZ2VvX2NlbnRyb2lkLmxpbmVFbmQ9ZDNfZ2VvX2NlbnRyb2lkTGluZUVuZCxkM19nZW9fY2VudHJvaWQucG9pbnQ9ZDNfZ2VvX2NlbnRyb2lkUG9pbnR9fWZ1bmN0aW9uIGQzX2dlb19jb21wb3NlKGEsYil7ZnVuY3Rpb24gY29tcG9zZSh4LHkpe3JldHVybiB4PWEoeCx5KSxiKHhbMF0seFsxXSl9cmV0dXJuIGEuaW52ZXJ0JiZiLmludmVydCYmKGNvbXBvc2UuaW52ZXJ0PWZ1bmN0aW9uKHgseSl7cmV0dXJuIHg9Yi5pbnZlcnQoeCx5KSx4JiZhLmludmVydCh4WzBdLHhbMV0pfSksY29tcG9zZX1mdW5jdGlvbiBkM190cnVlKCl7cmV0dXJuITB9ZnVuY3Rpb24gZDNfZ2VvX2NsaXBQb2x5Z29uKHNlZ21lbnRzLGNvbXBhcmUsY2xpcFN0YXJ0SW5zaWRlLGludGVycG9sYXRlLGxpc3RlbmVyKXt2YXIgc3ViamVjdD1bXSxjbGlwPVtdO2lmKHNlZ21lbnRzLmZvckVhY2goZnVuY3Rpb24oc2VnbWVudCl7aWYoISgobj1zZWdtZW50Lmxlbmd0aC0xKTw9MCkpe3ZhciBuLHAwPXNlZ21lbnRbMF0scDE9c2VnbWVudFtuXTtpZihkM19nZW9fc3BoZXJpY2FsRXF1YWwocDAscDEpKXtsaXN0ZW5lci5saW5lU3RhcnQoKTtmb3IodmFyIGk9MDtuPmk7KytpKWxpc3RlbmVyLnBvaW50KChwMD1zZWdtZW50W2ldKVswXSxwMFsxXSk7cmV0dXJuIHZvaWQgbGlzdGVuZXIubGluZUVuZCgpfXZhciBhPW5ldyBkM19nZW9fY2xpcFBvbHlnb25JbnRlcnNlY3Rpb24ocDAsc2VnbWVudCxudWxsLCEwKSxiPW5ldyBkM19nZW9fY2xpcFBvbHlnb25JbnRlcnNlY3Rpb24ocDAsbnVsbCxhLCExKTthLm89YixzdWJqZWN0LnB1c2goYSksY2xpcC5wdXNoKGIpLGE9bmV3IGQzX2dlb19jbGlwUG9seWdvbkludGVyc2VjdGlvbihwMSxzZWdtZW50LG51bGwsITEpLGI9bmV3IGQzX2dlb19jbGlwUG9seWdvbkludGVyc2VjdGlvbihwMSxudWxsLGEsITApLGEubz1iLHN1YmplY3QucHVzaChhKSxjbGlwLnB1c2goYil9fSksY2xpcC5zb3J0KGNvbXBhcmUpLGQzX2dlb19jbGlwUG9seWdvbkxpbmtDaXJjdWxhcihzdWJqZWN0KSxkM19nZW9fY2xpcFBvbHlnb25MaW5rQ2lyY3VsYXIoY2xpcCksc3ViamVjdC5sZW5ndGgpe2Zvcih2YXIgaT0wLGVudHJ5PWNsaXBTdGFydEluc2lkZSxuPWNsaXAubGVuZ3RoO24+aTsrK2kpY2xpcFtpXS5lPWVudHJ5PSFlbnRyeTtmb3IodmFyIHBvaW50cyxwb2ludCxzdGFydD1zdWJqZWN0WzBdOzspe2Zvcih2YXIgY3VycmVudD1zdGFydCxpc1N1YmplY3Q9ITA7Y3VycmVudC52OylpZigoY3VycmVudD1jdXJyZW50Lm4pPT09c3RhcnQpcmV0dXJuO3BvaW50cz1jdXJyZW50LnosbGlzdGVuZXIubGluZVN0YXJ0KCk7ZG97aWYoY3VycmVudC52PWN1cnJlbnQuby52PSEwLGN1cnJlbnQuZSl7aWYoaXNTdWJqZWN0KWZvcih2YXIgaT0wLG49cG9pbnRzLmxlbmd0aDtuPmk7KytpKWxpc3RlbmVyLnBvaW50KChwb2ludD1wb2ludHNbaV0pWzBdLHBvaW50WzFdKTtlbHNlIGludGVycG9sYXRlKGN1cnJlbnQueCxjdXJyZW50Lm4ueCwxLGxpc3RlbmVyKTtjdXJyZW50PWN1cnJlbnQubn1lbHNle2lmKGlzU3ViamVjdCl7cG9pbnRzPWN1cnJlbnQucC56O2Zvcih2YXIgaT1wb2ludHMubGVuZ3RoLTE7aT49MDstLWkpbGlzdGVuZXIucG9pbnQoKHBvaW50PXBvaW50c1tpXSlbMF0scG9pbnRbMV0pfWVsc2UgaW50ZXJwb2xhdGUoY3VycmVudC54LGN1cnJlbnQucC54LC0xLGxpc3RlbmVyKTtjdXJyZW50PWN1cnJlbnQucH1jdXJyZW50PWN1cnJlbnQubyxwb2ludHM9Y3VycmVudC56LGlzU3ViamVjdD0haXNTdWJqZWN0fXdoaWxlKCFjdXJyZW50LnYpO2xpc3RlbmVyLmxpbmVFbmQoKX19fWZ1bmN0aW9uIGQzX2dlb19jbGlwUG9seWdvbkxpbmtDaXJjdWxhcihhcnJheSl7aWYobj1hcnJheS5sZW5ndGgpe2Zvcih2YXIgbixiLGk9MCxhPWFycmF5WzBdOysraTxuOylhLm49Yj1hcnJheVtpXSxiLnA9YSxhPWI7YS5uPWI9YXJyYXlbMF0sYi5wPWF9fWZ1bmN0aW9uIGQzX2dlb19jbGlwUG9seWdvbkludGVyc2VjdGlvbihwb2ludCxwb2ludHMsb3RoZXIsZW50cnkpe3RoaXMueD1wb2ludCx0aGlzLno9cG9pbnRzLHRoaXMubz1vdGhlcix0aGlzLmU9ZW50cnksdGhpcy52PSExLHRoaXMubj10aGlzLnA9bnVsbH1mdW5jdGlvbiBkM19nZW9fY2xpcChwb2ludFZpc2libGUsY2xpcExpbmUsaW50ZXJwb2xhdGUsY2xpcFN0YXJ0KXtyZXR1cm4gZnVuY3Rpb24ocm90YXRlLGxpc3RlbmVyKXtmdW5jdGlvbiBwb2ludCjOuyzPhil7dmFyIHBvaW50PXJvdGF0ZSjOuyzPhik7cG9pbnRWaXNpYmxlKM67PXBvaW50WzBdLM+GPXBvaW50WzFdKSYmbGlzdGVuZXIucG9pbnQozrssz4YpfWZ1bmN0aW9uIHBvaW50TGluZSjOuyzPhil7dmFyIHBvaW50PXJvdGF0ZSjOuyzPhik7bGluZS5wb2ludChwb2ludFswXSxwb2ludFsxXSl9ZnVuY3Rpb24gbGluZVN0YXJ0KCl7Y2xpcC5wb2ludD1wb2ludExpbmUsbGluZS5saW5lU3RhcnQoKX1mdW5jdGlvbiBsaW5lRW5kKCl7Y2xpcC5wb2ludD1wb2ludCxsaW5lLmxpbmVFbmQoKX1mdW5jdGlvbiBwb2ludFJpbmcozrssz4Ype3JpbmcucHVzaChbzrssz4ZdKTt2YXIgcG9pbnQ9cm90YXRlKM67LM+GKTtyaW5nTGlzdGVuZXIucG9pbnQocG9pbnRbMF0scG9pbnRbMV0pfWZ1bmN0aW9uIHJpbmdTdGFydCgpe3JpbmdMaXN0ZW5lci5saW5lU3RhcnQoKSxyaW5nPVtdfWZ1bmN0aW9uIHJpbmdFbmQoKXtwb2ludFJpbmcocmluZ1swXVswXSxyaW5nWzBdWzFdKSxyaW5nTGlzdGVuZXIubGluZUVuZCgpO3ZhciBzZWdtZW50LGNsZWFuPXJpbmdMaXN0ZW5lci5jbGVhbigpLHJpbmdTZWdtZW50cz1idWZmZXIuYnVmZmVyKCksbj1yaW5nU2VnbWVudHMubGVuZ3RoO2lmKHJpbmcucG9wKCkscG9seWdvbi5wdXNoKHJpbmcpLHJpbmc9bnVsbCxuKWlmKDEmY2xlYW4pe3NlZ21lbnQ9cmluZ1NlZ21lbnRzWzBdO3ZhciBwb2ludCxuPXNlZ21lbnQubGVuZ3RoLTEsaT0tMTtpZihuPjApe2Zvcihwb2x5Z29uU3RhcnRlZHx8KGxpc3RlbmVyLnBvbHlnb25TdGFydCgpLHBvbHlnb25TdGFydGVkPSEwKSxsaXN0ZW5lci5saW5lU3RhcnQoKTsrK2k8bjspbGlzdGVuZXIucG9pbnQoKHBvaW50PXNlZ21lbnRbaV0pWzBdLHBvaW50WzFdKTtsaXN0ZW5lci5saW5lRW5kKCl9fWVsc2Ugbj4xJiYyJmNsZWFuJiZyaW5nU2VnbWVudHMucHVzaChyaW5nU2VnbWVudHMucG9wKCkuY29uY2F0KHJpbmdTZWdtZW50cy5zaGlmdCgpKSksc2VnbWVudHMucHVzaChyaW5nU2VnbWVudHMuZmlsdGVyKGQzX2dlb19jbGlwU2VnbWVudExlbmd0aDEpKX12YXIgc2VnbWVudHMscG9seWdvbixyaW5nLGxpbmU9Y2xpcExpbmUobGlzdGVuZXIpLHJvdGF0ZWRDbGlwU3RhcnQ9cm90YXRlLmludmVydChjbGlwU3RhcnRbMF0sY2xpcFN0YXJ0WzFdKSxjbGlwPXtwb2ludDpwb2ludCxsaW5lU3RhcnQ6bGluZVN0YXJ0LGxpbmVFbmQ6bGluZUVuZCxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtjbGlwLnBvaW50PXBvaW50UmluZyxjbGlwLmxpbmVTdGFydD1yaW5nU3RhcnQsY2xpcC5saW5lRW5kPXJpbmdFbmQsc2VnbWVudHM9W10scG9seWdvbj1bXX0scG9seWdvbkVuZDpmdW5jdGlvbigpe2NsaXAucG9pbnQ9cG9pbnQsY2xpcC5saW5lU3RhcnQ9bGluZVN0YXJ0LGNsaXAubGluZUVuZD1saW5lRW5kLHNlZ21lbnRzPWQzLm1lcmdlKHNlZ21lbnRzKTt2YXIgY2xpcFN0YXJ0SW5zaWRlPWQzX2dlb19wb2ludEluUG9seWdvbihyb3RhdGVkQ2xpcFN0YXJ0LHBvbHlnb24pO3NlZ21lbnRzLmxlbmd0aD8ocG9seWdvblN0YXJ0ZWR8fChsaXN0ZW5lci5wb2x5Z29uU3RhcnQoKSxwb2x5Z29uU3RhcnRlZD0hMCksZDNfZ2VvX2NsaXBQb2x5Z29uKHNlZ21lbnRzLGQzX2dlb19jbGlwU29ydCxjbGlwU3RhcnRJbnNpZGUsaW50ZXJwb2xhdGUsbGlzdGVuZXIpKTpjbGlwU3RhcnRJbnNpZGUmJihwb2x5Z29uU3RhcnRlZHx8KGxpc3RlbmVyLnBvbHlnb25TdGFydCgpLHBvbHlnb25TdGFydGVkPSEwKSxsaXN0ZW5lci5saW5lU3RhcnQoKSxpbnRlcnBvbGF0ZShudWxsLG51bGwsMSxsaXN0ZW5lciksbGlzdGVuZXIubGluZUVuZCgpKSxwb2x5Z29uU3RhcnRlZCYmKGxpc3RlbmVyLnBvbHlnb25FbmQoKSxwb2x5Z29uU3RhcnRlZD0hMSksc2VnbWVudHM9cG9seWdvbj1udWxsfSxzcGhlcmU6ZnVuY3Rpb24oKXtsaXN0ZW5lci5wb2x5Z29uU3RhcnQoKSxsaXN0ZW5lci5saW5lU3RhcnQoKSxpbnRlcnBvbGF0ZShudWxsLG51bGwsMSxsaXN0ZW5lciksbGlzdGVuZXIubGluZUVuZCgpLGxpc3RlbmVyLnBvbHlnb25FbmQoKX19LGJ1ZmZlcj1kM19nZW9fY2xpcEJ1ZmZlckxpc3RlbmVyKCkscmluZ0xpc3RlbmVyPWNsaXBMaW5lKGJ1ZmZlcikscG9seWdvblN0YXJ0ZWQ9ITE7cmV0dXJuIGNsaXB9fWZ1bmN0aW9uIGQzX2dlb19jbGlwU2VnbWVudExlbmd0aDEoc2VnbWVudCl7cmV0dXJuIHNlZ21lbnQubGVuZ3RoPjF9ZnVuY3Rpb24gZDNfZ2VvX2NsaXBCdWZmZXJMaXN0ZW5lcigpe3ZhciBsaW5lLGxpbmVzPVtdO3JldHVybntsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtsaW5lcy5wdXNoKGxpbmU9W10pfSxwb2ludDpmdW5jdGlvbijOuyzPhil7bGluZS5wdXNoKFvOuyzPhl0pfSxsaW5lRW5kOmQzX25vb3AsYnVmZmVyOmZ1bmN0aW9uKCl7dmFyIGJ1ZmZlcj1saW5lcztyZXR1cm4gbGluZXM9W10sbGluZT1udWxsLGJ1ZmZlcn0scmVqb2luOmZ1bmN0aW9uKCl7bGluZXMubGVuZ3RoPjEmJmxpbmVzLnB1c2gobGluZXMucG9wKCkuY29uY2F0KGxpbmVzLnNoaWZ0KCkpKX19fWZ1bmN0aW9uIGQzX2dlb19jbGlwU29ydChhLGIpe3JldHVybigoYT1hLngpWzBdPDA/YVsxXS1oYWxmz4AtzrU6aGFsZs+ALWFbMV0pLSgoYj1iLngpWzBdPDA/YlsxXS1oYWxmz4AtzrU6aGFsZs+ALWJbMV0pfWZ1bmN0aW9uIGQzX2dlb19jbGlwQW50aW1lcmlkaWFuTGluZShsaXN0ZW5lcil7dmFyIGNsZWFuLM67MD1OYU4sz4YwPU5hTixzzrswPU5hTjtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7bGlzdGVuZXIubGluZVN0YXJ0KCksY2xlYW49MX0scG9pbnQ6ZnVuY3Rpb24ozrsxLM+GMSl7dmFyIHPOuzE9zrsxPjA/z4A6Lc+ALGTOuz1hYnMozrsxLc67MCk7YWJzKGTOuy3PgCk8zrU/KGxpc3RlbmVyLnBvaW50KM67MCzPhjA9KM+GMCvPhjEpLzI+MD9oYWxmz4A6LWhhbGbPgCksbGlzdGVuZXIucG9pbnQoc867MCzPhjApLGxpc3RlbmVyLmxpbmVFbmQoKSxsaXN0ZW5lci5saW5lU3RhcnQoKSxsaXN0ZW5lci5wb2ludChzzrsxLM+GMCksbGlzdGVuZXIucG9pbnQozrsxLM+GMCksY2xlYW49MCk6c867MCE9PXPOuzEmJmTOuz49z4AmJihhYnMozrswLXPOuzApPM61JiYozrswLT1zzrswKs61KSxhYnMozrsxLXPOuzEpPM61JiYozrsxLT1zzrsxKs61KSzPhjA9ZDNfZ2VvX2NsaXBBbnRpbWVyaWRpYW5JbnRlcnNlY3QozrswLM+GMCzOuzEsz4YxKSxsaXN0ZW5lci5wb2ludChzzrswLM+GMCksbGlzdGVuZXIubGluZUVuZCgpLGxpc3RlbmVyLmxpbmVTdGFydCgpLGxpc3RlbmVyLnBvaW50KHPOuzEsz4YwKSxjbGVhbj0wKSxsaXN0ZW5lci5wb2ludCjOuzA9zrsxLM+GMD3PhjEpLHPOuzA9c867MX0sbGluZUVuZDpmdW5jdGlvbigpe2xpc3RlbmVyLmxpbmVFbmQoKSzOuzA9z4YwPU5hTn0sY2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gMi1jbGVhbn19fWZ1bmN0aW9uIGQzX2dlb19jbGlwQW50aW1lcmlkaWFuSW50ZXJzZWN0KM67MCzPhjAszrsxLM+GMSl7dmFyIGNvc8+GMCxjb3PPhjEsc2luzrswX867MT1NYXRoLnNpbijOuzAtzrsxKTtyZXR1cm4gYWJzKHNpbs67MF/OuzEpPs61P01hdGguYXRhbigoTWF0aC5zaW4oz4YwKSooY29zz4YxPU1hdGguY29zKM+GMSkpKk1hdGguc2luKM67MSktTWF0aC5zaW4oz4YxKSooY29zz4YwPU1hdGguY29zKM+GMCkpKk1hdGguc2luKM67MCkpLyhjb3PPhjAqY29zz4YxKnNpbs67MF/OuzEpKTooz4YwK8+GMSkvMn1mdW5jdGlvbiBkM19nZW9fY2xpcEFudGltZXJpZGlhbkludGVycG9sYXRlKGZyb20sdG8sZGlyZWN0aW9uLGxpc3RlbmVyKXt2YXIgz4Y7aWYobnVsbD09ZnJvbSnPhj1kaXJlY3Rpb24qaGFsZs+ALGxpc3RlbmVyLnBvaW50KC3PgCzPhiksbGlzdGVuZXIucG9pbnQoMCzPhiksbGlzdGVuZXIucG9pbnQoz4Asz4YpLGxpc3RlbmVyLnBvaW50KM+ALDApLGxpc3RlbmVyLnBvaW50KM+ALC3PhiksbGlzdGVuZXIucG9pbnQoMCwtz4YpLGxpc3RlbmVyLnBvaW50KC3PgCwtz4YpLGxpc3RlbmVyLnBvaW50KC3PgCwwKSxsaXN0ZW5lci5wb2ludCgtz4Asz4YpO2Vsc2UgaWYoYWJzKGZyb21bMF0tdG9bMF0pPs61KXt2YXIgcz1mcm9tWzBdPHRvWzBdP8+AOi3PgDvPhj1kaXJlY3Rpb24qcy8yLGxpc3RlbmVyLnBvaW50KC1zLM+GKSxsaXN0ZW5lci5wb2ludCgwLM+GKSxsaXN0ZW5lci5wb2ludChzLM+GKX1lbHNlIGxpc3RlbmVyLnBvaW50KHRvWzBdLHRvWzFdKX1mdW5jdGlvbiBkM19nZW9fcG9pbnRJblBvbHlnb24ocG9pbnQscG9seWdvbil7dmFyIG1lcmlkaWFuPXBvaW50WzBdLHBhcmFsbGVsPXBvaW50WzFdLG1lcmlkaWFuTm9ybWFsPVtNYXRoLnNpbihtZXJpZGlhbiksLU1hdGguY29zKG1lcmlkaWFuKSwwXSxwb2xhckFuZ2xlPTAsd2luZGluZz0wO2QzX2dlb19hcmVhUmluZ1N1bS5yZXNldCgpO2Zvcih2YXIgaT0wLG49cG9seWdvbi5sZW5ndGg7bj5pOysraSl7dmFyIHJpbmc9cG9seWdvbltpXSxtPXJpbmcubGVuZ3RoO2lmKG0pZm9yKHZhciBwb2ludDA9cmluZ1swXSzOuzA9cG9pbnQwWzBdLM+GMD1wb2ludDBbMV0vMivPgC80LHNpbs+GMD1NYXRoLnNpbijPhjApLGNvc8+GMD1NYXRoLmNvcyjPhjApLGo9MTs7KXtqPT09bSYmKGo9MCkscG9pbnQ9cmluZ1tqXTt2YXIgzrs9cG9pbnRbMF0sz4Y9cG9pbnRbMV0vMivPgC80LHNpbs+GPU1hdGguc2luKM+GKSxjb3PPhj1NYXRoLmNvcyjPhiksZM67Pc67Lc67MCxzZM67PWTOuz49MD8xOi0xLGFkzrs9c2TOuypkzrssYW50aW1lcmlkaWFuPWFkzrs+z4Asaz1zaW7PhjAqc2luz4Y7aWYoZDNfZ2VvX2FyZWFSaW5nU3VtLmFkZChNYXRoLmF0YW4yKGsqc2TOuypNYXRoLnNpbihhZM67KSxjb3PPhjAqY29zz4YraypNYXRoLmNvcyhhZM67KSkpLHBvbGFyQW5nbGUrPWFudGltZXJpZGlhbj9kzrsrc2TOuyrPhDpkzrssYW50aW1lcmlkaWFuXs67MD49bWVyaWRpYW5ezrs+PW1lcmlkaWFuKXt2YXIgYXJjPWQzX2dlb19jYXJ0ZXNpYW5Dcm9zcyhkM19nZW9fY2FydGVzaWFuKHBvaW50MCksZDNfZ2VvX2NhcnRlc2lhbihwb2ludCkpO2QzX2dlb19jYXJ0ZXNpYW5Ob3JtYWxpemUoYXJjKTt2YXIgaW50ZXJzZWN0aW9uPWQzX2dlb19jYXJ0ZXNpYW5Dcm9zcyhtZXJpZGlhbk5vcm1hbCxhcmMpO2QzX2dlb19jYXJ0ZXNpYW5Ob3JtYWxpemUoaW50ZXJzZWN0aW9uKTt2YXIgz4ZhcmM9KGFudGltZXJpZGlhbl5kzrs+PTA/LTE6MSkqZDNfYXNpbihpbnRlcnNlY3Rpb25bMl0pOyhwYXJhbGxlbD7PhmFyY3x8cGFyYWxsZWw9PT3PhmFyYyYmKGFyY1swXXx8YXJjWzFdKSkmJih3aW5kaW5nKz1hbnRpbWVyaWRpYW5eZM67Pj0wPzE6LTEpfWlmKCFqKyspYnJlYWs7zrswPc67LHNpbs+GMD1zaW7Phixjb3PPhjA9Y29zz4YscG9pbnQwPXBvaW50fX1yZXR1cm4oLc61PnBvbGFyQW5nbGV8fM61PnBvbGFyQW5nbGUmJjA+ZDNfZ2VvX2FyZWFSaW5nU3VtKV4xJndpbmRpbmd9ZnVuY3Rpb24gZDNfZ2VvX2NsaXBDaXJjbGUocmFkaXVzKXtmdW5jdGlvbiB2aXNpYmxlKM67LM+GKXtyZXR1cm4gTWF0aC5jb3MozrspKk1hdGguY29zKM+GKT5jcn1mdW5jdGlvbiBjbGlwTGluZShsaXN0ZW5lcil7dmFyIHBvaW50MCxjMCx2MCx2MDAsY2xlYW47cmV0dXJue2xpbmVTdGFydDpmdW5jdGlvbigpe3YwMD12MD0hMSxjbGVhbj0xfSxwb2ludDpmdW5jdGlvbijOuyzPhil7dmFyIHBvaW50Mixwb2ludDE9W867LM+GXSx2PXZpc2libGUozrssz4YpLGM9c21hbGxSYWRpdXM/dj8wOmNvZGUozrssz4YpOnY/Y29kZSjOuysoMD7Ouz/PgDotz4ApLM+GKTowO2lmKCFwb2ludDAmJih2MDA9djA9dikmJmxpc3RlbmVyLmxpbmVTdGFydCgpLHYhPT12MCYmKHBvaW50Mj1pbnRlcnNlY3QocG9pbnQwLHBvaW50MSksKGQzX2dlb19zcGhlcmljYWxFcXVhbChwb2ludDAscG9pbnQyKXx8ZDNfZ2VvX3NwaGVyaWNhbEVxdWFsKHBvaW50MSxwb2ludDIpKSYmKHBvaW50MVswXSs9zrUscG9pbnQxWzFdKz3OtSx2PXZpc2libGUocG9pbnQxWzBdLHBvaW50MVsxXSkpKSx2IT09djApY2xlYW49MCx2PyhsaXN0ZW5lci5saW5lU3RhcnQoKSxwb2ludDI9aW50ZXJzZWN0KHBvaW50MSxwb2ludDApLGxpc3RlbmVyLnBvaW50KHBvaW50MlswXSxwb2ludDJbMV0pKToocG9pbnQyPWludGVyc2VjdChwb2ludDAscG9pbnQxKSxsaXN0ZW5lci5wb2ludChwb2ludDJbMF0scG9pbnQyWzFdKSxsaXN0ZW5lci5saW5lRW5kKCkpLHBvaW50MD1wb2ludDI7ZWxzZSBpZihub3RIZW1pc3BoZXJlJiZwb2ludDAmJnNtYWxsUmFkaXVzXnYpe3ZhciB0O2MmYzB8fCEodD1pbnRlcnNlY3QocG9pbnQxLHBvaW50MCwhMCkpfHwoY2xlYW49MCxzbWFsbFJhZGl1cz8obGlzdGVuZXIubGluZVN0YXJ0KCksbGlzdGVuZXIucG9pbnQodFswXVswXSx0WzBdWzFdKSxsaXN0ZW5lci5wb2ludCh0WzFdWzBdLHRbMV1bMV0pLGxpc3RlbmVyLmxpbmVFbmQoKSk6KGxpc3RlbmVyLnBvaW50KHRbMV1bMF0sdFsxXVsxXSksbGlzdGVuZXIubGluZUVuZCgpLGxpc3RlbmVyLmxpbmVTdGFydCgpLGxpc3RlbmVyLnBvaW50KHRbMF1bMF0sdFswXVsxXSkpKX0hdnx8cG9pbnQwJiZkM19nZW9fc3BoZXJpY2FsRXF1YWwocG9pbnQwLHBvaW50MSl8fGxpc3RlbmVyLnBvaW50KHBvaW50MVswXSxwb2ludDFbMV0pLHBvaW50MD1wb2ludDEsdjA9dixjMD1jfSxsaW5lRW5kOmZ1bmN0aW9uKCl7djAmJmxpc3RlbmVyLmxpbmVFbmQoKSxwb2ludDA9bnVsbH0sY2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYW58KHYwMCYmdjApPDwxfX19ZnVuY3Rpb24gaW50ZXJzZWN0KGEsYix0d28pe3ZhciBwYT1kM19nZW9fY2FydGVzaWFuKGEpLHBiPWQzX2dlb19jYXJ0ZXNpYW4oYiksbjE9WzEsMCwwXSxuMj1kM19nZW9fY2FydGVzaWFuQ3Jvc3MocGEscGIpLG4ybjI9ZDNfZ2VvX2NhcnRlc2lhbkRvdChuMixuMiksbjFuMj1uMlswXSxkZXRlcm1pbmFudD1uMm4yLW4xbjIqbjFuMjtpZighZGV0ZXJtaW5hbnQpcmV0dXJuIXR3byYmYTt2YXIgYzE9Y3IqbjJuMi9kZXRlcm1pbmFudCxjMj0tY3IqbjFuMi9kZXRlcm1pbmFudCxuMXhuMj1kM19nZW9fY2FydGVzaWFuQ3Jvc3MobjEsbjIpLEE9ZDNfZ2VvX2NhcnRlc2lhblNjYWxlKG4xLGMxKSxCPWQzX2dlb19jYXJ0ZXNpYW5TY2FsZShuMixjMik7ZDNfZ2VvX2NhcnRlc2lhbkFkZChBLEIpO3ZhciB1PW4xeG4yLHc9ZDNfZ2VvX2NhcnRlc2lhbkRvdChBLHUpLHV1PWQzX2dlb19jYXJ0ZXNpYW5Eb3QodSx1KSx0Mj13KnctdXUqKGQzX2dlb19jYXJ0ZXNpYW5Eb3QoQSxBKS0xKTtpZighKDA+dDIpKXt2YXIgdD1NYXRoLnNxcnQodDIpLHE9ZDNfZ2VvX2NhcnRlc2lhblNjYWxlKHUsKC13LXQpL3V1KTtpZihkM19nZW9fY2FydGVzaWFuQWRkKHEsQSkscT1kM19nZW9fc3BoZXJpY2FsKHEpLCF0d28pcmV0dXJuIHE7dmFyIHoszrswPWFbMF0szrsxPWJbMF0sz4YwPWFbMV0sz4YxPWJbMV07zrswPs67MSYmKHo9zrswLM67MD3OuzEszrsxPXopO3ZhciDOtM67Pc67MS3OuzAscG9sYXI9YWJzKM60zrstz4ApPM61LG1lcmlkaWFuPXBvbGFyfHzOtT7OtM67O2lmKCFwb2xhciYmz4YwPs+GMSYmKHo9z4YwLM+GMD3PhjEsz4YxPXopLG1lcmlkaWFuP3BvbGFyP8+GMCvPhjE+MF5xWzFdPChhYnMocVswXS3OuzApPM61P8+GMDrPhjEpOs+GMDw9cVsxXSYmcVsxXTw9z4YxOs60zrs+z4BeKM67MDw9cVswXSYmcVswXTw9zrsxKSl7dmFyIHExPWQzX2dlb19jYXJ0ZXNpYW5TY2FsZSh1LCgtdyt0KS91dSk7cmV0dXJuIGQzX2dlb19jYXJ0ZXNpYW5BZGQocTEsQSksW3EsZDNfZ2VvX3NwaGVyaWNhbChxMSldfX19ZnVuY3Rpb24gY29kZSjOuyzPhil7dmFyIHI9c21hbGxSYWRpdXM/cmFkaXVzOs+ALXJhZGl1cyxjb2RlPTA7cmV0dXJuLXI+zrs/Y29kZXw9MTrOuz5yJiYoY29kZXw9MiksLXI+z4Y/Y29kZXw9NDrPhj5yJiYoY29kZXw9OCksY29kZX12YXIgY3I9TWF0aC5jb3MocmFkaXVzKSxzbWFsbFJhZGl1cz1jcj4wLG5vdEhlbWlzcGhlcmU9YWJzKGNyKT7OtSxpbnRlcnBvbGF0ZT1kM19nZW9fY2lyY2xlSW50ZXJwb2xhdGUocmFkaXVzLDYqZDNfcmFkaWFucyk7cmV0dXJuIGQzX2dlb19jbGlwKHZpc2libGUsY2xpcExpbmUsaW50ZXJwb2xhdGUsc21hbGxSYWRpdXM/WzAsLXJhZGl1c106Wy3PgCxyYWRpdXMtz4BdKX1mdW5jdGlvbiBkM19nZW9tX2NsaXBMaW5lKHgwLHkwLHgxLHkxKXtyZXR1cm4gZnVuY3Rpb24obGluZSl7dmFyIHIsYT1saW5lLmEsYj1saW5lLmIsYXg9YS54LGF5PWEueSxieD1iLngsYnk9Yi55LHQwPTAsdDE9MSxkeD1ieC1heCxkeT1ieS1heTtpZihyPXgwLWF4LGR4fHwhKHI+MCkpe2lmKHIvPWR4LDA+ZHgpe2lmKHQwPnIpcmV0dXJuO3QxPnImJih0MT1yKX1lbHNlIGlmKGR4PjApe2lmKHI+dDEpcmV0dXJuO3I+dDAmJih0MD1yKX1pZihyPXgxLWF4LGR4fHwhKDA+cikpe2lmKHIvPWR4LDA+ZHgpe2lmKHI+dDEpcmV0dXJuO3I+dDAmJih0MD1yKX1lbHNlIGlmKGR4PjApe2lmKHQwPnIpcmV0dXJuO3QxPnImJih0MT1yKX1pZihyPXkwLWF5LGR5fHwhKHI+MCkpe2lmKHIvPWR5LDA+ZHkpe2lmKHQwPnIpcmV0dXJuO3QxPnImJih0MT1yKX1lbHNlIGlmKGR5PjApe2lmKHI+dDEpcmV0dXJuO3I+dDAmJih0MD1yKX1pZihyPXkxLWF5LGR5fHwhKDA+cikpe2lmKHIvPWR5LDA+ZHkpe2lmKHI+dDEpcmV0dXJuO3I+dDAmJih0MD1yKX1lbHNlIGlmKGR5PjApe2lmKHQwPnIpcmV0dXJuO3QxPnImJih0MT1yKX1yZXR1cm4gdDA+MCYmKGxpbmUuYT17eDpheCt0MCpkeCx5OmF5K3QwKmR5fSksMT50MSYmKGxpbmUuYj17eDpheCt0MSpkeCx5OmF5K3QxKmR5fSksbGluZX19fX19fWZ1bmN0aW9uIGQzX2dlb19jbGlwRXh0ZW50KHgwLHkwLHgxLHkxKXtmdW5jdGlvbiBjb3JuZXIocCxkaXJlY3Rpb24pe3JldHVybiBhYnMocFswXS14MCk8zrU/ZGlyZWN0aW9uPjA/MDozOmFicyhwWzBdLXgxKTzOtT9kaXJlY3Rpb24+MD8yOjE6YWJzKHBbMV0teTApPM61P2RpcmVjdGlvbj4wPzE6MDpkaXJlY3Rpb24+MD8zOjJ9ZnVuY3Rpb24gY29tcGFyZShhLGIpe3JldHVybiBjb21wYXJlUG9pbnRzKGEueCxiLngpfWZ1bmN0aW9uIGNvbXBhcmVQb2ludHMoYSxiKXt2YXIgY2E9Y29ybmVyKGEsMSksY2I9Y29ybmVyKGIsMSk7cmV0dXJuIGNhIT09Y2I/Y2EtY2I6MD09PWNhP2JbMV0tYVsxXToxPT09Y2E/YVswXS1iWzBdOjI9PT1jYT9hWzFdLWJbMV06YlswXS1hWzBdfXJldHVybiBmdW5jdGlvbihsaXN0ZW5lcil7ZnVuY3Rpb24gaW5zaWRlUG9seWdvbihwKXtmb3IodmFyIHduPTAsbj1wb2x5Z29uLmxlbmd0aCx5PXBbMV0saT0wO24+aTsrK2kpZm9yKHZhciBiLGo9MSx2PXBvbHlnb25baV0sbT12Lmxlbmd0aCxhPXZbMF07bT5qOysrailiPXZbal0sYVsxXTw9eT9iWzFdPnkmJmQzX2Nyb3NzMmQoYSxiLHApPjAmJisrd246YlsxXTw9eSYmZDNfY3Jvc3MyZChhLGIscCk8MCYmLS13bixhPWI7cmV0dXJuIDAhPT13bn1mdW5jdGlvbiBpbnRlcnBvbGF0ZShmcm9tLHRvLGRpcmVjdGlvbixsaXN0ZW5lcil7dmFyIGE9MCxhMT0wO2lmKG51bGw9PWZyb218fChhPWNvcm5lcihmcm9tLGRpcmVjdGlvbikpIT09KGExPWNvcm5lcih0byxkaXJlY3Rpb24pKXx8Y29tcGFyZVBvaW50cyhmcm9tLHRvKTwwXmRpcmVjdGlvbj4wKXtkbyBsaXN0ZW5lci5wb2ludCgwPT09YXx8Mz09PWE/eDA6eDEsYT4xP3kxOnkwKTt3aGlsZSgoYT0oYStkaXJlY3Rpb24rNCklNCkhPT1hMSl9ZWxzZSBsaXN0ZW5lci5wb2ludCh0b1swXSx0b1sxXSl9ZnVuY3Rpb24gcG9pbnRWaXNpYmxlKHgseSl7cmV0dXJuIHg+PXgwJiZ4MT49eCYmeT49eTAmJnkxPj15fWZ1bmN0aW9uIHBvaW50KHgseSl7cG9pbnRWaXNpYmxlKHgseSkmJmxpc3RlbmVyLnBvaW50KHgseSl9ZnVuY3Rpb24gbGluZVN0YXJ0KCl7Y2xpcC5wb2ludD1saW5lUG9pbnQscG9seWdvbiYmcG9seWdvbi5wdXNoKHJpbmc9W10pLGZpcnN0PSEwLHZfPSExLHhfPXlfPU5hTn1mdW5jdGlvbiBsaW5lRW5kKCl7c2VnbWVudHMmJihsaW5lUG9pbnQoeF9fLHlfXyksdl9fJiZ2XyYmYnVmZmVyTGlzdGVuZXIucmVqb2luKCksc2VnbWVudHMucHVzaChidWZmZXJMaXN0ZW5lci5idWZmZXIoKSkpLGNsaXAucG9pbnQ9cG9pbnQsdl8mJmxpc3RlbmVyLmxpbmVFbmQoKX1mdW5jdGlvbiBsaW5lUG9pbnQoeCx5KXt4PU1hdGgubWF4KC1kM19nZW9fY2xpcEV4dGVudE1BWCxNYXRoLm1pbihkM19nZW9fY2xpcEV4dGVudE1BWCx4KSkseT1NYXRoLm1heCgtZDNfZ2VvX2NsaXBFeHRlbnRNQVgsTWF0aC5taW4oZDNfZ2VvX2NsaXBFeHRlbnRNQVgseSkpO3ZhciB2PXBvaW50VmlzaWJsZSh4LHkpO2lmKHBvbHlnb24mJnJpbmcucHVzaChbeCx5XSksZmlyc3QpeF9fPXgseV9fPXksdl9fPXYsZmlyc3Q9ITEsdiYmKGxpc3RlbmVyLmxpbmVTdGFydCgpLGxpc3RlbmVyLnBvaW50KHgseSkpO2Vsc2UgaWYodiYmdl8pbGlzdGVuZXIucG9pbnQoeCx5KTtlbHNle3ZhciBsPXthOnt4OnhfLHk6eV99LGI6e3g6eCx5Onl9fTtjbGlwTGluZShsKT8odl98fChsaXN0ZW5lci5saW5lU3RhcnQoKSxsaXN0ZW5lci5wb2ludChsLmEueCxsLmEueSkpLGxpc3RlbmVyLnBvaW50KGwuYi54LGwuYi55KSx2fHxsaXN0ZW5lci5saW5lRW5kKCksY2xlYW49ITEpOnYmJihsaXN0ZW5lci5saW5lU3RhcnQoKSxsaXN0ZW5lci5wb2ludCh4LHkpLGNsZWFuPSExKX14Xz14LHlfPXksdl89dn12YXIgc2VnbWVudHMscG9seWdvbixyaW5nLHhfXyx5X18sdl9fLHhfLHlfLHZfLGZpcnN0LGNsZWFuLGxpc3RlbmVyXz1saXN0ZW5lcixidWZmZXJMaXN0ZW5lcj1kM19nZW9fY2xpcEJ1ZmZlckxpc3RlbmVyKCksY2xpcExpbmU9ZDNfZ2VvbV9jbGlwTGluZSh4MCx5MCx4MSx5MSksY2xpcD17cG9pbnQ6cG9pbnQsbGluZVN0YXJ0OmxpbmVTdGFydCxsaW5lRW5kOmxpbmVFbmQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7bGlzdGVuZXI9YnVmZmVyTGlzdGVuZXIsc2VnbWVudHM9W10scG9seWdvbj1bXSxjbGVhbj0hMH0scG9seWdvbkVuZDpmdW5jdGlvbigpe2xpc3RlbmVyPWxpc3RlbmVyXyxzZWdtZW50cz1kMy5tZXJnZShzZWdtZW50cyk7dmFyIGNsaXBTdGFydEluc2lkZT1pbnNpZGVQb2x5Z29uKFt4MCx5MV0pLGluc2lkZT1jbGVhbiYmY2xpcFN0YXJ0SW5zaWRlLHZpc2libGU9c2VnbWVudHMubGVuZ3RoOyhpbnNpZGV8fHZpc2libGUpJiYobGlzdGVuZXIucG9seWdvblN0YXJ0KCksaW5zaWRlJiYobGlzdGVuZXIubGluZVN0YXJ0KCksaW50ZXJwb2xhdGUobnVsbCxudWxsLDEsbGlzdGVuZXIpLGxpc3RlbmVyLmxpbmVFbmQoKSksdmlzaWJsZSYmZDNfZ2VvX2NsaXBQb2x5Z29uKHNlZ21lbnRzLGNvbXBhcmUsY2xpcFN0YXJ0SW5zaWRlLGludGVycG9sYXRlLGxpc3RlbmVyKSxsaXN0ZW5lci5wb2x5Z29uRW5kKCkpLHNlZ21lbnRzPXBvbHlnb249cmluZz1udWxsfX07cmV0dXJuIGNsaXB9fWZ1bmN0aW9uIGQzX2dlb19jb25pYyhwcm9qZWN0QXQpe3ZhciDPhjA9MCzPhjE9z4AvMyxtPWQzX2dlb19wcm9qZWN0aW9uTXV0YXRvcihwcm9qZWN0QXQpLHA9bSjPhjAsz4YxKTtyZXR1cm4gcC5wYXJhbGxlbHM9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/bSjPhjA9X1swXSrPgC8xODAsz4YxPV9bMV0qz4AvMTgwKTpbz4YwL8+AKjE4MCzPhjEvz4AqMTgwXX0scH1mdW5jdGlvbiBkM19nZW9fY29uaWNFcXVhbEFyZWEoz4YwLM+GMSl7ZnVuY3Rpb24gZm9yd2FyZCjOuyzPhil7dmFyIM+BPU1hdGguc3FydChDLTIqbipNYXRoLnNpbijPhikpL247cmV0dXJuW8+BKk1hdGguc2luKM67Kj1uKSzPgTAtz4EqTWF0aC5jb3MozrspXX12YXIgc2luz4YwPU1hdGguc2luKM+GMCksbj0oc2luz4YwK01hdGguc2luKM+GMSkpLzIsQz0xK3Npbs+GMCooMipuLXNpbs+GMCksz4EwPU1hdGguc3FydChDKS9uO3JldHVybiBmb3J3YXJkLmludmVydD1mdW5jdGlvbih4LHkpe3ZhciDPgTBfeT3PgTAteTtyZXR1cm5bTWF0aC5hdGFuMih4LM+BMF95KS9uLGQzX2FzaW4oKEMtKHgqeCvPgTBfeSrPgTBfeSkqbipuKS8oMipuKSldfSxmb3J3YXJkfWZ1bmN0aW9uIGQzX2dlb19wYXRoQXJlYVJpbmdTdGFydCgpe2Z1bmN0aW9uIG5leHRQb2ludCh4LHkpe2QzX2dlb19wYXRoQXJlYVBvbHlnb24rPXkwKngteDAqeSx4MD14LHkwPXl9dmFyIHgwMCx5MDAseDAseTA7ZDNfZ2VvX3BhdGhBcmVhLnBvaW50PWZ1bmN0aW9uKHgseSl7ZDNfZ2VvX3BhdGhBcmVhLnBvaW50PW5leHRQb2ludCx4MDA9eDA9eCx5MDA9eTA9eX0sZDNfZ2VvX3BhdGhBcmVhLmxpbmVFbmQ9ZnVuY3Rpb24oKXtuZXh0UG9pbnQoeDAwLHkwMCl9fWZ1bmN0aW9uIGQzX2dlb19wYXRoQm91bmRzUG9pbnQoeCx5KXtkM19nZW9fcGF0aEJvdW5kc1gwPngmJihkM19nZW9fcGF0aEJvdW5kc1gwPXgpLHg+ZDNfZ2VvX3BhdGhCb3VuZHNYMSYmKGQzX2dlb19wYXRoQm91bmRzWDE9eCksZDNfZ2VvX3BhdGhCb3VuZHNZMD55JiYoZDNfZ2VvX3BhdGhCb3VuZHNZMD15KSx5PmQzX2dlb19wYXRoQm91bmRzWTEmJihkM19nZW9fcGF0aEJvdW5kc1kxPXkpfWZ1bmN0aW9uIGQzX2dlb19wYXRoQnVmZmVyKCl7ZnVuY3Rpb24gcG9pbnQoeCx5KXtidWZmZXIucHVzaChcIk1cIix4LFwiLFwiLHkscG9pbnRDaXJjbGUpfWZ1bmN0aW9uIHBvaW50TGluZVN0YXJ0KHgseSl7YnVmZmVyLnB1c2goXCJNXCIseCxcIixcIix5KSxzdHJlYW0ucG9pbnQ9cG9pbnRMaW5lfWZ1bmN0aW9uIHBvaW50TGluZSh4LHkpe2J1ZmZlci5wdXNoKFwiTFwiLHgsXCIsXCIseSl9ZnVuY3Rpb24gbGluZUVuZCgpe3N0cmVhbS5wb2ludD1wb2ludH1mdW5jdGlvbiBsaW5lRW5kUG9seWdvbigpe2J1ZmZlci5wdXNoKFwiWlwiKX12YXIgcG9pbnRDaXJjbGU9ZDNfZ2VvX3BhdGhCdWZmZXJDaXJjbGUoNC41KSxidWZmZXI9W10sc3RyZWFtPXtwb2ludDpwb2ludCxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtzdHJlYW0ucG9pbnQ9cG9pbnRMaW5lU3RhcnR9LGxpbmVFbmQ6bGluZUVuZCxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtzdHJlYW0ubGluZUVuZD1saW5lRW5kUG9seWdvbn0scG9seWdvbkVuZDpmdW5jdGlvbigpe3N0cmVhbS5saW5lRW5kPWxpbmVFbmQsc3RyZWFtLnBvaW50PXBvaW50fSxwb2ludFJhZGl1czpmdW5jdGlvbihfKXtyZXR1cm4gcG9pbnRDaXJjbGU9ZDNfZ2VvX3BhdGhCdWZmZXJDaXJjbGUoXyksc3RyZWFtfSxyZXN1bHQ6ZnVuY3Rpb24oKXtpZihidWZmZXIubGVuZ3RoKXt2YXIgcmVzdWx0PWJ1ZmZlci5qb2luKFwiXCIpO3JldHVybiBidWZmZXI9W10scmVzdWx0fX19O3JldHVybiBzdHJlYW19ZnVuY3Rpb24gZDNfZ2VvX3BhdGhCdWZmZXJDaXJjbGUocmFkaXVzKXtyZXR1cm5cIm0wLFwiK3JhZGl1cytcImFcIityYWRpdXMrXCIsXCIrcmFkaXVzK1wiIDAgMSwxIDAsXCIrLTIqcmFkaXVzK1wiYVwiK3JhZGl1cytcIixcIityYWRpdXMrXCIgMCAxLDEgMCxcIisyKnJhZGl1cytcInpcIn1mdW5jdGlvbiBkM19nZW9fcGF0aENlbnRyb2lkUG9pbnQoeCx5KXtkM19nZW9fY2VudHJvaWRYMCs9eCxkM19nZW9fY2VudHJvaWRZMCs9eSwrK2QzX2dlb19jZW50cm9pZFowfWZ1bmN0aW9uIGQzX2dlb19wYXRoQ2VudHJvaWRMaW5lU3RhcnQoKXtmdW5jdGlvbiBuZXh0UG9pbnQoeCx5KXt2YXIgZHg9eC14MCxkeT15LXkwLHo9TWF0aC5zcXJ0KGR4KmR4K2R5KmR5KTtkM19nZW9fY2VudHJvaWRYMSs9eiooeDAreCkvMixkM19nZW9fY2VudHJvaWRZMSs9eiooeTAreSkvMixkM19nZW9fY2VudHJvaWRaMSs9eixkM19nZW9fcGF0aENlbnRyb2lkUG9pbnQoeDA9eCx5MD15KX12YXIgeDAseTA7ZDNfZ2VvX3BhdGhDZW50cm9pZC5wb2ludD1mdW5jdGlvbih4LHkpe2QzX2dlb19wYXRoQ2VudHJvaWQucG9pbnQ9bmV4dFBvaW50LGQzX2dlb19wYXRoQ2VudHJvaWRQb2ludCh4MD14LHkwPXkpfX1mdW5jdGlvbiBkM19nZW9fcGF0aENlbnRyb2lkTGluZUVuZCgpe2QzX2dlb19wYXRoQ2VudHJvaWQucG9pbnQ9ZDNfZ2VvX3BhdGhDZW50cm9pZFBvaW50fWZ1bmN0aW9uIGQzX2dlb19wYXRoQ2VudHJvaWRSaW5nU3RhcnQoKXtmdW5jdGlvbiBuZXh0UG9pbnQoeCx5KXt2YXIgZHg9eC14MCxkeT15LXkwLHo9TWF0aC5zcXJ0KGR4KmR4K2R5KmR5KTtkM19nZW9fY2VudHJvaWRYMSs9eiooeDAreCkvMixkM19nZW9fY2VudHJvaWRZMSs9eiooeTAreSkvMixkM19nZW9fY2VudHJvaWRaMSs9eix6PXkwKngteDAqeSxkM19nZW9fY2VudHJvaWRYMis9eiooeDAreCksZDNfZ2VvX2NlbnRyb2lkWTIrPXoqKHkwK3kpLGQzX2dlb19jZW50cm9pZFoyKz0zKnosZDNfZ2VvX3BhdGhDZW50cm9pZFBvaW50KHgwPXgseTA9eSl9dmFyIHgwMCx5MDAseDAseTA7ZDNfZ2VvX3BhdGhDZW50cm9pZC5wb2ludD1mdW5jdGlvbih4LHkpe2QzX2dlb19wYXRoQ2VudHJvaWQucG9pbnQ9bmV4dFBvaW50LGQzX2dlb19wYXRoQ2VudHJvaWRQb2ludCh4MDA9eDA9eCx5MDA9eTA9eSl9LGQzX2dlb19wYXRoQ2VudHJvaWQubGluZUVuZD1mdW5jdGlvbigpe25leHRQb2ludCh4MDAseTAwKX19ZnVuY3Rpb24gZDNfZ2VvX3BhdGhDb250ZXh0KGNvbnRleHQpe2Z1bmN0aW9uIHBvaW50KHgseSl7Y29udGV4dC5tb3ZlVG8oeCtwb2ludFJhZGl1cyx5KSxjb250ZXh0LmFyYyh4LHkscG9pbnRSYWRpdXMsMCzPhCl9ZnVuY3Rpb24gcG9pbnRMaW5lU3RhcnQoeCx5KXtjb250ZXh0Lm1vdmVUbyh4LHkpLHN0cmVhbS5wb2ludD1wb2ludExpbmV9ZnVuY3Rpb24gcG9pbnRMaW5lKHgseSl7Y29udGV4dC5saW5lVG8oeCx5KX1mdW5jdGlvbiBsaW5lRW5kKCl7c3RyZWFtLnBvaW50PXBvaW50fWZ1bmN0aW9uIGxpbmVFbmRQb2x5Z29uKCl7Y29udGV4dC5jbG9zZVBhdGgoKX12YXIgcG9pbnRSYWRpdXM9NC41LHN0cmVhbT17cG9pbnQ6cG9pbnQsbGluZVN0YXJ0OmZ1bmN0aW9uKCl7c3RyZWFtLnBvaW50PXBvaW50TGluZVN0YXJ0fSxsaW5lRW5kOmxpbmVFbmQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7c3RyZWFtLmxpbmVFbmQ9bGluZUVuZFBvbHlnb259LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtzdHJlYW0ubGluZUVuZD1saW5lRW5kLHN0cmVhbS5wb2ludD1wb2ludH0scG9pbnRSYWRpdXM6ZnVuY3Rpb24oXyl7cmV0dXJuIHBvaW50UmFkaXVzPV8sc3RyZWFtfSxyZXN1bHQ6ZDNfbm9vcH07cmV0dXJuIHN0cmVhbX1mdW5jdGlvbiBkM19nZW9fcmVzYW1wbGUocHJvamVjdCl7ZnVuY3Rpb24gcmVzYW1wbGUoc3RyZWFtKXtyZXR1cm4obWF4RGVwdGg/cmVzYW1wbGVSZWN1cnNpdmU6cmVzYW1wbGVOb25lKShzdHJlYW0pfWZ1bmN0aW9uIHJlc2FtcGxlTm9uZShzdHJlYW0pe3JldHVybiBkM19nZW9fdHJhbnNmb3JtUG9pbnQoc3RyZWFtLGZ1bmN0aW9uKHgseSl7eD1wcm9qZWN0KHgseSksc3RyZWFtLnBvaW50KHhbMF0seFsxXSl9KX1mdW5jdGlvbiByZXNhbXBsZVJlY3Vyc2l2ZShzdHJlYW0pe2Z1bmN0aW9uIHBvaW50KHgseSl7eD1wcm9qZWN0KHgseSksc3RyZWFtLnBvaW50KHhbMF0seFsxXSl9ZnVuY3Rpb24gbGluZVN0YXJ0KCl7eDA9TmFOLHJlc2FtcGxlLnBvaW50PWxpbmVQb2ludCxzdHJlYW0ubGluZVN0YXJ0KCl9ZnVuY3Rpb24gbGluZVBvaW50KM67LM+GKXt2YXIgYz1kM19nZW9fY2FydGVzaWFuKFvOuyzPhl0pLHA9cHJvamVjdCjOuyzPhik7cmVzYW1wbGVMaW5lVG8oeDAseTAszrswLGEwLGIwLGMwLHgwPXBbMF0seTA9cFsxXSzOuzA9zrssYTA9Y1swXSxiMD1jWzFdLGMwPWNbMl0sbWF4RGVwdGgsc3RyZWFtKSxzdHJlYW0ucG9pbnQoeDAseTApfWZ1bmN0aW9uIGxpbmVFbmQoKXtyZXNhbXBsZS5wb2ludD1wb2ludCxzdHJlYW0ubGluZUVuZCgpfWZ1bmN0aW9uIHJpbmdTdGFydCgpe2xpbmVTdGFydCgpLHJlc2FtcGxlLnBvaW50PXJpbmdQb2ludCxyZXNhbXBsZS5saW5lRW5kPXJpbmdFbmR9ZnVuY3Rpb24gcmluZ1BvaW50KM67LM+GKXtsaW5lUG9pbnQozrswMD3OuyzPhjAwPc+GKSx4MDA9eDAseTAwPXkwLGEwMD1hMCxiMDA9YjAsYzAwPWMwLHJlc2FtcGxlLnBvaW50PWxpbmVQb2ludH1mdW5jdGlvbiByaW5nRW5kKCl7cmVzYW1wbGVMaW5lVG8oeDAseTAszrswLGEwLGIwLGMwLHgwMCx5MDAszrswMCxhMDAsYjAwLGMwMCxtYXhEZXB0aCxzdHJlYW0pLHJlc2FtcGxlLmxpbmVFbmQ9bGluZUVuZCxsaW5lRW5kKCl9dmFyIM67MDAsz4YwMCx4MDAseTAwLGEwMCxiMDAsYzAwLM67MCx4MCx5MCxhMCxiMCxjMCxyZXNhbXBsZT17cG9pbnQ6cG9pbnQsbGluZVN0YXJ0OmxpbmVTdGFydCxsaW5lRW5kOmxpbmVFbmQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7c3RyZWFtLnBvbHlnb25TdGFydCgpLHJlc2FtcGxlLmxpbmVTdGFydD1yaW5nU3RhcnR9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtzdHJlYW0ucG9seWdvbkVuZCgpLHJlc2FtcGxlLmxpbmVTdGFydD1saW5lU3RhcnR9fTtyZXR1cm4gcmVzYW1wbGV9ZnVuY3Rpb24gcmVzYW1wbGVMaW5lVG8oeDAseTAszrswLGEwLGIwLGMwLHgxLHkxLM67MSxhMSxiMSxjMSxkZXB0aCxzdHJlYW0pe3ZhciBkeD14MS14MCxkeT15MS15MCxkMj1keCpkeCtkeSpkeTtpZihkMj40Ks60MiYmZGVwdGgtLSl7dmFyIGE9YTArYTEsYj1iMCtiMSxjPWMwK2MxLG09TWF0aC5zcXJ0KGEqYStiKmIrYypjKSzPhjI9TWF0aC5hc2luKGMvPW0pLM67Mj1hYnMoYWJzKGMpLTEpPM61fHxhYnMozrswLc67MSk8zrU/KM67MCvOuzEpLzI6TWF0aC5hdGFuMihiLGEpLHA9cHJvamVjdCjOuzIsz4YyKSx4Mj1wWzBdLHkyPXBbMV0sZHgyPXgyLXgwLGR5Mj15Mi15MCxkej1keSpkeDItZHgqZHkyOyhkeipkei9kMj7OtDJ8fGFicygoZHgqZHgyK2R5KmR5MikvZDItLjUpPi4zfHxjb3NNaW5EaXN0YW5jZT5hMCphMStiMCpiMStjMCpjMSkmJihyZXNhbXBsZUxpbmVUbyh4MCx5MCzOuzAsYTAsYjAsYzAseDIseTIszrsyLGEvPW0sYi89bSxjLGRlcHRoLHN0cmVhbSksc3RyZWFtLnBvaW50KHgyLHkyKSxyZXNhbXBsZUxpbmVUbyh4Mix5MizOuzIsYSxiLGMseDEseTEszrsxLGExLGIxLGMxLGRlcHRoLHN0cmVhbSkpfX12YXIgzrQyPS41LGNvc01pbkRpc3RhbmNlPU1hdGguY29zKDMwKmQzX3JhZGlhbnMpLG1heERlcHRoPTE2O3JldHVybiByZXNhbXBsZS5wcmVjaXNpb249ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG1heERlcHRoPSjOtDI9XypfKT4wJiYxNixyZXNhbXBsZSk6TWF0aC5zcXJ0KM60Mil9LHJlc2FtcGxlfWZ1bmN0aW9uIGQzX2dlb19wYXRoUHJvamVjdFN0cmVhbShwcm9qZWN0KXt2YXIgcmVzYW1wbGU9ZDNfZ2VvX3Jlc2FtcGxlKGZ1bmN0aW9uKHgseSl7cmV0dXJuIHByb2plY3QoW3gqZDNfZGVncmVlcyx5KmQzX2RlZ3JlZXNdKX0pO3JldHVybiBmdW5jdGlvbihzdHJlYW0pe3JldHVybiBkM19nZW9fcHJvamVjdGlvblJhZGlhbnMocmVzYW1wbGUoc3RyZWFtKSl9fWZ1bmN0aW9uIGQzX2dlb190cmFuc2Zvcm0oc3RyZWFtKXt0aGlzLnN0cmVhbT1zdHJlYW19ZnVuY3Rpb24gZDNfZ2VvX3RyYW5zZm9ybVBvaW50KHN0cmVhbSxwb2ludCl7cmV0dXJue3BvaW50OnBvaW50LHNwaGVyZTpmdW5jdGlvbigpe3N0cmVhbS5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7c3RyZWFtLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7c3RyZWFtLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7c3RyZWFtLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7c3RyZWFtLnBvbHlnb25FbmQoKX19fWZ1bmN0aW9uIGQzX2dlb19wcm9qZWN0aW9uKHByb2plY3Qpe3JldHVybiBkM19nZW9fcHJvamVjdGlvbk11dGF0b3IoZnVuY3Rpb24oKXtyZXR1cm4gcHJvamVjdH0pKCl9ZnVuY3Rpb24gZDNfZ2VvX3Byb2plY3Rpb25NdXRhdG9yKHByb2plY3RBdCl7ZnVuY3Rpb24gcHJvamVjdGlvbihwb2ludCl7cmV0dXJuIHBvaW50PXByb2plY3RSb3RhdGUocG9pbnRbMF0qZDNfcmFkaWFucyxwb2ludFsxXSpkM19yYWRpYW5zKSxbcG9pbnRbMF0qayvOtHgszrR5LXBvaW50WzFdKmtdfWZ1bmN0aW9uIGludmVydChwb2ludCl7cmV0dXJuIHBvaW50PXByb2plY3RSb3RhdGUuaW52ZXJ0KChwb2ludFswXS3OtHgpL2ssKM60eS1wb2ludFsxXSkvaykscG9pbnQmJltwb2ludFswXSpkM19kZWdyZWVzLHBvaW50WzFdKmQzX2RlZ3JlZXNdfWZ1bmN0aW9uIHJlc2V0KCl7cHJvamVjdFJvdGF0ZT1kM19nZW9fY29tcG9zZShyb3RhdGU9ZDNfZ2VvX3JvdGF0aW9uKM60zrsszrTPhizOtM6zKSxwcm9qZWN0KTt2YXIgY2VudGVyPXByb2plY3Qozrssz4YpO3JldHVybiDOtHg9eC1jZW50ZXJbMF0qayzOtHk9eStjZW50ZXJbMV0qayxpbnZhbGlkYXRlKCl9ZnVuY3Rpb24gaW52YWxpZGF0ZSgpe3JldHVybiBzdHJlYW0mJihzdHJlYW0udmFsaWQ9ITEsc3RyZWFtPW51bGwpLHByb2plY3Rpb259dmFyIHByb2plY3Qscm90YXRlLHByb2plY3RSb3RhdGUszrR4LM60eSxzdHJlYW0scHJvamVjdFJlc2FtcGxlPWQzX2dlb19yZXNhbXBsZShmdW5jdGlvbih4LHkpe3JldHVybiB4PXByb2plY3QoeCx5KSxbeFswXSprK860eCzOtHkteFsxXSprXX0pLGs9MTUwLHg9NDgwLHk9MjUwLM67PTAsz4Y9MCzOtM67PTAszrTPhj0wLM60zrM9MCxwcmVjbGlwPWQzX2dlb19jbGlwQW50aW1lcmlkaWFuLHBvc3RjbGlwPWQzX2lkZW50aXR5LGNsaXBBbmdsZT1udWxsLGNsaXBFeHRlbnQ9bnVsbDtyZXR1cm4gcHJvamVjdGlvbi5zdHJlYW09ZnVuY3Rpb24ob3V0cHV0KXtyZXR1cm4gc3RyZWFtJiYoc3RyZWFtLnZhbGlkPSExKSxzdHJlYW09ZDNfZ2VvX3Byb2plY3Rpb25SYWRpYW5zKHByZWNsaXAocm90YXRlLHByb2plY3RSZXNhbXBsZShwb3N0Y2xpcChvdXRwdXQpKSkpLHN0cmVhbS52YWxpZD0hMCxzdHJlYW19LHByb2plY3Rpb24uY2xpcEFuZ2xlPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwcmVjbGlwPW51bGw9PV8/KGNsaXBBbmdsZT1fLGQzX2dlb19jbGlwQW50aW1lcmlkaWFuKTpkM19nZW9fY2xpcENpcmNsZSgoY2xpcEFuZ2xlPStfKSpkM19yYWRpYW5zKSxpbnZhbGlkYXRlKCkpOmNsaXBBbmdsZX0scHJvamVjdGlvbi5jbGlwRXh0ZW50PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjbGlwRXh0ZW50PV8scG9zdGNsaXA9Xz9kM19nZW9fY2xpcEV4dGVudChfWzBdWzBdLF9bMF1bMV0sX1sxXVswXSxfWzFdWzFdKTpkM19pZGVudGl0eSxpbnZhbGlkYXRlKCkpOmNsaXBFeHRlbnR9LHByb2plY3Rpb24uc2NhbGU9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9K18scmVzZXQoKSk6a30scHJvamVjdGlvbi50cmFuc2xhdGU9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHg9K19bMF0seT0rX1sxXSxyZXNldCgpKTpbeCx5XX0scHJvamVjdGlvbi5jZW50ZXI9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KM67PV9bMF0lMzYwKmQzX3JhZGlhbnMsz4Y9X1sxXSUzNjAqZDNfcmFkaWFucyxyZXNldCgpKTpbzrsqZDNfZGVncmVlcyzPhipkM19kZWdyZWVzXX0scHJvamVjdGlvbi5yb3RhdGU9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KM60zrs9X1swXSUzNjAqZDNfcmFkaWFucyzOtM+GPV9bMV0lMzYwKmQzX3JhZGlhbnMszrTOsz1fLmxlbmd0aD4yP19bMl0lMzYwKmQzX3JhZGlhbnM6MCxyZXNldCgpKTpbzrTOuypkM19kZWdyZWVzLM60z4YqZDNfZGVncmVlcyzOtM6zKmQzX2RlZ3JlZXNdfSxkMy5yZWJpbmQocHJvamVjdGlvbixwcm9qZWN0UmVzYW1wbGUsXCJwcmVjaXNpb25cIiksZnVuY3Rpb24oKXtyZXR1cm4gcHJvamVjdD1wcm9qZWN0QXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHByb2plY3Rpb24uaW52ZXJ0PXByb2plY3QuaW52ZXJ0JiZpbnZlcnQscmVzZXQoKX19ZnVuY3Rpb24gZDNfZ2VvX3Byb2plY3Rpb25SYWRpYW5zKHN0cmVhbSl7cmV0dXJuIGQzX2dlb190cmFuc2Zvcm1Qb2ludChzdHJlYW0sZnVuY3Rpb24oeCx5KXtzdHJlYW0ucG9pbnQoeCpkM19yYWRpYW5zLHkqZDNfcmFkaWFucyl9KX1mdW5jdGlvbiBkM19nZW9fZXF1aXJlY3Rhbmd1bGFyKM67LM+GKXtyZXR1cm5bzrssz4ZdfWZ1bmN0aW9uIGQzX2dlb19pZGVudGl0eVJvdGF0aW9uKM67LM+GKXtyZXR1cm5bzrs+z4A/zrstz4Q6Lc+APs67P867K8+EOs67LM+GXX1mdW5jdGlvbiBkM19nZW9fcm90YXRpb24ozrTOuyzOtM+GLM60zrMpe3JldHVybiDOtM67P860z4Z8fM60zrM/ZDNfZ2VvX2NvbXBvc2UoZDNfZ2VvX3JvdGF0aW9uzrsozrTOuyksZDNfZ2VvX3JvdGF0aW9uz4bOsyjOtM+GLM60zrMpKTpkM19nZW9fcm90YXRpb27OuyjOtM67KTrOtM+GfHzOtM6zP2QzX2dlb19yb3RhdGlvbs+GzrMozrTPhizOtM6zKTpkM19nZW9faWRlbnRpdHlSb3RhdGlvbn1mdW5jdGlvbiBkM19nZW9fZm9yd2FyZFJvdGF0aW9uzrsozrTOuyl7cmV0dXJuIGZ1bmN0aW9uKM67LM+GKXtyZXR1cm4gzrsrPc60zrssW867Ps+AP867Lc+EOi3PgD7Ouz/OuyvPhDrOuyzPhl19fWZ1bmN0aW9uIGQzX2dlb19yb3RhdGlvbs67KM60zrspe3ZhciByb3RhdGlvbj1kM19nZW9fZm9yd2FyZFJvdGF0aW9uzrsozrTOuyk7cmV0dXJuIHJvdGF0aW9uLmludmVydD1kM19nZW9fZm9yd2FyZFJvdGF0aW9uzrsoLc60zrspLHJvdGF0aW9ufWZ1bmN0aW9uIGQzX2dlb19yb3RhdGlvbs+GzrMozrTPhizOtM6zKXtmdW5jdGlvbiByb3RhdGlvbijOuyzPhil7dmFyIGNvc8+GPU1hdGguY29zKM+GKSx4PU1hdGguY29zKM67KSpjb3PPhix5PU1hdGguc2luKM67KSpjb3PPhix6PU1hdGguc2luKM+GKSxrPXoqY29zzrTPhit4KnNpbs60z4Y7cmV0dXJuW01hdGguYXRhbjIoeSpjb3POtM6zLWsqc2luzrTOsyx4KmNvc860z4YteipzaW7OtM+GKSxkM19hc2luKGsqY29zzrTOsyt5KnNpbs60zrMpXX12YXIgY29zzrTPhj1NYXRoLmNvcyjOtM+GKSxzaW7OtM+GPU1hdGguc2luKM60z4YpLGNvc860zrM9TWF0aC5jb3MozrTOsyksc2luzrTOsz1NYXRoLnNpbijOtM6zKTtyZXR1cm4gcm90YXRpb24uaW52ZXJ0PWZ1bmN0aW9uKM67LM+GKXt2YXIgY29zz4Y9TWF0aC5jb3Moz4YpLHg9TWF0aC5jb3MozrspKmNvc8+GLHk9TWF0aC5zaW4ozrspKmNvc8+GLHo9TWF0aC5zaW4oz4YpLGs9eipjb3POtM6zLXkqc2luzrTOsztyZXR1cm5bTWF0aC5hdGFuMih5KmNvc860zrMreipzaW7OtM6zLHgqY29zzrTPhitrKnNpbs60z4YpLGQzX2FzaW4oaypjb3POtM+GLXgqc2luzrTPhildfSxyb3RhdGlvbn1mdW5jdGlvbiBkM19nZW9fY2lyY2xlSW50ZXJwb2xhdGUocmFkaXVzLHByZWNpc2lvbil7dmFyIGNyPU1hdGguY29zKHJhZGl1cyksc3I9TWF0aC5zaW4ocmFkaXVzKTtyZXR1cm4gZnVuY3Rpb24oZnJvbSx0byxkaXJlY3Rpb24sbGlzdGVuZXIpe3ZhciBzdGVwPWRpcmVjdGlvbipwcmVjaXNpb247bnVsbCE9ZnJvbT8oZnJvbT1kM19nZW9fY2lyY2xlQW5nbGUoY3IsZnJvbSksdG89ZDNfZ2VvX2NpcmNsZUFuZ2xlKGNyLHRvKSwoZGlyZWN0aW9uPjA/dG8+ZnJvbTpmcm9tPnRvKSYmKGZyb20rPWRpcmVjdGlvbirPhCkpOihmcm9tPXJhZGl1cytkaXJlY3Rpb24qz4QsdG89cmFkaXVzLS41KnN0ZXApO2Zvcih2YXIgcG9pbnQsdD1mcm9tO2RpcmVjdGlvbj4wP3Q+dG86dG8+dDt0LT1zdGVwKWxpc3RlbmVyLnBvaW50KChwb2ludD1kM19nZW9fc3BoZXJpY2FsKFtjciwtc3IqTWF0aC5jb3ModCksLXNyKk1hdGguc2luKHQpXSkpWzBdLHBvaW50WzFdKX19ZnVuY3Rpb24gZDNfZ2VvX2NpcmNsZUFuZ2xlKGNyLHBvaW50KXt2YXIgYT1kM19nZW9fY2FydGVzaWFuKHBvaW50KTthWzBdLT1jcixkM19nZW9fY2FydGVzaWFuTm9ybWFsaXplKGEpO3ZhciBhbmdsZT1kM19hY29zKC1hWzFdKTtyZXR1cm4oKC1hWzJdPDA/LWFuZ2xlOmFuZ2xlKSsyKk1hdGguUEktzrUpJSgyKk1hdGguUEkpfWZ1bmN0aW9uIGQzX2dlb19ncmF0aWN1bGVYKHkwLHkxLGR5KXt2YXIgeT1kMy5yYW5nZSh5MCx5MS3OtSxkeSkuY29uY2F0KHkxKTtyZXR1cm4gZnVuY3Rpb24oeCl7cmV0dXJuIHkubWFwKGZ1bmN0aW9uKHkpe3JldHVyblt4LHldfSl9fWZ1bmN0aW9uIGQzX2dlb19ncmF0aWN1bGVZKHgwLHgxLGR4KXt2YXIgeD1kMy5yYW5nZSh4MCx4MS3OtSxkeCkuY29uY2F0KHgxKTtyZXR1cm4gZnVuY3Rpb24oeSl7cmV0dXJuIHgubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4LHldfSl9fWZ1bmN0aW9uIGQzX3NvdXJjZShkKXtyZXR1cm4gZC5zb3VyY2V9ZnVuY3Rpb24gZDNfdGFyZ2V0KGQpe3JldHVybiBkLnRhcmdldH1mdW5jdGlvbiBkM19nZW9faW50ZXJwb2xhdGUoeDAseTAseDEseTEpe3ZhciBjeTA9TWF0aC5jb3MoeTApLHN5MD1NYXRoLnNpbih5MCksY3kxPU1hdGguY29zKHkxKSxzeTE9TWF0aC5zaW4oeTEpLGt4MD1jeTAqTWF0aC5jb3MoeDApLGt5MD1jeTAqTWF0aC5zaW4oeDApLGt4MT1jeTEqTWF0aC5jb3MoeDEpLGt5MT1jeTEqTWF0aC5zaW4oeDEpLGQ9MipNYXRoLmFzaW4oTWF0aC5zcXJ0KGQzX2hhdmVyc2luKHkxLXkwKStjeTAqY3kxKmQzX2hhdmVyc2luKHgxLXgwKSkpLGs9MS9NYXRoLnNpbihkKSxpbnRlcnBvbGF0ZT1kP2Z1bmN0aW9uKHQpe3ZhciBCPU1hdGguc2luKHQqPWQpKmssQT1NYXRoLnNpbihkLXQpKmsseD1BKmt4MCtCKmt4MSx5PUEqa3kwK0Iqa3kxLHo9QSpzeTArQipzeTE7cmV0dXJuW01hdGguYXRhbjIoeSx4KSpkM19kZWdyZWVzLE1hdGguYXRhbjIoeixNYXRoLnNxcnQoeCp4K3kqeSkpKmQzX2RlZ3JlZXNdfTpmdW5jdGlvbigpe3JldHVyblt4MCpkM19kZWdyZWVzLHkwKmQzX2RlZ3JlZXNdfTtyZXR1cm4gaW50ZXJwb2xhdGUuZGlzdGFuY2U9ZCxpbnRlcnBvbGF0ZX1mdW5jdGlvbiBkM19nZW9fbGVuZ3RoTGluZVN0YXJ0KCl7ZnVuY3Rpb24gbmV4dFBvaW50KM67LM+GKXt2YXIgc2luz4Y9TWF0aC5zaW4oz4YqPWQzX3JhZGlhbnMpLGNvc8+GPU1hdGguY29zKM+GKSx0PWFicygozrsqPWQzX3JhZGlhbnMpLc67MCksY29zzpTOuz1NYXRoLmNvcyh0KTtkM19nZW9fbGVuZ3RoU3VtKz1NYXRoLmF0YW4yKE1hdGguc3FydCgodD1jb3PPhipNYXRoLnNpbih0KSkqdCsodD1jb3PPhjAqc2luz4Ytc2luz4YwKmNvc8+GKmNvc86UzrspKnQpLHNpbs+GMCpzaW7Phitjb3PPhjAqY29zz4YqY29zzpTOuykszrswPc67LHNpbs+GMD1zaW7Phixjb3PPhjA9Y29zz4Z9dmFyIM67MCxzaW7PhjAsY29zz4YwO2QzX2dlb19sZW5ndGgucG9pbnQ9ZnVuY3Rpb24ozrssz4Ype867MD3OuypkM19yYWRpYW5zLHNpbs+GMD1NYXRoLnNpbijPhio9ZDNfcmFkaWFucyksY29zz4YwPU1hdGguY29zKM+GKSxkM19nZW9fbGVuZ3RoLnBvaW50PW5leHRQb2ludH0sZDNfZ2VvX2xlbmd0aC5saW5lRW5kPWZ1bmN0aW9uKCl7ZDNfZ2VvX2xlbmd0aC5wb2ludD1kM19nZW9fbGVuZ3RoLmxpbmVFbmQ9ZDNfbm9vcH19ZnVuY3Rpb24gZDNfZ2VvX2F6aW11dGhhbChzY2FsZSxhbmdsZSl7ZnVuY3Rpb24gYXppbXV0aGFsKM67LM+GKXt2YXIgY29zzrs9TWF0aC5jb3MozrspLGNvc8+GPU1hdGguY29zKM+GKSxrPXNjYWxlKGNvc867KmNvc8+GKTtyZXR1cm5baypjb3PPhipNYXRoLnNpbijOuyksaypNYXRoLnNpbijPhildfXJldHVybiBhemltdXRoYWwuaW52ZXJ0PWZ1bmN0aW9uKHgseSl7dmFyIM+BPU1hdGguc3FydCh4KngreSp5KSxjPWFuZ2xlKM+BKSxzaW5jPU1hdGguc2luKGMpLGNvc2M9TWF0aC5jb3MoYyk7cmV0dXJuW01hdGguYXRhbjIoeCpzaW5jLM+BKmNvc2MpLE1hdGguYXNpbijPgSYmeSpzaW5jL8+BKV19LGF6aW11dGhhbH1mdW5jdGlvbiBkM19nZW9fY29uaWNDb25mb3JtYWwoz4YwLM+GMSl7ZnVuY3Rpb24gZm9yd2FyZCjOuyzPhil7Rj4wPy1oYWxmz4ArzrU+z4YmJijPhj0taGFsZs+AK861KTrPhj5oYWxmz4AtzrUmJijPhj1oYWxmz4AtzrUpO3ZhciDPgT1GL01hdGgucG93KHQoz4YpLG4pO3JldHVyblvPgSpNYXRoLnNpbihuKs67KSxGLc+BKk1hdGguY29zKG4qzrspXX12YXIgY29zz4YwPU1hdGguY29zKM+GMCksdD1mdW5jdGlvbijPhil7cmV0dXJuIE1hdGgudGFuKM+ALzQrz4YvMil9LG49z4YwPT09z4YxP01hdGguc2luKM+GMCk6TWF0aC5sb2coY29zz4YwL01hdGguY29zKM+GMSkpL01hdGgubG9nKHQoz4YxKS90KM+GMCkpLEY9Y29zz4YwKk1hdGgucG93KHQoz4YwKSxuKS9uO3JldHVybiBuPyhmb3J3YXJkLmludmVydD1mdW5jdGlvbih4LHkpe3ZhciDPgTBfeT1GLXksz4E9ZDNfc2duKG4pKk1hdGguc3FydCh4Kngrz4EwX3kqz4EwX3kpO3JldHVybltNYXRoLmF0YW4yKHgsz4EwX3kpL24sMipNYXRoLmF0YW4oTWF0aC5wb3coRi/PgSwxL24pKS1oYWxmz4BdfSxmb3J3YXJkKTpkM19nZW9fbWVyY2F0b3J9ZnVuY3Rpb24gZDNfZ2VvX2NvbmljRXF1aWRpc3RhbnQoz4YwLM+GMSl7ZnVuY3Rpb24gZm9yd2FyZCjOuyzPhil7dmFyIM+BPUctz4Y7cmV0dXJuW8+BKk1hdGguc2luKG4qzrspLEctz4EqTWF0aC5jb3MobirOuyldfXZhciBjb3PPhjA9TWF0aC5jb3Moz4YwKSxuPc+GMD09Pc+GMT9NYXRoLnNpbijPhjApOihjb3PPhjAtTWF0aC5jb3Moz4YxKSkvKM+GMS3PhjApLEc9Y29zz4YwL24rz4YwO3JldHVybiBhYnMobik8zrU/ZDNfZ2VvX2VxdWlyZWN0YW5ndWxhcjooZm9yd2FyZC5pbnZlcnQ9ZnVuY3Rpb24oeCx5KXt2YXIgz4EwX3k9Ry15O3JldHVybltNYXRoLmF0YW4yKHgsz4EwX3kpL24sRy1kM19zZ24obikqTWF0aC5zcXJ0KHgqeCvPgTBfeSrPgTBfeSldfSxmb3J3YXJkKX1mdW5jdGlvbiBkM19nZW9fbWVyY2F0b3Iozrssz4Ype3JldHVyblvOuyxNYXRoLmxvZyhNYXRoLnRhbijPgC80K8+GLzIpKV19ZnVuY3Rpb24gZDNfZ2VvX21lcmNhdG9yUHJvamVjdGlvbihwcm9qZWN0KXt2YXIgY2xpcEF1dG8sbT1kM19nZW9fcHJvamVjdGlvbihwcm9qZWN0KSxzY2FsZT1tLnNjYWxlLHRyYW5zbGF0ZT1tLnRyYW5zbGF0ZSxjbGlwRXh0ZW50PW0uY2xpcEV4dGVudDtyZXR1cm4gbS5zY2FsZT1mdW5jdGlvbigpe3ZhciB2PXNjYWxlLmFwcGx5KG0sYXJndW1lbnRzKTtyZXR1cm4gdj09PW0/Y2xpcEF1dG8/bS5jbGlwRXh0ZW50KG51bGwpOm06dn0sbS50cmFuc2xhdGU9ZnVuY3Rpb24oKXt2YXIgdj10cmFuc2xhdGUuYXBwbHkobSxhcmd1bWVudHMpO3JldHVybiB2PT09bT9jbGlwQXV0bz9tLmNsaXBFeHRlbnQobnVsbCk6bTp2fSxtLmNsaXBFeHRlbnQ9ZnVuY3Rpb24oXyl7dmFyIHY9Y2xpcEV4dGVudC5hcHBseShtLGFyZ3VtZW50cyk7aWYodj09PW0pe2lmKGNsaXBBdXRvPW51bGw9PV8pe3ZhciBrPc+AKnNjYWxlKCksdD10cmFuc2xhdGUoKTtjbGlwRXh0ZW50KFtbdFswXS1rLHRbMV0ta10sW3RbMF0rayx0WzFdK2tdXSl9fWVsc2UgY2xpcEF1dG8mJih2PW51bGwpO3JldHVybiB2fSxtLmNsaXBFeHRlbnQobnVsbCl9ZnVuY3Rpb24gZDNfZ2VvX3RyYW5zdmVyc2VNZXJjYXRvcijOuyzPhil7cmV0dXJuW01hdGgubG9nKE1hdGgudGFuKM+ALzQrz4YvMikpLC3Ou119ZnVuY3Rpb24gZDNfZ2VvbV9wb2ludFgoZCl7cmV0dXJuIGRbMF19ZnVuY3Rpb24gZDNfZ2VvbV9wb2ludFkoZCl7cmV0dXJuIGRbMV19ZnVuY3Rpb24gZDNfZ2VvbV9odWxsVXBwZXIocG9pbnRzKXtmb3IodmFyIG49cG9pbnRzLmxlbmd0aCxodWxsPVswLDFdLGhzPTIsaT0yO24+aTtpKyspe2Zvcig7aHM+MSYmZDNfY3Jvc3MyZChwb2ludHNbaHVsbFtocy0yXV0scG9pbnRzW2h1bGxbaHMtMV1dLHBvaW50c1tpXSk8PTA7KS0taHM7aHVsbFtocysrXT1pfXJldHVybiBodWxsLnNsaWNlKDAsaHMpfWZ1bmN0aW9uIGQzX2dlb21faHVsbE9yZGVyKGEsYil7cmV0dXJuIGFbMF0tYlswXXx8YVsxXS1iWzFdfWZ1bmN0aW9uIGQzX2dlb21fcG9seWdvbkluc2lkZShwLGEsYil7cmV0dXJuKGJbMF0tYVswXSkqKHBbMV0tYVsxXSk8KGJbMV0tYVsxXSkqKHBbMF0tYVswXSl9ZnVuY3Rpb24gZDNfZ2VvbV9wb2x5Z29uSW50ZXJzZWN0KGMsZCxhLGIpe3ZhciB4MT1jWzBdLHgzPWFbMF0seDIxPWRbMF0teDEseDQzPWJbMF0teDMseTE9Y1sxXSx5Mz1hWzFdLHkyMT1kWzFdLXkxLHk0Mz1iWzFdLXkzLHVhPSh4NDMqKHkxLXkzKS15NDMqKHgxLXgzKSkvKHk0Myp4MjEteDQzKnkyMSk7cmV0dXJuW3gxK3VhKngyMSx5MSt1YSp5MjFdfWZ1bmN0aW9uIGQzX2dlb21fcG9seWdvbkNsb3NlZChjb29yZGluYXRlcyl7dmFyIGE9Y29vcmRpbmF0ZXNbMF0sYj1jb29yZGluYXRlc1tjb29yZGluYXRlcy5sZW5ndGgtMV07cmV0dXJuIShhWzBdLWJbMF18fGFbMV0tYlsxXSl9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pQmVhY2goKXtkM19nZW9tX3Zvcm9ub2lSZWRCbGFja05vZGUodGhpcyksdGhpcy5lZGdlPXRoaXMuc2l0ZT10aGlzLmNpcmNsZT1udWxsfWZ1bmN0aW9uIGQzX2dlb21fdm9yb25vaUNyZWF0ZUJlYWNoKHNpdGUpe3ZhciBiZWFjaD1kM19nZW9tX3Zvcm9ub2lCZWFjaFBvb2wucG9wKCl8fG5ldyBkM19nZW9tX3Zvcm9ub2lCZWFjaDtyZXR1cm4gYmVhY2guc2l0ZT1zaXRlLGJlYWNofWZ1bmN0aW9uIGQzX2dlb21fdm9yb25vaURldGFjaEJlYWNoKGJlYWNoKXtkM19nZW9tX3Zvcm9ub2lEZXRhY2hDaXJjbGUoYmVhY2gpLGQzX2dlb21fdm9yb25vaUJlYWNoZXMucmVtb3ZlKGJlYWNoKSxkM19nZW9tX3Zvcm9ub2lCZWFjaFBvb2wucHVzaChiZWFjaCksZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tOb2RlKGJlYWNoKX1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lSZW1vdmVCZWFjaChiZWFjaCl7dmFyIGNpcmNsZT1iZWFjaC5jaXJjbGUseD1jaXJjbGUueCx5PWNpcmNsZS5jeSx2ZXJ0ZXg9e3g6eCx5Onl9LHByZXZpb3VzPWJlYWNoLlAsbmV4dD1iZWFjaC5OLGRpc2FwcGVhcmluZz1bYmVhY2hdO2QzX2dlb21fdm9yb25vaURldGFjaEJlYWNoKGJlYWNoKTtmb3IodmFyIGxBcmM9cHJldmlvdXM7bEFyYy5jaXJjbGUmJmFicyh4LWxBcmMuY2lyY2xlLngpPM61JiZhYnMoeS1sQXJjLmNpcmNsZS5jeSk8zrU7KXByZXZpb3VzPWxBcmMuUCxkaXNhcHBlYXJpbmcudW5zaGlmdChsQXJjKSxkM19nZW9tX3Zvcm9ub2lEZXRhY2hCZWFjaChsQXJjKSxsQXJjPXByZXZpb3VzO2Rpc2FwcGVhcmluZy51bnNoaWZ0KGxBcmMpLGQzX2dlb21fdm9yb25vaURldGFjaENpcmNsZShsQXJjKTtmb3IodmFyIHJBcmM9bmV4dDtyQXJjLmNpcmNsZSYmYWJzKHgtckFyYy5jaXJjbGUueCk8zrUmJmFicyh5LXJBcmMuY2lyY2xlLmN5KTzOtTspbmV4dD1yQXJjLk4sZGlzYXBwZWFyaW5nLnB1c2gockFyYyksZDNfZ2VvbV92b3Jvbm9pRGV0YWNoQmVhY2gockFyYyksckFyYz1uZXh0O2Rpc2FwcGVhcmluZy5wdXNoKHJBcmMpLGQzX2dlb21fdm9yb25vaURldGFjaENpcmNsZShyQXJjKTt2YXIgaUFyYyxuQXJjcz1kaXNhcHBlYXJpbmcubGVuZ3RoO2ZvcihpQXJjPTE7bkFyY3M+aUFyYzsrK2lBcmMpckFyYz1kaXNhcHBlYXJpbmdbaUFyY10sbEFyYz1kaXNhcHBlYXJpbmdbaUFyYy0xXSxkM19nZW9tX3Zvcm9ub2lTZXRFZGdlRW5kKHJBcmMuZWRnZSxsQXJjLnNpdGUsckFyYy5zaXRlLHZlcnRleCk7bEFyYz1kaXNhcHBlYXJpbmdbMF0sckFyYz1kaXNhcHBlYXJpbmdbbkFyY3MtMV0sckFyYy5lZGdlPWQzX2dlb21fdm9yb25vaUNyZWF0ZUVkZ2UobEFyYy5zaXRlLHJBcmMuc2l0ZSxudWxsLHZlcnRleCksZDNfZ2VvbV92b3Jvbm9pQXR0YWNoQ2lyY2xlKGxBcmMpLGQzX2dlb21fdm9yb25vaUF0dGFjaENpcmNsZShyQXJjKX1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lBZGRCZWFjaChzaXRlKXtmb3IodmFyIGxBcmMsckFyYyxkeGwsZHhyLHg9c2l0ZS54LGRpcmVjdHJpeD1zaXRlLnksbm9kZT1kM19nZW9tX3Zvcm9ub2lCZWFjaGVzLl87bm9kZTspaWYoZHhsPWQzX2dlb21fdm9yb25vaUxlZnRCcmVha1BvaW50KG5vZGUsZGlyZWN0cml4KS14LGR4bD7OtSlub2RlPW5vZGUuTDtlbHNle2lmKGR4cj14LWQzX2dlb21fdm9yb25vaVJpZ2h0QnJlYWtQb2ludChub2RlLGRpcmVjdHJpeCksIShkeHI+zrUpKXtkeGw+Lc61PyhsQXJjPW5vZGUuUCxyQXJjPW5vZGUpOmR4cj4tzrU/KGxBcmM9bm9kZSxyQXJjPW5vZGUuTik6bEFyYz1yQXJjPW5vZGU7YnJlYWt9aWYoIW5vZGUuUil7bEFyYz1ub2RlO2JyZWFrfW5vZGU9bm9kZS5SfXZhciBuZXdBcmM9ZDNfZ2VvbV92b3Jvbm9pQ3JlYXRlQmVhY2goc2l0ZSk7aWYoZDNfZ2VvbV92b3Jvbm9pQmVhY2hlcy5pbnNlcnQobEFyYyxuZXdBcmMpLGxBcmN8fHJBcmMpe2lmKGxBcmM9PT1yQXJjKXJldHVybiBkM19nZW9tX3Zvcm9ub2lEZXRhY2hDaXJjbGUobEFyYyksckFyYz1kM19nZW9tX3Zvcm9ub2lDcmVhdGVCZWFjaChsQXJjLnNpdGUpLGQzX2dlb21fdm9yb25vaUJlYWNoZXMuaW5zZXJ0KG5ld0FyYyxyQXJjKSxuZXdBcmMuZWRnZT1yQXJjLmVkZ2U9ZDNfZ2VvbV92b3Jvbm9pQ3JlYXRlRWRnZShsQXJjLnNpdGUsbmV3QXJjLnNpdGUpLGQzX2dlb21fdm9yb25vaUF0dGFjaENpcmNsZShsQXJjKSxcbnZvaWQgZDNfZ2VvbV92b3Jvbm9pQXR0YWNoQ2lyY2xlKHJBcmMpO2lmKCFyQXJjKXJldHVybiB2b2lkKG5ld0FyYy5lZGdlPWQzX2dlb21fdm9yb25vaUNyZWF0ZUVkZ2UobEFyYy5zaXRlLG5ld0FyYy5zaXRlKSk7ZDNfZ2VvbV92b3Jvbm9pRGV0YWNoQ2lyY2xlKGxBcmMpLGQzX2dlb21fdm9yb25vaURldGFjaENpcmNsZShyQXJjKTt2YXIgbFNpdGU9bEFyYy5zaXRlLGF4PWxTaXRlLngsYXk9bFNpdGUueSxieD1zaXRlLngtYXgsYnk9c2l0ZS55LWF5LHJTaXRlPXJBcmMuc2l0ZSxjeD1yU2l0ZS54LWF4LGN5PXJTaXRlLnktYXksZD0yKihieCpjeS1ieSpjeCksaGI9YngqYngrYnkqYnksaGM9Y3gqY3grY3kqY3ksdmVydGV4PXt4OihjeSpoYi1ieSpoYykvZCtheCx5OihieCpoYy1jeCpoYikvZCtheX07ZDNfZ2VvbV92b3Jvbm9pU2V0RWRnZUVuZChyQXJjLmVkZ2UsbFNpdGUsclNpdGUsdmVydGV4KSxuZXdBcmMuZWRnZT1kM19nZW9tX3Zvcm9ub2lDcmVhdGVFZGdlKGxTaXRlLHNpdGUsbnVsbCx2ZXJ0ZXgpLHJBcmMuZWRnZT1kM19nZW9tX3Zvcm9ub2lDcmVhdGVFZGdlKHNpdGUsclNpdGUsbnVsbCx2ZXJ0ZXgpLGQzX2dlb21fdm9yb25vaUF0dGFjaENpcmNsZShsQXJjKSxkM19nZW9tX3Zvcm9ub2lBdHRhY2hDaXJjbGUockFyYyl9fWZ1bmN0aW9uIGQzX2dlb21fdm9yb25vaUxlZnRCcmVha1BvaW50KGFyYyxkaXJlY3RyaXgpe3ZhciBzaXRlPWFyYy5zaXRlLHJmb2N4PXNpdGUueCxyZm9jeT1zaXRlLnkscGJ5Mj1yZm9jeS1kaXJlY3RyaXg7aWYoIXBieTIpcmV0dXJuIHJmb2N4O3ZhciBsQXJjPWFyYy5QO2lmKCFsQXJjKXJldHVybi0oMS8wKTtzaXRlPWxBcmMuc2l0ZTt2YXIgbGZvY3g9c2l0ZS54LGxmb2N5PXNpdGUueSxwbGJ5Mj1sZm9jeS1kaXJlY3RyaXg7aWYoIXBsYnkyKXJldHVybiBsZm9jeDt2YXIgaGw9bGZvY3gtcmZvY3gsYWJ5Mj0xL3BieTItMS9wbGJ5MixiPWhsL3BsYnkyO3JldHVybiBhYnkyPygtYitNYXRoLnNxcnQoYipiLTIqYWJ5MiooaGwqaGwvKC0yKnBsYnkyKS1sZm9jeStwbGJ5Mi8yK3Jmb2N5LXBieTIvMikpKS9hYnkyK3Jmb2N4OihyZm9jeCtsZm9jeCkvMn1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lSaWdodEJyZWFrUG9pbnQoYXJjLGRpcmVjdHJpeCl7dmFyIHJBcmM9YXJjLk47aWYockFyYylyZXR1cm4gZDNfZ2VvbV92b3Jvbm9pTGVmdEJyZWFrUG9pbnQockFyYyxkaXJlY3RyaXgpO3ZhciBzaXRlPWFyYy5zaXRlO3JldHVybiBzaXRlLnk9PT1kaXJlY3RyaXg/c2l0ZS54OjEvMH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lDZWxsKHNpdGUpe3RoaXMuc2l0ZT1zaXRlLHRoaXMuZWRnZXM9W119ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pQ2xvc2VDZWxscyhleHRlbnQpe2Zvcih2YXIgeDIseTIseDMseTMsY2VsbCxpSGFsZkVkZ2UsaGFsZkVkZ2VzLG5IYWxmRWRnZXMsc3RhcnQsZW5kLHgwPWV4dGVudFswXVswXSx4MT1leHRlbnRbMV1bMF0seTA9ZXh0ZW50WzBdWzFdLHkxPWV4dGVudFsxXVsxXSxjZWxscz1kM19nZW9tX3Zvcm9ub2lDZWxscyxpQ2VsbD1jZWxscy5sZW5ndGg7aUNlbGwtLTspaWYoY2VsbD1jZWxsc1tpQ2VsbF0sY2VsbCYmY2VsbC5wcmVwYXJlKCkpZm9yKGhhbGZFZGdlcz1jZWxsLmVkZ2VzLG5IYWxmRWRnZXM9aGFsZkVkZ2VzLmxlbmd0aCxpSGFsZkVkZ2U9MDtuSGFsZkVkZ2VzPmlIYWxmRWRnZTspZW5kPWhhbGZFZGdlc1tpSGFsZkVkZ2VdLmVuZCgpLHgzPWVuZC54LHkzPWVuZC55LHN0YXJ0PWhhbGZFZGdlc1srK2lIYWxmRWRnZSVuSGFsZkVkZ2VzXS5zdGFydCgpLHgyPXN0YXJ0LngseTI9c3RhcnQueSwoYWJzKHgzLXgyKT7OtXx8YWJzKHkzLXkyKT7OtSkmJihoYWxmRWRnZXMuc3BsaWNlKGlIYWxmRWRnZSwwLG5ldyBkM19nZW9tX3Zvcm9ub2lIYWxmRWRnZShkM19nZW9tX3Zvcm9ub2lDcmVhdGVCb3JkZXJFZGdlKGNlbGwuc2l0ZSxlbmQsYWJzKHgzLXgwKTzOtSYmeTEteTM+zrU/e3g6eDAseTphYnMoeDIteDApPM61P3kyOnkxfTphYnMoeTMteTEpPM61JiZ4MS14Mz7OtT97eDphYnMoeTIteTEpPM61P3gyOngxLHk6eTF9OmFicyh4My14MSk8zrUmJnkzLXkwPs61P3t4OngxLHk6YWJzKHgyLXgxKTzOtT95Mjp5MH06YWJzKHkzLXkwKTzOtSYmeDMteDA+zrU/e3g6YWJzKHkyLXkwKTzOtT94Mjp4MCx5OnkwfTpudWxsKSxjZWxsLnNpdGUsbnVsbCkpLCsrbkhhbGZFZGdlcyl9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pSGFsZkVkZ2VPcmRlcihhLGIpe3JldHVybiBiLmFuZ2xlLWEuYW5nbGV9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlKCl7ZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tOb2RlKHRoaXMpLHRoaXMueD10aGlzLnk9dGhpcy5hcmM9dGhpcy5zaXRlPXRoaXMuY3k9bnVsbH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lBdHRhY2hDaXJjbGUoYXJjKXt2YXIgbEFyYz1hcmMuUCxyQXJjPWFyYy5OO2lmKGxBcmMmJnJBcmMpe3ZhciBsU2l0ZT1sQXJjLnNpdGUsY1NpdGU9YXJjLnNpdGUsclNpdGU9ckFyYy5zaXRlO2lmKGxTaXRlIT09clNpdGUpe3ZhciBieD1jU2l0ZS54LGJ5PWNTaXRlLnksYXg9bFNpdGUueC1ieCxheT1sU2l0ZS55LWJ5LGN4PXJTaXRlLngtYngsY3k9clNpdGUueS1ieSxkPTIqKGF4KmN5LWF5KmN4KTtpZighKGQ+PS3OtTIpKXt2YXIgaGE9YXgqYXgrYXkqYXksaGM9Y3gqY3grY3kqY3kseD0oY3kqaGEtYXkqaGMpL2QseT0oYXgqaGMtY3gqaGEpL2QsY3k9eStieSxjaXJjbGU9ZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlUG9vbC5wb3AoKXx8bmV3IGQzX2dlb21fdm9yb25vaUNpcmNsZTtjaXJjbGUuYXJjPWFyYyxjaXJjbGUuc2l0ZT1jU2l0ZSxjaXJjbGUueD14K2J4LGNpcmNsZS55PWN5K01hdGguc3FydCh4KngreSp5KSxjaXJjbGUuY3k9Y3ksYXJjLmNpcmNsZT1jaXJjbGU7Zm9yKHZhciBiZWZvcmU9bnVsbCxub2RlPWQzX2dlb21fdm9yb25vaUNpcmNsZXMuXztub2RlOylpZihjaXJjbGUueTxub2RlLnl8fGNpcmNsZS55PT09bm9kZS55JiZjaXJjbGUueDw9bm9kZS54KXtpZighbm9kZS5MKXtiZWZvcmU9bm9kZS5QO2JyZWFrfW5vZGU9bm9kZS5MfWVsc2V7aWYoIW5vZGUuUil7YmVmb3JlPW5vZGU7YnJlYWt9bm9kZT1ub2RlLlJ9ZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlcy5pbnNlcnQoYmVmb3JlLGNpcmNsZSksYmVmb3JlfHwoZDNfZ2VvbV92b3Jvbm9pRmlyc3RDaXJjbGU9Y2lyY2xlKX19fX1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lEZXRhY2hDaXJjbGUoYXJjKXt2YXIgY2lyY2xlPWFyYy5jaXJjbGU7Y2lyY2xlJiYoY2lyY2xlLlB8fChkM19nZW9tX3Zvcm9ub2lGaXJzdENpcmNsZT1jaXJjbGUuTiksZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlcy5yZW1vdmUoY2lyY2xlKSxkM19nZW9tX3Zvcm9ub2lDaXJjbGVQb29sLnB1c2goY2lyY2xlKSxkM19nZW9tX3Zvcm9ub2lSZWRCbGFja05vZGUoY2lyY2xlKSxhcmMuY2lyY2xlPW51bGwpfWZ1bmN0aW9uIGQzX2dlb21fdm9yb25vaUNsaXBFZGdlcyhleHRlbnQpe2Zvcih2YXIgZSxlZGdlcz1kM19nZW9tX3Zvcm9ub2lFZGdlcyxjbGlwPWQzX2dlb21fY2xpcExpbmUoZXh0ZW50WzBdWzBdLGV4dGVudFswXVsxXSxleHRlbnRbMV1bMF0sZXh0ZW50WzFdWzFdKSxpPWVkZ2VzLmxlbmd0aDtpLS07KWU9ZWRnZXNbaV0sKCFkM19nZW9tX3Zvcm9ub2lDb25uZWN0RWRnZShlLGV4dGVudCl8fCFjbGlwKGUpfHxhYnMoZS5hLngtZS5iLngpPM61JiZhYnMoZS5hLnktZS5iLnkpPM61KSYmKGUuYT1lLmI9bnVsbCxlZGdlcy5zcGxpY2UoaSwxKSl9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pQ29ubmVjdEVkZ2UoZWRnZSxleHRlbnQpe3ZhciB2Yj1lZGdlLmI7aWYodmIpcmV0dXJuITA7dmFyIGZtLGZiLHZhPWVkZ2UuYSx4MD1leHRlbnRbMF1bMF0seDE9ZXh0ZW50WzFdWzBdLHkwPWV4dGVudFswXVsxXSx5MT1leHRlbnRbMV1bMV0sbFNpdGU9ZWRnZS5sLHJTaXRlPWVkZ2UucixseD1sU2l0ZS54LGx5PWxTaXRlLnkscng9clNpdGUueCxyeT1yU2l0ZS55LGZ4PShseCtyeCkvMixmeT0obHkrcnkpLzI7aWYocnk9PT1seSl7aWYoeDA+Znh8fGZ4Pj14MSlyZXR1cm47aWYobHg+cngpe2lmKHZhKXtpZih2YS55Pj15MSlyZXR1cm59ZWxzZSB2YT17eDpmeCx5OnkwfTt2Yj17eDpmeCx5OnkxfX1lbHNle2lmKHZhKXtpZih2YS55PHkwKXJldHVybn1lbHNlIHZhPXt4OmZ4LHk6eTF9O3ZiPXt4OmZ4LHk6eTB9fX1lbHNlIGlmKGZtPShseC1yeCkvKHJ5LWx5KSxmYj1meS1mbSpmeCwtMT5mbXx8Zm0+MSlpZihseD5yeCl7aWYodmEpe2lmKHZhLnk+PXkxKXJldHVybn1lbHNlIHZhPXt4Oih5MC1mYikvZm0seTp5MH07dmI9e3g6KHkxLWZiKS9mbSx5OnkxfX1lbHNle2lmKHZhKXtpZih2YS55PHkwKXJldHVybn1lbHNlIHZhPXt4Oih5MS1mYikvZm0seTp5MX07dmI9e3g6KHkwLWZiKS9mbSx5OnkwfX1lbHNlIGlmKHJ5Pmx5KXtpZih2YSl7aWYodmEueD49eDEpcmV0dXJufWVsc2UgdmE9e3g6eDAseTpmbSp4MCtmYn07dmI9e3g6eDEseTpmbSp4MStmYn19ZWxzZXtpZih2YSl7aWYodmEueDx4MClyZXR1cm59ZWxzZSB2YT17eDp4MSx5OmZtKngxK2ZifTt2Yj17eDp4MCx5OmZtKngwK2ZifX1yZXR1cm4gZWRnZS5hPXZhLGVkZ2UuYj12YiwhMH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lFZGdlKGxTaXRlLHJTaXRlKXt0aGlzLmw9bFNpdGUsdGhpcy5yPXJTaXRlLHRoaXMuYT10aGlzLmI9bnVsbH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lDcmVhdGVFZGdlKGxTaXRlLHJTaXRlLHZhLHZiKXt2YXIgZWRnZT1uZXcgZDNfZ2VvbV92b3Jvbm9pRWRnZShsU2l0ZSxyU2l0ZSk7cmV0dXJuIGQzX2dlb21fdm9yb25vaUVkZ2VzLnB1c2goZWRnZSksdmEmJmQzX2dlb21fdm9yb25vaVNldEVkZ2VFbmQoZWRnZSxsU2l0ZSxyU2l0ZSx2YSksdmImJmQzX2dlb21fdm9yb25vaVNldEVkZ2VFbmQoZWRnZSxyU2l0ZSxsU2l0ZSx2YiksZDNfZ2VvbV92b3Jvbm9pQ2VsbHNbbFNpdGUuaV0uZWRnZXMucHVzaChuZXcgZDNfZ2VvbV92b3Jvbm9pSGFsZkVkZ2UoZWRnZSxsU2l0ZSxyU2l0ZSkpLGQzX2dlb21fdm9yb25vaUNlbGxzW3JTaXRlLmldLmVkZ2VzLnB1c2gobmV3IGQzX2dlb21fdm9yb25vaUhhbGZFZGdlKGVkZ2UsclNpdGUsbFNpdGUpKSxlZGdlfWZ1bmN0aW9uIGQzX2dlb21fdm9yb25vaUNyZWF0ZUJvcmRlckVkZ2UobFNpdGUsdmEsdmIpe3ZhciBlZGdlPW5ldyBkM19nZW9tX3Zvcm9ub2lFZGdlKGxTaXRlLG51bGwpO3JldHVybiBlZGdlLmE9dmEsZWRnZS5iPXZiLGQzX2dlb21fdm9yb25vaUVkZ2VzLnB1c2goZWRnZSksZWRnZX1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lTZXRFZGdlRW5kKGVkZ2UsbFNpdGUsclNpdGUsdmVydGV4KXtlZGdlLmF8fGVkZ2UuYj9lZGdlLmw9PT1yU2l0ZT9lZGdlLmI9dmVydGV4OmVkZ2UuYT12ZXJ0ZXg6KGVkZ2UuYT12ZXJ0ZXgsZWRnZS5sPWxTaXRlLGVkZ2Uucj1yU2l0ZSl9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pSGFsZkVkZ2UoZWRnZSxsU2l0ZSxyU2l0ZSl7dmFyIHZhPWVkZ2UuYSx2Yj1lZGdlLmI7dGhpcy5lZGdlPWVkZ2UsdGhpcy5zaXRlPWxTaXRlLHRoaXMuYW5nbGU9clNpdGU/TWF0aC5hdGFuMihyU2l0ZS55LWxTaXRlLnksclNpdGUueC1sU2l0ZS54KTplZGdlLmw9PT1sU2l0ZT9NYXRoLmF0YW4yKHZiLngtdmEueCx2YS55LXZiLnkpOk1hdGguYXRhbjIodmEueC12Yi54LHZiLnktdmEueSl9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tUcmVlKCl7dGhpcy5fPW51bGx9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tOb2RlKG5vZGUpe25vZGUuVT1ub2RlLkM9bm9kZS5MPW5vZGUuUj1ub2RlLlA9bm9kZS5OPW51bGx9ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tSb3RhdGVMZWZ0KHRyZWUsbm9kZSl7dmFyIHA9bm9kZSxxPW5vZGUuUixwYXJlbnQ9cC5VO3BhcmVudD9wYXJlbnQuTD09PXA/cGFyZW50Lkw9cTpwYXJlbnQuUj1xOnRyZWUuXz1xLHEuVT1wYXJlbnQscC5VPXEscC5SPXEuTCxwLlImJihwLlIuVT1wKSxxLkw9cH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lSZWRCbGFja1JvdGF0ZVJpZ2h0KHRyZWUsbm9kZSl7dmFyIHA9bm9kZSxxPW5vZGUuTCxwYXJlbnQ9cC5VO3BhcmVudD9wYXJlbnQuTD09PXA/cGFyZW50Lkw9cTpwYXJlbnQuUj1xOnRyZWUuXz1xLHEuVT1wYXJlbnQscC5VPXEscC5MPXEuUixwLkwmJihwLkwuVT1wKSxxLlI9cH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lSZWRCbGFja0ZpcnN0KG5vZGUpe2Zvcig7bm9kZS5MOylub2RlPW5vZGUuTDtyZXR1cm4gbm9kZX1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2koc2l0ZXMsYmJveCl7dmFyIHgwLHkwLGNpcmNsZSxzaXRlPXNpdGVzLnNvcnQoZDNfZ2VvbV92b3Jvbm9pVmVydGV4T3JkZXIpLnBvcCgpO2ZvcihkM19nZW9tX3Zvcm9ub2lFZGdlcz1bXSxkM19nZW9tX3Zvcm9ub2lDZWxscz1uZXcgQXJyYXkoc2l0ZXMubGVuZ3RoKSxkM19nZW9tX3Zvcm9ub2lCZWFjaGVzPW5ldyBkM19nZW9tX3Zvcm9ub2lSZWRCbGFja1RyZWUsZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlcz1uZXcgZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tUcmVlOzspaWYoY2lyY2xlPWQzX2dlb21fdm9yb25vaUZpcnN0Q2lyY2xlLHNpdGUmJighY2lyY2xlfHxzaXRlLnk8Y2lyY2xlLnl8fHNpdGUueT09PWNpcmNsZS55JiZzaXRlLng8Y2lyY2xlLngpKShzaXRlLnghPT14MHx8c2l0ZS55IT09eTApJiYoZDNfZ2VvbV92b3Jvbm9pQ2VsbHNbc2l0ZS5pXT1uZXcgZDNfZ2VvbV92b3Jvbm9pQ2VsbChzaXRlKSxkM19nZW9tX3Zvcm9ub2lBZGRCZWFjaChzaXRlKSx4MD1zaXRlLngseTA9c2l0ZS55KSxzaXRlPXNpdGVzLnBvcCgpO2Vsc2V7aWYoIWNpcmNsZSlicmVhaztkM19nZW9tX3Zvcm9ub2lSZW1vdmVCZWFjaChjaXJjbGUuYXJjKX1iYm94JiYoZDNfZ2VvbV92b3Jvbm9pQ2xpcEVkZ2VzKGJib3gpLGQzX2dlb21fdm9yb25vaUNsb3NlQ2VsbHMoYmJveCkpO3ZhciBkaWFncmFtPXtjZWxsczpkM19nZW9tX3Zvcm9ub2lDZWxscyxlZGdlczpkM19nZW9tX3Zvcm9ub2lFZGdlc307cmV0dXJuIGQzX2dlb21fdm9yb25vaUJlYWNoZXM9ZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlcz1kM19nZW9tX3Zvcm9ub2lFZGdlcz1kM19nZW9tX3Zvcm9ub2lDZWxscz1udWxsLGRpYWdyYW19ZnVuY3Rpb24gZDNfZ2VvbV92b3Jvbm9pVmVydGV4T3JkZXIoYSxiKXtyZXR1cm4gYi55LWEueXx8Yi54LWEueH1mdW5jdGlvbiBkM19nZW9tX3Zvcm9ub2lUcmlhbmdsZUFyZWEoYSxiLGMpe3JldHVybihhLngtYy54KSooYi55LWEueSktKGEueC1iLngpKihjLnktYS55KX1mdW5jdGlvbiBkM19nZW9tX3F1YWR0cmVlQ29tcGF0WChkKXtyZXR1cm4gZC54fWZ1bmN0aW9uIGQzX2dlb21fcXVhZHRyZWVDb21wYXRZKGQpe3JldHVybiBkLnl9ZnVuY3Rpb24gZDNfZ2VvbV9xdWFkdHJlZU5vZGUoKXtyZXR1cm57bGVhZjohMCxub2RlczpbXSxwb2ludDpudWxsLHg6bnVsbCx5Om51bGx9fWZ1bmN0aW9uIGQzX2dlb21fcXVhZHRyZWVWaXNpdChmLG5vZGUseDEseTEseDIseTIpe2lmKCFmKG5vZGUseDEseTEseDIseTIpKXt2YXIgc3g9LjUqKHgxK3gyKSxzeT0uNSooeTEreTIpLGNoaWxkcmVuPW5vZGUubm9kZXM7Y2hpbGRyZW5bMF0mJmQzX2dlb21fcXVhZHRyZWVWaXNpdChmLGNoaWxkcmVuWzBdLHgxLHkxLHN4LHN5KSxjaGlsZHJlblsxXSYmZDNfZ2VvbV9xdWFkdHJlZVZpc2l0KGYsY2hpbGRyZW5bMV0sc3gseTEseDIsc3kpLGNoaWxkcmVuWzJdJiZkM19nZW9tX3F1YWR0cmVlVmlzaXQoZixjaGlsZHJlblsyXSx4MSxzeSxzeCx5MiksY2hpbGRyZW5bM10mJmQzX2dlb21fcXVhZHRyZWVWaXNpdChmLGNoaWxkcmVuWzNdLHN4LHN5LHgyLHkyKX19ZnVuY3Rpb24gZDNfZ2VvbV9xdWFkdHJlZUZpbmQocm9vdCx4LHkseDAseTAseDMseTMpe3ZhciBjbG9zZXN0UG9pbnQsbWluRGlzdGFuY2UyPTEvMDtyZXR1cm4gZnVuY3Rpb24gZmluZChub2RlLHgxLHkxLHgyLHkyKXtpZighKHgxPngzfHx5MT55M3x8eDA+eDJ8fHkwPnkyKSl7aWYocG9pbnQ9bm9kZS5wb2ludCl7dmFyIHBvaW50LGR4PXgtbm9kZS54LGR5PXktbm9kZS55LGRpc3RhbmNlMj1keCpkeCtkeSpkeTtpZihtaW5EaXN0YW5jZTI+ZGlzdGFuY2UyKXt2YXIgZGlzdGFuY2U9TWF0aC5zcXJ0KG1pbkRpc3RhbmNlMj1kaXN0YW5jZTIpO3gwPXgtZGlzdGFuY2UseTA9eS1kaXN0YW5jZSx4Mz14K2Rpc3RhbmNlLHkzPXkrZGlzdGFuY2UsY2xvc2VzdFBvaW50PXBvaW50fX1mb3IodmFyIGNoaWxkcmVuPW5vZGUubm9kZXMseG09LjUqKHgxK3gyKSx5bT0uNSooeTEreTIpLHJpZ2h0PXg+PXhtLGJlbG93PXk+PXltLGk9YmVsb3c8PDF8cmlnaHQsaj1pKzQ7aj5pOysraSlpZihub2RlPWNoaWxkcmVuWzMmaV0pc3dpdGNoKDMmaSl7Y2FzZSAwOmZpbmQobm9kZSx4MSx5MSx4bSx5bSk7YnJlYWs7Y2FzZSAxOmZpbmQobm9kZSx4bSx5MSx4Mix5bSk7YnJlYWs7Y2FzZSAyOmZpbmQobm9kZSx4MSx5bSx4bSx5Mik7YnJlYWs7Y2FzZSAzOmZpbmQobm9kZSx4bSx5bSx4Mix5Mil9fX0ocm9vdCx4MCx5MCx4Myx5MyksY2xvc2VzdFBvaW50fWZ1bmN0aW9uIGQzX2ludGVycG9sYXRlUmdiKGEsYil7YT1kMy5yZ2IoYSksYj1kMy5yZ2IoYik7dmFyIGFyPWEucixhZz1hLmcsYWI9YS5iLGJyPWIuci1hcixiZz1iLmctYWcsYmI9Yi5iLWFiO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm5cIiNcIitkM19yZ2JfaGV4KE1hdGgucm91bmQoYXIrYnIqdCkpK2QzX3JnYl9oZXgoTWF0aC5yb3VuZChhZytiZyp0KSkrZDNfcmdiX2hleChNYXRoLnJvdW5kKGFiK2JiKnQpKX19ZnVuY3Rpb24gZDNfaW50ZXJwb2xhdGVPYmplY3QoYSxiKXt2YXIgayxpPXt9LGM9e307Zm9yKGsgaW4gYSlrIGluIGI/aVtrXT1kM19pbnRlcnBvbGF0ZShhW2tdLGJba10pOmNba109YVtrXTtmb3IoayBpbiBiKWsgaW4gYXx8KGNba109YltrXSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2ZvcihrIGluIGkpY1trXT1pW2tdKHQpO3JldHVybiBjfX1mdW5jdGlvbiBkM19pbnRlcnBvbGF0ZU51bWJlcihhLGIpe3JldHVybiBhPSthLGI9K2IsZnVuY3Rpb24odCl7cmV0dXJuIGEqKDEtdCkrYip0fX1mdW5jdGlvbiBkM19pbnRlcnBvbGF0ZVN0cmluZyhhLGIpe3ZhciBhbSxibSxicyxiaT1kM19pbnRlcnBvbGF0ZV9udW1iZXJBLmxhc3RJbmRleD1kM19pbnRlcnBvbGF0ZV9udW1iZXJCLmxhc3RJbmRleD0wLGk9LTEscz1bXSxxPVtdO2ZvcihhKz1cIlwiLGIrPVwiXCI7KGFtPWQzX2ludGVycG9sYXRlX251bWJlckEuZXhlYyhhKSkmJihibT1kM19pbnRlcnBvbGF0ZV9udW1iZXJCLmV4ZWMoYikpOykoYnM9Ym0uaW5kZXgpPmJpJiYoYnM9Yi5zbGljZShiaSxicyksc1tpXT9zW2ldKz1iczpzWysraV09YnMpLChhbT1hbVswXSk9PT0oYm09Ym1bMF0pP3NbaV0/c1tpXSs9Ym06c1srK2ldPWJtOihzWysraV09bnVsbCxxLnB1c2goe2k6aSx4OmQzX2ludGVycG9sYXRlTnVtYmVyKGFtLGJtKX0pKSxiaT1kM19pbnRlcnBvbGF0ZV9udW1iZXJCLmxhc3RJbmRleDtyZXR1cm4gYmk8Yi5sZW5ndGgmJihicz1iLnNsaWNlKGJpKSxzW2ldP3NbaV0rPWJzOnNbKytpXT1icykscy5sZW5ndGg8Mj9xWzBdPyhiPXFbMF0ueCxmdW5jdGlvbih0KXtyZXR1cm4gYih0KStcIlwifSk6ZnVuY3Rpb24oKXtyZXR1cm4gYn06KGI9cS5sZW5ndGgsZnVuY3Rpb24odCl7Zm9yKHZhciBvLGk9MDtiPmk7KytpKXNbKG89cVtpXSkuaV09by54KHQpO3JldHVybiBzLmpvaW4oXCJcIil9KX1mdW5jdGlvbiBkM19pbnRlcnBvbGF0ZShhLGIpe2Zvcih2YXIgZixpPWQzLmludGVycG9sYXRvcnMubGVuZ3RoOy0taT49MCYmIShmPWQzLmludGVycG9sYXRvcnNbaV0oYSxiKSk7KTtyZXR1cm4gZn1mdW5jdGlvbiBkM19pbnRlcnBvbGF0ZUFycmF5KGEsYil7dmFyIGkseD1bXSxjPVtdLG5hPWEubGVuZ3RoLG5iPWIubGVuZ3RoLG4wPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKTtmb3IoaT0wO24wPmk7KytpKXgucHVzaChkM19pbnRlcnBvbGF0ZShhW2ldLGJbaV0pKTtmb3IoO25hPmk7KytpKWNbaV09YVtpXTtmb3IoO25iPmk7KytpKWNbaV09YltpXTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKGk9MDtuMD5pOysraSljW2ldPXhbaV0odCk7cmV0dXJuIGN9fWZ1bmN0aW9uIGQzX2Vhc2VfY2xhbXAoZil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAwPj10PzA6dD49MT8xOmYodCl9fWZ1bmN0aW9uIGQzX2Vhc2VfcmV2ZXJzZShmKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDEtZigxLXQpfX1mdW5jdGlvbiBkM19lYXNlX3JlZmxlY3QoZil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi41KiguNT50P2YoMip0KToyLWYoMi0yKnQpKX19ZnVuY3Rpb24gZDNfZWFzZV9xdWFkKHQpe3JldHVybiB0KnR9ZnVuY3Rpb24gZDNfZWFzZV9jdWJpYyh0KXtyZXR1cm4gdCp0KnR9ZnVuY3Rpb24gZDNfZWFzZV9jdWJpY0luT3V0KHQpe2lmKDA+PXQpcmV0dXJuIDA7aWYodD49MSlyZXR1cm4gMTt2YXIgdDI9dCp0LHQzPXQyKnQ7cmV0dXJuIDQqKC41PnQ/dDM6MyoodC10MikrdDMtLjc1KX1mdW5jdGlvbiBkM19lYXNlX3BvbHkoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LGUpfX1mdW5jdGlvbiBkM19lYXNlX3Npbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0KmhhbGbPgCl9ZnVuY3Rpb24gZDNfZWFzZV9leHAodCl7cmV0dXJuIE1hdGgucG93KDIsMTAqKHQtMSkpfWZ1bmN0aW9uIGQzX2Vhc2VfY2lyY2xlKHQpe3JldHVybiAxLU1hdGguc3FydCgxLXQqdCl9ZnVuY3Rpb24gZDNfZWFzZV9lbGFzdGljKGEscCl7dmFyIHM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHA9LjQ1KSxhcmd1bWVudHMubGVuZ3RoP3M9cC/PhCpNYXRoLmFzaW4oMS9hKTooYT0xLHM9cC80KSxmdW5jdGlvbih0KXtyZXR1cm4gMSthKk1hdGgucG93KDIsLTEwKnQpKk1hdGguc2luKCh0LXMpKs+EL3ApfX1mdW5jdGlvbiBkM19lYXNlX2JhY2socyl7cmV0dXJuIHN8fChzPTEuNzAxNTgpLGZ1bmN0aW9uKHQpe3JldHVybiB0KnQqKChzKzEpKnQtcyl9fWZ1bmN0aW9uIGQzX2Vhc2VfYm91bmNlKHQpe3JldHVybiAxLzIuNzU+dD83LjU2MjUqdCp0OjIvMi43NT50PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OjIuNS8yLjc1PnQ/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9ZnVuY3Rpb24gZDNfaW50ZXJwb2xhdGVIY2woYSxiKXthPWQzLmhjbChhKSxiPWQzLmhjbChiKTt2YXIgYWg9YS5oLGFjPWEuYyxhbD1hLmwsYmg9Yi5oLWFoLGJjPWIuYy1hYyxibD1iLmwtYWw7cmV0dXJuIGlzTmFOKGJjKSYmKGJjPTAsYWM9aXNOYU4oYWMpP2IuYzphYyksaXNOYU4oYmgpPyhiaD0wLGFoPWlzTmFOKGFoKT9iLmg6YWgpOmJoPjE4MD9iaC09MzYwOi0xODA+YmgmJihiaCs9MzYwKSxmdW5jdGlvbih0KXtyZXR1cm4gZDNfaGNsX2xhYihhaCtiaCp0LGFjK2JjKnQsYWwrYmwqdCkrXCJcIn19ZnVuY3Rpb24gZDNfaW50ZXJwb2xhdGVIc2woYSxiKXthPWQzLmhzbChhKSxiPWQzLmhzbChiKTt2YXIgYWg9YS5oLGFzPWEucyxhbD1hLmwsYmg9Yi5oLWFoLGJzPWIucy1hcyxibD1iLmwtYWw7cmV0dXJuIGlzTmFOKGJzKSYmKGJzPTAsYXM9aXNOYU4oYXMpP2IuczphcyksaXNOYU4oYmgpPyhiaD0wLGFoPWlzTmFOKGFoKT9iLmg6YWgpOmJoPjE4MD9iaC09MzYwOi0xODA+YmgmJihiaCs9MzYwKSxmdW5jdGlvbih0KXtyZXR1cm4gZDNfaHNsX3JnYihhaCtiaCp0LGFzK2JzKnQsYWwrYmwqdCkrXCJcIn19ZnVuY3Rpb24gZDNfaW50ZXJwb2xhdGVMYWIoYSxiKXthPWQzLmxhYihhKSxiPWQzLmxhYihiKTt2YXIgYWw9YS5sLGFhPWEuYSxhYj1hLmIsYmw9Yi5sLWFsLGJhPWIuYS1hYSxiYj1iLmItYWI7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBkM19sYWJfcmdiKGFsK2JsKnQsYWErYmEqdCxhYitiYip0KStcIlwifX1mdW5jdGlvbiBkM19pbnRlcnBvbGF0ZVJvdW5kKGEsYil7cmV0dXJuIGItPWEsZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQoYStiKnQpfX1mdW5jdGlvbiBkM190cmFuc2Zvcm0obSl7dmFyIHIwPVttLmEsbS5iXSxyMT1bbS5jLG0uZF0sa3g9ZDNfdHJhbnNmb3JtTm9ybWFsaXplKHIwKSxrej1kM190cmFuc2Zvcm1Eb3QocjAscjEpLGt5PWQzX3RyYW5zZm9ybU5vcm1hbGl6ZShkM190cmFuc2Zvcm1Db21iaW5lKHIxLHIwLC1reikpfHwwO3IwWzBdKnIxWzFdPHIxWzBdKnIwWzFdJiYocjBbMF0qPS0xLHIwWzFdKj0tMSxreCo9LTEsa3oqPS0xKSx0aGlzLnJvdGF0ZT0oa3g/TWF0aC5hdGFuMihyMFsxXSxyMFswXSk6TWF0aC5hdGFuMigtcjFbMF0scjFbMV0pKSpkM19kZWdyZWVzLHRoaXMudHJhbnNsYXRlPVttLmUsbS5mXSx0aGlzLnNjYWxlPVtreCxreV0sdGhpcy5za2V3PWt5P01hdGguYXRhbjIoa3osa3kpKmQzX2RlZ3JlZXM6MH1mdW5jdGlvbiBkM190cmFuc2Zvcm1Eb3QoYSxiKXtyZXR1cm4gYVswXSpiWzBdK2FbMV0qYlsxXX1mdW5jdGlvbiBkM190cmFuc2Zvcm1Ob3JtYWxpemUoYSl7dmFyIGs9TWF0aC5zcXJ0KGQzX3RyYW5zZm9ybURvdChhLGEpKTtyZXR1cm4gayYmKGFbMF0vPWssYVsxXS89ayksa31mdW5jdGlvbiBkM190cmFuc2Zvcm1Db21iaW5lKGEsYixrKXtyZXR1cm4gYVswXSs9aypiWzBdLGFbMV0rPWsqYlsxXSxhfWZ1bmN0aW9uIGQzX2ludGVycG9sYXRlVHJhbnNmb3JtKGEsYil7dmFyIG4scz1bXSxxPVtdLEE9ZDMudHJhbnNmb3JtKGEpLEI9ZDMudHJhbnNmb3JtKGIpLHRhPUEudHJhbnNsYXRlLHRiPUIudHJhbnNsYXRlLHJhPUEucm90YXRlLHJiPUIucm90YXRlLHdhPUEuc2tldyx3Yj1CLnNrZXcsa2E9QS5zY2FsZSxrYj1CLnNjYWxlO3JldHVybiB0YVswXSE9dGJbMF18fHRhWzFdIT10YlsxXT8ocy5wdXNoKFwidHJhbnNsYXRlKFwiLG51bGwsXCIsXCIsbnVsbCxcIilcIikscS5wdXNoKHtpOjEseDpkM19pbnRlcnBvbGF0ZU51bWJlcih0YVswXSx0YlswXSl9LHtpOjMseDpkM19pbnRlcnBvbGF0ZU51bWJlcih0YVsxXSx0YlsxXSl9KSk6dGJbMF18fHRiWzFdP3MucHVzaChcInRyYW5zbGF0ZShcIit0YitcIilcIik6cy5wdXNoKFwiXCIpLHJhIT1yYj8ocmEtcmI+MTgwP3JiKz0zNjA6cmItcmE+MTgwJiYocmErPTM2MCkscS5wdXNoKHtpOnMucHVzaChzLnBvcCgpK1wicm90YXRlKFwiLG51bGwsXCIpXCIpLTIseDpkM19pbnRlcnBvbGF0ZU51bWJlcihyYSxyYil9KSk6cmImJnMucHVzaChzLnBvcCgpK1wicm90YXRlKFwiK3JiK1wiKVwiKSx3YSE9d2I/cS5wdXNoKHtpOnMucHVzaChzLnBvcCgpK1wic2tld1goXCIsbnVsbCxcIilcIiktMix4OmQzX2ludGVycG9sYXRlTnVtYmVyKHdhLHdiKX0pOndiJiZzLnB1c2gocy5wb3AoKStcInNrZXdYKFwiK3diK1wiKVwiKSxrYVswXSE9a2JbMF18fGthWzFdIT1rYlsxXT8obj1zLnB1c2gocy5wb3AoKStcInNjYWxlKFwiLG51bGwsXCIsXCIsbnVsbCxcIilcIikscS5wdXNoKHtpOm4tNCx4OmQzX2ludGVycG9sYXRlTnVtYmVyKGthWzBdLGtiWzBdKX0se2k6bi0yLHg6ZDNfaW50ZXJwb2xhdGVOdW1iZXIoa2FbMV0sa2JbMV0pfSkpOigxIT1rYlswXXx8MSE9a2JbMV0pJiZzLnB1c2gocy5wb3AoKStcInNjYWxlKFwiK2tiK1wiKVwiKSxuPXEubGVuZ3RoLGZ1bmN0aW9uKHQpe2Zvcih2YXIgbyxpPS0xOysraTxuOylzWyhvPXFbaV0pLmldPW8ueCh0KTtyZXR1cm4gcy5qb2luKFwiXCIpfX1mdW5jdGlvbiBkM191bmludGVycG9sYXRlTnVtYmVyKGEsYil7cmV0dXJuIGI9KGItPWE9K2EpfHwxL2IsZnVuY3Rpb24oeCl7cmV0dXJuKHgtYSkvYn19ZnVuY3Rpb24gZDNfdW5pbnRlcnBvbGF0ZUNsYW1wKGEsYil7cmV0dXJuIGI9KGItPWE9K2EpfHwxL2IsZnVuY3Rpb24oeCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoeC1hKS9iKSl9fWZ1bmN0aW9uIGQzX2xheW91dF9idW5kbGVQYXRoKGxpbmspe2Zvcih2YXIgc3RhcnQ9bGluay5zb3VyY2UsZW5kPWxpbmsudGFyZ2V0LGxjYT1kM19sYXlvdXRfYnVuZGxlTGVhc3RDb21tb25BbmNlc3RvcihzdGFydCxlbmQpLHBvaW50cz1bc3RhcnRdO3N0YXJ0IT09bGNhOylzdGFydD1zdGFydC5wYXJlbnQscG9pbnRzLnB1c2goc3RhcnQpO2Zvcih2YXIgaz1wb2ludHMubGVuZ3RoO2VuZCE9PWxjYTspcG9pbnRzLnNwbGljZShrLDAsZW5kKSxlbmQ9ZW5kLnBhcmVudDtyZXR1cm4gcG9pbnRzfWZ1bmN0aW9uIGQzX2xheW91dF9idW5kbGVBbmNlc3RvcnMobm9kZSl7Zm9yKHZhciBhbmNlc3RvcnM9W10scGFyZW50PW5vZGUucGFyZW50O251bGwhPXBhcmVudDspYW5jZXN0b3JzLnB1c2gobm9kZSksbm9kZT1wYXJlbnQscGFyZW50PXBhcmVudC5wYXJlbnQ7cmV0dXJuIGFuY2VzdG9ycy5wdXNoKG5vZGUpLGFuY2VzdG9yc31mdW5jdGlvbiBkM19sYXlvdXRfYnVuZGxlTGVhc3RDb21tb25BbmNlc3RvcihhLGIpe2lmKGE9PT1iKXJldHVybiBhO2Zvcih2YXIgYU5vZGVzPWQzX2xheW91dF9idW5kbGVBbmNlc3RvcnMoYSksYk5vZGVzPWQzX2xheW91dF9idW5kbGVBbmNlc3RvcnMoYiksYU5vZGU9YU5vZGVzLnBvcCgpLGJOb2RlPWJOb2Rlcy5wb3AoKSxzaGFyZWROb2RlPW51bGw7YU5vZGU9PT1iTm9kZTspc2hhcmVkTm9kZT1hTm9kZSxhTm9kZT1hTm9kZXMucG9wKCksYk5vZGU9Yk5vZGVzLnBvcCgpO3JldHVybiBzaGFyZWROb2RlfWZ1bmN0aW9uIGQzX2xheW91dF9mb3JjZURyYWdzdGFydChkKXtkLmZpeGVkfD0yfWZ1bmN0aW9uIGQzX2xheW91dF9mb3JjZURyYWdlbmQoZCl7ZC5maXhlZCY9LTd9ZnVuY3Rpb24gZDNfbGF5b3V0X2ZvcmNlTW91c2VvdmVyKGQpe2QuZml4ZWR8PTQsZC5weD1kLngsZC5weT1kLnl9ZnVuY3Rpb24gZDNfbGF5b3V0X2ZvcmNlTW91c2VvdXQoZCl7ZC5maXhlZCY9LTV9ZnVuY3Rpb24gZDNfbGF5b3V0X2ZvcmNlQWNjdW11bGF0ZShxdWFkLGFscGhhLGNoYXJnZXMpe3ZhciBjeD0wLGN5PTA7aWYocXVhZC5jaGFyZ2U9MCwhcXVhZC5sZWFmKWZvcih2YXIgYyxub2Rlcz1xdWFkLm5vZGVzLG49bm9kZXMubGVuZ3RoLGk9LTE7KytpPG47KWM9bm9kZXNbaV0sbnVsbCE9YyYmKGQzX2xheW91dF9mb3JjZUFjY3VtdWxhdGUoYyxhbHBoYSxjaGFyZ2VzKSxxdWFkLmNoYXJnZSs9Yy5jaGFyZ2UsY3grPWMuY2hhcmdlKmMuY3gsY3krPWMuY2hhcmdlKmMuY3kpO2lmKHF1YWQucG9pbnQpe3F1YWQubGVhZnx8KHF1YWQucG9pbnQueCs9TWF0aC5yYW5kb20oKS0uNSxxdWFkLnBvaW50LnkrPU1hdGgucmFuZG9tKCktLjUpO3ZhciBrPWFscGhhKmNoYXJnZXNbcXVhZC5wb2ludC5pbmRleF07cXVhZC5jaGFyZ2UrPXF1YWQucG9pbnRDaGFyZ2U9ayxjeCs9aypxdWFkLnBvaW50LngsY3krPWsqcXVhZC5wb2ludC55fXF1YWQuY3g9Y3gvcXVhZC5jaGFyZ2UscXVhZC5jeT1jeS9xdWFkLmNoYXJnZX1mdW5jdGlvbiBkM19sYXlvdXRfaGllcmFyY2h5UmViaW5kKG9iamVjdCxoaWVyYXJjaHkpe3JldHVybiBkMy5yZWJpbmQob2JqZWN0LGhpZXJhcmNoeSxcInNvcnRcIixcImNoaWxkcmVuXCIsXCJ2YWx1ZVwiKSxvYmplY3Qubm9kZXM9b2JqZWN0LG9iamVjdC5saW5rcz1kM19sYXlvdXRfaGllcmFyY2h5TGlua3Msb2JqZWN0fWZ1bmN0aW9uIGQzX2xheW91dF9oaWVyYXJjaHlWaXNpdEJlZm9yZShub2RlLGNhbGxiYWNrKXtmb3IodmFyIG5vZGVzPVtub2RlXTtudWxsIT0obm9kZT1ub2Rlcy5wb3AoKSk7KWlmKGNhbGxiYWNrKG5vZGUpLChjaGlsZHJlbj1ub2RlLmNoaWxkcmVuKSYmKG49Y2hpbGRyZW4ubGVuZ3RoKSlmb3IodmFyIG4sY2hpbGRyZW47LS1uPj0wOylub2Rlcy5wdXNoKGNoaWxkcmVuW25dKX1mdW5jdGlvbiBkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRBZnRlcihub2RlLGNhbGxiYWNrKXtmb3IodmFyIG5vZGVzPVtub2RlXSxub2RlczI9W107bnVsbCE9KG5vZGU9bm9kZXMucG9wKCkpOylpZihub2RlczIucHVzaChub2RlKSwoY2hpbGRyZW49bm9kZS5jaGlsZHJlbikmJihuPWNoaWxkcmVuLmxlbmd0aCkpZm9yKHZhciBuLGNoaWxkcmVuLGk9LTE7KytpPG47KW5vZGVzLnB1c2goY2hpbGRyZW5baV0pO2Zvcig7bnVsbCE9KG5vZGU9bm9kZXMyLnBvcCgpKTspY2FsbGJhY2sobm9kZSl9ZnVuY3Rpb24gZDNfbGF5b3V0X2hpZXJhcmNoeUNoaWxkcmVuKGQpe3JldHVybiBkLmNoaWxkcmVufWZ1bmN0aW9uIGQzX2xheW91dF9oaWVyYXJjaHlWYWx1ZShkKXtyZXR1cm4gZC52YWx1ZX1mdW5jdGlvbiBkM19sYXlvdXRfaGllcmFyY2h5U29ydChhLGIpe3JldHVybiBiLnZhbHVlLWEudmFsdWV9ZnVuY3Rpb24gZDNfbGF5b3V0X2hpZXJhcmNoeUxpbmtzKG5vZGVzKXtyZXR1cm4gZDMubWVyZ2Uobm9kZXMubWFwKGZ1bmN0aW9uKHBhcmVudCl7cmV0dXJuKHBhcmVudC5jaGlsZHJlbnx8W10pLm1hcChmdW5jdGlvbihjaGlsZCl7cmV0dXJue3NvdXJjZTpwYXJlbnQsdGFyZ2V0OmNoaWxkfX0pfSkpfWZ1bmN0aW9uIGQzX2xheW91dF9zdGFja1goZCl7cmV0dXJuIGQueH1mdW5jdGlvbiBkM19sYXlvdXRfc3RhY2tZKGQpe3JldHVybiBkLnl9ZnVuY3Rpb24gZDNfbGF5b3V0X3N0YWNrT3V0KGQseTAseSl7ZC55MD15MCxkLnk9eX1mdW5jdGlvbiBkM19sYXlvdXRfc3RhY2tPcmRlckRlZmF1bHQoZGF0YSl7cmV0dXJuIGQzLnJhbmdlKGRhdGEubGVuZ3RoKX1mdW5jdGlvbiBkM19sYXlvdXRfc3RhY2tPZmZzZXRaZXJvKGRhdGEpe2Zvcih2YXIgaj0tMSxtPWRhdGFbMF0ubGVuZ3RoLHkwPVtdOysrajxtOyl5MFtqXT0wO3JldHVybiB5MH1mdW5jdGlvbiBkM19sYXlvdXRfc3RhY2tNYXhJbmRleChhcnJheSl7Zm9yKHZhciBrLGk9MSxqPTAsdj1hcnJheVswXVsxXSxuPWFycmF5Lmxlbmd0aDtuPmk7KytpKShrPWFycmF5W2ldWzFdKT52JiYoaj1pLHY9ayk7cmV0dXJuIGp9ZnVuY3Rpb24gZDNfbGF5b3V0X3N0YWNrUmVkdWNlU3VtKGQpe3JldHVybiBkLnJlZHVjZShkM19sYXlvdXRfc3RhY2tTdW0sMCl9ZnVuY3Rpb24gZDNfbGF5b3V0X3N0YWNrU3VtKHAsZCl7cmV0dXJuIHArZFsxXX1mdW5jdGlvbiBkM19sYXlvdXRfaGlzdG9ncmFtQmluU3R1cmdlcyhyYW5nZSx2YWx1ZXMpe3JldHVybiBkM19sYXlvdXRfaGlzdG9ncmFtQmluRml4ZWQocmFuZ2UsTWF0aC5jZWlsKE1hdGgubG9nKHZhbHVlcy5sZW5ndGgpL01hdGguTE4yKzEpKX1mdW5jdGlvbiBkM19sYXlvdXRfaGlzdG9ncmFtQmluRml4ZWQocmFuZ2Usbil7Zm9yKHZhciB4PS0xLGI9K3JhbmdlWzBdLG09KHJhbmdlWzFdLWIpL24sZj1bXTsrK3g8PW47KWZbeF09bSp4K2I7cmV0dXJuIGZ9ZnVuY3Rpb24gZDNfbGF5b3V0X2hpc3RvZ3JhbVJhbmdlKHZhbHVlcyl7cmV0dXJuW2QzLm1pbih2YWx1ZXMpLGQzLm1heCh2YWx1ZXMpXX1mdW5jdGlvbiBkM19sYXlvdXRfcGFja1NvcnQoYSxiKXtyZXR1cm4gYS52YWx1ZS1iLnZhbHVlfWZ1bmN0aW9uIGQzX2xheW91dF9wYWNrSW5zZXJ0KGEsYil7dmFyIGM9YS5fcGFja19uZXh0O2EuX3BhY2tfbmV4dD1iLGIuX3BhY2tfcHJldj1hLGIuX3BhY2tfbmV4dD1jLGMuX3BhY2tfcHJldj1ifWZ1bmN0aW9uIGQzX2xheW91dF9wYWNrU3BsaWNlKGEsYil7YS5fcGFja19uZXh0PWIsYi5fcGFja19wcmV2PWF9ZnVuY3Rpb24gZDNfbGF5b3V0X3BhY2tJbnRlcnNlY3RzKGEsYil7dmFyIGR4PWIueC1hLngsZHk9Yi55LWEueSxkcj1hLnIrYi5yO3JldHVybi45OTkqZHIqZHI+ZHgqZHgrZHkqZHl9ZnVuY3Rpb24gZDNfbGF5b3V0X3BhY2tTaWJsaW5ncyhub2RlKXtmdW5jdGlvbiBib3VuZChub2RlKXt4TWluPU1hdGgubWluKG5vZGUueC1ub2RlLnIseE1pbikseE1heD1NYXRoLm1heChub2RlLngrbm9kZS5yLHhNYXgpLHlNaW49TWF0aC5taW4obm9kZS55LW5vZGUucix5TWluKSx5TWF4PU1hdGgubWF4KG5vZGUueStub2RlLnIseU1heCl9aWYoKG5vZGVzPW5vZGUuY2hpbGRyZW4pJiYobj1ub2Rlcy5sZW5ndGgpKXt2YXIgbm9kZXMsYSxiLGMsaSxqLGssbix4TWluPTEvMCx4TWF4PS0oMS8wKSx5TWluPTEvMCx5TWF4PS0oMS8wKTtpZihub2Rlcy5mb3JFYWNoKGQzX2xheW91dF9wYWNrTGluayksYT1ub2Rlc1swXSxhLng9LWEucixhLnk9MCxib3VuZChhKSxuPjEmJihiPW5vZGVzWzFdLGIueD1iLnIsYi55PTAsYm91bmQoYiksbj4yKSlmb3IoYz1ub2Rlc1syXSxkM19sYXlvdXRfcGFja1BsYWNlKGEsYixjKSxib3VuZChjKSxkM19sYXlvdXRfcGFja0luc2VydChhLGMpLGEuX3BhY2tfcHJldj1jLGQzX2xheW91dF9wYWNrSW5zZXJ0KGMsYiksYj1hLl9wYWNrX25leHQsaT0zO24+aTtpKyspe2QzX2xheW91dF9wYWNrUGxhY2UoYSxiLGM9bm9kZXNbaV0pO3ZhciBpc2VjdD0wLHMxPTEsczI9MTtmb3Ioaj1iLl9wYWNrX25leHQ7aiE9PWI7aj1qLl9wYWNrX25leHQsczErKylpZihkM19sYXlvdXRfcGFja0ludGVyc2VjdHMoaixjKSl7aXNlY3Q9MTticmVha31pZigxPT1pc2VjdClmb3Ioaz1hLl9wYWNrX3ByZXY7ayE9PWouX3BhY2tfcHJldiYmIWQzX2xheW91dF9wYWNrSW50ZXJzZWN0cyhrLGMpO2s9ay5fcGFja19wcmV2LHMyKyspO2lzZWN0PyhzMj5zMXx8czE9PXMyJiZiLnI8YS5yP2QzX2xheW91dF9wYWNrU3BsaWNlKGEsYj1qKTpkM19sYXlvdXRfcGFja1NwbGljZShhPWssYiksaS0tKTooZDNfbGF5b3V0X3BhY2tJbnNlcnQoYSxjKSxiPWMsYm91bmQoYykpfXZhciBjeD0oeE1pbit4TWF4KS8yLGN5PSh5TWluK3lNYXgpLzIsY3I9MDtmb3IoaT0wO24+aTtpKyspYz1ub2Rlc1tpXSxjLngtPWN4LGMueS09Y3ksY3I9TWF0aC5tYXgoY3IsYy5yK01hdGguc3FydChjLngqYy54K2MueSpjLnkpKTtub2RlLnI9Y3Isbm9kZXMuZm9yRWFjaChkM19sYXlvdXRfcGFja1VubGluayl9fWZ1bmN0aW9uIGQzX2xheW91dF9wYWNrTGluayhub2RlKXtub2RlLl9wYWNrX25leHQ9bm9kZS5fcGFja19wcmV2PW5vZGV9ZnVuY3Rpb24gZDNfbGF5b3V0X3BhY2tVbmxpbmsobm9kZSl7ZGVsZXRlIG5vZGUuX3BhY2tfbmV4dCxkZWxldGUgbm9kZS5fcGFja19wcmV2fWZ1bmN0aW9uIGQzX2xheW91dF9wYWNrVHJhbnNmb3JtKG5vZGUseCx5LGspe3ZhciBjaGlsZHJlbj1ub2RlLmNoaWxkcmVuO2lmKG5vZGUueD14Kz1rKm5vZGUueCxub2RlLnk9eSs9aypub2RlLnksbm9kZS5yKj1rLGNoaWxkcmVuKWZvcih2YXIgaT0tMSxuPWNoaWxkcmVuLmxlbmd0aDsrK2k8bjspZDNfbGF5b3V0X3BhY2tUcmFuc2Zvcm0oY2hpbGRyZW5baV0seCx5LGspfWZ1bmN0aW9uIGQzX2xheW91dF9wYWNrUGxhY2UoYSxiLGMpe3ZhciBkYj1hLnIrYy5yLGR4PWIueC1hLngsZHk9Yi55LWEueTtpZihkYiYmKGR4fHxkeSkpe3ZhciBkYT1iLnIrYy5yLGRjPWR4KmR4K2R5KmR5O2RhKj1kYSxkYio9ZGI7dmFyIHg9LjUrKGRiLWRhKS8oMipkYykseT1NYXRoLnNxcnQoTWF0aC5tYXgoMCwyKmRhKihkYitkYyktKGRiLT1kYykqZGItZGEqZGEpKS8oMipkYyk7Yy54PWEueCt4KmR4K3kqZHksYy55PWEueSt4KmR5LXkqZHh9ZWxzZSBjLng9YS54K2RiLGMueT1hLnl9ZnVuY3Rpb24gZDNfbGF5b3V0X3RyZWVTZXBhcmF0aW9uKGEsYil7cmV0dXJuIGEucGFyZW50PT1iLnBhcmVudD8xOjJ9ZnVuY3Rpb24gZDNfbGF5b3V0X3RyZWVMZWZ0KHYpe3ZhciBjaGlsZHJlbj12LmNoaWxkcmVuO3JldHVybiBjaGlsZHJlbi5sZW5ndGg/Y2hpbGRyZW5bMF06di50fWZ1bmN0aW9uIGQzX2xheW91dF90cmVlUmlnaHQodil7dmFyIG4sY2hpbGRyZW49di5jaGlsZHJlbjtyZXR1cm4obj1jaGlsZHJlbi5sZW5ndGgpP2NoaWxkcmVuW24tMV06di50fWZ1bmN0aW9uIGQzX2xheW91dF90cmVlTW92ZSh3bSx3cCxzaGlmdCl7dmFyIGNoYW5nZT1zaGlmdC8od3AuaS13bS5pKTt3cC5jLT1jaGFuZ2Usd3Aucys9c2hpZnQsd20uYys9Y2hhbmdlLHdwLnorPXNoaWZ0LHdwLm0rPXNoaWZ0fWZ1bmN0aW9uIGQzX2xheW91dF90cmVlU2hpZnQodil7Zm9yKHZhciB3LHNoaWZ0PTAsY2hhbmdlPTAsY2hpbGRyZW49di5jaGlsZHJlbixpPWNoaWxkcmVuLmxlbmd0aDstLWk+PTA7KXc9Y2hpbGRyZW5baV0sdy56Kz1zaGlmdCx3Lm0rPXNoaWZ0LHNoaWZ0Kz13LnMrKGNoYW5nZSs9dy5jKX1mdW5jdGlvbiBkM19sYXlvdXRfdHJlZUFuY2VzdG9yKHZpbSx2LGFuY2VzdG9yKXtyZXR1cm4gdmltLmEucGFyZW50PT09di5wYXJlbnQ/dmltLmE6YW5jZXN0b3J9ZnVuY3Rpb24gZDNfbGF5b3V0X2NsdXN0ZXJZKGNoaWxkcmVuKXtyZXR1cm4gMStkMy5tYXgoY2hpbGRyZW4sZnVuY3Rpb24oY2hpbGQpe3JldHVybiBjaGlsZC55fSl9ZnVuY3Rpb24gZDNfbGF5b3V0X2NsdXN0ZXJYKGNoaWxkcmVuKXtyZXR1cm4gY2hpbGRyZW4ucmVkdWNlKGZ1bmN0aW9uKHgsY2hpbGQpe3JldHVybiB4K2NoaWxkLnh9LDApL2NoaWxkcmVuLmxlbmd0aH1mdW5jdGlvbiBkM19sYXlvdXRfY2x1c3RlckxlZnQobm9kZSl7dmFyIGNoaWxkcmVuPW5vZGUuY2hpbGRyZW47cmV0dXJuIGNoaWxkcmVuJiZjaGlsZHJlbi5sZW5ndGg/ZDNfbGF5b3V0X2NsdXN0ZXJMZWZ0KGNoaWxkcmVuWzBdKTpub2RlfWZ1bmN0aW9uIGQzX2xheW91dF9jbHVzdGVyUmlnaHQobm9kZSl7dmFyIG4sY2hpbGRyZW49bm9kZS5jaGlsZHJlbjtyZXR1cm4gY2hpbGRyZW4mJihuPWNoaWxkcmVuLmxlbmd0aCk/ZDNfbGF5b3V0X2NsdXN0ZXJSaWdodChjaGlsZHJlbltuLTFdKTpub2RlfWZ1bmN0aW9uIGQzX2xheW91dF90cmVlbWFwUGFkTnVsbChub2RlKXtyZXR1cm57eDpub2RlLngseTpub2RlLnksZHg6bm9kZS5keCxkeTpub2RlLmR5fX1mdW5jdGlvbiBkM19sYXlvdXRfdHJlZW1hcFBhZChub2RlLHBhZGRpbmcpe3ZhciB4PW5vZGUueCtwYWRkaW5nWzNdLHk9bm9kZS55K3BhZGRpbmdbMF0sZHg9bm9kZS5keC1wYWRkaW5nWzFdLXBhZGRpbmdbM10sZHk9bm9kZS5keS1wYWRkaW5nWzBdLXBhZGRpbmdbMl07cmV0dXJuIDA+ZHgmJih4Kz1keC8yLGR4PTApLDA+ZHkmJih5Kz1keS8yLGR5PTApLHt4OngseTp5LGR4OmR4LGR5OmR5fX1mdW5jdGlvbiBkM19zY2FsZUV4dGVudChkb21haW4pe3ZhciBzdGFydD1kb21haW5bMF0sc3RvcD1kb21haW5bZG9tYWluLmxlbmd0aC0xXTtyZXR1cm4gc3RvcD5zdGFydD9bc3RhcnQsc3RvcF06W3N0b3Asc3RhcnRdfWZ1bmN0aW9uIGQzX3NjYWxlUmFuZ2Uoc2NhbGUpe3JldHVybiBzY2FsZS5yYW5nZUV4dGVudD9zY2FsZS5yYW5nZUV4dGVudCgpOmQzX3NjYWxlRXh0ZW50KHNjYWxlLnJhbmdlKCkpfWZ1bmN0aW9uIGQzX3NjYWxlX2JpbGluZWFyKGRvbWFpbixyYW5nZSx1bmludGVycG9sYXRlLGludGVycG9sYXRlKXt2YXIgdT11bmludGVycG9sYXRlKGRvbWFpblswXSxkb21haW5bMV0pLGk9aW50ZXJwb2xhdGUocmFuZ2VbMF0scmFuZ2VbMV0pO3JldHVybiBmdW5jdGlvbih4KXtyZXR1cm4gaSh1KHgpKX19ZnVuY3Rpb24gZDNfc2NhbGVfbmljZShkb21haW4sbmljZSl7dmFyIGR4LGkwPTAsaTE9ZG9tYWluLmxlbmd0aC0xLHgwPWRvbWFpbltpMF0seDE9ZG9tYWluW2kxXTtyZXR1cm4geDA+eDEmJihkeD1pMCxpMD1pMSxpMT1keCxkeD14MCx4MD14MSx4MT1keCksZG9tYWluW2kwXT1uaWNlLmZsb29yKHgwKSxkb21haW5baTFdPW5pY2UuY2VpbCh4MSksZG9tYWlufWZ1bmN0aW9uIGQzX3NjYWxlX25pY2VTdGVwKHN0ZXApe3JldHVybiBzdGVwP3tmbG9vcjpmdW5jdGlvbih4KXtyZXR1cm4gTWF0aC5mbG9vcih4L3N0ZXApKnN0ZXB9LGNlaWw6ZnVuY3Rpb24oeCl7cmV0dXJuIE1hdGguY2VpbCh4L3N0ZXApKnN0ZXB9fTpkM19zY2FsZV9uaWNlSWRlbnRpdHl9ZnVuY3Rpb24gZDNfc2NhbGVfcG9seWxpbmVhcihkb21haW4scmFuZ2UsdW5pbnRlcnBvbGF0ZSxpbnRlcnBvbGF0ZSl7dmFyIHU9W10saT1bXSxqPTAsaz1NYXRoLm1pbihkb21haW4ubGVuZ3RoLHJhbmdlLmxlbmd0aCktMTtmb3IoZG9tYWluW2tdPGRvbWFpblswXSYmKGRvbWFpbj1kb21haW4uc2xpY2UoKS5yZXZlcnNlKCkscmFuZ2U9cmFuZ2Uuc2xpY2UoKS5yZXZlcnNlKCkpOysrajw9azspdS5wdXNoKHVuaW50ZXJwb2xhdGUoZG9tYWluW2otMV0sZG9tYWluW2pdKSksaS5wdXNoKGludGVycG9sYXRlKHJhbmdlW2otMV0scmFuZ2Vbal0pKTtyZXR1cm4gZnVuY3Rpb24oeCl7dmFyIGo9ZDMuYmlzZWN0KGRvbWFpbix4LDEsayktMTtyZXR1cm4gaVtqXSh1W2pdKHgpKX19ZnVuY3Rpb24gZDNfc2NhbGVfbGluZWFyKGRvbWFpbixyYW5nZSxpbnRlcnBvbGF0ZSxjbGFtcCl7ZnVuY3Rpb24gcmVzY2FsZSgpe3ZhciBsaW5lYXI9TWF0aC5taW4oZG9tYWluLmxlbmd0aCxyYW5nZS5sZW5ndGgpPjI/ZDNfc2NhbGVfcG9seWxpbmVhcjpkM19zY2FsZV9iaWxpbmVhcix1bmludGVycG9sYXRlPWNsYW1wP2QzX3VuaW50ZXJwb2xhdGVDbGFtcDpkM191bmludGVycG9sYXRlTnVtYmVyO3JldHVybiBvdXRwdXQ9bGluZWFyKGRvbWFpbixyYW5nZSx1bmludGVycG9sYXRlLGludGVycG9sYXRlKSxpbnB1dD1saW5lYXIocmFuZ2UsZG9tYWluLHVuaW50ZXJwb2xhdGUsZDNfaW50ZXJwb2xhdGUpLHNjYWxlfWZ1bmN0aW9uIHNjYWxlKHgpe3JldHVybiBvdXRwdXQoeCl9dmFyIG91dHB1dCxpbnB1dDtyZXR1cm4gc2NhbGUuaW52ZXJ0PWZ1bmN0aW9uKHkpe3JldHVybiBpbnB1dCh5KX0sc2NhbGUuZG9tYWluPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkb21haW49eC5tYXAoTnVtYmVyKSxyZXNjYWxlKCkpOmRvbWFpbn0sc2NhbGUucmFuZ2U9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHJhbmdlPXgscmVzY2FsZSgpKTpyYW5nZX0sc2NhbGUucmFuZ2VSb3VuZD1mdW5jdGlvbih4KXtyZXR1cm4gc2NhbGUucmFuZ2UoeCkuaW50ZXJwb2xhdGUoZDNfaW50ZXJwb2xhdGVSb3VuZCl9LHNjYWxlLmNsYW1wPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjbGFtcD14LHJlc2NhbGUoKSk6Y2xhbXB9LHNjYWxlLmludGVycG9sYXRlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpbnRlcnBvbGF0ZT14LHJlc2NhbGUoKSk6aW50ZXJwb2xhdGV9LHNjYWxlLnRpY2tzPWZ1bmN0aW9uKG0pe3JldHVybiBkM19zY2FsZV9saW5lYXJUaWNrcyhkb21haW4sbSl9LHNjYWxlLnRpY2tGb3JtYXQ9ZnVuY3Rpb24obSxmb3JtYXQpe3JldHVybiBkM19zY2FsZV9saW5lYXJUaWNrRm9ybWF0KGRvbWFpbixtLGZvcm1hdCl9LHNjYWxlLm5pY2U9ZnVuY3Rpb24obSl7cmV0dXJuIGQzX3NjYWxlX2xpbmVhck5pY2UoZG9tYWluLG0pLHJlc2NhbGUoKX0sc2NhbGUuY29weT1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9saW5lYXIoZG9tYWluLHJhbmdlLGludGVycG9sYXRlLGNsYW1wKX0scmVzY2FsZSgpfWZ1bmN0aW9uIGQzX3NjYWxlX2xpbmVhclJlYmluZChzY2FsZSxsaW5lYXIpe3JldHVybiBkMy5yZWJpbmQoc2NhbGUsbGluZWFyLFwicmFuZ2VcIixcInJhbmdlUm91bmRcIixcImludGVycG9sYXRlXCIsXCJjbGFtcFwiKX1mdW5jdGlvbiBkM19zY2FsZV9saW5lYXJOaWNlKGRvbWFpbixtKXtyZXR1cm4gZDNfc2NhbGVfbmljZShkb21haW4sZDNfc2NhbGVfbmljZVN0ZXAoZDNfc2NhbGVfbGluZWFyVGlja1JhbmdlKGRvbWFpbixtKVsyXSkpfWZ1bmN0aW9uIGQzX3NjYWxlX2xpbmVhclRpY2tSYW5nZShkb21haW4sbSl7bnVsbD09bSYmKG09MTApO3ZhciBleHRlbnQ9ZDNfc2NhbGVFeHRlbnQoZG9tYWluKSxzcGFuPWV4dGVudFsxXS1leHRlbnRbMF0sc3RlcD1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHNwYW4vbSkvTWF0aC5MTjEwKSksZXJyPW0vc3BhbipzdGVwO3JldHVybi4xNT49ZXJyP3N0ZXAqPTEwOi4zNT49ZXJyP3N0ZXAqPTU6Ljc1Pj1lcnImJihzdGVwKj0yKSxleHRlbnRbMF09TWF0aC5jZWlsKGV4dGVudFswXS9zdGVwKSpzdGVwLGV4dGVudFsxXT1NYXRoLmZsb29yKGV4dGVudFsxXS9zdGVwKSpzdGVwKy41KnN0ZXAsZXh0ZW50WzJdPXN0ZXAsZXh0ZW50fWZ1bmN0aW9uIGQzX3NjYWxlX2xpbmVhclRpY2tzKGRvbWFpbixtKXtyZXR1cm4gZDMucmFuZ2UuYXBwbHkoZDMsZDNfc2NhbGVfbGluZWFyVGlja1JhbmdlKGRvbWFpbixtKSl9ZnVuY3Rpb24gZDNfc2NhbGVfbGluZWFyVGlja0Zvcm1hdChkb21haW4sbSxmb3JtYXQpe3ZhciByYW5nZT1kM19zY2FsZV9saW5lYXJUaWNrUmFuZ2UoZG9tYWluLG0pO2lmKGZvcm1hdCl7dmFyIG1hdGNoPWQzX2Zvcm1hdF9yZS5leGVjKGZvcm1hdCk7aWYobWF0Y2guc2hpZnQoKSxcInNcIj09PW1hdGNoWzhdKXt2YXIgcHJlZml4PWQzLmZvcm1hdFByZWZpeChNYXRoLm1heChhYnMocmFuZ2VbMF0pLGFicyhyYW5nZVsxXSkpKTtyZXR1cm4gbWF0Y2hbN118fChtYXRjaFs3XT1cIi5cIitkM19zY2FsZV9saW5lYXJQcmVjaXNpb24ocHJlZml4LnNjYWxlKHJhbmdlWzJdKSkpLG1hdGNoWzhdPVwiZlwiLGZvcm1hdD1kMy5mb3JtYXQobWF0Y2guam9pbihcIlwiKSksZnVuY3Rpb24oZCl7cmV0dXJuIGZvcm1hdChwcmVmaXguc2NhbGUoZCkpK3ByZWZpeC5zeW1ib2x9fW1hdGNoWzddfHwobWF0Y2hbN109XCIuXCIrZDNfc2NhbGVfbGluZWFyRm9ybWF0UHJlY2lzaW9uKG1hdGNoWzhdLHJhbmdlKSksZm9ybWF0PW1hdGNoLmpvaW4oXCJcIil9ZWxzZSBmb3JtYXQ9XCIsLlwiK2QzX3NjYWxlX2xpbmVhclByZWNpc2lvbihyYW5nZVsyXSkrXCJmXCI7cmV0dXJuIGQzLmZvcm1hdChmb3JtYXQpfWZ1bmN0aW9uIGQzX3NjYWxlX2xpbmVhclByZWNpc2lvbih2YWx1ZSl7cmV0dXJuLU1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpL01hdGguTE4xMCsuMDEpfWZ1bmN0aW9uIGQzX3NjYWxlX2xpbmVhckZvcm1hdFByZWNpc2lvbih0eXBlLHJhbmdlKXt2YXIgcD1kM19zY2FsZV9saW5lYXJQcmVjaXNpb24ocmFuZ2VbMl0pO3JldHVybiB0eXBlIGluIGQzX3NjYWxlX2xpbmVhckZvcm1hdFNpZ25pZmljYW50P01hdGguYWJzKHAtZDNfc2NhbGVfbGluZWFyUHJlY2lzaW9uKE1hdGgubWF4KGFicyhyYW5nZVswXSksYWJzKHJhbmdlWzFdKSkpKSsgKyhcImVcIiE9PXR5cGUpOnAtMiooXCIlXCI9PT10eXBlKX1mdW5jdGlvbiBkM19zY2FsZV9sb2cobGluZWFyLGJhc2UscG9zaXRpdmUsZG9tYWluKXtmdW5jdGlvbiBsb2coeCl7cmV0dXJuKHBvc2l0aXZlP01hdGgubG9nKDA+eD8wOngpOi1NYXRoLmxvZyh4PjA/MDoteCkpL01hdGgubG9nKGJhc2UpfWZ1bmN0aW9uIHBvdyh4KXtyZXR1cm4gcG9zaXRpdmU/TWF0aC5wb3coYmFzZSx4KTotTWF0aC5wb3coYmFzZSwteCl9ZnVuY3Rpb24gc2NhbGUoeCl7cmV0dXJuIGxpbmVhcihsb2coeCkpfXJldHVybiBzY2FsZS5pbnZlcnQ9ZnVuY3Rpb24oeCl7cmV0dXJuIHBvdyhsaW5lYXIuaW52ZXJ0KHgpKX0sc2NhbGUuZG9tYWluPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwb3NpdGl2ZT14WzBdPj0wLGxpbmVhci5kb21haW4oKGRvbWFpbj14Lm1hcChOdW1iZXIpKS5tYXAobG9nKSksc2NhbGUpOmRvbWFpbn0sc2NhbGUuYmFzZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYmFzZT0rXyxsaW5lYXIuZG9tYWluKGRvbWFpbi5tYXAobG9nKSksc2NhbGUpOmJhc2V9LHNjYWxlLm5pY2U9ZnVuY3Rpb24oKXt2YXIgbmljZWQ9ZDNfc2NhbGVfbmljZShkb21haW4ubWFwKGxvZykscG9zaXRpdmU/TWF0aDpkM19zY2FsZV9sb2dOaWNlTmVnYXRpdmUpO3JldHVybiBsaW5lYXIuZG9tYWluKG5pY2VkKSxkb21haW49bmljZWQubWFwKHBvdyksc2NhbGV9LHNjYWxlLnRpY2tzPWZ1bmN0aW9uKCl7dmFyIGV4dGVudD1kM19zY2FsZUV4dGVudChkb21haW4pLHRpY2tzPVtdLHU9ZXh0ZW50WzBdLHY9ZXh0ZW50WzFdLGk9TWF0aC5mbG9vcihsb2codSkpLGo9TWF0aC5jZWlsKGxvZyh2KSksbj1iYXNlJTE/MjpiYXNlO2lmKGlzRmluaXRlKGotaSkpe2lmKHBvc2l0aXZlKXtmb3IoO2o+aTtpKyspZm9yKHZhciBrPTE7bj5rO2srKyl0aWNrcy5wdXNoKHBvdyhpKSprKTt0aWNrcy5wdXNoKHBvdyhpKSl9ZWxzZSBmb3IodGlja3MucHVzaChwb3coaSkpO2krKzxqOylmb3IodmFyIGs9bi0xO2s+MDtrLS0pdGlja3MucHVzaChwb3coaSkqayk7Zm9yKGk9MDt0aWNrc1tpXTx1O2krKyk7Zm9yKGo9dGlja3MubGVuZ3RoO3RpY2tzW2otMV0+djtqLS0pO3RpY2tzPXRpY2tzLnNsaWNlKGksail9cmV0dXJuIHRpY2tzfSxzY2FsZS50aWNrRm9ybWF0PWZ1bmN0aW9uKG4sZm9ybWF0KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZDNfc2NhbGVfbG9nRm9ybWF0O2FyZ3VtZW50cy5sZW5ndGg8Mj9mb3JtYXQ9ZDNfc2NhbGVfbG9nRm9ybWF0OlwiZnVuY3Rpb25cIiE9dHlwZW9mIGZvcm1hdCYmKGZvcm1hdD1kMy5mb3JtYXQoZm9ybWF0KSk7dmFyIGUsaz1NYXRoLm1heCguMSxuL3NjYWxlLnRpY2tzKCkubGVuZ3RoKSxmPXBvc2l0aXZlPyhlPTFlLTEyLE1hdGguY2VpbCk6KGU9LTFlLTEyLE1hdGguZmxvb3IpO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gZC9wb3coZihsb2coZCkrZSkpPD1rP2Zvcm1hdChkKTpcIlwifX0sc2NhbGUuY29weT1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9sb2cobGluZWFyLmNvcHkoKSxiYXNlLHBvc2l0aXZlLGRvbWFpbil9LGQzX3NjYWxlX2xpbmVhclJlYmluZChzY2FsZSxsaW5lYXIpfWZ1bmN0aW9uIGQzX3NjYWxlX3BvdyhsaW5lYXIsZXhwb25lbnQsZG9tYWluKXtmdW5jdGlvbiBzY2FsZSh4KXtyZXR1cm4gbGluZWFyKHBvd3AoeCkpfXZhciBwb3dwPWQzX3NjYWxlX3Bvd1BvdyhleHBvbmVudCkscG93Yj1kM19zY2FsZV9wb3dQb3coMS9leHBvbmVudCk7cmV0dXJuIHNjYWxlLmludmVydD1mdW5jdGlvbih4KXtyZXR1cm4gcG93YihsaW5lYXIuaW52ZXJ0KHgpKX0sc2NhbGUuZG9tYWluPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsaW5lYXIuZG9tYWluKChkb21haW49eC5tYXAoTnVtYmVyKSkubWFwKHBvd3ApKSxzY2FsZSk6ZG9tYWlufSxzY2FsZS50aWNrcz1mdW5jdGlvbihtKXtyZXR1cm4gZDNfc2NhbGVfbGluZWFyVGlja3MoZG9tYWluLG0pfSxzY2FsZS50aWNrRm9ybWF0PWZ1bmN0aW9uKG0sZm9ybWF0KXtyZXR1cm4gZDNfc2NhbGVfbGluZWFyVGlja0Zvcm1hdChkb21haW4sbSxmb3JtYXQpfSxzY2FsZS5uaWNlPWZ1bmN0aW9uKG0pe3JldHVybiBzY2FsZS5kb21haW4oZDNfc2NhbGVfbGluZWFyTmljZShkb21haW4sbSkpfSxzY2FsZS5leHBvbmVudD1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocG93cD1kM19zY2FsZV9wb3dQb3coZXhwb25lbnQ9eCkscG93Yj1kM19zY2FsZV9wb3dQb3coMS9leHBvbmVudCksbGluZWFyLmRvbWFpbihkb21haW4ubWFwKHBvd3ApKSxzY2FsZSk6ZXhwb25lbnR9LHNjYWxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfc2NhbGVfcG93KGxpbmVhci5jb3B5KCksZXhwb25lbnQsZG9tYWluKX0sZDNfc2NhbGVfbGluZWFyUmViaW5kKHNjYWxlLGxpbmVhcil9ZnVuY3Rpb24gZDNfc2NhbGVfcG93UG93KGUpe3JldHVybiBmdW5jdGlvbih4KXtyZXR1cm4gMD54Py1NYXRoLnBvdygteCxlKTpNYXRoLnBvdyh4LGUpfX1mdW5jdGlvbiBkM19zY2FsZV9vcmRpbmFsKGRvbWFpbixyYW5nZXIpe2Z1bmN0aW9uIHNjYWxlKHgpe3JldHVybiByYW5nZVsoKGluZGV4LmdldCh4KXx8KFwicmFuZ2VcIj09PXJhbmdlci50P2luZGV4LnNldCh4LGRvbWFpbi5wdXNoKHgpKTpOYU4pKS0xKSVyYW5nZS5sZW5ndGhdfWZ1bmN0aW9uIHN0ZXBzKHN0YXJ0LHN0ZXApe3JldHVybiBkMy5yYW5nZShkb21haW4ubGVuZ3RoKS5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIHN0YXJ0K3N0ZXAqaX0pfXZhciBpbmRleCxyYW5nZSxyYW5nZUJhbmQ7cmV0dXJuIHNjYWxlLmRvbWFpbj1mdW5jdGlvbih4KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZG9tYWluO2RvbWFpbj1bXSxpbmRleD1uZXcgZDNfTWFwO2Zvcih2YXIgeGksaT0tMSxuPXgubGVuZ3RoOysraTxuOylpbmRleC5oYXMoeGk9eFtpXSl8fGluZGV4LnNldCh4aSxkb21haW4ucHVzaCh4aSkpO3JldHVybiBzY2FsZVtyYW5nZXIudF0uYXBwbHkoc2NhbGUscmFuZ2VyLmEpfSxzY2FsZS5yYW5nZT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocmFuZ2U9eCxyYW5nZUJhbmQ9MCxyYW5nZXI9e3Q6XCJyYW5nZVwiLGE6YXJndW1lbnRzfSxzY2FsZSk6cmFuZ2V9LHNjYWxlLnJhbmdlUG9pbnRzPWZ1bmN0aW9uKHgscGFkZGluZyl7YXJndW1lbnRzLmxlbmd0aDwyJiYocGFkZGluZz0wKTt2YXIgc3RhcnQ9eFswXSxzdG9wPXhbMV0sc3RlcD1kb21haW4ubGVuZ3RoPDI/KHN0YXJ0PShzdGFydCtzdG9wKS8yLDApOihzdG9wLXN0YXJ0KS8oZG9tYWluLmxlbmd0aC0xK3BhZGRpbmcpO3JldHVybiByYW5nZT1zdGVwcyhzdGFydCtzdGVwKnBhZGRpbmcvMixzdGVwKSxyYW5nZUJhbmQ9MCxyYW5nZXI9e3Q6XCJyYW5nZVBvaW50c1wiLGE6YXJndW1lbnRzfSxzY2FsZX0sc2NhbGUucmFuZ2VSb3VuZFBvaW50cz1mdW5jdGlvbih4LHBhZGRpbmcpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKHBhZGRpbmc9MCk7dmFyIHN0YXJ0PXhbMF0sc3RvcD14WzFdLHN0ZXA9ZG9tYWluLmxlbmd0aDwyPyhzdGFydD1zdG9wPU1hdGgucm91bmQoKHN0YXJ0K3N0b3ApLzIpLDApOihzdG9wLXN0YXJ0KS8oZG9tYWluLmxlbmd0aC0xK3BhZGRpbmcpfDA7cmV0dXJuIHJhbmdlPXN0ZXBzKHN0YXJ0K01hdGgucm91bmQoc3RlcCpwYWRkaW5nLzIrKHN0b3Atc3RhcnQtKGRvbWFpbi5sZW5ndGgtMStwYWRkaW5nKSpzdGVwKS8yKSxzdGVwKSxyYW5nZUJhbmQ9MCxyYW5nZXI9e3Q6XCJyYW5nZVJvdW5kUG9pbnRzXCIsYTphcmd1bWVudHN9LHNjYWxlfSxzY2FsZS5yYW5nZUJhbmRzPWZ1bmN0aW9uKHgscGFkZGluZyxvdXRlclBhZGRpbmcpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKHBhZGRpbmc9MCksYXJndW1lbnRzLmxlbmd0aDwzJiYob3V0ZXJQYWRkaW5nPXBhZGRpbmcpO3ZhciByZXZlcnNlPXhbMV08eFswXSxzdGFydD14W3JldmVyc2UtMF0sc3RvcD14WzEtcmV2ZXJzZV0sc3RlcD0oc3RvcC1zdGFydCkvKGRvbWFpbi5sZW5ndGgtcGFkZGluZysyKm91dGVyUGFkZGluZyk7cmV0dXJuIHJhbmdlPXN0ZXBzKHN0YXJ0K3N0ZXAqb3V0ZXJQYWRkaW5nLHN0ZXApLHJldmVyc2UmJnJhbmdlLnJldmVyc2UoKSxyYW5nZUJhbmQ9c3RlcCooMS1wYWRkaW5nKSxyYW5nZXI9e3Q6XCJyYW5nZUJhbmRzXCIsYTphcmd1bWVudHN9LHNjYWxlfSxzY2FsZS5yYW5nZVJvdW5kQmFuZHM9ZnVuY3Rpb24oeCxwYWRkaW5nLG91dGVyUGFkZGluZyl7YXJndW1lbnRzLmxlbmd0aDwyJiYocGFkZGluZz0wKSxhcmd1bWVudHMubGVuZ3RoPDMmJihvdXRlclBhZGRpbmc9cGFkZGluZyk7dmFyIHJldmVyc2U9eFsxXTx4WzBdLHN0YXJ0PXhbcmV2ZXJzZS0wXSxzdG9wPXhbMS1yZXZlcnNlXSxzdGVwPU1hdGguZmxvb3IoKHN0b3Atc3RhcnQpLyhkb21haW4ubGVuZ3RoLXBhZGRpbmcrMipvdXRlclBhZGRpbmcpKTtyZXR1cm4gcmFuZ2U9c3RlcHMoc3RhcnQrTWF0aC5yb3VuZCgoc3RvcC1zdGFydC0oZG9tYWluLmxlbmd0aC1wYWRkaW5nKSpzdGVwKS8yKSxzdGVwKSxyZXZlcnNlJiZyYW5nZS5yZXZlcnNlKCkscmFuZ2VCYW5kPU1hdGgucm91bmQoc3RlcCooMS1wYWRkaW5nKSkscmFuZ2VyPXt0OlwicmFuZ2VSb3VuZEJhbmRzXCIsYTphcmd1bWVudHN9LHNjYWxlfSxzY2FsZS5yYW5nZUJhbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gcmFuZ2VCYW5kfSxzY2FsZS5yYW5nZUV4dGVudD1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZUV4dGVudChyYW5nZXIuYVswXSl9LHNjYWxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfc2NhbGVfb3JkaW5hbChkb21haW4scmFuZ2VyKX0sc2NhbGUuZG9tYWluKGRvbWFpbil9ZnVuY3Rpb24gZDNfc2NhbGVfcXVhbnRpbGUoZG9tYWluLHJhbmdlKXtmdW5jdGlvbiByZXNjYWxlKCl7dmFyIGs9MCxxPXJhbmdlLmxlbmd0aDtmb3IodGhyZXNob2xkcz1bXTsrK2s8cTspdGhyZXNob2xkc1trLTFdPWQzLnF1YW50aWxlKGRvbWFpbixrL3EpO3JldHVybiBzY2FsZX1mdW5jdGlvbiBzY2FsZSh4KXtyZXR1cm4gaXNOYU4oeD0reCk/dm9pZCAwOnJhbmdlW2QzLmJpc2VjdCh0aHJlc2hvbGRzLHgpXX12YXIgdGhyZXNob2xkcztyZXR1cm4gc2NhbGUuZG9tYWluPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkb21haW49eC5tYXAoZDNfbnVtYmVyKS5maWx0ZXIoZDNfbnVtZXJpYykuc29ydChkM19hc2NlbmRpbmcpLHJlc2NhbGUoKSk6ZG9tYWlufSxzY2FsZS5yYW5nZT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocmFuZ2U9eCxyZXNjYWxlKCkpOnJhbmdlfSxzY2FsZS5xdWFudGlsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhyZXNob2xkc30sc2NhbGUuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKHkpe3JldHVybiB5PXJhbmdlLmluZGV4T2YoeSksMD55P1tOYU4sTmFOXTpbeT4wP3RocmVzaG9sZHNbeS0xXTpkb21haW5bMF0seTx0aHJlc2hvbGRzLmxlbmd0aD90aHJlc2hvbGRzW3ldOmRvbWFpbltkb21haW4ubGVuZ3RoLTFdXX0sc2NhbGUuY29weT1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9xdWFudGlsZShkb21haW4scmFuZ2UpfSxyZXNjYWxlKCl9ZnVuY3Rpb24gZDNfc2NhbGVfcXVhbnRpemUoeDAseDEscmFuZ2Upe2Z1bmN0aW9uIHNjYWxlKHgpe3JldHVybiByYW5nZVtNYXRoLm1heCgwLE1hdGgubWluKGksTWF0aC5mbG9vcihreCooeC14MCkpKSldfWZ1bmN0aW9uIHJlc2NhbGUoKXtyZXR1cm4ga3g9cmFuZ2UubGVuZ3RoLyh4MS14MCksaT1yYW5nZS5sZW5ndGgtMSxzY2FsZX12YXIga3gsaTtyZXR1cm4gc2NhbGUuZG9tYWluPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh4MD0reFswXSx4MT0reFt4Lmxlbmd0aC0xXSxyZXNjYWxlKCkpOlt4MCx4MV19LHNjYWxlLnJhbmdlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyYW5nZT14LHJlc2NhbGUoKSk6cmFuZ2V9LHNjYWxlLmludmVydEV4dGVudD1mdW5jdGlvbih5KXtyZXR1cm4geT1yYW5nZS5pbmRleE9mKHkpLHk9MD55P05hTjp5L2t4K3gwLFt5LHkrMS9reF19LHNjYWxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfc2NhbGVfcXVhbnRpemUoeDAseDEscmFuZ2UpfSxyZXNjYWxlKCl9ZnVuY3Rpb24gZDNfc2NhbGVfdGhyZXNob2xkKGRvbWFpbixyYW5nZSl7ZnVuY3Rpb24gc2NhbGUoeCl7cmV0dXJuIHg+PXg/cmFuZ2VbZDMuYmlzZWN0KGRvbWFpbix4KV06dm9pZCAwfXJldHVybiBzY2FsZS5kb21haW49ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGRvbWFpbj1fLHNjYWxlKTpkb21haW59LHNjYWxlLnJhbmdlPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyYW5nZT1fLHNjYWxlKTpyYW5nZX0sc2NhbGUuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKHkpe3JldHVybiB5PXJhbmdlLmluZGV4T2YoeSksW2RvbWFpblt5LTFdLGRvbWFpblt5XV19LHNjYWxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfc2NhbGVfdGhyZXNob2xkKGRvbWFpbixyYW5nZSl9LHNjYWxlfWZ1bmN0aW9uIGQzX3NjYWxlX2lkZW50aXR5KGRvbWFpbil7ZnVuY3Rpb24gaWRlbnRpdHkoeCl7cmV0dXJuK3h9cmV0dXJuIGlkZW50aXR5LmludmVydD1pZGVudGl0eSxpZGVudGl0eS5kb21haW49aWRlbnRpdHkucmFuZ2U9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGRvbWFpbj14Lm1hcChpZGVudGl0eSksaWRlbnRpdHkpOmRvbWFpbn0saWRlbnRpdHkudGlja3M9ZnVuY3Rpb24obSl7cmV0dXJuIGQzX3NjYWxlX2xpbmVhclRpY2tzKGRvbWFpbixtKX0saWRlbnRpdHkudGlja0Zvcm1hdD1mdW5jdGlvbihtLGZvcm1hdCl7cmV0dXJuIGQzX3NjYWxlX2xpbmVhclRpY2tGb3JtYXQoZG9tYWluLG0sZm9ybWF0KX0saWRlbnRpdHkuY29weT1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9pZGVudGl0eShkb21haW4pfSxpZGVudGl0eX1mdW5jdGlvbiBkM196ZXJvKCl7cmV0dXJuIDB9ZnVuY3Rpb24gZDNfc3ZnX2FyY0lubmVyUmFkaXVzKGQpe3JldHVybiBkLmlubmVyUmFkaXVzfWZ1bmN0aW9uIGQzX3N2Z19hcmNPdXRlclJhZGl1cyhkKXtyZXR1cm4gZC5vdXRlclJhZGl1c31mdW5jdGlvbiBkM19zdmdfYXJjU3RhcnRBbmdsZShkKXtyZXR1cm4gZC5zdGFydEFuZ2xlfWZ1bmN0aW9uIGQzX3N2Z19hcmNFbmRBbmdsZShkKXtyZXR1cm4gZC5lbmRBbmdsZX1mdW5jdGlvbiBkM19zdmdfYXJjUGFkQW5nbGUoZCl7cmV0dXJuIGQmJmQucGFkQW5nbGV9ZnVuY3Rpb24gZDNfc3ZnX2FyY1N3ZWVwKHgwLHkwLHgxLHkxKXtcbnJldHVybih4MC14MSkqeTAtKHkwLXkxKSp4MD4wPzA6MX1mdW5jdGlvbiBkM19zdmdfYXJjQ29ybmVyVGFuZ2VudHMocDAscDEscjEscmMsY3cpe3ZhciB4MDE9cDBbMF0tcDFbMF0seTAxPXAwWzFdLXAxWzFdLGxvPShjdz9yYzotcmMpL01hdGguc3FydCh4MDEqeDAxK3kwMSp5MDEpLG94PWxvKnkwMSxveT0tbG8qeDAxLHgxPXAwWzBdK294LHkxPXAwWzFdK295LHgyPXAxWzBdK294LHkyPXAxWzFdK295LHgzPSh4MSt4MikvMix5Mz0oeTEreTIpLzIsZHg9eDIteDEsZHk9eTIteTEsZDI9ZHgqZHgrZHkqZHkscj1yMS1yYyxEPXgxKnkyLXgyKnkxLGQ9KDA+ZHk/LTE6MSkqTWF0aC5zcXJ0KHIqcipkMi1EKkQpLGN4MD0oRCpkeS1keCpkKS9kMixjeTA9KC1EKmR4LWR5KmQpL2QyLGN4MT0oRCpkeStkeCpkKS9kMixjeTE9KC1EKmR4K2R5KmQpL2QyLGR4MD1jeDAteDMsZHkwPWN5MC15MyxkeDE9Y3gxLXgzLGR5MT1jeTEteTM7cmV0dXJuIGR4MCpkeDArZHkwKmR5MD5keDEqZHgxK2R5MSpkeTEmJihjeDA9Y3gxLGN5MD1jeTEpLFtbY3gwLW94LGN5MC1veV0sW2N4MCpyMS9yLGN5MCpyMS9yXV19ZnVuY3Rpb24gZDNfc3ZnX2xpbmUocHJvamVjdGlvbil7ZnVuY3Rpb24gbGluZShkYXRhKXtmdW5jdGlvbiBzZWdtZW50KCl7c2VnbWVudHMucHVzaChcIk1cIixpbnRlcnBvbGF0ZShwcm9qZWN0aW9uKHBvaW50cyksdGVuc2lvbikpfWZvcih2YXIgZCxzZWdtZW50cz1bXSxwb2ludHM9W10saT0tMSxuPWRhdGEubGVuZ3RoLGZ4PWQzX2Z1bmN0b3IoeCksZnk9ZDNfZnVuY3Rvcih5KTsrK2k8bjspZGVmaW5lZC5jYWxsKHRoaXMsZD1kYXRhW2ldLGkpP3BvaW50cy5wdXNoKFsrZnguY2FsbCh0aGlzLGQsaSksK2Z5LmNhbGwodGhpcyxkLGkpXSk6cG9pbnRzLmxlbmd0aCYmKHNlZ21lbnQoKSxwb2ludHM9W10pO3JldHVybiBwb2ludHMubGVuZ3RoJiZzZWdtZW50KCksc2VnbWVudHMubGVuZ3RoP3NlZ21lbnRzLmpvaW4oXCJcIik6bnVsbH12YXIgeD1kM19nZW9tX3BvaW50WCx5PWQzX2dlb21fcG9pbnRZLGRlZmluZWQ9ZDNfdHJ1ZSxpbnRlcnBvbGF0ZT1kM19zdmdfbGluZUxpbmVhcixpbnRlcnBvbGF0ZUtleT1pbnRlcnBvbGF0ZS5rZXksdGVuc2lvbj0uNztyZXR1cm4gbGluZS54PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh4PV8sbGluZSk6eH0sbGluZS55PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh5PV8sbGluZSk6eX0sbGluZS5kZWZpbmVkPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkZWZpbmVkPV8sbGluZSk6ZGVmaW5lZH0sbGluZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaW50ZXJwb2xhdGVLZXk9XCJmdW5jdGlvblwiPT10eXBlb2YgXz9pbnRlcnBvbGF0ZT1fOihpbnRlcnBvbGF0ZT1kM19zdmdfbGluZUludGVycG9sYXRvcnMuZ2V0KF8pfHxkM19zdmdfbGluZUxpbmVhcikua2V5LGxpbmUpOmludGVycG9sYXRlS2V5fSxsaW5lLnRlbnNpb249ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRlbnNpb249XyxsaW5lKTp0ZW5zaW9ufSxsaW5lfWZ1bmN0aW9uIGQzX3N2Z19saW5lTGluZWFyKHBvaW50cyl7cmV0dXJuIHBvaW50cy5qb2luKFwiTFwiKX1mdW5jdGlvbiBkM19zdmdfbGluZUxpbmVhckNsb3NlZChwb2ludHMpe3JldHVybiBkM19zdmdfbGluZUxpbmVhcihwb2ludHMpK1wiWlwifWZ1bmN0aW9uIGQzX3N2Z19saW5lU3RlcChwb2ludHMpe2Zvcih2YXIgaT0wLG49cG9pbnRzLmxlbmd0aCxwPXBvaW50c1swXSxwYXRoPVtwWzBdLFwiLFwiLHBbMV1dOysraTxuOylwYXRoLnB1c2goXCJIXCIsKHBbMF0rKHA9cG9pbnRzW2ldKVswXSkvMixcIlZcIixwWzFdKTtyZXR1cm4gbj4xJiZwYXRoLnB1c2goXCJIXCIscFswXSkscGF0aC5qb2luKFwiXCIpfWZ1bmN0aW9uIGQzX3N2Z19saW5lU3RlcEJlZm9yZShwb2ludHMpe2Zvcih2YXIgaT0wLG49cG9pbnRzLmxlbmd0aCxwPXBvaW50c1swXSxwYXRoPVtwWzBdLFwiLFwiLHBbMV1dOysraTxuOylwYXRoLnB1c2goXCJWXCIsKHA9cG9pbnRzW2ldKVsxXSxcIkhcIixwWzBdKTtyZXR1cm4gcGF0aC5qb2luKFwiXCIpfWZ1bmN0aW9uIGQzX3N2Z19saW5lU3RlcEFmdGVyKHBvaW50cyl7Zm9yKHZhciBpPTAsbj1wb2ludHMubGVuZ3RoLHA9cG9pbnRzWzBdLHBhdGg9W3BbMF0sXCIsXCIscFsxXV07KytpPG47KXBhdGgucHVzaChcIkhcIiwocD1wb2ludHNbaV0pWzBdLFwiVlwiLHBbMV0pO3JldHVybiBwYXRoLmpvaW4oXCJcIil9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVDYXJkaW5hbE9wZW4ocG9pbnRzLHRlbnNpb24pe3JldHVybiBwb2ludHMubGVuZ3RoPDQ/ZDNfc3ZnX2xpbmVMaW5lYXIocG9pbnRzKTpwb2ludHNbMV0rZDNfc3ZnX2xpbmVIZXJtaXRlKHBvaW50cy5zbGljZSgxLC0xKSxkM19zdmdfbGluZUNhcmRpbmFsVGFuZ2VudHMocG9pbnRzLHRlbnNpb24pKX1mdW5jdGlvbiBkM19zdmdfbGluZUNhcmRpbmFsQ2xvc2VkKHBvaW50cyx0ZW5zaW9uKXtyZXR1cm4gcG9pbnRzLmxlbmd0aDwzP2QzX3N2Z19saW5lTGluZWFyKHBvaW50cyk6cG9pbnRzWzBdK2QzX3N2Z19saW5lSGVybWl0ZSgocG9pbnRzLnB1c2gocG9pbnRzWzBdKSxwb2ludHMpLGQzX3N2Z19saW5lQ2FyZGluYWxUYW5nZW50cyhbcG9pbnRzW3BvaW50cy5sZW5ndGgtMl1dLmNvbmNhdChwb2ludHMsW3BvaW50c1sxXV0pLHRlbnNpb24pKX1mdW5jdGlvbiBkM19zdmdfbGluZUNhcmRpbmFsKHBvaW50cyx0ZW5zaW9uKXtyZXR1cm4gcG9pbnRzLmxlbmd0aDwzP2QzX3N2Z19saW5lTGluZWFyKHBvaW50cyk6cG9pbnRzWzBdK2QzX3N2Z19saW5lSGVybWl0ZShwb2ludHMsZDNfc3ZnX2xpbmVDYXJkaW5hbFRhbmdlbnRzKHBvaW50cyx0ZW5zaW9uKSl9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVIZXJtaXRlKHBvaW50cyx0YW5nZW50cyl7aWYodGFuZ2VudHMubGVuZ3RoPDF8fHBvaW50cy5sZW5ndGghPXRhbmdlbnRzLmxlbmd0aCYmcG9pbnRzLmxlbmd0aCE9dGFuZ2VudHMubGVuZ3RoKzIpcmV0dXJuIGQzX3N2Z19saW5lTGluZWFyKHBvaW50cyk7dmFyIHF1YWQ9cG9pbnRzLmxlbmd0aCE9dGFuZ2VudHMubGVuZ3RoLHBhdGg9XCJcIixwMD1wb2ludHNbMF0scD1wb2ludHNbMV0sdDA9dGFuZ2VudHNbMF0sdD10MCxwaT0xO2lmKHF1YWQmJihwYXRoKz1cIlFcIisocFswXS0yKnQwWzBdLzMpK1wiLFwiKyhwWzFdLTIqdDBbMV0vMykrXCIsXCIrcFswXStcIixcIitwWzFdLHAwPXBvaW50c1sxXSxwaT0yKSx0YW5nZW50cy5sZW5ndGg+MSl7dD10YW5nZW50c1sxXSxwPXBvaW50c1twaV0scGkrKyxwYXRoKz1cIkNcIisocDBbMF0rdDBbMF0pK1wiLFwiKyhwMFsxXSt0MFsxXSkrXCIsXCIrKHBbMF0tdFswXSkrXCIsXCIrKHBbMV0tdFsxXSkrXCIsXCIrcFswXStcIixcIitwWzFdO2Zvcih2YXIgaT0yO2k8dGFuZ2VudHMubGVuZ3RoO2krKyxwaSsrKXA9cG9pbnRzW3BpXSx0PXRhbmdlbnRzW2ldLHBhdGgrPVwiU1wiKyhwWzBdLXRbMF0pK1wiLFwiKyhwWzFdLXRbMV0pK1wiLFwiK3BbMF0rXCIsXCIrcFsxXX1pZihxdWFkKXt2YXIgbHA9cG9pbnRzW3BpXTtwYXRoKz1cIlFcIisocFswXSsyKnRbMF0vMykrXCIsXCIrKHBbMV0rMip0WzFdLzMpK1wiLFwiK2xwWzBdK1wiLFwiK2xwWzFdfXJldHVybiBwYXRofWZ1bmN0aW9uIGQzX3N2Z19saW5lQ2FyZGluYWxUYW5nZW50cyhwb2ludHMsdGVuc2lvbil7Zm9yKHZhciBwMCx0YW5nZW50cz1bXSxhPSgxLXRlbnNpb24pLzIscDE9cG9pbnRzWzBdLHAyPXBvaW50c1sxXSxpPTEsbj1wb2ludHMubGVuZ3RoOysraTxuOylwMD1wMSxwMT1wMixwMj1wb2ludHNbaV0sdGFuZ2VudHMucHVzaChbYSoocDJbMF0tcDBbMF0pLGEqKHAyWzFdLXAwWzFdKV0pO3JldHVybiB0YW5nZW50c31mdW5jdGlvbiBkM19zdmdfbGluZUJhc2lzKHBvaW50cyl7aWYocG9pbnRzLmxlbmd0aDwzKXJldHVybiBkM19zdmdfbGluZUxpbmVhcihwb2ludHMpO3ZhciBpPTEsbj1wb2ludHMubGVuZ3RoLHBpPXBvaW50c1swXSx4MD1waVswXSx5MD1waVsxXSxweD1beDAseDAseDAsKHBpPXBvaW50c1sxXSlbMF1dLHB5PVt5MCx5MCx5MCxwaVsxXV0scGF0aD1beDAsXCIsXCIseTAsXCJMXCIsZDNfc3ZnX2xpbmVEb3Q0KGQzX3N2Z19saW5lQmFzaXNCZXppZXIzLHB4KSxcIixcIixkM19zdmdfbGluZURvdDQoZDNfc3ZnX2xpbmVCYXNpc0JlemllcjMscHkpXTtmb3IocG9pbnRzLnB1c2gocG9pbnRzW24tMV0pOysraTw9bjspcGk9cG9pbnRzW2ldLHB4LnNoaWZ0KCkscHgucHVzaChwaVswXSkscHkuc2hpZnQoKSxweS5wdXNoKHBpWzFdKSxkM19zdmdfbGluZUJhc2lzQmV6aWVyKHBhdGgscHgscHkpO3JldHVybiBwb2ludHMucG9wKCkscGF0aC5wdXNoKFwiTFwiLHBpKSxwYXRoLmpvaW4oXCJcIil9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVCYXNpc09wZW4ocG9pbnRzKXtpZihwb2ludHMubGVuZ3RoPDQpcmV0dXJuIGQzX3N2Z19saW5lTGluZWFyKHBvaW50cyk7Zm9yKHZhciBwaSxwYXRoPVtdLGk9LTEsbj1wb2ludHMubGVuZ3RoLHB4PVswXSxweT1bMF07KytpPDM7KXBpPXBvaW50c1tpXSxweC5wdXNoKHBpWzBdKSxweS5wdXNoKHBpWzFdKTtmb3IocGF0aC5wdXNoKGQzX3N2Z19saW5lRG90NChkM19zdmdfbGluZUJhc2lzQmV6aWVyMyxweCkrXCIsXCIrZDNfc3ZnX2xpbmVEb3Q0KGQzX3N2Z19saW5lQmFzaXNCZXppZXIzLHB5KSksLS1pOysraTxuOylwaT1wb2ludHNbaV0scHguc2hpZnQoKSxweC5wdXNoKHBpWzBdKSxweS5zaGlmdCgpLHB5LnB1c2gocGlbMV0pLGQzX3N2Z19saW5lQmFzaXNCZXppZXIocGF0aCxweCxweSk7cmV0dXJuIHBhdGguam9pbihcIlwiKX1mdW5jdGlvbiBkM19zdmdfbGluZUJhc2lzQ2xvc2VkKHBvaW50cyl7Zm9yKHZhciBwYXRoLHBpLGk9LTEsbj1wb2ludHMubGVuZ3RoLG09bis0LHB4PVtdLHB5PVtdOysraTw0OylwaT1wb2ludHNbaSVuXSxweC5wdXNoKHBpWzBdKSxweS5wdXNoKHBpWzFdKTtmb3IocGF0aD1bZDNfc3ZnX2xpbmVEb3Q0KGQzX3N2Z19saW5lQmFzaXNCZXppZXIzLHB4KSxcIixcIixkM19zdmdfbGluZURvdDQoZDNfc3ZnX2xpbmVCYXNpc0JlemllcjMscHkpXSwtLWk7KytpPG07KXBpPXBvaW50c1tpJW5dLHB4LnNoaWZ0KCkscHgucHVzaChwaVswXSkscHkuc2hpZnQoKSxweS5wdXNoKHBpWzFdKSxkM19zdmdfbGluZUJhc2lzQmV6aWVyKHBhdGgscHgscHkpO3JldHVybiBwYXRoLmpvaW4oXCJcIil9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVCdW5kbGUocG9pbnRzLHRlbnNpb24pe3ZhciBuPXBvaW50cy5sZW5ndGgtMTtpZihuKWZvcih2YXIgcCx0LHgwPXBvaW50c1swXVswXSx5MD1wb2ludHNbMF1bMV0sZHg9cG9pbnRzW25dWzBdLXgwLGR5PXBvaW50c1tuXVsxXS15MCxpPS0xOysraTw9bjspcD1wb2ludHNbaV0sdD1pL24scFswXT10ZW5zaW9uKnBbMF0rKDEtdGVuc2lvbikqKHgwK3QqZHgpLHBbMV09dGVuc2lvbipwWzFdKygxLXRlbnNpb24pKih5MCt0KmR5KTtyZXR1cm4gZDNfc3ZnX2xpbmVCYXNpcyhwb2ludHMpfWZ1bmN0aW9uIGQzX3N2Z19saW5lRG90NChhLGIpe3JldHVybiBhWzBdKmJbMF0rYVsxXSpiWzFdK2FbMl0qYlsyXSthWzNdKmJbM119ZnVuY3Rpb24gZDNfc3ZnX2xpbmVCYXNpc0JlemllcihwYXRoLHgseSl7cGF0aC5wdXNoKFwiQ1wiLGQzX3N2Z19saW5lRG90NChkM19zdmdfbGluZUJhc2lzQmV6aWVyMSx4KSxcIixcIixkM19zdmdfbGluZURvdDQoZDNfc3ZnX2xpbmVCYXNpc0JlemllcjEseSksXCIsXCIsZDNfc3ZnX2xpbmVEb3Q0KGQzX3N2Z19saW5lQmFzaXNCZXppZXIyLHgpLFwiLFwiLGQzX3N2Z19saW5lRG90NChkM19zdmdfbGluZUJhc2lzQmV6aWVyMix5KSxcIixcIixkM19zdmdfbGluZURvdDQoZDNfc3ZnX2xpbmVCYXNpc0JlemllcjMseCksXCIsXCIsZDNfc3ZnX2xpbmVEb3Q0KGQzX3N2Z19saW5lQmFzaXNCZXppZXIzLHkpKX1mdW5jdGlvbiBkM19zdmdfbGluZVNsb3BlKHAwLHAxKXtyZXR1cm4ocDFbMV0tcDBbMV0pLyhwMVswXS1wMFswXSl9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVGaW5pdGVEaWZmZXJlbmNlcyhwb2ludHMpe2Zvcih2YXIgaT0wLGo9cG9pbnRzLmxlbmd0aC0xLG09W10scDA9cG9pbnRzWzBdLHAxPXBvaW50c1sxXSxkPW1bMF09ZDNfc3ZnX2xpbmVTbG9wZShwMCxwMSk7KytpPGo7KW1baV09KGQrKGQ9ZDNfc3ZnX2xpbmVTbG9wZShwMD1wMSxwMT1wb2ludHNbaSsxXSkpKS8yO3JldHVybiBtW2ldPWQsbX1mdW5jdGlvbiBkM19zdmdfbGluZU1vbm90b25lVGFuZ2VudHMocG9pbnRzKXtmb3IodmFyIGQsYSxiLHMsdGFuZ2VudHM9W10sbT1kM19zdmdfbGluZUZpbml0ZURpZmZlcmVuY2VzKHBvaW50cyksaT0tMSxqPXBvaW50cy5sZW5ndGgtMTsrK2k8ajspZD1kM19zdmdfbGluZVNsb3BlKHBvaW50c1tpXSxwb2ludHNbaSsxXSksYWJzKGQpPM61P21baV09bVtpKzFdPTA6KGE9bVtpXS9kLGI9bVtpKzFdL2Qscz1hKmErYipiLHM+OSYmKHM9MypkL01hdGguc3FydChzKSxtW2ldPXMqYSxtW2krMV09cypiKSk7Zm9yKGk9LTE7KytpPD1qOylzPShwb2ludHNbTWF0aC5taW4oaixpKzEpXVswXS1wb2ludHNbTWF0aC5tYXgoMCxpLTEpXVswXSkvKDYqKDErbVtpXSptW2ldKSksdGFuZ2VudHMucHVzaChbc3x8MCxtW2ldKnN8fDBdKTtyZXR1cm4gdGFuZ2VudHN9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVNb25vdG9uZShwb2ludHMpe3JldHVybiBwb2ludHMubGVuZ3RoPDM/ZDNfc3ZnX2xpbmVMaW5lYXIocG9pbnRzKTpwb2ludHNbMF0rZDNfc3ZnX2xpbmVIZXJtaXRlKHBvaW50cyxkM19zdmdfbGluZU1vbm90b25lVGFuZ2VudHMocG9pbnRzKSl9ZnVuY3Rpb24gZDNfc3ZnX2xpbmVSYWRpYWwocG9pbnRzKXtmb3IodmFyIHBvaW50LHIsYSxpPS0xLG49cG9pbnRzLmxlbmd0aDsrK2k8bjspcG9pbnQ9cG9pbnRzW2ldLHI9cG9pbnRbMF0sYT1wb2ludFsxXS1oYWxmz4AscG9pbnRbMF09cipNYXRoLmNvcyhhKSxwb2ludFsxXT1yKk1hdGguc2luKGEpO3JldHVybiBwb2ludHN9ZnVuY3Rpb24gZDNfc3ZnX2FyZWEocHJvamVjdGlvbil7ZnVuY3Rpb24gYXJlYShkYXRhKXtmdW5jdGlvbiBzZWdtZW50KCl7c2VnbWVudHMucHVzaChcIk1cIixpbnRlcnBvbGF0ZShwcm9qZWN0aW9uKHBvaW50czEpLHRlbnNpb24pLEwsaW50ZXJwb2xhdGVSZXZlcnNlKHByb2plY3Rpb24ocG9pbnRzMC5yZXZlcnNlKCkpLHRlbnNpb24pLFwiWlwiKX1mb3IodmFyIGQseCx5LHNlZ21lbnRzPVtdLHBvaW50czA9W10scG9pbnRzMT1bXSxpPS0xLG49ZGF0YS5sZW5ndGgsZngwPWQzX2Z1bmN0b3IoeDApLGZ5MD1kM19mdW5jdG9yKHkwKSxmeDE9eDA9PT14MT9mdW5jdGlvbigpe3JldHVybiB4fTpkM19mdW5jdG9yKHgxKSxmeTE9eTA9PT15MT9mdW5jdGlvbigpe3JldHVybiB5fTpkM19mdW5jdG9yKHkxKTsrK2k8bjspZGVmaW5lZC5jYWxsKHRoaXMsZD1kYXRhW2ldLGkpPyhwb2ludHMwLnB1c2goW3g9K2Z4MC5jYWxsKHRoaXMsZCxpKSx5PStmeTAuY2FsbCh0aGlzLGQsaSldKSxwb2ludHMxLnB1c2goWytmeDEuY2FsbCh0aGlzLGQsaSksK2Z5MS5jYWxsKHRoaXMsZCxpKV0pKTpwb2ludHMwLmxlbmd0aCYmKHNlZ21lbnQoKSxwb2ludHMwPVtdLHBvaW50czE9W10pO3JldHVybiBwb2ludHMwLmxlbmd0aCYmc2VnbWVudCgpLHNlZ21lbnRzLmxlbmd0aD9zZWdtZW50cy5qb2luKFwiXCIpOm51bGx9dmFyIHgwPWQzX2dlb21fcG9pbnRYLHgxPWQzX2dlb21fcG9pbnRYLHkwPTAseTE9ZDNfZ2VvbV9wb2ludFksZGVmaW5lZD1kM190cnVlLGludGVycG9sYXRlPWQzX3N2Z19saW5lTGluZWFyLGludGVycG9sYXRlS2V5PWludGVycG9sYXRlLmtleSxpbnRlcnBvbGF0ZVJldmVyc2U9aW50ZXJwb2xhdGUsTD1cIkxcIix0ZW5zaW9uPS43O3JldHVybiBhcmVhLng9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHgwPXgxPV8sYXJlYSk6eDF9LGFyZWEueDA9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHgwPV8sYXJlYSk6eDB9LGFyZWEueDE9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHgxPV8sYXJlYSk6eDF9LGFyZWEueT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeTA9eTE9XyxhcmVhKTp5MX0sYXJlYS55MD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeTA9XyxhcmVhKTp5MH0sYXJlYS55MT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeTE9XyxhcmVhKTp5MX0sYXJlYS5kZWZpbmVkPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkZWZpbmVkPV8sYXJlYSk6ZGVmaW5lZH0sYXJlYS5pbnRlcnBvbGF0ZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaW50ZXJwb2xhdGVLZXk9XCJmdW5jdGlvblwiPT10eXBlb2YgXz9pbnRlcnBvbGF0ZT1fOihpbnRlcnBvbGF0ZT1kM19zdmdfbGluZUludGVycG9sYXRvcnMuZ2V0KF8pfHxkM19zdmdfbGluZUxpbmVhcikua2V5LGludGVycG9sYXRlUmV2ZXJzZT1pbnRlcnBvbGF0ZS5yZXZlcnNlfHxpbnRlcnBvbGF0ZSxMPWludGVycG9sYXRlLmNsb3NlZD9cIk1cIjpcIkxcIixhcmVhKTppbnRlcnBvbGF0ZUtleX0sYXJlYS50ZW5zaW9uPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0ZW5zaW9uPV8sYXJlYSk6dGVuc2lvbn0sYXJlYX1mdW5jdGlvbiBkM19zdmdfY2hvcmRSYWRpdXMoZCl7cmV0dXJuIGQucmFkaXVzfWZ1bmN0aW9uIGQzX3N2Z19kaWFnb25hbFByb2plY3Rpb24oZCl7cmV0dXJuW2QueCxkLnldfWZ1bmN0aW9uIGQzX3N2Z19kaWFnb25hbFJhZGlhbFByb2plY3Rpb24ocHJvamVjdGlvbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9cHJvamVjdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cykscj1kWzBdLGE9ZFsxXS1oYWxmz4A7cmV0dXJuW3IqTWF0aC5jb3MoYSkscipNYXRoLnNpbihhKV19fWZ1bmN0aW9uIGQzX3N2Z19zeW1ib2xTaXplKCl7cmV0dXJuIDY0fWZ1bmN0aW9uIGQzX3N2Z19zeW1ib2xUeXBlKCl7cmV0dXJuXCJjaXJjbGVcIn1mdW5jdGlvbiBkM19zdmdfc3ltYm9sQ2lyY2xlKHNpemUpe3ZhciByPU1hdGguc3FydChzaXplL8+AKTtyZXR1cm5cIk0wLFwiK3IrXCJBXCIrcitcIixcIityK1wiIDAgMSwxIDAsXCIrLXIrXCJBXCIrcitcIixcIityK1wiIDAgMSwxIDAsXCIrcitcIlpcIn1mdW5jdGlvbiBkM19zZWxlY3Rpb25faW50ZXJydXB0TlMobnMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBsb2NrLGFjdGl2ZTsobG9jaz10aGlzW25zXSkmJihhY3RpdmU9bG9ja1tsb2NrLmFjdGl2ZV0pJiYoLS1sb2NrLmNvdW50P2RlbGV0ZSBsb2NrW2xvY2suYWN0aXZlXTpkZWxldGUgdGhpc1tuc10sbG9jay5hY3RpdmUrPS41LGFjdGl2ZS5ldmVudCYmYWN0aXZlLmV2ZW50LmludGVycnVwdC5jYWxsKHRoaXMsdGhpcy5fX2RhdGFfXyxhY3RpdmUuaW5kZXgpKX19ZnVuY3Rpb24gZDNfdHJhbnNpdGlvbihncm91cHMsbnMsaWQpe3JldHVybiBkM19zdWJjbGFzcyhncm91cHMsZDNfdHJhbnNpdGlvblByb3RvdHlwZSksZ3JvdXBzLm5hbWVzcGFjZT1ucyxncm91cHMuaWQ9aWQsZ3JvdXBzfWZ1bmN0aW9uIGQzX3RyYW5zaXRpb25fdHdlZW4oZ3JvdXBzLG5hbWUsdmFsdWUsdHdlZW4pe3ZhciBpZD1ncm91cHMuaWQsbnM9Z3JvdXBzLm5hbWVzcGFjZTtyZXR1cm4gZDNfc2VsZWN0aW9uX2VhY2goZ3JvdXBzLFwiZnVuY3Rpb25cIj09dHlwZW9mIHZhbHVlP2Z1bmN0aW9uKG5vZGUsaSxqKXtub2RlW25zXVtpZF0udHdlZW4uc2V0KG5hbWUsdHdlZW4odmFsdWUuY2FsbChub2RlLG5vZGUuX19kYXRhX18saSxqKSkpfToodmFsdWU9dHdlZW4odmFsdWUpLGZ1bmN0aW9uKG5vZGUpe25vZGVbbnNdW2lkXS50d2Vlbi5zZXQobmFtZSx2YWx1ZSl9KSl9ZnVuY3Rpb24gZDNfdHJhbnNpdGlvbl90ZXh0KGIpe3JldHVybiBudWxsPT1iJiYoYj1cIlwiKSxmdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnQ9Yn19ZnVuY3Rpb24gZDNfdHJhbnNpdGlvbk5hbWVzcGFjZShuYW1lKXtyZXR1cm4gbnVsbD09bmFtZT9cIl9fdHJhbnNpdGlvbl9fXCI6XCJfX3RyYW5zaXRpb25fXCIrbmFtZStcIl9fXCJ9ZnVuY3Rpb24gZDNfdHJhbnNpdGlvbk5vZGUobm9kZSxpLG5zLGlkLGluaGVyaXQpe3ZhciBsb2NrPW5vZGVbbnNdfHwobm9kZVtuc109e2FjdGl2ZTowLGNvdW50OjB9KSx0cmFuc2l0aW9uPWxvY2tbaWRdO2lmKCF0cmFuc2l0aW9uKXt2YXIgdGltZT1pbmhlcml0LnRpbWU7dHJhbnNpdGlvbj1sb2NrW2lkXT17dHdlZW46bmV3IGQzX01hcCx0aW1lOnRpbWUsZGVsYXk6aW5oZXJpdC5kZWxheSxkdXJhdGlvbjppbmhlcml0LmR1cmF0aW9uLGVhc2U6aW5oZXJpdC5lYXNlLGluZGV4Oml9LGluaGVyaXQ9bnVsbCwrK2xvY2suY291bnQsZDMudGltZXIoZnVuY3Rpb24oZWxhcHNlZCl7ZnVuY3Rpb24gc3RhcnQoZWxhcHNlZCl7aWYobG9jay5hY3RpdmU+aWQpcmV0dXJuIHN0b3AoKTt2YXIgYWN0aXZlPWxvY2tbbG9jay5hY3RpdmVdO2FjdGl2ZSYmKC0tbG9jay5jb3VudCxkZWxldGUgbG9ja1tsb2NrLmFjdGl2ZV0sYWN0aXZlLmV2ZW50JiZhY3RpdmUuZXZlbnQuaW50ZXJydXB0LmNhbGwobm9kZSxub2RlLl9fZGF0YV9fLGFjdGl2ZS5pbmRleCkpLGxvY2suYWN0aXZlPWlkLHRyYW5zaXRpb24uZXZlbnQmJnRyYW5zaXRpb24uZXZlbnQuc3RhcnQuY2FsbChub2RlLG5vZGUuX19kYXRhX18saSksdHJhbnNpdGlvbi50d2Vlbi5mb3JFYWNoKGZ1bmN0aW9uKGtleSx2YWx1ZSl7KHZhbHVlPXZhbHVlLmNhbGwobm9kZSxub2RlLl9fZGF0YV9fLGkpKSYmdHdlZW5lZC5wdXNoKHZhbHVlKX0pLGVhc2U9dHJhbnNpdGlvbi5lYXNlLGR1cmF0aW9uPXRyYW5zaXRpb24uZHVyYXRpb24sZDMudGltZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGltZXIuYz10aWNrKGVsYXBzZWR8fDEpP2QzX3RydWU6dGljaywxfSwwLHRpbWUpfWZ1bmN0aW9uIHRpY2soZWxhcHNlZCl7aWYobG9jay5hY3RpdmUhPT1pZClyZXR1cm4gMTtmb3IodmFyIHQ9ZWxhcHNlZC9kdXJhdGlvbixlPWVhc2UodCksbj10d2VlbmVkLmxlbmd0aDtuPjA7KXR3ZWVuZWRbLS1uXS5jYWxsKG5vZGUsZSk7cmV0dXJuIHQ+PTE/KHRyYW5zaXRpb24uZXZlbnQmJnRyYW5zaXRpb24uZXZlbnQuZW5kLmNhbGwobm9kZSxub2RlLl9fZGF0YV9fLGkpLHN0b3AoKSk6dm9pZCAwfWZ1bmN0aW9uIHN0b3AoKXtyZXR1cm4tLWxvY2suY291bnQ/ZGVsZXRlIGxvY2tbaWRdOmRlbGV0ZSBub2RlW25zXSwxfXZhciBkdXJhdGlvbixlYXNlLGRlbGF5PXRyYW5zaXRpb24uZGVsYXksdGltZXI9ZDNfdGltZXJfYWN0aXZlLHR3ZWVuZWQ9W107cmV0dXJuIHRpbWVyLnQ9ZGVsYXkrdGltZSxlbGFwc2VkPj1kZWxheT9zdGFydChlbGFwc2VkLWRlbGF5KTp2b2lkKHRpbWVyLmM9c3RhcnQpfSwwLHRpbWUpfX1mdW5jdGlvbiBkM19zdmdfYXhpc1goc2VsZWN0aW9uLHgwLHgxKXtzZWxlY3Rpb24uYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGQpe3ZhciB2MD14MChkKTtyZXR1cm5cInRyYW5zbGF0ZShcIisoaXNGaW5pdGUodjApP3YwOngxKGQpKStcIiwwKVwifSl9ZnVuY3Rpb24gZDNfc3ZnX2F4aXNZKHNlbGVjdGlvbix5MCx5MSl7c2VsZWN0aW9uLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihkKXt2YXIgdjA9eTAoZCk7cmV0dXJuXCJ0cmFuc2xhdGUoMCxcIisoaXNGaW5pdGUodjApP3YwOnkxKGQpKStcIilcIn0pfWZ1bmN0aW9uIGQzX3RpbWVfZm9ybWF0SXNvTmF0aXZlKGRhdGUpe3JldHVybiBkYXRlLnRvSVNPU3RyaW5nKCl9ZnVuY3Rpb24gZDNfdGltZV9zY2FsZShsaW5lYXIsbWV0aG9kcyxmb3JtYXQpe2Z1bmN0aW9uIHNjYWxlKHgpe3JldHVybiBsaW5lYXIoeCl9ZnVuY3Rpb24gdGlja01ldGhvZChleHRlbnQsY291bnQpe3ZhciBzcGFuPWV4dGVudFsxXS1leHRlbnRbMF0sdGFyZ2V0PXNwYW4vY291bnQsaT1kMy5iaXNlY3QoZDNfdGltZV9zY2FsZVN0ZXBzLHRhcmdldCk7cmV0dXJuIGk9PWQzX3RpbWVfc2NhbGVTdGVwcy5sZW5ndGg/W21ldGhvZHMueWVhcixkM19zY2FsZV9saW5lYXJUaWNrUmFuZ2UoZXh0ZW50Lm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZC8zMTUzNmU2fSksY291bnQpWzJdXTppP21ldGhvZHNbdGFyZ2V0L2QzX3RpbWVfc2NhbGVTdGVwc1tpLTFdPGQzX3RpbWVfc2NhbGVTdGVwc1tpXS90YXJnZXQ/aS0xOmldOltkM190aW1lX3NjYWxlTWlsbGlzZWNvbmRzLGQzX3NjYWxlX2xpbmVhclRpY2tSYW5nZShleHRlbnQsY291bnQpWzJdXX1yZXR1cm4gc2NhbGUuaW52ZXJ0PWZ1bmN0aW9uKHgpe3JldHVybiBkM190aW1lX3NjYWxlRGF0ZShsaW5lYXIuaW52ZXJ0KHgpKX0sc2NhbGUuZG9tYWluPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsaW5lYXIuZG9tYWluKHgpLHNjYWxlKTpsaW5lYXIuZG9tYWluKCkubWFwKGQzX3RpbWVfc2NhbGVEYXRlKX0sc2NhbGUubmljZT1mdW5jdGlvbihpbnRlcnZhbCxza2lwKXtmdW5jdGlvbiBza2lwcGVkKGRhdGUpe3JldHVybiFpc05hTihkYXRlKSYmIWludGVydmFsLnJhbmdlKGRhdGUsZDNfdGltZV9zY2FsZURhdGUoK2RhdGUrMSksc2tpcCkubGVuZ3RofXZhciBkb21haW49c2NhbGUuZG9tYWluKCksZXh0ZW50PWQzX3NjYWxlRXh0ZW50KGRvbWFpbiksbWV0aG9kPW51bGw9PWludGVydmFsP3RpY2tNZXRob2QoZXh0ZW50LDEwKTpcIm51bWJlclwiPT10eXBlb2YgaW50ZXJ2YWwmJnRpY2tNZXRob2QoZXh0ZW50LGludGVydmFsKTtyZXR1cm4gbWV0aG9kJiYoaW50ZXJ2YWw9bWV0aG9kWzBdLHNraXA9bWV0aG9kWzFdKSxzY2FsZS5kb21haW4oZDNfc2NhbGVfbmljZShkb21haW4sc2tpcD4xP3tmbG9vcjpmdW5jdGlvbihkYXRlKXtmb3IoO3NraXBwZWQoZGF0ZT1pbnRlcnZhbC5mbG9vcihkYXRlKSk7KWRhdGU9ZDNfdGltZV9zY2FsZURhdGUoZGF0ZS0xKTtyZXR1cm4gZGF0ZX0sY2VpbDpmdW5jdGlvbihkYXRlKXtmb3IoO3NraXBwZWQoZGF0ZT1pbnRlcnZhbC5jZWlsKGRhdGUpKTspZGF0ZT1kM190aW1lX3NjYWxlRGF0ZSgrZGF0ZSsxKTtyZXR1cm4gZGF0ZX19OmludGVydmFsKSl9LHNjYWxlLnRpY2tzPWZ1bmN0aW9uKGludGVydmFsLHNraXApe3ZhciBleHRlbnQ9ZDNfc2NhbGVFeHRlbnQoc2NhbGUuZG9tYWluKCkpLG1ldGhvZD1udWxsPT1pbnRlcnZhbD90aWNrTWV0aG9kKGV4dGVudCwxMCk6XCJudW1iZXJcIj09dHlwZW9mIGludGVydmFsP3RpY2tNZXRob2QoZXh0ZW50LGludGVydmFsKTohaW50ZXJ2YWwucmFuZ2UmJlt7cmFuZ2U6aW50ZXJ2YWx9LHNraXBdO3JldHVybiBtZXRob2QmJihpbnRlcnZhbD1tZXRob2RbMF0sc2tpcD1tZXRob2RbMV0pLGludGVydmFsLnJhbmdlKGV4dGVudFswXSxkM190aW1lX3NjYWxlRGF0ZSgrZXh0ZW50WzFdKzEpLDE+c2tpcD8xOnNraXApfSxzY2FsZS50aWNrRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIGZvcm1hdH0sc2NhbGUuY29weT1mdW5jdGlvbigpe3JldHVybiBkM190aW1lX3NjYWxlKGxpbmVhci5jb3B5KCksbWV0aG9kcyxmb3JtYXQpfSxkM19zY2FsZV9saW5lYXJSZWJpbmQoc2NhbGUsbGluZWFyKX1mdW5jdGlvbiBkM190aW1lX3NjYWxlRGF0ZSh0KXtyZXR1cm4gbmV3IERhdGUodCl9ZnVuY3Rpb24gZDNfanNvbihyZXF1ZXN0KXtyZXR1cm4gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCl9ZnVuY3Rpb24gZDNfaHRtbChyZXF1ZXN0KXt2YXIgcmFuZ2U9ZDNfZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gcmFuZ2Uuc2VsZWN0Tm9kZShkM19kb2N1bWVudC5ib2R5KSxyYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQocmVxdWVzdC5yZXNwb25zZVRleHQpfXZhciBkMz17dmVyc2lvbjpcIjMuNS42XCJ9LGQzX2FycmF5U2xpY2U9W10uc2xpY2UsZDNfYXJyYXk9ZnVuY3Rpb24obGlzdCl7cmV0dXJuIGQzX2FycmF5U2xpY2UuY2FsbChsaXN0KX0sZDNfZG9jdW1lbnQ9dGhpcy5kb2N1bWVudDtpZihkM19kb2N1bWVudCl0cnl7ZDNfYXJyYXkoZDNfZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNoaWxkTm9kZXMpWzBdLm5vZGVUeXBlfWNhdGNoKGUpe2QzX2FycmF5PWZ1bmN0aW9uKGxpc3Qpe2Zvcih2YXIgaT1saXN0Lmxlbmd0aCxhcnJheT1uZXcgQXJyYXkoaSk7aS0tOylhcnJheVtpXT1saXN0W2ldO3JldHVybiBhcnJheX19aWYoRGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0pLGQzX2RvY3VtZW50KXRyeXtkM19kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLnN0eWxlLnNldFByb3BlcnR5KFwib3BhY2l0eVwiLDAsXCJcIil9Y2F0Y2goZXJyb3Ipe3ZhciBkM19lbGVtZW50X3Byb3RvdHlwZT10aGlzLkVsZW1lbnQucHJvdG90eXBlLGQzX2VsZW1lbnRfc2V0QXR0cmlidXRlPWQzX2VsZW1lbnRfcHJvdG90eXBlLnNldEF0dHJpYnV0ZSxkM19lbGVtZW50X3NldEF0dHJpYnV0ZU5TPWQzX2VsZW1lbnRfcHJvdG90eXBlLnNldEF0dHJpYnV0ZU5TLGQzX3N0eWxlX3Byb3RvdHlwZT10aGlzLkNTU1N0eWxlRGVjbGFyYXRpb24ucHJvdG90eXBlLGQzX3N0eWxlX3NldFByb3BlcnR5PWQzX3N0eWxlX3Byb3RvdHlwZS5zZXRQcm9wZXJ0eTtkM19lbGVtZW50X3Byb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24obmFtZSx2YWx1ZSl7ZDNfZWxlbWVudF9zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLG5hbWUsdmFsdWUrXCJcIil9LGQzX2VsZW1lbnRfcHJvdG90eXBlLnNldEF0dHJpYnV0ZU5TPWZ1bmN0aW9uKHNwYWNlLGxvY2FsLHZhbHVlKXtkM19lbGVtZW50X3NldEF0dHJpYnV0ZU5TLmNhbGwodGhpcyxzcGFjZSxsb2NhbCx2YWx1ZStcIlwiKX0sZDNfc3R5bGVfcHJvdG90eXBlLnNldFByb3BlcnR5PWZ1bmN0aW9uKG5hbWUsdmFsdWUscHJpb3JpdHkpe2QzX3N0eWxlX3NldFByb3BlcnR5LmNhbGwodGhpcyxuYW1lLHZhbHVlK1wiXCIscHJpb3JpdHkpfX1kMy5hc2NlbmRpbmc9ZDNfYXNjZW5kaW5nLGQzLmRlc2NlbmRpbmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iPy0xOmI+YT8xOmI+PWE/MDpOYU59LGQzLm1pbj1mdW5jdGlvbihhcnJheSxmKXt2YXIgYSxiLGk9LTEsbj1hcnJheS5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcig7KytpPG47KWlmKG51bGwhPShiPWFycmF5W2ldKSYmYj49Yil7YT1iO2JyZWFrfWZvcig7KytpPG47KW51bGwhPShiPWFycmF5W2ldKSYmYT5iJiYoYT1iKX1lbHNle2Zvcig7KytpPG47KWlmKG51bGwhPShiPWYuY2FsbChhcnJheSxhcnJheVtpXSxpKSkmJmI+PWIpe2E9YjticmVha31mb3IoOysraTxuOyludWxsIT0oYj1mLmNhbGwoYXJyYXksYXJyYXlbaV0saSkpJiZhPmImJihhPWIpfXJldHVybiBhfSxkMy5tYXg9ZnVuY3Rpb24oYXJyYXksZil7dmFyIGEsYixpPS0xLG49YXJyYXkubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoOysraTxuOylpZihudWxsIT0oYj1hcnJheVtpXSkmJmI+PWIpe2E9YjticmVha31mb3IoOysraTxuOyludWxsIT0oYj1hcnJheVtpXSkmJmI+YSYmKGE9Yil9ZWxzZXtmb3IoOysraTxuOylpZihudWxsIT0oYj1mLmNhbGwoYXJyYXksYXJyYXlbaV0saSkpJiZiPj1iKXthPWI7YnJlYWt9Zm9yKDsrK2k8bjspbnVsbCE9KGI9Zi5jYWxsKGFycmF5LGFycmF5W2ldLGkpKSYmYj5hJiYoYT1iKX1yZXR1cm4gYX0sZDMuZXh0ZW50PWZ1bmN0aW9uKGFycmF5LGYpe3ZhciBhLGIsYyxpPS0xLG49YXJyYXkubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoOysraTxuOylpZihudWxsIT0oYj1hcnJheVtpXSkmJmI+PWIpe2E9Yz1iO2JyZWFrfWZvcig7KytpPG47KW51bGwhPShiPWFycmF5W2ldKSYmKGE+YiYmKGE9YiksYj5jJiYoYz1iKSl9ZWxzZXtmb3IoOysraTxuOylpZihudWxsIT0oYj1mLmNhbGwoYXJyYXksYXJyYXlbaV0saSkpJiZiPj1iKXthPWM9YjticmVha31mb3IoOysraTxuOyludWxsIT0oYj1mLmNhbGwoYXJyYXksYXJyYXlbaV0saSkpJiYoYT5iJiYoYT1iKSxiPmMmJihjPWIpKX1yZXR1cm5bYSxjXX0sZDMuc3VtPWZ1bmN0aW9uKGFycmF5LGYpe3ZhciBhLHM9MCxuPWFycmF5Lmxlbmd0aCxpPS0xO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytpPG47KWQzX251bWVyaWMoYT0rYXJyYXlbaV0pJiYocys9YSk7ZWxzZSBmb3IoOysraTxuOylkM19udW1lcmljKGE9K2YuY2FsbChhcnJheSxhcnJheVtpXSxpKSkmJihzKz1hKTtyZXR1cm4gc30sZDMubWVhbj1mdW5jdGlvbihhcnJheSxmKXt2YXIgYSxzPTAsbj1hcnJheS5sZW5ndGgsaT0tMSxqPW47aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDsrK2k8bjspZDNfbnVtZXJpYyhhPWQzX251bWJlcihhcnJheVtpXSkpP3MrPWE6LS1qO2Vsc2UgZm9yKDsrK2k8bjspZDNfbnVtZXJpYyhhPWQzX251bWJlcihmLmNhbGwoYXJyYXksYXJyYXlbaV0saSkpKT9zKz1hOi0tajtyZXR1cm4gaj9zL2o6dm9pZCAwfSxkMy5xdWFudGlsZT1mdW5jdGlvbih2YWx1ZXMscCl7dmFyIEg9KHZhbHVlcy5sZW5ndGgtMSkqcCsxLGg9TWF0aC5mbG9vcihIKSx2PSt2YWx1ZXNbaC0xXSxlPUgtaDtyZXR1cm4gZT92K2UqKHZhbHVlc1toXS12KTp2fSxkMy5tZWRpYW49ZnVuY3Rpb24oYXJyYXksZil7dmFyIGEsbnVtYmVycz1bXSxuPWFycmF5Lmxlbmd0aCxpPS0xO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytpPG47KWQzX251bWVyaWMoYT1kM19udW1iZXIoYXJyYXlbaV0pKSYmbnVtYmVycy5wdXNoKGEpO2Vsc2UgZm9yKDsrK2k8bjspZDNfbnVtZXJpYyhhPWQzX251bWJlcihmLmNhbGwoYXJyYXksYXJyYXlbaV0saSkpKSYmbnVtYmVycy5wdXNoKGEpO3JldHVybiBudW1iZXJzLmxlbmd0aD9kMy5xdWFudGlsZShudW1iZXJzLnNvcnQoZDNfYXNjZW5kaW5nKSwuNSk6dm9pZCAwfSxkMy52YXJpYW5jZT1mdW5jdGlvbihhcnJheSxmKXt2YXIgYSxkLG49YXJyYXkubGVuZ3RoLG09MCxzPTAsaT0tMSxqPTA7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDsrK2k8bjspZDNfbnVtZXJpYyhhPWQzX251bWJlcihhcnJheVtpXSkpJiYoZD1hLW0sbSs9ZC8rK2oscys9ZCooYS1tKSk7ZWxzZSBmb3IoOysraTxuOylkM19udW1lcmljKGE9ZDNfbnVtYmVyKGYuY2FsbChhcnJheSxhcnJheVtpXSxpKSkpJiYoZD1hLW0sbSs9ZC8rK2oscys9ZCooYS1tKSk7cmV0dXJuIGo+MT9zLyhqLTEpOnZvaWQgMH0sZDMuZGV2aWF0aW9uPWZ1bmN0aW9uKCl7dmFyIHY9ZDMudmFyaWFuY2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2P01hdGguc3FydCh2KTp2fTt2YXIgZDNfYmlzZWN0PWQzX2Jpc2VjdG9yKGQzX2FzY2VuZGluZyk7ZDMuYmlzZWN0TGVmdD1kM19iaXNlY3QubGVmdCxkMy5iaXNlY3Q9ZDMuYmlzZWN0UmlnaHQ9ZDNfYmlzZWN0LnJpZ2h0LGQzLmJpc2VjdG9yPWZ1bmN0aW9uKGYpe3JldHVybiBkM19iaXNlY3RvcigxPT09Zi5sZW5ndGg/ZnVuY3Rpb24oZCx4KXtyZXR1cm4gZDNfYXNjZW5kaW5nKGYoZCkseCl9OmYpfSxkMy5zaHVmZmxlPWZ1bmN0aW9uKGFycmF5LGkwLGkxKXsobT1hcmd1bWVudHMubGVuZ3RoKTwzJiYoaTE9YXJyYXkubGVuZ3RoLDI+bSYmKGkwPTApKTtmb3IodmFyIHQsaSxtPWkxLWkwO207KWk9TWF0aC5yYW5kb20oKSptLS18MCx0PWFycmF5W20raTBdLGFycmF5W20raTBdPWFycmF5W2kraTBdLGFycmF5W2kraTBdPXQ7cmV0dXJuIGFycmF5fSxkMy5wZXJtdXRlPWZ1bmN0aW9uKGFycmF5LGluZGV4ZXMpe2Zvcih2YXIgaT1pbmRleGVzLmxlbmd0aCxwZXJtdXRlcz1uZXcgQXJyYXkoaSk7aS0tOylwZXJtdXRlc1tpXT1hcnJheVtpbmRleGVzW2ldXTtyZXR1cm4gcGVybXV0ZXN9LGQzLnBhaXJzPWZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIHAwLGk9MCxuPWFycmF5Lmxlbmd0aC0xLHAxPWFycmF5WzBdLHBhaXJzPW5ldyBBcnJheSgwPm4/MDpuKTtuPmk7KXBhaXJzW2ldPVtwMD1wMSxwMT1hcnJheVsrK2ldXTtyZXR1cm4gcGFpcnN9LGQzLnppcD1mdW5jdGlvbigpe2lmKCEobj1hcmd1bWVudHMubGVuZ3RoKSlyZXR1cm5bXTtmb3IodmFyIGk9LTEsbT1kMy5taW4oYXJndW1lbnRzLGQzX3ppcExlbmd0aCksemlwcz1uZXcgQXJyYXkobSk7KytpPG07KWZvcih2YXIgbixqPS0xLHppcD16aXBzW2ldPW5ldyBBcnJheShuKTsrK2o8bjspemlwW2pdPWFyZ3VtZW50c1tqXVtpXTtyZXR1cm4gemlwc30sZDMudHJhbnNwb3NlPWZ1bmN0aW9uKG1hdHJpeCl7cmV0dXJuIGQzLnppcC5hcHBseShkMyxtYXRyaXgpfSxkMy5rZXlzPWZ1bmN0aW9uKG1hcCl7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gbWFwKWtleXMucHVzaChrZXkpO3JldHVybiBrZXlzfSxkMy52YWx1ZXM9ZnVuY3Rpb24obWFwKXt2YXIgdmFsdWVzPVtdO2Zvcih2YXIga2V5IGluIG1hcCl2YWx1ZXMucHVzaChtYXBba2V5XSk7cmV0dXJuIHZhbHVlc30sZDMuZW50cmllcz1mdW5jdGlvbihtYXApe3ZhciBlbnRyaWVzPVtdO2Zvcih2YXIga2V5IGluIG1hcCllbnRyaWVzLnB1c2goe2tleTprZXksdmFsdWU6bWFwW2tleV19KTtyZXR1cm4gZW50cmllc30sZDMubWVyZ2U9ZnVuY3Rpb24oYXJyYXlzKXtmb3IodmFyIG0sbWVyZ2VkLGFycmF5LG49YXJyYXlzLmxlbmd0aCxpPS0xLGo9MDsrK2k8bjspais9YXJyYXlzW2ldLmxlbmd0aDtmb3IobWVyZ2VkPW5ldyBBcnJheShqKTstLW4+PTA7KWZvcihhcnJheT1hcnJheXNbbl0sbT1hcnJheS5sZW5ndGg7LS1tPj0wOyltZXJnZWRbLS1qXT1hcnJheVttXTtyZXR1cm4gbWVyZ2VkfTt2YXIgYWJzPU1hdGguYWJzO2QzLnJhbmdlPWZ1bmN0aW9uKHN0YXJ0LHN0b3Asc3RlcCl7aWYoYXJndW1lbnRzLmxlbmd0aDwzJiYoc3RlcD0xLGFyZ3VtZW50cy5sZW5ndGg8MiYmKHN0b3A9c3RhcnQsc3RhcnQ9MCkpLChzdG9wLXN0YXJ0KS9zdGVwPT09MS8wKXRocm93IG5ldyBFcnJvcihcImluZmluaXRlIHJhbmdlXCIpO3ZhciBqLHJhbmdlPVtdLGs9ZDNfcmFuZ2VfaW50ZWdlclNjYWxlKGFicyhzdGVwKSksaT0tMTtpZihzdGFydCo9ayxzdG9wKj1rLHN0ZXAqPWssMD5zdGVwKWZvcig7KGo9c3RhcnQrc3RlcCorK2kpPnN0b3A7KXJhbmdlLnB1c2goai9rKTtlbHNlIGZvcig7KGo9c3RhcnQrc3RlcCorK2kpPHN0b3A7KXJhbmdlLnB1c2goai9rKTtyZXR1cm4gcmFuZ2V9LGQzLm1hcD1mdW5jdGlvbihvYmplY3QsZil7dmFyIG1hcD1uZXcgZDNfTWFwO2lmKG9iamVjdCBpbnN0YW5jZW9mIGQzX01hcClvYmplY3QuZm9yRWFjaChmdW5jdGlvbihrZXksdmFsdWUpe21hcC5zZXQoa2V5LHZhbHVlKX0pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShvYmplY3QpKXt2YXIgbyxpPS0xLG49b2JqZWN0Lmxlbmd0aDtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOysraTxuOyltYXAuc2V0KGksb2JqZWN0W2ldKTtlbHNlIGZvcig7KytpPG47KW1hcC5zZXQoZi5jYWxsKG9iamVjdCxvPW9iamVjdFtpXSxpKSxvKX1lbHNlIGZvcih2YXIga2V5IGluIG9iamVjdCltYXAuc2V0KGtleSxvYmplY3Rba2V5XSk7cmV0dXJuIG1hcH07dmFyIGQzX21hcF9wcm90bz1cIl9fcHJvdG9fX1wiLGQzX21hcF96ZXJvPVwiXFx4MDBcIjtkM19jbGFzcyhkM19NYXAse2hhczpkM19tYXBfaGFzLGdldDpmdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLl9bZDNfbWFwX2VzY2FwZShrZXkpXX0sc2V0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIHRoaXMuX1tkM19tYXBfZXNjYXBlKGtleSldPXZhbHVlfSxyZW1vdmU6ZDNfbWFwX3JlbW92ZSxrZXlzOmQzX21hcF9rZXlzLHZhbHVlczpmdW5jdGlvbigpe3ZhciB2YWx1ZXM9W107Zm9yKHZhciBrZXkgaW4gdGhpcy5fKXZhbHVlcy5wdXNoKHRoaXMuX1trZXldKTtyZXR1cm4gdmFsdWVzfSxlbnRyaWVzOmZ1bmN0aW9uKCl7dmFyIGVudHJpZXM9W107Zm9yKHZhciBrZXkgaW4gdGhpcy5fKWVudHJpZXMucHVzaCh7a2V5OmQzX21hcF91bmVzY2FwZShrZXkpLHZhbHVlOnRoaXMuX1trZXldfSk7cmV0dXJuIGVudHJpZXN9LHNpemU6ZDNfbWFwX3NpemUsZW1wdHk6ZDNfbWFwX2VtcHR5LGZvckVhY2g6ZnVuY3Rpb24oZil7Zm9yKHZhciBrZXkgaW4gdGhpcy5fKWYuY2FsbCh0aGlzLGQzX21hcF91bmVzY2FwZShrZXkpLHRoaXMuX1trZXldKX19KSxkMy5uZXN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbWFwKG1hcFR5cGUsYXJyYXksZGVwdGgpe2lmKGRlcHRoPj1rZXlzLmxlbmd0aClyZXR1cm4gcm9sbHVwP3JvbGx1cC5jYWxsKG5lc3QsYXJyYXkpOnNvcnRWYWx1ZXM/YXJyYXkuc29ydChzb3J0VmFsdWVzKTphcnJheTtmb3IodmFyIGtleVZhbHVlLG9iamVjdCxzZXR0ZXIsdmFsdWVzLGk9LTEsbj1hcnJheS5sZW5ndGgsa2V5PWtleXNbZGVwdGgrK10sdmFsdWVzQnlLZXk9bmV3IGQzX01hcDsrK2k8bjspKHZhbHVlcz12YWx1ZXNCeUtleS5nZXQoa2V5VmFsdWU9a2V5KG9iamVjdD1hcnJheVtpXSkpKT92YWx1ZXMucHVzaChvYmplY3QpOnZhbHVlc0J5S2V5LnNldChrZXlWYWx1ZSxbb2JqZWN0XSk7cmV0dXJuIG1hcFR5cGU/KG9iamVjdD1tYXBUeXBlKCksc2V0dGVyPWZ1bmN0aW9uKGtleVZhbHVlLHZhbHVlcyl7b2JqZWN0LnNldChrZXlWYWx1ZSxtYXAobWFwVHlwZSx2YWx1ZXMsZGVwdGgpKX0pOihvYmplY3Q9e30sc2V0dGVyPWZ1bmN0aW9uKGtleVZhbHVlLHZhbHVlcyl7b2JqZWN0W2tleVZhbHVlXT1tYXAobWFwVHlwZSx2YWx1ZXMsZGVwdGgpfSksdmFsdWVzQnlLZXkuZm9yRWFjaChzZXR0ZXIpLG9iamVjdH1mdW5jdGlvbiBlbnRyaWVzKG1hcCxkZXB0aCl7aWYoZGVwdGg+PWtleXMubGVuZ3RoKXJldHVybiBtYXA7dmFyIGFycmF5PVtdLHNvcnRLZXk9c29ydEtleXNbZGVwdGgrK107cmV0dXJuIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKGtleSxrZXlNYXApe2FycmF5LnB1c2goe2tleTprZXksdmFsdWVzOmVudHJpZXMoa2V5TWFwLGRlcHRoKX0pfSksc29ydEtleT9hcnJheS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIHNvcnRLZXkoYS5rZXksYi5rZXkpfSk6YXJyYXl9dmFyIHNvcnRWYWx1ZXMscm9sbHVwLG5lc3Q9e30sa2V5cz1bXSxzb3J0S2V5cz1bXTtyZXR1cm4gbmVzdC5tYXA9ZnVuY3Rpb24oYXJyYXksbWFwVHlwZSl7cmV0dXJuIG1hcChtYXBUeXBlLGFycmF5LDApfSxuZXN0LmVudHJpZXM9ZnVuY3Rpb24oYXJyYXkpe3JldHVybiBlbnRyaWVzKG1hcChkMy5tYXAsYXJyYXksMCksMCl9LG5lc3Qua2V5PWZ1bmN0aW9uKGQpe3JldHVybiBrZXlzLnB1c2goZCksbmVzdH0sbmVzdC5zb3J0S2V5cz1mdW5jdGlvbihvcmRlcil7cmV0dXJuIHNvcnRLZXlzW2tleXMubGVuZ3RoLTFdPW9yZGVyLG5lc3R9LG5lc3Quc29ydFZhbHVlcz1mdW5jdGlvbihvcmRlcil7cmV0dXJuIHNvcnRWYWx1ZXM9b3JkZXIsbmVzdH0sbmVzdC5yb2xsdXA9ZnVuY3Rpb24oZil7cmV0dXJuIHJvbGx1cD1mLG5lc3R9LG5lc3R9LGQzLnNldD1mdW5jdGlvbihhcnJheSl7dmFyIHNldD1uZXcgZDNfU2V0O2lmKGFycmF5KWZvcih2YXIgaT0wLG49YXJyYXkubGVuZ3RoO24+aTsrK2kpc2V0LmFkZChhcnJheVtpXSk7cmV0dXJuIHNldH0sZDNfY2xhc3MoZDNfU2V0LHtoYXM6ZDNfbWFwX2hhcyxhZGQ6ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpcy5fW2QzX21hcF9lc2NhcGUoa2V5Kz1cIlwiKV09ITAsa2V5fSxyZW1vdmU6ZDNfbWFwX3JlbW92ZSx2YWx1ZXM6ZDNfbWFwX2tleXMsc2l6ZTpkM19tYXBfc2l6ZSxlbXB0eTpkM19tYXBfZW1wdHksZm9yRWFjaDpmdW5jdGlvbihmKXtmb3IodmFyIGtleSBpbiB0aGlzLl8pZi5jYWxsKHRoaXMsZDNfbWFwX3VuZXNjYXBlKGtleSkpfX0pLGQzLmJlaGF2aW9yPXt9LGQzLnJlYmluZD1mdW5jdGlvbih0YXJnZXQsc291cmNlKXtmb3IodmFyIG1ldGhvZCxpPTEsbj1hcmd1bWVudHMubGVuZ3RoOysraTxuOyl0YXJnZXRbbWV0aG9kPWFyZ3VtZW50c1tpXV09ZDNfcmViaW5kKHRhcmdldCxzb3VyY2Usc291cmNlW21ldGhvZF0pO3JldHVybiB0YXJnZXR9O3ZhciBkM192ZW5kb3JQcmVmaXhlcz1bXCJ3ZWJraXRcIixcIm1zXCIsXCJtb3pcIixcIk1velwiLFwib1wiLFwiT1wiXTtkMy5kaXNwYXRjaD1mdW5jdGlvbigpe2Zvcih2YXIgZGlzcGF0Y2g9bmV3IGQzX2Rpc3BhdGNoLGk9LTEsbj1hcmd1bWVudHMubGVuZ3RoOysraTxuOylkaXNwYXRjaFthcmd1bWVudHNbaV1dPWQzX2Rpc3BhdGNoX2V2ZW50KGRpc3BhdGNoKTtyZXR1cm4gZGlzcGF0Y2h9LGQzX2Rpc3BhdGNoLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgaT10eXBlLmluZGV4T2YoXCIuXCIpLG5hbWU9XCJcIjtpZihpPj0wJiYobmFtZT10eXBlLnNsaWNlKGkrMSksdHlwZT10eXBlLnNsaWNlKDAsaSkpLHR5cGUpcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzW3R5cGVdLm9uKG5hbWUpOnRoaXNbdHlwZV0ub24obmFtZSxsaXN0ZW5lcik7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKG51bGw9PWxpc3RlbmVyKWZvcih0eXBlIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSYmdGhpc1t0eXBlXS5vbihuYW1lLG51bGwpO3JldHVybiB0aGlzfX0sZDMuZXZlbnQ9bnVsbCxkMy5yZXF1b3RlPWZ1bmN0aW9uKHMpe3JldHVybiBzLnJlcGxhY2UoZDNfcmVxdW90ZV9yZSxcIlxcXFwkJlwiKX07dmFyIGQzX3JlcXVvdGVfcmU9L1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nLGQzX3N1YmNsYXNzPXt9Ll9fcHJvdG9fXz9mdW5jdGlvbihvYmplY3QscHJvdG90eXBlKXtvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX06ZnVuY3Rpb24ob2JqZWN0LHByb3RvdHlwZSl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBwcm90b3R5cGUpb2JqZWN0W3Byb3BlcnR5XT1wcm90b3R5cGVbcHJvcGVydHldfSxkM19zZWxlY3Q9ZnVuY3Rpb24ocyxuKXtyZXR1cm4gbi5xdWVyeVNlbGVjdG9yKHMpfSxkM19zZWxlY3RBbGw9ZnVuY3Rpb24ocyxuKXtyZXR1cm4gbi5xdWVyeVNlbGVjdG9yQWxsKHMpfSxkM19zZWxlY3RNYXRjaGVzPWZ1bmN0aW9uKG4scyl7dmFyIGQzX3NlbGVjdE1hdGNoZXI9bi5tYXRjaGVzfHxuW2QzX3ZlbmRvclN5bWJvbChuLFwibWF0Y2hlc1NlbGVjdG9yXCIpXTtyZXR1cm4oZDNfc2VsZWN0TWF0Y2hlcz1mdW5jdGlvbihuLHMpe3JldHVybiBkM19zZWxlY3RNYXRjaGVyLmNhbGwobixzKX0pKG4scyl9O1wiZnVuY3Rpb25cIj09dHlwZW9mIFNpenpsZSYmKGQzX3NlbGVjdD1mdW5jdGlvbihzLG4pe3JldHVybiBTaXp6bGUocyxuKVswXXx8bnVsbH0sZDNfc2VsZWN0QWxsPVNpenpsZSxkM19zZWxlY3RNYXRjaGVzPVNpenpsZS5tYXRjaGVzU2VsZWN0b3IpLGQzLnNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBkMy5zZWxlY3QoZDNfZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KX07dmFyIGQzX3NlbGVjdGlvblByb3RvdHlwZT1kMy5zZWxlY3Rpb24ucHJvdG90eXBlPVtdO2QzX3NlbGVjdGlvblByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oc2VsZWN0b3Ipe3ZhciBzdWJncm91cCxzdWJub2RlLGdyb3VwLG5vZGUsc3ViZ3JvdXBzPVtdO3NlbGVjdG9yPWQzX3NlbGVjdGlvbl9zZWxlY3RvcihzZWxlY3Rvcik7Zm9yKHZhciBqPS0xLG09dGhpcy5sZW5ndGg7KytqPG07KXtzdWJncm91cHMucHVzaChzdWJncm91cD1bXSksc3ViZ3JvdXAucGFyZW50Tm9kZT0oZ3JvdXA9dGhpc1tqXSkucGFyZW50Tm9kZTtmb3IodmFyIGk9LTEsbj1ncm91cC5sZW5ndGg7KytpPG47KShub2RlPWdyb3VwW2ldKT8oc3ViZ3JvdXAucHVzaChzdWJub2RlPXNlbGVjdG9yLmNhbGwobm9kZSxub2RlLl9fZGF0YV9fLGksaikpLHN1Ym5vZGUmJlwiX19kYXRhX19cImluIG5vZGUmJihzdWJub2RlLl9fZGF0YV9fPW5vZGUuX19kYXRhX18pKTpzdWJncm91cC5wdXNoKG51bGwpfXJldHVybiBkM19zZWxlY3Rpb24oc3ViZ3JvdXBzKX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLnNlbGVjdEFsbD1mdW5jdGlvbihzZWxlY3Rvcil7dmFyIHN1Ymdyb3VwLG5vZGUsc3ViZ3JvdXBzPVtdO3NlbGVjdG9yPWQzX3NlbGVjdGlvbl9zZWxlY3RvckFsbChzZWxlY3Rvcik7Zm9yKHZhciBqPS0xLG09dGhpcy5sZW5ndGg7KytqPG07KWZvcih2YXIgZ3JvdXA9dGhpc1tqXSxpPS0xLG49Z3JvdXAubGVuZ3RoOysraTxuOykobm9kZT1ncm91cFtpXSkmJihzdWJncm91cHMucHVzaChzdWJncm91cD1kM19hcnJheShzZWxlY3Rvci5jYWxsKG5vZGUsbm9kZS5fX2RhdGFfXyxpLGopKSksc3ViZ3JvdXAucGFyZW50Tm9kZT1ub2RlKTtyZXR1cm4gZDNfc2VsZWN0aW9uKHN1Ymdyb3Vwcyl9O3ZhciBkM19uc1ByZWZpeD17c3ZnOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix4aHRtbDpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIix4bGluazpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIix4bWw6XCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCJ9O2QzLm5zPXtwcmVmaXg6ZDNfbnNQcmVmaXgscXVhbGlmeTpmdW5jdGlvbihuYW1lKXt2YXIgaT1uYW1lLmluZGV4T2YoXCI6XCIpLHByZWZpeD1uYW1lO3JldHVybiBpPj0wJiYocHJlZml4PW5hbWUuc2xpY2UoMCxpKSxuYW1lPW5hbWUuc2xpY2UoaSsxKSksZDNfbnNQcmVmaXguaGFzT3duUHJvcGVydHkocHJlZml4KT97c3BhY2U6ZDNfbnNQcmVmaXhbcHJlZml4XSxsb2NhbDpuYW1lfTpuYW1lfX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLmF0dHI9ZnVuY3Rpb24obmFtZSx2YWx1ZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgbmFtZSl7dmFyIG5vZGU9dGhpcy5ub2RlKCk7cmV0dXJuIG5hbWU9ZDMubnMucXVhbGlmeShuYW1lKSxuYW1lLmxvY2FsP25vZGUuZ2V0QXR0cmlidXRlTlMobmFtZS5zcGFjZSxuYW1lLmxvY2FsKTpub2RlLmdldEF0dHJpYnV0ZShuYW1lKX1mb3IodmFsdWUgaW4gbmFtZSl0aGlzLmVhY2goZDNfc2VsZWN0aW9uX2F0dHIodmFsdWUsbmFtZVt2YWx1ZV0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKGQzX3NlbGVjdGlvbl9hdHRyKG5hbWUsdmFsdWUpKX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLmNsYXNzZWQ9ZnVuY3Rpb24obmFtZSx2YWx1ZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgbmFtZSl7dmFyIG5vZGU9dGhpcy5ub2RlKCksbj0obmFtZT1kM19zZWxlY3Rpb25fY2xhc3NlcyhuYW1lKSkubGVuZ3RoLGk9LTE7aWYodmFsdWU9bm9kZS5jbGFzc0xpc3Qpe2Zvcig7KytpPG47KWlmKCF2YWx1ZS5jb250YWlucyhuYW1lW2ldKSlyZXR1cm4hMX1lbHNlIGZvcih2YWx1ZT1ub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpOysraTxuOylpZighZDNfc2VsZWN0aW9uX2NsYXNzZWRSZShuYW1lW2ldKS50ZXN0KHZhbHVlKSlyZXR1cm4hMTtyZXR1cm4hMH1mb3IodmFsdWUgaW4gbmFtZSl0aGlzLmVhY2goZDNfc2VsZWN0aW9uX2NsYXNzZWQodmFsdWUsbmFtZVt2YWx1ZV0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKGQzX3NlbGVjdGlvbl9jbGFzc2VkKG5hbWUsdmFsdWUpKX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLnN0eWxlPWZ1bmN0aW9uKG5hbWUsdmFsdWUscHJpb3JpdHkpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg7aWYoMz5uKXtpZihcInN0cmluZ1wiIT10eXBlb2YgbmFtZSl7Mj5uJiYodmFsdWU9XCJcIik7Zm9yKHByaW9yaXR5IGluIG5hbWUpdGhpcy5lYWNoKGQzX3NlbGVjdGlvbl9zdHlsZShwcmlvcml0eSxuYW1lW3ByaW9yaXR5XSx2YWx1ZSkpO3JldHVybiB0aGlzfWlmKDI+bil7dmFyIG5vZGU9dGhpcy5ub2RlKCk7cmV0dXJuIGQzX3dpbmRvdyhub2RlKS5nZXRDb21wdXRlZFN0eWxlKG5vZGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKX1wcmlvcml0eT1cIlwifXJldHVybiB0aGlzLmVhY2goZDNfc2VsZWN0aW9uX3N0eWxlKG5hbWUsdmFsdWUscHJpb3JpdHkpKX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLnByb3BlcnR5PWZ1bmN0aW9uKG5hbWUsdmFsdWUpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG5hbWUpcmV0dXJuIHRoaXMubm9kZSgpW25hbWVdO2Zvcih2YWx1ZSBpbiBuYW1lKXRoaXMuZWFjaChkM19zZWxlY3Rpb25fcHJvcGVydHkodmFsdWUsbmFtZVt2YWx1ZV0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKGQzX3NlbGVjdGlvbl9wcm9wZXJ0eShuYW1lLHZhbHVlKSl9LGQzX3NlbGVjdGlvblByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmVhY2goXCJmdW5jdGlvblwiPT10eXBlb2YgdmFsdWU/ZnVuY3Rpb24oKXt2YXIgdj12YWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50ZXh0Q29udGVudD1udWxsPT12P1wiXCI6dn06bnVsbD09dmFsdWU/ZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50PVwiXCJ9OmZ1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD12YWx1ZX0pOnRoaXMubm9kZSgpLnRleHRDb250ZW50fSxkM19zZWxlY3Rpb25Qcm90b3R5cGUuaHRtbD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKFwiZnVuY3Rpb25cIj09dHlwZW9mIHZhbHVlP2Z1bmN0aW9uKCl7dmFyIHY9dmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaW5uZXJIVE1MPW51bGw9PXY/XCJcIjp2fTpudWxsPT12YWx1ZT9mdW5jdGlvbigpe3RoaXMuaW5uZXJIVE1MPVwiXCJ9OmZ1bmN0aW9uKCl7dGhpcy5pbm5lckhUTUw9dmFsdWV9KTp0aGlzLm5vZGUoKS5pbm5lckhUTUx9LGQzX3NlbGVjdGlvblByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24obmFtZSl7cmV0dXJuIG5hbWU9ZDNfc2VsZWN0aW9uX2NyZWF0b3IobmFtZSksdGhpcy5zZWxlY3QoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBlbmRDaGlsZChuYW1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihuYW1lLGJlZm9yZSl7cmV0dXJuIG5hbWU9ZDNfc2VsZWN0aW9uX2NyZWF0b3IobmFtZSksYmVmb3JlPWQzX3NlbGVjdGlvbl9zZWxlY3RvcihiZWZvcmUpLHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKG5hbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGJlZm9yZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fG51bGwpfSl9LGQzX3NlbGVjdGlvblByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGQzX3NlbGVjdGlvblJlbW92ZSl9LGQzX3NlbGVjdGlvblByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKHZhbHVlLGtleSl7ZnVuY3Rpb24gYmluZChncm91cCxncm91cERhdGEpe3ZhciBpLG5vZGUsbm9kZURhdGEsbj1ncm91cC5sZW5ndGgsbT1ncm91cERhdGEubGVuZ3RoLG4wPU1hdGgubWluKG4sbSksdXBkYXRlTm9kZXM9bmV3IEFycmF5KG0pLGVudGVyTm9kZXM9bmV3IEFycmF5KG0pLGV4aXROb2Rlcz1uZXcgQXJyYXkobik7aWYoa2V5KXt2YXIga2V5VmFsdWUsbm9kZUJ5S2V5VmFsdWU9bmV3IGQzX01hcCxrZXlWYWx1ZXM9bmV3IEFycmF5KG4pO2ZvcihpPS0xOysraTxuOylub2RlQnlLZXlWYWx1ZS5oYXMoa2V5VmFsdWU9a2V5LmNhbGwobm9kZT1ncm91cFtpXSxub2RlLl9fZGF0YV9fLGkpKT9leGl0Tm9kZXNbaV09bm9kZTpub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsbm9kZSksa2V5VmFsdWVzW2ldPWtleVZhbHVlO2ZvcihpPS0xOysraTxtOykobm9kZT1ub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWU9a2V5LmNhbGwoZ3JvdXBEYXRhLG5vZGVEYXRhPWdyb3VwRGF0YVtpXSxpKSkpP25vZGUhPT0hMCYmKHVwZGF0ZU5vZGVzW2ldPW5vZGUsbm9kZS5fX2RhdGFfXz1ub2RlRGF0YSk6ZW50ZXJOb2Rlc1tpXT1kM19zZWxlY3Rpb25fZGF0YU5vZGUobm9kZURhdGEpLG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwhMCk7Zm9yKGk9LTE7KytpPG47KW5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZXNbaV0pIT09ITAmJihleGl0Tm9kZXNbaV09Z3JvdXBbaV0pfWVsc2V7Zm9yKGk9LTE7KytpPG4wOylub2RlPWdyb3VwW2ldLG5vZGVEYXRhPWdyb3VwRGF0YVtpXSxub2RlPyhub2RlLl9fZGF0YV9fPW5vZGVEYXRhLHVwZGF0ZU5vZGVzW2ldPW5vZGUpOmVudGVyTm9kZXNbaV09ZDNfc2VsZWN0aW9uX2RhdGFOb2RlKG5vZGVEYXRhKTtmb3IoO20+aTsrK2kpZW50ZXJOb2Rlc1tpXT1kM19zZWxlY3Rpb25fZGF0YU5vZGUoZ3JvdXBEYXRhW2ldKTtmb3IoO24+aTsrK2kpZXhpdE5vZGVzW2ldPWdyb3VwW2ldfWVudGVyTm9kZXMudXBkYXRlPXVwZGF0ZU5vZGVzLGVudGVyTm9kZXMucGFyZW50Tm9kZT11cGRhdGVOb2Rlcy5wYXJlbnROb2RlPWV4aXROb2Rlcy5wYXJlbnROb2RlPWdyb3VwLnBhcmVudE5vZGUsZW50ZXIucHVzaChlbnRlck5vZGVzKSx1cGRhdGUucHVzaCh1cGRhdGVOb2RlcyksZXhpdC5wdXNoKGV4aXROb2Rlcyl9dmFyIGdyb3VwLG5vZGUsaT0tMSxuPXRoaXMubGVuZ3RoO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtmb3IodmFsdWU9bmV3IEFycmF5KG49KGdyb3VwPXRoaXNbMF0pLmxlbmd0aCk7KytpPG47KShub2RlPWdyb3VwW2ldKSYmKHZhbHVlW2ldPW5vZGUuX19kYXRhX18pO3JldHVybiB2YWx1ZX12YXIgZW50ZXI9ZDNfc2VsZWN0aW9uX2VudGVyKFtdKSx1cGRhdGU9ZDNfc2VsZWN0aW9uKFtdKSxleGl0PWQzX3NlbGVjdGlvbihbXSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdmFsdWUpZm9yKDsrK2k8bjspYmluZChncm91cD10aGlzW2ldLHZhbHVlLmNhbGwoZ3JvdXAsZ3JvdXAucGFyZW50Tm9kZS5fX2RhdGFfXyxpKSk7ZWxzZSBmb3IoOysraTxuOyliaW5kKGdyb3VwPXRoaXNbaV0sdmFsdWUpO3JldHVybiB1cGRhdGUuZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gZW50ZXJ9LHVwZGF0ZS5leGl0PWZ1bmN0aW9uKCl7cmV0dXJuIGV4aXR9LHVwZGF0ZX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLmRhdHVtPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIix2YWx1ZSk6dGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIpfSxkM19zZWxlY3Rpb25Qcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGZpbHRlcil7dmFyIHN1Ymdyb3VwLGdyb3VwLG5vZGUsc3ViZ3JvdXBzPVtdO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGZpbHRlciYmKGZpbHRlcj1kM19zZWxlY3Rpb25fZmlsdGVyKGZpbHRlcikpO2Zvcih2YXIgaj0wLG09dGhpcy5sZW5ndGg7bT5qO2orKyl7c3ViZ3JvdXBzLnB1c2goc3ViZ3JvdXA9W10pLHN1Ymdyb3VwLnBhcmVudE5vZGU9KGdyb3VwPXRoaXNbal0pLnBhcmVudE5vZGU7Zm9yKHZhciBpPTAsbj1ncm91cC5sZW5ndGg7bj5pO2krKykobm9kZT1ncm91cFtpXSkmJmZpbHRlci5jYWxsKG5vZGUsbm9kZS5fX2RhdGFfXyxpLGopJiZzdWJncm91cC5wdXNoKG5vZGUpfXJldHVybiBkM19zZWxlY3Rpb24oc3ViZ3JvdXBzKX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLm9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBqPS0xLG09dGhpcy5sZW5ndGg7KytqPG07KWZvcih2YXIgbm9kZSxncm91cD10aGlzW2pdLGk9Z3JvdXAubGVuZ3RoLTEsbmV4dD1ncm91cFtpXTstLWk+PTA7KShub2RlPWdyb3VwW2ldKSYmKG5leHQmJm5leHQhPT1ub2RlLm5leHRTaWJsaW5nJiZuZXh0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsbmV4dCksbmV4dD1ub2RlKTtyZXR1cm4gdGhpc30sZDNfc2VsZWN0aW9uUHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24oY29tcGFyYXRvcil7Y29tcGFyYXRvcj1kM19zZWxlY3Rpb25fc29ydENvbXBhcmF0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgaj0tMSxtPXRoaXMubGVuZ3RoOysrajxtOyl0aGlzW2pdLnNvcnQoY29tcGFyYXRvcik7cmV0dXJuIHRoaXMub3JkZXIoKX0sZDNfc2VsZWN0aW9uUHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiBkM19zZWxlY3Rpb25fZWFjaCh0aGlzLGZ1bmN0aW9uKG5vZGUsaSxqKXtjYWxsYmFjay5jYWxsKG5vZGUsbm9kZS5fX2RhdGFfXyxpLGopfSl9LGQzX3NlbGVjdGlvblByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgYXJncz1kM19hcnJheShhcmd1bWVudHMpO3JldHVybiBjYWxsYmFjay5hcHBseShhcmdzWzBdPXRoaXMsYXJncyksdGhpc30sZDNfc2VsZWN0aW9uUHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubm9kZSgpfSxkM19zZWxlY3Rpb25Qcm90b3R5cGUubm9kZT1mdW5jdGlvbigpe2Zvcih2YXIgaj0wLG09dGhpcy5sZW5ndGg7bT5qO2orKylmb3IodmFyIGdyb3VwPXRoaXNbal0saT0wLG49Z3JvdXAubGVuZ3RoO24+aTtpKyspe3ZhciBub2RlPWdyb3VwW2ldO2lmKG5vZGUpcmV0dXJuIG5vZGV9cmV0dXJuIG51bGx9LGQzX3NlbGVjdGlvblByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7dmFyIG49MDtyZXR1cm4gZDNfc2VsZWN0aW9uX2VhY2godGhpcyxmdW5jdGlvbigpeysrbn0pLG59O3ZhciBkM19zZWxlY3Rpb25fZW50ZXJQcm90b3R5cGU9W107ZDMuc2VsZWN0aW9uLmVudGVyPWQzX3NlbGVjdGlvbl9lbnRlcixkMy5zZWxlY3Rpb24uZW50ZXIucHJvdG90eXBlPWQzX3NlbGVjdGlvbl9lbnRlclByb3RvdHlwZSxkM19zZWxlY3Rpb25fZW50ZXJQcm90b3R5cGUuYXBwZW5kPWQzX3NlbGVjdGlvblByb3RvdHlwZS5hcHBlbmQsZDNfc2VsZWN0aW9uX2VudGVyUHJvdG90eXBlLmVtcHR5PWQzX3NlbGVjdGlvblByb3RvdHlwZS5lbXB0eSxkM19zZWxlY3Rpb25fZW50ZXJQcm90b3R5cGUubm9kZT1kM19zZWxlY3Rpb25Qcm90b3R5cGUubm9kZSxkM19zZWxlY3Rpb25fZW50ZXJQcm90b3R5cGUuY2FsbD1kM19zZWxlY3Rpb25Qcm90b3R5cGUuY2FsbCxkM19zZWxlY3Rpb25fZW50ZXJQcm90b3R5cGUuc2l6ZT1kM19zZWxlY3Rpb25Qcm90b3R5cGUuc2l6ZSxkM19zZWxlY3Rpb25fZW50ZXJQcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHNlbGVjdG9yKXtmb3IodmFyIHN1Ymdyb3VwLHN1Ym5vZGUsdXBncm91cCxncm91cCxub2RlLHN1Ymdyb3Vwcz1bXSxqPS0xLG09dGhpcy5sZW5ndGg7KytqPG07KXt1cGdyb3VwPShncm91cD10aGlzW2pdKS51cGRhdGUsc3ViZ3JvdXBzLnB1c2goc3ViZ3JvdXA9W10pLHN1Ymdyb3VwLnBhcmVudE5vZGU9Z3JvdXAucGFyZW50Tm9kZTtmb3IodmFyIGk9LTEsbj1ncm91cC5sZW5ndGg7KytpPG47KShub2RlPWdyb3VwW2ldKT8oc3ViZ3JvdXAucHVzaCh1cGdyb3VwW2ldPXN1Ym5vZGU9c2VsZWN0b3IuY2FsbChncm91cC5wYXJlbnROb2RlLG5vZGUuX19kYXRhX18saSxqKSksc3Vibm9kZS5fX2RhdGFfXz1ub2RlLl9fZGF0YV9fKTpzdWJncm91cC5wdXNoKG51bGwpfXJldHVybiBkM19zZWxlY3Rpb24oc3ViZ3JvdXBzKX0sZDNfc2VsZWN0aW9uX2VudGVyUHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihuYW1lLGJlZm9yZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKGJlZm9yZT1kM19zZWxlY3Rpb25fZW50ZXJJbnNlcnRCZWZvcmUodGhpcykpLGQzX3NlbGVjdGlvblByb3RvdHlwZS5pbnNlcnQuY2FsbCh0aGlzLG5hbWUsYmVmb3JlKX0sZDMuc2VsZWN0PWZ1bmN0aW9uKG5vZGUpe3ZhciBncm91cDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygbm9kZT8oZ3JvdXA9W2QzX3NlbGVjdChub2RlLGQzX2RvY3VtZW50KV0sZ3JvdXAucGFyZW50Tm9kZT1kM19kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOihncm91cD1bbm9kZV0sZ3JvdXAucGFyZW50Tm9kZT1kM19kb2N1bWVudEVsZW1lbnQobm9kZSkpLGQzX3NlbGVjdGlvbihbZ3JvdXBdKX0sZDMuc2VsZWN0QWxsPWZ1bmN0aW9uKG5vZGVzKXt2YXIgZ3JvdXA7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG5vZGVzPyhncm91cD1kM19hcnJheShkM19zZWxlY3RBbGwobm9kZXMsZDNfZG9jdW1lbnQpKSxncm91cC5wYXJlbnROb2RlPWQzX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCk6KGdyb3VwPW5vZGVzLGdyb3VwLnBhcmVudE5vZGU9bnVsbCksZDNfc2VsZWN0aW9uKFtncm91cF0pfSxkM19zZWxlY3Rpb25Qcm90b3R5cGUub249ZnVuY3Rpb24odHlwZSxsaXN0ZW5lcixjYXB0dXJlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoO2lmKDM+bil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR5cGUpezI+biYmKGxpc3RlbmVyPSExKTtmb3IoY2FwdHVyZSBpbiB0eXBlKXRoaXMuZWFjaChkM19zZWxlY3Rpb25fb24oY2FwdHVyZSx0eXBlW2NhcHR1cmVdLGxpc3RlbmVyKSk7cmV0dXJuIHRoaXN9aWYoMj5uKXJldHVybihuPXRoaXMubm9kZSgpW1wiX19vblwiK3R5cGVdKSYmbi5fO2NhcHR1cmU9ITF9cmV0dXJuIHRoaXMuZWFjaChkM19zZWxlY3Rpb25fb24odHlwZSxsaXN0ZW5lcixjYXB0dXJlKSl9O3ZhciBkM19zZWxlY3Rpb25fb25GaWx0ZXJzPWQzLm1hcCh7XG5tb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCJ9KTtkM19kb2N1bWVudCYmZDNfc2VsZWN0aW9uX29uRmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGspe1wib25cIitrIGluIGQzX2RvY3VtZW50JiZkM19zZWxlY3Rpb25fb25GaWx0ZXJzLnJlbW92ZShrKX0pO3ZhciBkM19ldmVudF9kcmFnU2VsZWN0LGQzX2V2ZW50X2RyYWdJZD0wO2QzLm1vdXNlPWZ1bmN0aW9uKGNvbnRhaW5lcil7cmV0dXJuIGQzX21vdXNlUG9pbnQoY29udGFpbmVyLGQzX2V2ZW50U291cmNlKCkpfTt2YXIgZDNfbW91c2VfYnVnNDQwODM9dGhpcy5uYXZpZ2F0b3ImJi9XZWJLaXQvLnRlc3QodGhpcy5uYXZpZ2F0b3IudXNlckFnZW50KT8tMTowO2QzLnRvdWNoPWZ1bmN0aW9uKGNvbnRhaW5lcix0b3VjaGVzLGlkZW50aWZpZXIpe2lmKGFyZ3VtZW50cy5sZW5ndGg8MyYmKGlkZW50aWZpZXI9dG91Y2hlcyx0b3VjaGVzPWQzX2V2ZW50U291cmNlKCkuY2hhbmdlZFRvdWNoZXMpLHRvdWNoZXMpZm9yKHZhciB0b3VjaCxpPTAsbj10b3VjaGVzLmxlbmd0aDtuPmk7KytpKWlmKCh0b3VjaD10b3VjaGVzW2ldKS5pZGVudGlmaWVyPT09aWRlbnRpZmllcilyZXR1cm4gZDNfbW91c2VQb2ludChjb250YWluZXIsdG91Y2gpfSxkMy5iZWhhdmlvci5kcmFnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZHJhZygpe3RoaXMub24oXCJtb3VzZWRvd24uZHJhZ1wiLG1vdXNlZG93bikub24oXCJ0b3VjaHN0YXJ0LmRyYWdcIix0b3VjaHN0YXJ0KX1mdW5jdGlvbiBkcmFnc3RhcnQoaWQscG9zaXRpb24sc3ViamVjdCxtb3ZlLGVuZCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbW92ZWQoKXt2YXIgZHgsZHkscG9zaXRpb24xPXBvc2l0aW9uKHBhcmVudCxkcmFnSWQpO3Bvc2l0aW9uMSYmKGR4PXBvc2l0aW9uMVswXS1wb3NpdGlvbjBbMF0sZHk9cG9zaXRpb24xWzFdLXBvc2l0aW9uMFsxXSxkcmFnZ2VkfD1keHxkeSxwb3NpdGlvbjA9cG9zaXRpb24xLGRpc3BhdGNoKHt0eXBlOlwiZHJhZ1wiLHg6cG9zaXRpb24xWzBdK2RyYWdPZmZzZXRbMF0seTpwb3NpdGlvbjFbMV0rZHJhZ09mZnNldFsxXSxkeDpkeCxkeTpkeX0pKX1mdW5jdGlvbiBlbmRlZCgpe3Bvc2l0aW9uKHBhcmVudCxkcmFnSWQpJiYoZHJhZ1N1YmplY3Qub24obW92ZStkcmFnTmFtZSxudWxsKS5vbihlbmQrZHJhZ05hbWUsbnVsbCksZHJhZ1Jlc3RvcmUoZHJhZ2dlZCYmZDMuZXZlbnQudGFyZ2V0PT09dGFyZ2V0KSxkaXNwYXRjaCh7dHlwZTpcImRyYWdlbmRcIn0pKX12YXIgZHJhZ09mZnNldCx0aGF0PXRoaXMsdGFyZ2V0PWQzLmV2ZW50LnRhcmdldCxwYXJlbnQ9dGhhdC5wYXJlbnROb2RlLGRpc3BhdGNoPWV2ZW50Lm9mKHRoYXQsYXJndW1lbnRzKSxkcmFnZ2VkPTAsZHJhZ0lkPWlkKCksZHJhZ05hbWU9XCIuZHJhZ1wiKyhudWxsPT1kcmFnSWQ/XCJcIjpcIi1cIitkcmFnSWQpLGRyYWdTdWJqZWN0PWQzLnNlbGVjdChzdWJqZWN0KHRhcmdldCkpLm9uKG1vdmUrZHJhZ05hbWUsbW92ZWQpLm9uKGVuZCtkcmFnTmFtZSxlbmRlZCksZHJhZ1Jlc3RvcmU9ZDNfZXZlbnRfZHJhZ1N1cHByZXNzKHRhcmdldCkscG9zaXRpb24wPXBvc2l0aW9uKHBhcmVudCxkcmFnSWQpO29yaWdpbj8oZHJhZ09mZnNldD1vcmlnaW4uYXBwbHkodGhhdCxhcmd1bWVudHMpLGRyYWdPZmZzZXQ9W2RyYWdPZmZzZXQueC1wb3NpdGlvbjBbMF0sZHJhZ09mZnNldC55LXBvc2l0aW9uMFsxXV0pOmRyYWdPZmZzZXQ9WzAsMF0sZGlzcGF0Y2goe3R5cGU6XCJkcmFnc3RhcnRcIn0pfX12YXIgZXZlbnQ9ZDNfZXZlbnREaXNwYXRjaChkcmFnLFwiZHJhZ1wiLFwiZHJhZ3N0YXJ0XCIsXCJkcmFnZW5kXCIpLG9yaWdpbj1udWxsLG1vdXNlZG93bj1kcmFnc3RhcnQoZDNfbm9vcCxkMy5tb3VzZSxkM193aW5kb3csXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIiksdG91Y2hzdGFydD1kcmFnc3RhcnQoZDNfYmVoYXZpb3JfZHJhZ1RvdWNoSWQsZDMudG91Y2gsZDNfaWRlbnRpdHksXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCIpO3JldHVybiBkcmFnLm9yaWdpbj1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ob3JpZ2luPXgsZHJhZyk6b3JpZ2lufSxkMy5yZWJpbmQoZHJhZyxldmVudCxcIm9uXCIpfSxkMy50b3VjaGVzPWZ1bmN0aW9uKGNvbnRhaW5lcix0b3VjaGVzKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodG91Y2hlcz1kM19ldmVudFNvdXJjZSgpLnRvdWNoZXMpLHRvdWNoZXM/ZDNfYXJyYXkodG91Y2hlcykubWFwKGZ1bmN0aW9uKHRvdWNoKXt2YXIgcG9pbnQ9ZDNfbW91c2VQb2ludChjb250YWluZXIsdG91Y2gpO3JldHVybiBwb2ludC5pZGVudGlmaWVyPXRvdWNoLmlkZW50aWZpZXIscG9pbnR9KTpbXX07dmFyIM61PTFlLTYszrUyPc61Ks61LM+APU1hdGguUEksz4Q9MirPgCzPhM61Pc+ELc61LGhhbGbPgD3PgC8yLGQzX3JhZGlhbnM9z4AvMTgwLGQzX2RlZ3JlZXM9MTgwL8+ALM+BPU1hdGguU1FSVDIsz4EyPTIsz4E0PTQ7ZDMuaW50ZXJwb2xhdGVab29tPWZ1bmN0aW9uKHAwLHAxKXtmdW5jdGlvbiBpbnRlcnBvbGF0ZSh0KXt2YXIgcz10KlM7aWYoZHIpe3ZhciBjb3NocjA9ZDNfY29zaChyMCksdT13MC8oz4EyKmQxKSooY29zaHIwKmQzX3Rhbmgoz4EqcytyMCktZDNfc2luaChyMCkpO3JldHVyblt1eDArdSpkeCx1eTArdSpkeSx3MCpjb3NocjAvZDNfY29zaCjPgSpzK3IwKV19cmV0dXJuW3V4MCt0KmR4LHV5MCt0KmR5LHcwKk1hdGguZXhwKM+BKnMpXX12YXIgdXgwPXAwWzBdLHV5MD1wMFsxXSx3MD1wMFsyXSx1eDE9cDFbMF0sdXkxPXAxWzFdLHcxPXAxWzJdLGR4PXV4MS11eDAsZHk9dXkxLXV5MCxkMj1keCpkeCtkeSpkeSxkMT1NYXRoLnNxcnQoZDIpLGIwPSh3MSp3MS13MCp3MCvPgTQqZDIpLygyKncwKs+BMipkMSksYjE9KHcxKncxLXcwKncwLc+BNCpkMikvKDIqdzEqz4EyKmQxKSxyMD1NYXRoLmxvZyhNYXRoLnNxcnQoYjAqYjArMSktYjApLHIxPU1hdGgubG9nKE1hdGguc3FydChiMSpiMSsxKS1iMSksZHI9cjEtcjAsUz0oZHJ8fE1hdGgubG9nKHcxL3cwKSkvz4E7cmV0dXJuIGludGVycG9sYXRlLmR1cmF0aW9uPTFlMypTLGludGVycG9sYXRlfSxkMy5iZWhhdmlvci56b29tPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gem9vbShnKXtnLm9uKG1vdXNlZG93bixtb3VzZWRvd25lZCkub24oZDNfYmVoYXZpb3Jfem9vbVdoZWVsK1wiLnpvb21cIixtb3VzZXdoZWVsZWQpLm9uKFwiZGJsY2xpY2suem9vbVwiLGRibGNsaWNrZWQpLm9uKHRvdWNoc3RhcnQsdG91Y2hzdGFydGVkKX1mdW5jdGlvbiBsb2NhdGlvbihwKXtyZXR1cm5bKHBbMF0tdmlldy54KS92aWV3LmssKHBbMV0tdmlldy55KS92aWV3LmtdfWZ1bmN0aW9uIHBvaW50KGwpe3JldHVybltsWzBdKnZpZXcuayt2aWV3LngsbFsxXSp2aWV3Lmsrdmlldy55XX1mdW5jdGlvbiBzY2FsZVRvKHMpe3ZpZXcuaz1NYXRoLm1heChzY2FsZUV4dGVudFswXSxNYXRoLm1pbihzY2FsZUV4dGVudFsxXSxzKSl9ZnVuY3Rpb24gdHJhbnNsYXRlVG8ocCxsKXtsPXBvaW50KGwpLHZpZXcueCs9cFswXS1sWzBdLHZpZXcueSs9cFsxXS1sWzFdfWZ1bmN0aW9uIHpvb21Ubyh0aGF0LHAsbCxrKXt0aGF0Ll9fY2hhcnRfXz17eDp2aWV3LngseTp2aWV3Lnksazp2aWV3Lmt9LHNjYWxlVG8oTWF0aC5wb3coMixrKSksdHJhbnNsYXRlVG8oY2VudGVyMD1wLGwpLHRoYXQ9ZDMuc2VsZWN0KHRoYXQpLGR1cmF0aW9uPjAmJih0aGF0PXRoYXQudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKSksdGhhdC5jYWxsKHpvb20uZXZlbnQpfWZ1bmN0aW9uIHJlc2NhbGUoKXt4MSYmeDEuZG9tYWluKHgwLnJhbmdlKCkubWFwKGZ1bmN0aW9uKHgpe3JldHVybih4LXZpZXcueCkvdmlldy5rfSkubWFwKHgwLmludmVydCkpLHkxJiZ5MS5kb21haW4oeTAucmFuZ2UoKS5tYXAoZnVuY3Rpb24oeSl7cmV0dXJuKHktdmlldy55KS92aWV3Lmt9KS5tYXAoeTAuaW52ZXJ0KSl9ZnVuY3Rpb24gem9vbXN0YXJ0ZWQoZGlzcGF0Y2gpe3pvb21pbmcrK3x8ZGlzcGF0Y2goe3R5cGU6XCJ6b29tc3RhcnRcIn0pfWZ1bmN0aW9uIHpvb21lZChkaXNwYXRjaCl7cmVzY2FsZSgpLGRpc3BhdGNoKHt0eXBlOlwiem9vbVwiLHNjYWxlOnZpZXcuayx0cmFuc2xhdGU6W3ZpZXcueCx2aWV3LnldfSl9ZnVuY3Rpb24gem9vbWVuZGVkKGRpc3BhdGNoKXstLXpvb21pbmd8fChkaXNwYXRjaCh7dHlwZTpcInpvb21lbmRcIn0pLGNlbnRlcjA9bnVsbCl9ZnVuY3Rpb24gbW91c2Vkb3duZWQoKXtmdW5jdGlvbiBtb3ZlZCgpe2RyYWdnZWQ9MSx0cmFuc2xhdGVUbyhkMy5tb3VzZSh0aGF0KSxsb2NhdGlvbjApLHpvb21lZChkaXNwYXRjaCl9ZnVuY3Rpb24gZW5kZWQoKXtzdWJqZWN0Lm9uKG1vdXNlbW92ZSxudWxsKS5vbihtb3VzZXVwLG51bGwpLGRyYWdSZXN0b3JlKGRyYWdnZWQmJmQzLmV2ZW50LnRhcmdldD09PXRhcmdldCksem9vbWVuZGVkKGRpc3BhdGNoKX12YXIgdGhhdD10aGlzLHRhcmdldD1kMy5ldmVudC50YXJnZXQsZGlzcGF0Y2g9ZXZlbnQub2YodGhhdCxhcmd1bWVudHMpLGRyYWdnZWQ9MCxzdWJqZWN0PWQzLnNlbGVjdChkM193aW5kb3codGhhdCkpLm9uKG1vdXNlbW92ZSxtb3ZlZCkub24obW91c2V1cCxlbmRlZCksbG9jYXRpb24wPWxvY2F0aW9uKGQzLm1vdXNlKHRoYXQpKSxkcmFnUmVzdG9yZT1kM19ldmVudF9kcmFnU3VwcHJlc3ModGhhdCk7ZDNfc2VsZWN0aW9uX2ludGVycnVwdC5jYWxsKHRoYXQpLHpvb21zdGFydGVkKGRpc3BhdGNoKX1mdW5jdGlvbiB0b3VjaHN0YXJ0ZWQoKXtmdW5jdGlvbiByZWxvY2F0ZSgpe3ZhciB0b3VjaGVzPWQzLnRvdWNoZXModGhhdCk7cmV0dXJuIHNjYWxlMD12aWV3LmssdG91Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuaWRlbnRpZmllciBpbiBsb2NhdGlvbnMwJiYobG9jYXRpb25zMFt0LmlkZW50aWZpZXJdPWxvY2F0aW9uKHQpKX0pLHRvdWNoZXN9ZnVuY3Rpb24gc3RhcnRlZCgpe3ZhciB0YXJnZXQ9ZDMuZXZlbnQudGFyZ2V0O2QzLnNlbGVjdCh0YXJnZXQpLm9uKHRvdWNobW92ZSxtb3ZlZCkub24odG91Y2hlbmQsZW5kZWQpLHRhcmdldHMucHVzaCh0YXJnZXQpO2Zvcih2YXIgY2hhbmdlZD1kMy5ldmVudC5jaGFuZ2VkVG91Y2hlcyxpPTAsbj1jaGFuZ2VkLmxlbmd0aDtuPmk7KytpKWxvY2F0aW9uczBbY2hhbmdlZFtpXS5pZGVudGlmaWVyXT1udWxsO3ZhciB0b3VjaGVzPXJlbG9jYXRlKCksbm93PURhdGUubm93KCk7aWYoMT09PXRvdWNoZXMubGVuZ3RoKXtpZig1MDA+bm93LXRvdWNodGltZSl7dmFyIHA9dG91Y2hlc1swXTt6b29tVG8odGhhdCxwLGxvY2F0aW9uczBbcC5pZGVudGlmaWVyXSxNYXRoLmZsb29yKE1hdGgubG9nKHZpZXcuaykvTWF0aC5MTjIpKzEpLGQzX2V2ZW50UHJldmVudERlZmF1bHQoKX10b3VjaHRpbWU9bm93fWVsc2UgaWYodG91Y2hlcy5sZW5ndGg+MSl7dmFyIHA9dG91Y2hlc1swXSxxPXRvdWNoZXNbMV0sZHg9cFswXS1xWzBdLGR5PXBbMV0tcVsxXTtkaXN0YW5jZTA9ZHgqZHgrZHkqZHl9fWZ1bmN0aW9uIG1vdmVkKCl7dmFyIHAwLGwwLHAxLGwxLHRvdWNoZXM9ZDMudG91Y2hlcyh0aGF0KTtkM19zZWxlY3Rpb25faW50ZXJydXB0LmNhbGwodGhhdCk7Zm9yKHZhciBpPTAsbj10b3VjaGVzLmxlbmd0aDtuPmk7KytpLGwxPW51bGwpaWYocDE9dG91Y2hlc1tpXSxsMT1sb2NhdGlvbnMwW3AxLmlkZW50aWZpZXJdKXtpZihsMClicmVhaztwMD1wMSxsMD1sMX1pZihsMSl7dmFyIGRpc3RhbmNlMT0oZGlzdGFuY2UxPXAxWzBdLXAwWzBdKSpkaXN0YW5jZTErKGRpc3RhbmNlMT1wMVsxXS1wMFsxXSkqZGlzdGFuY2UxLHNjYWxlMT1kaXN0YW5jZTAmJk1hdGguc3FydChkaXN0YW5jZTEvZGlzdGFuY2UwKTtwMD1bKHAwWzBdK3AxWzBdKS8yLChwMFsxXStwMVsxXSkvMl0sbDA9WyhsMFswXStsMVswXSkvMiwobDBbMV0rbDFbMV0pLzJdLHNjYWxlVG8oc2NhbGUxKnNjYWxlMCl9dG91Y2h0aW1lPW51bGwsdHJhbnNsYXRlVG8ocDAsbDApLHpvb21lZChkaXNwYXRjaCl9ZnVuY3Rpb24gZW5kZWQoKXtpZihkMy5ldmVudC50b3VjaGVzLmxlbmd0aCl7Zm9yKHZhciBjaGFuZ2VkPWQzLmV2ZW50LmNoYW5nZWRUb3VjaGVzLGk9MCxuPWNoYW5nZWQubGVuZ3RoO24+aTsrK2kpZGVsZXRlIGxvY2F0aW9uczBbY2hhbmdlZFtpXS5pZGVudGlmaWVyXTtmb3IodmFyIGlkZW50aWZpZXIgaW4gbG9jYXRpb25zMClyZXR1cm4gdm9pZCByZWxvY2F0ZSgpfWQzLnNlbGVjdEFsbCh0YXJnZXRzKS5vbih6b29tTmFtZSxudWxsKSxzdWJqZWN0Lm9uKG1vdXNlZG93bixtb3VzZWRvd25lZCkub24odG91Y2hzdGFydCx0b3VjaHN0YXJ0ZWQpLGRyYWdSZXN0b3JlKCksem9vbWVuZGVkKGRpc3BhdGNoKX12YXIgc2NhbGUwLHRoYXQ9dGhpcyxkaXNwYXRjaD1ldmVudC5vZih0aGF0LGFyZ3VtZW50cyksbG9jYXRpb25zMD17fSxkaXN0YW5jZTA9MCx6b29tTmFtZT1cIi56b29tLVwiK2QzLmV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXIsdG91Y2htb3ZlPVwidG91Y2htb3ZlXCIrem9vbU5hbWUsdG91Y2hlbmQ9XCJ0b3VjaGVuZFwiK3pvb21OYW1lLHRhcmdldHM9W10sc3ViamVjdD1kMy5zZWxlY3QodGhhdCksZHJhZ1Jlc3RvcmU9ZDNfZXZlbnRfZHJhZ1N1cHByZXNzKHRoYXQpO3N0YXJ0ZWQoKSx6b29tc3RhcnRlZChkaXNwYXRjaCksc3ViamVjdC5vbihtb3VzZWRvd24sbnVsbCkub24odG91Y2hzdGFydCxzdGFydGVkKX1mdW5jdGlvbiBtb3VzZXdoZWVsZWQoKXt2YXIgZGlzcGF0Y2g9ZXZlbnQub2YodGhpcyxhcmd1bWVudHMpO21vdXNld2hlZWxUaW1lcj9jbGVhclRpbWVvdXQobW91c2V3aGVlbFRpbWVyKTooZDNfc2VsZWN0aW9uX2ludGVycnVwdC5jYWxsKHRoaXMpLHRyYW5zbGF0ZTA9bG9jYXRpb24oY2VudGVyMD1jZW50ZXJ8fGQzLm1vdXNlKHRoaXMpKSx6b29tc3RhcnRlZChkaXNwYXRjaCkpLG1vdXNld2hlZWxUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bW91c2V3aGVlbFRpbWVyPW51bGwsem9vbWVuZGVkKGRpc3BhdGNoKX0sNTApLGQzX2V2ZW50UHJldmVudERlZmF1bHQoKSxzY2FsZVRvKE1hdGgucG93KDIsLjAwMipkM19iZWhhdmlvcl96b29tRGVsdGEoKSkqdmlldy5rKSx0cmFuc2xhdGVUbyhjZW50ZXIwLHRyYW5zbGF0ZTApLHpvb21lZChkaXNwYXRjaCl9ZnVuY3Rpb24gZGJsY2xpY2tlZCgpe3ZhciBwPWQzLm1vdXNlKHRoaXMpLGs9TWF0aC5sb2codmlldy5rKS9NYXRoLkxOMjt6b29tVG8odGhpcyxwLGxvY2F0aW9uKHApLGQzLmV2ZW50LnNoaWZ0S2V5P01hdGguY2VpbChrKS0xOk1hdGguZmxvb3IoaykrMSl9dmFyIHRyYW5zbGF0ZTAsY2VudGVyMCxjZW50ZXIsbW91c2V3aGVlbFRpbWVyLHRvdWNodGltZSx4MCx4MSx5MCx5MSx2aWV3PXt4OjAseTowLGs6MX0sc2l6ZT1bOTYwLDUwMF0sc2NhbGVFeHRlbnQ9ZDNfYmVoYXZpb3Jfem9vbUluZmluaXR5LGR1cmF0aW9uPTI1MCx6b29taW5nPTAsbW91c2Vkb3duPVwibW91c2Vkb3duLnpvb21cIixtb3VzZW1vdmU9XCJtb3VzZW1vdmUuem9vbVwiLG1vdXNldXA9XCJtb3VzZXVwLnpvb21cIix0b3VjaHN0YXJ0PVwidG91Y2hzdGFydC56b29tXCIsZXZlbnQ9ZDNfZXZlbnREaXNwYXRjaCh6b29tLFwiem9vbXN0YXJ0XCIsXCJ6b29tXCIsXCJ6b29tZW5kXCIpO3JldHVybiBkM19iZWhhdmlvcl96b29tV2hlZWx8fChkM19iZWhhdmlvcl96b29tV2hlZWw9XCJvbndoZWVsXCJpbiBkM19kb2N1bWVudD8oZDNfYmVoYXZpb3Jfem9vbURlbHRhPWZ1bmN0aW9uKCl7cmV0dXJuLWQzLmV2ZW50LmRlbHRhWSooZDMuZXZlbnQuZGVsdGFNb2RlPzEyMDoxKX0sXCJ3aGVlbFwiKTpcIm9ubW91c2V3aGVlbFwiaW4gZDNfZG9jdW1lbnQ/KGQzX2JlaGF2aW9yX3pvb21EZWx0YT1mdW5jdGlvbigpe3JldHVybiBkMy5ldmVudC53aGVlbERlbHRhfSxcIm1vdXNld2hlZWxcIik6KGQzX2JlaGF2aW9yX3pvb21EZWx0YT1mdW5jdGlvbigpe3JldHVybi1kMy5ldmVudC5kZXRhaWx9LFwiTW96TW91c2VQaXhlbFNjcm9sbFwiKSksem9vbS5ldmVudD1mdW5jdGlvbihnKXtnLmVhY2goZnVuY3Rpb24oKXt2YXIgZGlzcGF0Y2g9ZXZlbnQub2YodGhpcyxhcmd1bWVudHMpLHZpZXcxPXZpZXc7ZDNfdHJhbnNpdGlvbkluaGVyaXRJZD9kMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmVhY2goXCJzdGFydC56b29tXCIsZnVuY3Rpb24oKXt2aWV3PXRoaXMuX19jaGFydF9ffHx7eDowLHk6MCxrOjF9LHpvb21zdGFydGVkKGRpc3BhdGNoKX0pLnR3ZWVuKFwiem9vbTp6b29tXCIsZnVuY3Rpb24oKXt2YXIgZHg9c2l6ZVswXSxkeT1zaXplWzFdLGN4PWNlbnRlcjA/Y2VudGVyMFswXTpkeC8yLGN5PWNlbnRlcjA/Y2VudGVyMFsxXTpkeS8yLGk9ZDMuaW50ZXJwb2xhdGVab29tKFsoY3gtdmlldy54KS92aWV3LmssKGN5LXZpZXcueSkvdmlldy5rLGR4L3ZpZXcua10sWyhjeC12aWV3MS54KS92aWV3MS5rLChjeS12aWV3MS55KS92aWV3MS5rLGR4L3ZpZXcxLmtdKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGw9aSh0KSxrPWR4L2xbMl07dGhpcy5fX2NoYXJ0X189dmlldz17eDpjeC1sWzBdKmsseTpjeS1sWzFdKmssazprfSx6b29tZWQoZGlzcGF0Y2gpfX0pLmVhY2goXCJpbnRlcnJ1cHQuem9vbVwiLGZ1bmN0aW9uKCl7em9vbWVuZGVkKGRpc3BhdGNoKX0pLmVhY2goXCJlbmQuem9vbVwiLGZ1bmN0aW9uKCl7em9vbWVuZGVkKGRpc3BhdGNoKX0pOih0aGlzLl9fY2hhcnRfXz12aWV3LHpvb21zdGFydGVkKGRpc3BhdGNoKSx6b29tZWQoZGlzcGF0Y2gpLHpvb21lbmRlZChkaXNwYXRjaCkpfSl9LHpvb20udHJhbnNsYXRlPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2aWV3PXt4OitfWzBdLHk6K19bMV0sazp2aWV3Lmt9LHJlc2NhbGUoKSx6b29tKTpbdmlldy54LHZpZXcueV19LHpvb20uc2NhbGU9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHZpZXc9e3g6dmlldy54LHk6dmlldy55LGs6K199LHJlc2NhbGUoKSx6b29tKTp2aWV3Lmt9LHpvb20uc2NhbGVFeHRlbnQ9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNjYWxlRXh0ZW50PW51bGw9PV8/ZDNfYmVoYXZpb3Jfem9vbUluZmluaXR5OlsrX1swXSwrX1sxXV0sem9vbSk6c2NhbGVFeHRlbnR9LHpvb20uY2VudGVyPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjZW50ZXI9XyYmWytfWzBdLCtfWzFdXSx6b29tKTpjZW50ZXJ9LHpvb20uc2l6ZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oc2l6ZT1fJiZbK19bMF0sK19bMV1dLHpvb20pOnNpemV9LHpvb20uZHVyYXRpb249ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGR1cmF0aW9uPStfLHpvb20pOmR1cmF0aW9ufSx6b29tLng9ZnVuY3Rpb24oeil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHgxPXoseDA9ei5jb3B5KCksdmlldz17eDowLHk6MCxrOjF9LHpvb20pOngxfSx6b29tLnk9ZnVuY3Rpb24oeil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHkxPXoseTA9ei5jb3B5KCksdmlldz17eDowLHk6MCxrOjF9LHpvb20pOnkxfSxkMy5yZWJpbmQoem9vbSxldmVudCxcIm9uXCIpfTt2YXIgZDNfYmVoYXZpb3Jfem9vbURlbHRhLGQzX2JlaGF2aW9yX3pvb21XaGVlbCxkM19iZWhhdmlvcl96b29tSW5maW5pdHk9WzAsMS8wXTtkMy5jb2xvcj1kM19jb2xvcixkM19jb2xvci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKStcIlwifSxkMy5oc2w9ZDNfaHNsO3ZhciBkM19oc2xQcm90b3R5cGU9ZDNfaHNsLnByb3RvdHlwZT1uZXcgZDNfY29sb3I7ZDNfaHNsUHJvdG90eXBlLmJyaWdodGVyPWZ1bmN0aW9uKGspe3JldHVybiBrPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/azoxKSxuZXcgZDNfaHNsKHRoaXMuaCx0aGlzLnMsdGhpcy5sL2spfSxkM19oc2xQcm90b3R5cGUuZGFya2VyPWZ1bmN0aW9uKGspe3JldHVybiBrPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/azoxKSxuZXcgZDNfaHNsKHRoaXMuaCx0aGlzLnMsayp0aGlzLmwpfSxkM19oc2xQcm90b3R5cGUucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2hzbF9yZ2IodGhpcy5oLHRoaXMucyx0aGlzLmwpfSxkMy5oY2w9ZDNfaGNsO3ZhciBkM19oY2xQcm90b3R5cGU9ZDNfaGNsLnByb3RvdHlwZT1uZXcgZDNfY29sb3I7ZDNfaGNsUHJvdG90eXBlLmJyaWdodGVyPWZ1bmN0aW9uKGspe3JldHVybiBuZXcgZDNfaGNsKHRoaXMuaCx0aGlzLmMsTWF0aC5taW4oMTAwLHRoaXMubCtkM19sYWJfSyooYXJndW1lbnRzLmxlbmd0aD9rOjEpKSl9LGQzX2hjbFByb3RvdHlwZS5kYXJrZXI9ZnVuY3Rpb24oayl7cmV0dXJuIG5ldyBkM19oY2wodGhpcy5oLHRoaXMuYyxNYXRoLm1heCgwLHRoaXMubC1kM19sYWJfSyooYXJndW1lbnRzLmxlbmd0aD9rOjEpKSl9LGQzX2hjbFByb3RvdHlwZS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfaGNsX2xhYih0aGlzLmgsdGhpcy5jLHRoaXMubCkucmdiKCl9LGQzLmxhYj1kM19sYWI7dmFyIGQzX2xhYl9LPTE4LGQzX2xhYl9YPS45NTA0NyxkM19sYWJfWT0xLGQzX2xhYl9aPTEuMDg4ODMsZDNfbGFiUHJvdG90eXBlPWQzX2xhYi5wcm90b3R5cGU9bmV3IGQzX2NvbG9yO2QzX2xhYlByb3RvdHlwZS5icmlnaHRlcj1mdW5jdGlvbihrKXtyZXR1cm4gbmV3IGQzX2xhYihNYXRoLm1pbigxMDAsdGhpcy5sK2QzX2xhYl9LKihhcmd1bWVudHMubGVuZ3RoP2s6MSkpLHRoaXMuYSx0aGlzLmIpfSxkM19sYWJQcm90b3R5cGUuZGFya2VyPWZ1bmN0aW9uKGspe3JldHVybiBuZXcgZDNfbGFiKE1hdGgubWF4KDAsdGhpcy5sLWQzX2xhYl9LKihhcmd1bWVudHMubGVuZ3RoP2s6MSkpLHRoaXMuYSx0aGlzLmIpfSxkM19sYWJQcm90b3R5cGUucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2xhYl9yZ2IodGhpcy5sLHRoaXMuYSx0aGlzLmIpfSxkMy5yZ2I9ZDNfcmdiO3ZhciBkM19yZ2JQcm90b3R5cGU9ZDNfcmdiLnByb3RvdHlwZT1uZXcgZDNfY29sb3I7ZDNfcmdiUHJvdG90eXBlLmJyaWdodGVyPWZ1bmN0aW9uKGspe2s9TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9rOjEpO3ZhciByPXRoaXMucixnPXRoaXMuZyxiPXRoaXMuYixpPTMwO3JldHVybiByfHxnfHxiPyhyJiZpPnImJihyPWkpLGcmJmk+ZyYmKGc9aSksYiYmaT5iJiYoYj1pKSxuZXcgZDNfcmdiKE1hdGgubWluKDI1NSxyL2spLE1hdGgubWluKDI1NSxnL2spLE1hdGgubWluKDI1NSxiL2spKSk6bmV3IGQzX3JnYihpLGksaSl9LGQzX3JnYlByb3RvdHlwZS5kYXJrZXI9ZnVuY3Rpb24oayl7cmV0dXJuIGs9TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9rOjEpLG5ldyBkM19yZ2Ioayp0aGlzLnIsayp0aGlzLmcsayp0aGlzLmIpfSxkM19yZ2JQcm90b3R5cGUuaHNsPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3JnYl9oc2wodGhpcy5yLHRoaXMuZyx0aGlzLmIpfSxkM19yZ2JQcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIiNcIitkM19yZ2JfaGV4KHRoaXMucikrZDNfcmdiX2hleCh0aGlzLmcpK2QzX3JnYl9oZXgodGhpcy5iKX07dmFyIGQzX3JnYl9uYW1lcz1kMy5tYXAoe2FsaWNlYmx1ZToxNTc5MjM4MyxhbnRpcXVld2hpdGU6MTY0NDQzNzUsYXF1YTo2NTUzNSxhcXVhbWFyaW5lOjgzODg1NjQsYXp1cmU6MTU3OTQxNzUsYmVpZ2U6MTYxMTkyNjAsYmlzcXVlOjE2NzcwMjQ0LGJsYWNrOjAsYmxhbmNoZWRhbG1vbmQ6MTY3NzIwNDUsYmx1ZToyNTUsYmx1ZXZpb2xldDo5MDU1MjAyLGJyb3duOjEwODI0MjM0LGJ1cmx5d29vZDoxNDU5NjIzMSxjYWRldGJsdWU6NjI2NjUyOCxjaGFydHJldXNlOjgzODgzNTIsY2hvY29sYXRlOjEzNzg5NDcwLGNvcmFsOjE2NzQ0MjcyLGNvcm5mbG93ZXJibHVlOjY1OTE5ODEsY29ybnNpbGs6MTY3NzUzODgsY3JpbXNvbjoxNDQyMzEwMCxjeWFuOjY1NTM1LGRhcmtibHVlOjEzOSxkYXJrY3lhbjozNTcyMyxkYXJrZ29sZGVucm9kOjEyMDkyOTM5LGRhcmtncmF5OjExMTE5MDE3LGRhcmtncmVlbjoyNTYwMCxkYXJrZ3JleToxMTExOTAxNyxkYXJra2hha2k6MTI0MzMyNTksZGFya21hZ2VudGE6OTEwOTY0MyxkYXJrb2xpdmVncmVlbjo1NTk3OTk5LGRhcmtvcmFuZ2U6MTY3NDc1MjAsZGFya29yY2hpZDoxMDA0MDAxMixkYXJrcmVkOjkxMDk1MDQsZGFya3NhbG1vbjoxNTMwODQxMCxkYXJrc2VhZ3JlZW46OTQxOTkxOSxkYXJrc2xhdGVibHVlOjQ3MzQzNDcsZGFya3NsYXRlZ3JheTozMTAwNDk1LGRhcmtzbGF0ZWdyZXk6MzEwMDQ5NSxkYXJrdHVycXVvaXNlOjUyOTQ1LGRhcmt2aW9sZXQ6OTY5OTUzOSxkZWVwcGluazoxNjcxNjk0NyxkZWVwc2t5Ymx1ZTo0OTE1MSxkaW1ncmF5OjY5MDgyNjUsZGltZ3JleTo2OTA4MjY1LGRvZGdlcmJsdWU6MjAwMzE5OSxmaXJlYnJpY2s6MTE2NzQxNDYsZmxvcmFsd2hpdGU6MTY3NzU5MjAsZm9yZXN0Z3JlZW46MjI2Mzg0MixmdWNoc2lhOjE2NzExOTM1LGdhaW5zYm9ybzoxNDQ3NDQ2MCxnaG9zdHdoaXRlOjE2MzE2NjcxLGdvbGQ6MTY3NjY3MjAsZ29sZGVucm9kOjE0MzI5MTIwLGdyYXk6ODQyMTUwNCxncmVlbjozMjc2OCxncmVlbnllbGxvdzoxMTQwMzA1NSxncmV5Ojg0MjE1MDQsaG9uZXlkZXc6MTU3OTQxNjAsaG90cGluazoxNjczODc0MCxpbmRpYW5yZWQ6MTM0NTg1MjQsaW5kaWdvOjQ5MTUzMzAsaXZvcnk6MTY3NzcyMDAsa2hha2k6MTU3ODc2NjAsbGF2ZW5kZXI6MTUxMzI0MTAsbGF2ZW5kZXJibHVzaDoxNjc3MzM2NSxsYXduZ3JlZW46ODE5MDk3NixsZW1vbmNoaWZmb246MTY3NzU4ODUsbGlnaHRibHVlOjExMzkzMjU0LGxpZ2h0Y29yYWw6MTU3NjE1MzYsbGlnaHRjeWFuOjE0NzQ1NTk5LGxpZ2h0Z29sZGVucm9keWVsbG93OjE2NDQ4MjEwLGxpZ2h0Z3JheToxMzg4MjMyMyxsaWdodGdyZWVuOjk0OTgyNTYsbGlnaHRncmV5OjEzODgyMzIzLGxpZ2h0cGluazoxNjc1ODQ2NSxsaWdodHNhbG1vbjoxNjc1Mjc2MixsaWdodHNlYWdyZWVuOjIxNDI4OTAsbGlnaHRza3libHVlOjg5MDAzNDYsbGlnaHRzbGF0ZWdyYXk6NzgzMzc1MyxsaWdodHNsYXRlZ3JleTo3ODMzNzUzLGxpZ2h0c3RlZWxibHVlOjExNTg0NzM0LGxpZ2h0eWVsbG93OjE2Nzc3MTg0LGxpbWU6NjUyODAsbGltZWdyZWVuOjMzMjkzMzAsbGluZW46MTY0NDU2NzAsbWFnZW50YToxNjcxMTkzNSxtYXJvb246ODM4ODYwOCxtZWRpdW1hcXVhbWFyaW5lOjY3MzczMjIsbWVkaXVtYmx1ZToyMDUsbWVkaXVtb3JjaGlkOjEyMjExNjY3LG1lZGl1bXB1cnBsZTo5NjYyNjgzLG1lZGl1bXNlYWdyZWVuOjM5NzgwOTcsbWVkaXVtc2xhdGVibHVlOjgwODc3OTAsbWVkaXVtc3ByaW5nZ3JlZW46NjQxNTQsbWVkaXVtdHVycXVvaXNlOjQ3NzIzMDAsbWVkaXVtdmlvbGV0cmVkOjEzMDQ3MTczLG1pZG5pZ2h0Ymx1ZToxNjQ0OTEyLG1pbnRjcmVhbToxNjEyMTg1MCxtaXN0eXJvc2U6MTY3NzAyNzMsbW9jY2FzaW46MTY3NzAyMjksbmF2YWpvd2hpdGU6MTY3Njg2ODUsbmF2eToxMjgsb2xkbGFjZToxNjY0MzU1OCxvbGl2ZTo4NDIxMzc2LG9saXZlZHJhYjo3MDQ4NzM5LG9yYW5nZToxNjc1MzkyMCxvcmFuZ2VyZWQ6MTY3MjkzNDQsb3JjaGlkOjE0MzE1NzM0LHBhbGVnb2xkZW5yb2Q6MTU2NTcxMzAscGFsZWdyZWVuOjEwMDI1ODgwLHBhbGV0dXJxdW9pc2U6MTE1Mjk5NjYscGFsZXZpb2xldHJlZDoxNDM4MTIwMyxwYXBheWF3aGlwOjE2NzczMDc3LHBlYWNocHVmZjoxNjc2NzY3MyxwZXJ1OjEzNDY4OTkxLHBpbms6MTY3NjEwMzUscGx1bToxNDUyNDYzNyxwb3dkZXJibHVlOjExNTkxOTEwLHB1cnBsZTo4Mzg4NzM2LHJlYmVjY2FwdXJwbGU6NjY5Nzg4MSxyZWQ6MTY3MTE2ODAscm9zeWJyb3duOjEyMzU3NTE5LHJveWFsYmx1ZTo0Mjg2OTQ1LHNhZGRsZWJyb3duOjkxMjcxODcsc2FsbW9uOjE2NDE2ODgyLHNhbmR5YnJvd246MTYwMzI4NjQsc2VhZ3JlZW46MzA1MDMyNyxzZWFzaGVsbDoxNjc3NDYzOCxzaWVubmE6MTA1MDY3OTcsc2lsdmVyOjEyNjMyMjU2LHNreWJsdWU6ODkwMDMzMSxzbGF0ZWJsdWU6Njk3MDA2MSxzbGF0ZWdyYXk6NzM3Mjk0NCxzbGF0ZWdyZXk6NzM3Mjk0NCxzbm93OjE2Nzc1OTMwLHNwcmluZ2dyZWVuOjY1NDA3LHN0ZWVsYmx1ZTo0NjIwOTgwLHRhbjoxMzgwODc4MCx0ZWFsOjMyODk2LHRoaXN0bGU6MTQyMDQ4ODgsdG9tYXRvOjE2NzM3MDk1LHR1cnF1b2lzZTo0MjUxODU2LHZpb2xldDoxNTYzMTA4Nix3aGVhdDoxNjExMzMzMSx3aGl0ZToxNjc3NzIxNSx3aGl0ZXNtb2tlOjE2MTE5Mjg1LHllbGxvdzoxNjc3Njk2MCx5ZWxsb3dncmVlbjoxMDE0NTA3NH0pO2QzX3JnYl9uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSx2YWx1ZSl7ZDNfcmdiX25hbWVzLnNldChrZXksZDNfcmdiTnVtYmVyKHZhbHVlKSl9KSxkMy5mdW5jdG9yPWQzX2Z1bmN0b3IsZDMueGhyPWQzX3hoclR5cGUoZDNfaWRlbnRpdHkpLGQzLmRzdj1mdW5jdGlvbihkZWxpbWl0ZXIsbWltZVR5cGUpe2Z1bmN0aW9uIGRzdih1cmwscm93LGNhbGxiYWNrKXthcmd1bWVudHMubGVuZ3RoPDMmJihjYWxsYmFjaz1yb3cscm93PW51bGwpO3ZhciB4aHI9ZDNfeGhyKHVybCxtaW1lVHlwZSxudWxsPT1yb3c/cmVzcG9uc2U6dHlwZWRSZXNwb25zZShyb3cpLGNhbGxiYWNrKTtyZXR1cm4geGhyLnJvdz1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD94aHIucmVzcG9uc2UobnVsbD09KHJvdz1fKT9yZXNwb25zZTp0eXBlZFJlc3BvbnNlKF8pKTpyb3d9LHhocn1mdW5jdGlvbiByZXNwb25zZShyZXF1ZXN0KXtyZXR1cm4gZHN2LnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KX1mdW5jdGlvbiB0eXBlZFJlc3BvbnNlKGYpe3JldHVybiBmdW5jdGlvbihyZXF1ZXN0KXtyZXR1cm4gZHN2LnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0LGYpfX1mdW5jdGlvbiBmb3JtYXRSb3cocm93KXtyZXR1cm4gcm93Lm1hcChmb3JtYXRWYWx1ZSkuam9pbihkZWxpbWl0ZXIpfWZ1bmN0aW9uIGZvcm1hdFZhbHVlKHRleHQpe3JldHVybiByZUZvcm1hdC50ZXN0KHRleHQpPydcIicrdGV4dC5yZXBsYWNlKC9cXFwiL2csJ1wiXCInKSsnXCInOnRleHR9dmFyIHJlRm9ybWF0PW5ldyBSZWdFeHAoJ1tcIicrZGVsaW1pdGVyK1wiXFxuXVwiKSxkZWxpbWl0ZXJDb2RlPWRlbGltaXRlci5jaGFyQ29kZUF0KDApO3JldHVybiBkc3YucGFyc2U9ZnVuY3Rpb24odGV4dCxmKXt2YXIgbztyZXR1cm4gZHN2LnBhcnNlUm93cyh0ZXh0LGZ1bmN0aW9uKHJvdyxpKXtpZihvKXJldHVybiBvKHJvdyxpLTEpO3ZhciBhPW5ldyBGdW5jdGlvbihcImRcIixcInJldHVybiB7XCIrcm93Lm1hcChmdW5jdGlvbihuYW1lLGkpe3JldHVybiBKU09OLnN0cmluZ2lmeShuYW1lKStcIjogZFtcIitpK1wiXVwifSkuam9pbihcIixcIikrXCJ9XCIpO289Zj9mdW5jdGlvbihyb3csaSl7cmV0dXJuIGYoYShyb3cpLGkpfTphfSl9LGRzdi5wYXJzZVJvd3M9ZnVuY3Rpb24odGV4dCxmKXtmdW5jdGlvbiB0b2tlbigpe2lmKEk+PU4pcmV0dXJuIEVPRjtpZihlb2wpcmV0dXJuIGVvbD0hMSxFT0w7dmFyIGo9STtpZigzND09PXRleHQuY2hhckNvZGVBdChqKSl7Zm9yKHZhciBpPWo7aSsrPE47KWlmKDM0PT09dGV4dC5jaGFyQ29kZUF0KGkpKXtpZigzNCE9PXRleHQuY2hhckNvZGVBdChpKzEpKWJyZWFrOysraX1JPWkrMjt2YXIgYz10ZXh0LmNoYXJDb2RlQXQoaSsxKTtyZXR1cm4gMTM9PT1jPyhlb2w9ITAsMTA9PT10ZXh0LmNoYXJDb2RlQXQoaSsyKSYmKytJKToxMD09PWMmJihlb2w9ITApLHRleHQuc2xpY2UoaisxLGkpLnJlcGxhY2UoL1wiXCIvZywnXCInKX1mb3IoO04+STspe3ZhciBjPXRleHQuY2hhckNvZGVBdChJKyspLGs9MTtpZigxMD09PWMpZW9sPSEwO2Vsc2UgaWYoMTM9PT1jKWVvbD0hMCwxMD09PXRleHQuY2hhckNvZGVBdChJKSYmKCsrSSwrK2spO2Vsc2UgaWYoYyE9PWRlbGltaXRlckNvZGUpY29udGludWU7cmV0dXJuIHRleHQuc2xpY2UoaixJLWspfXJldHVybiB0ZXh0LnNsaWNlKGopfWZvcih2YXIgdCxlb2wsRU9MPXt9LEVPRj17fSxyb3dzPVtdLE49dGV4dC5sZW5ndGgsST0wLG49MDsodD10b2tlbigpKSE9PUVPRjspe2Zvcih2YXIgYT1bXTt0IT09RU9MJiZ0IT09RU9GOylhLnB1c2godCksdD10b2tlbigpO2YmJm51bGw9PShhPWYoYSxuKyspKXx8cm93cy5wdXNoKGEpfXJldHVybiByb3dzfSxkc3YuZm9ybWF0PWZ1bmN0aW9uKHJvd3Mpe2lmKEFycmF5LmlzQXJyYXkocm93c1swXSkpcmV0dXJuIGRzdi5mb3JtYXRSb3dzKHJvd3MpO3ZhciBmaWVsZFNldD1uZXcgZDNfU2V0LGZpZWxkcz1bXTtyZXR1cm4gcm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdyl7Zm9yKHZhciBmaWVsZCBpbiByb3cpZmllbGRTZXQuaGFzKGZpZWxkKXx8ZmllbGRzLnB1c2goZmllbGRTZXQuYWRkKGZpZWxkKSl9KSxbZmllbGRzLm1hcChmb3JtYXRWYWx1ZSkuam9pbihkZWxpbWl0ZXIpXS5jb25jYXQocm93cy5tYXAoZnVuY3Rpb24ocm93KXtyZXR1cm4gZmllbGRzLm1hcChmdW5jdGlvbihmaWVsZCl7cmV0dXJuIGZvcm1hdFZhbHVlKHJvd1tmaWVsZF0pfSkuam9pbihkZWxpbWl0ZXIpfSkpLmpvaW4oXCJcXG5cIil9LGRzdi5mb3JtYXRSb3dzPWZ1bmN0aW9uKHJvd3Mpe3JldHVybiByb3dzLm1hcChmb3JtYXRSb3cpLmpvaW4oXCJcXG5cIil9LGRzdn0sZDMuY3N2PWQzLmRzdihcIixcIixcInRleHQvY3N2XCIpLGQzLnRzdj1kMy5kc3YoXCJcdFwiLFwidGV4dC90YWItc2VwYXJhdGVkLXZhbHVlc1wiKTt2YXIgZDNfdGltZXJfcXVldWVIZWFkLGQzX3RpbWVyX3F1ZXVlVGFpbCxkM190aW1lcl9pbnRlcnZhbCxkM190aW1lcl90aW1lb3V0LGQzX3RpbWVyX2FjdGl2ZSxkM190aW1lcl9mcmFtZT10aGlzW2QzX3ZlbmRvclN5bWJvbCh0aGlzLFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIpXXx8ZnVuY3Rpb24oY2FsbGJhY2spe3NldFRpbWVvdXQoY2FsbGJhY2ssMTcpfTtkMy50aW1lcj1mdW5jdGlvbihjYWxsYmFjayxkZWxheSx0aGVuKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoOzI+biYmKGRlbGF5PTApLDM+biYmKHRoZW49RGF0ZS5ub3coKSk7dmFyIHRpbWU9dGhlbitkZWxheSx0aW1lcj17YzpjYWxsYmFjayx0OnRpbWUsZjohMSxuOm51bGx9O2QzX3RpbWVyX3F1ZXVlVGFpbD9kM190aW1lcl9xdWV1ZVRhaWwubj10aW1lcjpkM190aW1lcl9xdWV1ZUhlYWQ9dGltZXIsZDNfdGltZXJfcXVldWVUYWlsPXRpbWVyLGQzX3RpbWVyX2ludGVydmFsfHwoZDNfdGltZXJfdGltZW91dD1jbGVhclRpbWVvdXQoZDNfdGltZXJfdGltZW91dCksZDNfdGltZXJfaW50ZXJ2YWw9MSxkM190aW1lcl9mcmFtZShkM190aW1lcl9zdGVwKSl9LGQzLnRpbWVyLmZsdXNoPWZ1bmN0aW9uKCl7ZDNfdGltZXJfbWFyaygpLGQzX3RpbWVyX3N3ZWVwKCl9LGQzLnJvdW5kPWZ1bmN0aW9uKHgsbil7cmV0dXJuIG4/TWF0aC5yb3VuZCh4KihuPU1hdGgucG93KDEwLG4pKSkvbjpNYXRoLnJvdW5kKHgpfTt2YXIgZDNfZm9ybWF0UHJlZml4ZXM9W1wieVwiLFwielwiLFwiYVwiLFwiZlwiLFwicFwiLFwiblwiLFwiwrVcIixcIm1cIixcIlwiLFwia1wiLFwiTVwiLFwiR1wiLFwiVFwiLFwiUFwiLFwiRVwiLFwiWlwiLFwiWVwiXS5tYXAoZDNfZm9ybWF0UHJlZml4KTtkMy5mb3JtYXRQcmVmaXg9ZnVuY3Rpb24odmFsdWUscHJlY2lzaW9uKXt2YXIgaT0wO3JldHVybiB2YWx1ZSYmKDA+dmFsdWUmJih2YWx1ZSo9LTEpLHByZWNpc2lvbiYmKHZhbHVlPWQzLnJvdW5kKHZhbHVlLGQzX2Zvcm1hdF9wcmVjaXNpb24odmFsdWUscHJlY2lzaW9uKSkpLGk9MStNYXRoLmZsb29yKDFlLTEyK01hdGgubG9nKHZhbHVlKS9NYXRoLkxOMTApLGk9TWF0aC5tYXgoLTI0LE1hdGgubWluKDI0LDMqTWF0aC5mbG9vcigoaS0xKS8zKSkpKSxkM19mb3JtYXRQcmVmaXhlc1s4K2kvM119O3ZhciBkM19mb3JtYXRfcmU9Lyg/OihbXntdKT8oWzw+PV5dKSk/KFsrXFwtIF0pPyhbJCNdKT8oMCk/KFxcZCspPygsKT8oXFwuLT9cXGQrKT8oW2EteiVdKT8vaSxkM19mb3JtYXRfdHlwZXM9ZDMubWFwKHtiOmZ1bmN0aW9uKHgpe3JldHVybiB4LnRvU3RyaW5nKDIpfSxjOmZ1bmN0aW9uKHgpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHgpfSxvOmZ1bmN0aW9uKHgpe3JldHVybiB4LnRvU3RyaW5nKDgpfSx4OmZ1bmN0aW9uKHgpe3JldHVybiB4LnRvU3RyaW5nKDE2KX0sWDpmdW5jdGlvbih4KXtyZXR1cm4geC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0sZzpmdW5jdGlvbih4LHApe3JldHVybiB4LnRvUHJlY2lzaW9uKHApfSxlOmZ1bmN0aW9uKHgscCl7cmV0dXJuIHgudG9FeHBvbmVudGlhbChwKX0sZjpmdW5jdGlvbih4LHApe3JldHVybiB4LnRvRml4ZWQocCl9LHI6ZnVuY3Rpb24oeCxwKXtyZXR1cm4oeD1kMy5yb3VuZCh4LGQzX2Zvcm1hdF9wcmVjaXNpb24oeCxwKSkpLnRvRml4ZWQoTWF0aC5tYXgoMCxNYXRoLm1pbigyMCxkM19mb3JtYXRfcHJlY2lzaW9uKHgqKDErMWUtMTUpLHApKSkpfX0pLGQzX3RpbWU9ZDMudGltZT17fSxkM19kYXRlPURhdGU7ZDNfZGF0ZV91dGMucHJvdG90eXBlPXtnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENEYXRlKCl9LGdldERheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDRGF5KCl9LGdldEZ1bGxZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENGdWxsWWVhcigpfSxnZXRIb3VyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDSG91cnMoKX0sZ2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaWxsaXNlY29uZHMoKX0sZ2V0TWludXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTWludXRlcygpfSxnZXRNb250aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTW9udGgoKX0sZ2V0U2Vjb25kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDU2Vjb25kcygpfSxnZXRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRUaW1lKCl9LGdldFRpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlT2YoKX0sc2V0RGF0ZTpmdW5jdGlvbigpe2QzX3RpbWVfcHJvdG90eXBlLnNldFVUQ0RhdGUuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldERheTpmdW5jdGlvbigpe2QzX3RpbWVfcHJvdG90eXBlLnNldFVUQ0RheS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RnVsbFllYXI6ZnVuY3Rpb24oKXtkM190aW1lX3Byb3RvdHlwZS5zZXRVVENGdWxsWWVhci5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0SG91cnM6ZnVuY3Rpb24oKXtkM190aW1lX3Byb3RvdHlwZS5zZXRVVENIb3Vycy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7ZDNfdGltZV9wcm90b3R5cGUuc2V0VVRDTWlsbGlzZWNvbmRzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaW51dGVzOmZ1bmN0aW9uKCl7ZDNfdGltZV9wcm90b3R5cGUuc2V0VVRDTWludXRlcy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TW9udGg6ZnVuY3Rpb24oKXtkM190aW1lX3Byb3RvdHlwZS5zZXRVVENNb250aC5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0U2Vjb25kczpmdW5jdGlvbigpe2QzX3RpbWVfcHJvdG90eXBlLnNldFVUQ1NlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldFRpbWU6ZnVuY3Rpb24oKXtkM190aW1lX3Byb3RvdHlwZS5zZXRUaW1lLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfX07dmFyIGQzX3RpbWVfcHJvdG90eXBlPURhdGUucHJvdG90eXBlO2QzX3RpbWUueWVhcj1kM190aW1lX2ludGVydmFsKGZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlPWQzX3RpbWUuZGF5KGRhdGUpLGRhdGUuc2V0TW9udGgoMCwxKSxkYXRlfSxmdW5jdGlvbihkYXRlLG9mZnNldCl7ZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkrb2Zmc2V0KX0sZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKX0pLGQzX3RpbWUueWVhcnM9ZDNfdGltZS55ZWFyLnJhbmdlLGQzX3RpbWUueWVhcnMudXRjPWQzX3RpbWUueWVhci51dGMucmFuZ2UsZDNfdGltZS5kYXk9ZDNfdGltZV9pbnRlcnZhbChmdW5jdGlvbihkYXRlKXt2YXIgZGF5PW5ldyBkM19kYXRlKDJlMywwKTtyZXR1cm4gZGF5LnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSxkYXRlLmdldE1vbnRoKCksZGF0ZS5nZXREYXRlKCkpLGRheX0sZnVuY3Rpb24oZGF0ZSxvZmZzZXQpe2RhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKStvZmZzZXQpfSxmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS5nZXREYXRlKCktMX0pLGQzX3RpbWUuZGF5cz1kM190aW1lLmRheS5yYW5nZSxkM190aW1lLmRheXMudXRjPWQzX3RpbWUuZGF5LnV0Yy5yYW5nZSxkM190aW1lLmRheU9mWWVhcj1mdW5jdGlvbihkYXRlKXt2YXIgeWVhcj1kM190aW1lLnllYXIoZGF0ZSk7cmV0dXJuIE1hdGguZmxvb3IoKGRhdGUteWVhci02ZTQqKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKS15ZWFyLmdldFRpbWV6b25lT2Zmc2V0KCkpKS84NjRlNSl9LFtcInN1bmRheVwiLFwibW9uZGF5XCIsXCJ0dWVzZGF5XCIsXCJ3ZWRuZXNkYXlcIixcInRodXJzZGF5XCIsXCJmcmlkYXlcIixcInNhdHVyZGF5XCJdLmZvckVhY2goZnVuY3Rpb24oZGF5LGkpe2k9Ny1pO3ZhciBpbnRlcnZhbD1kM190aW1lW2RheV09ZDNfdGltZV9pbnRlcnZhbChmdW5jdGlvbihkYXRlKXtyZXR1cm4oZGF0ZT1kM190aW1lLmRheShkYXRlKSkuc2V0RGF0ZShkYXRlLmdldERhdGUoKS0oZGF0ZS5nZXREYXkoKStpKSU3KSxkYXRlfSxmdW5jdGlvbihkYXRlLG9mZnNldCl7ZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpKzcqTWF0aC5mbG9vcihvZmZzZXQpKX0sZnVuY3Rpb24oZGF0ZSl7dmFyIGRheT1kM190aW1lLnllYXIoZGF0ZSkuZ2V0RGF5KCk7cmV0dXJuIE1hdGguZmxvb3IoKGQzX3RpbWUuZGF5T2ZZZWFyKGRhdGUpKyhkYXkraSklNykvNyktKGRheSE9PWkpfSk7ZDNfdGltZVtkYXkrXCJzXCJdPWludGVydmFsLnJhbmdlLGQzX3RpbWVbZGF5K1wic1wiXS51dGM9aW50ZXJ2YWwudXRjLnJhbmdlLGQzX3RpbWVbZGF5K1wiT2ZZZWFyXCJdPWZ1bmN0aW9uKGRhdGUpe3ZhciBkYXk9ZDNfdGltZS55ZWFyKGRhdGUpLmdldERheSgpO3JldHVybiBNYXRoLmZsb29yKChkM190aW1lLmRheU9mWWVhcihkYXRlKSsoZGF5K2kpJTcpLzcpfX0pLGQzX3RpbWUud2Vlaz1kM190aW1lLnN1bmRheSxkM190aW1lLndlZWtzPWQzX3RpbWUuc3VuZGF5LnJhbmdlLGQzX3RpbWUud2Vla3MudXRjPWQzX3RpbWUuc3VuZGF5LnV0Yy5yYW5nZSxkM190aW1lLndlZWtPZlllYXI9ZDNfdGltZS5zdW5kYXlPZlllYXI7dmFyIGQzX3RpbWVfZm9ybWF0UGFkcz17XCItXCI6XCJcIixfOlwiIFwiLDA6XCIwXCJ9LGQzX3RpbWVfbnVtYmVyUmU9L15cXHMqXFxkKy8sZDNfdGltZV9wZXJjZW50UmU9L14lLztkMy5sb2NhbGU9ZnVuY3Rpb24obG9jYWxlKXtyZXR1cm57bnVtYmVyRm9ybWF0OmQzX2xvY2FsZV9udW1iZXJGb3JtYXQobG9jYWxlKSx0aW1lRm9ybWF0OmQzX2xvY2FsZV90aW1lRm9ybWF0KGxvY2FsZSl9fTt2YXIgZDNfbG9jYWxlX2VuVVM9ZDMubG9jYWxlKHtkZWNpbWFsOlwiLlwiLHRob3VzYW5kczpcIixcIixncm91cGluZzpbM10sY3VycmVuY3k6W1wiJFwiLFwiXCJdLGRhdGVUaW1lOlwiJWEgJWIgJWUgJVggJVlcIixkYXRlOlwiJW0vJWQvJVlcIix0aW1lOlwiJUg6JU06JVNcIixwZXJpb2RzOltcIkFNXCIsXCJQTVwiXSxkYXlzOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLHNob3J0RGF5czpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbW9udGhzOltcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxzaG9ydE1vbnRoczpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdfSk7ZDMuZm9ybWF0PWQzX2xvY2FsZV9lblVTLm51bWJlckZvcm1hdCxkMy5nZW89e30sZDNfYWRkZXIucHJvdG90eXBlPXtzOjAsdDowLGFkZDpmdW5jdGlvbih5KXtkM19hZGRlclN1bSh5LHRoaXMudCxkM19hZGRlclRlbXApLGQzX2FkZGVyU3VtKGQzX2FkZGVyVGVtcC5zLHRoaXMucyx0aGlzKSx0aGlzLnM/dGhpcy50Kz1kM19hZGRlclRlbXAudDp0aGlzLnM9ZDNfYWRkZXJUZW1wLnR9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zPXRoaXMudD0wfSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc319O3ZhciBkM19hZGRlclRlbXA9bmV3IGQzX2FkZGVyO2QzLmdlby5zdHJlYW09ZnVuY3Rpb24ob2JqZWN0LGxpc3RlbmVyKXtvYmplY3QmJmQzX2dlb19zdHJlYW1PYmplY3RUeXBlLmhhc093blByb3BlcnR5KG9iamVjdC50eXBlKT9kM19nZW9fc3RyZWFtT2JqZWN0VHlwZVtvYmplY3QudHlwZV0ob2JqZWN0LGxpc3RlbmVyKTpkM19nZW9fc3RyZWFtR2VvbWV0cnkob2JqZWN0LGxpc3RlbmVyKX07dmFyIGQzX2dlb19zdHJlYW1PYmplY3RUeXBlPXtGZWF0dXJlOmZ1bmN0aW9uKGZlYXR1cmUsbGlzdGVuZXIpe2QzX2dlb19zdHJlYW1HZW9tZXRyeShmZWF0dXJlLmdlb21ldHJ5LGxpc3RlbmVyKX0sRmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24ob2JqZWN0LGxpc3RlbmVyKXtmb3IodmFyIGZlYXR1cmVzPW9iamVjdC5mZWF0dXJlcyxpPS0xLG49ZmVhdHVyZXMubGVuZ3RoOysraTxuOylkM19nZW9fc3RyZWFtR2VvbWV0cnkoZmVhdHVyZXNbaV0uZ2VvbWV0cnksbGlzdGVuZXIpfX0sZDNfZ2VvX3N0cmVhbUdlb21ldHJ5VHlwZT17U3BoZXJlOmZ1bmN0aW9uKG9iamVjdCxsaXN0ZW5lcil7bGlzdGVuZXIuc3BoZXJlKCl9LFBvaW50OmZ1bmN0aW9uKG9iamVjdCxsaXN0ZW5lcil7b2JqZWN0PW9iamVjdC5jb29yZGluYXRlcyxsaXN0ZW5lci5wb2ludChvYmplY3RbMF0sb2JqZWN0WzFdLG9iamVjdFsyXSl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24ob2JqZWN0LGxpc3RlbmVyKXtmb3IodmFyIGNvb3JkaW5hdGVzPW9iamVjdC5jb29yZGluYXRlcyxpPS0xLG49Y29vcmRpbmF0ZXMubGVuZ3RoOysraTxuOylvYmplY3Q9Y29vcmRpbmF0ZXNbaV0sbGlzdGVuZXIucG9pbnQob2JqZWN0WzBdLG9iamVjdFsxXSxvYmplY3RbMl0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKG9iamVjdCxsaXN0ZW5lcil7ZDNfZ2VvX3N0cmVhbUxpbmUob2JqZWN0LmNvb3JkaW5hdGVzLGxpc3RlbmVyLDApfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24ob2JqZWN0LGxpc3RlbmVyKXtmb3IodmFyIGNvb3JkaW5hdGVzPW9iamVjdC5jb29yZGluYXRlcyxpPS0xLG49Y29vcmRpbmF0ZXMubGVuZ3RoOysraTxuOylkM19nZW9fc3RyZWFtTGluZShjb29yZGluYXRlc1tpXSxsaXN0ZW5lciwwKX0sUG9seWdvbjpmdW5jdGlvbihvYmplY3QsbGlzdGVuZXIpe2QzX2dlb19zdHJlYW1Qb2x5Z29uKG9iamVjdC5jb29yZGluYXRlcyxsaXN0ZW5lcil9LE11bHRpUG9seWdvbjpmdW5jdGlvbihvYmplY3QsbGlzdGVuZXIpe2Zvcih2YXIgY29vcmRpbmF0ZXM9b2JqZWN0LmNvb3JkaW5hdGVzLGk9LTEsbj1jb29yZGluYXRlcy5sZW5ndGg7KytpPG47KWQzX2dlb19zdHJlYW1Qb2x5Z29uKGNvb3JkaW5hdGVzW2ldLGxpc3RlbmVyKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKG9iamVjdCxsaXN0ZW5lcil7Zm9yKHZhciBnZW9tZXRyaWVzPW9iamVjdC5nZW9tZXRyaWVzLGk9LTEsbj1nZW9tZXRyaWVzLmxlbmd0aDsrK2k8bjspZDNfZ2VvX3N0cmVhbUdlb21ldHJ5KGdlb21ldHJpZXNbaV0sbGlzdGVuZXIpfX07ZDMuZ2VvLmFyZWE9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gZDNfZ2VvX2FyZWFTdW09MCxkMy5nZW8uc3RyZWFtKG9iamVjdCxkM19nZW9fYXJlYSksZDNfZ2VvX2FyZWFTdW19O3ZhciBkM19nZW9fYXJlYVN1bSxkM19nZW9fYXJlYVJpbmdTdW09bmV3IGQzX2FkZGVyLGQzX2dlb19hcmVhPXtzcGhlcmU6ZnVuY3Rpb24oKXtkM19nZW9fYXJlYVN1bSs9NCrPgH0scG9pbnQ6ZDNfbm9vcCxsaW5lU3RhcnQ6ZDNfbm9vcCxsaW5lRW5kOmQzX25vb3AscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7ZDNfZ2VvX2FyZWFSaW5nU3VtLnJlc2V0KCksZDNfZ2VvX2FyZWEubGluZVN0YXJ0PWQzX2dlb19hcmVhUmluZ1N0YXJ0fSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dmFyIGFyZWE9MipkM19nZW9fYXJlYVJpbmdTdW07ZDNfZ2VvX2FyZWFTdW0rPTA+YXJlYT80Ks+AK2FyZWE6YXJlYSxkM19nZW9fYXJlYS5saW5lU3RhcnQ9ZDNfZ2VvX2FyZWEubGluZUVuZD1kM19nZW9fYXJlYS5wb2ludD1kM19ub29wfX07ZDMuZ2VvLmJvdW5kcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHBvaW50KM67LM+GKXtyYW5nZXMucHVzaChyYW5nZT1bzrswPc67LM67MT3Ou10pLM+GMD7PhiYmKM+GMD3Phiksz4Y+z4YxJiYoz4YxPc+GKX1mdW5jdGlvbiBsaW5lUG9pbnQozrssz4Ype3ZhciBwPWQzX2dlb19jYXJ0ZXNpYW4oW867KmQzX3JhZGlhbnMsz4YqZDNfcmFkaWFuc10pO2lmKHAwKXt2YXIgbm9ybWFsPWQzX2dlb19jYXJ0ZXNpYW5Dcm9zcyhwMCxwKSxlcXVhdG9yaWFsPVtub3JtYWxbMV0sLW5vcm1hbFswXSwwXSxpbmZsZWN0aW9uPWQzX2dlb19jYXJ0ZXNpYW5Dcm9zcyhlcXVhdG9yaWFsLG5vcm1hbCk7ZDNfZ2VvX2NhcnRlc2lhbk5vcm1hbGl6ZShpbmZsZWN0aW9uKSxpbmZsZWN0aW9uPWQzX2dlb19zcGhlcmljYWwoaW5mbGVjdGlvbik7dmFyIGTOuz3Ouy3Ou18scz1kzrs+MD8xOi0xLM67aT1pbmZsZWN0aW9uWzBdKmQzX2RlZ3JlZXMqcyxhbnRpbWVyaWRpYW49YWJzKGTOuyk+MTgwO2lmKGFudGltZXJpZGlhbl4ozrtpPnMqzrtfJiZzKs67Ps67aSkpe3ZhciDPhmk9aW5mbGVjdGlvblsxXSpkM19kZWdyZWVzO8+GaT7PhjEmJijPhjE9z4ZpKX1lbHNlIGlmKM67aT0ozrtpKzM2MCklMzYwLTE4MCxhbnRpbWVyaWRpYW5eKM67aT5zKs67XyYmcyrOuz7Ou2kpKXt2YXIgz4ZpPS1pbmZsZWN0aW9uWzFdKmQzX2RlZ3JlZXM7z4YwPs+GaSYmKM+GMD3PhmkpfWVsc2Ugz4YwPs+GJiYoz4YwPc+GKSzPhj7PhjEmJijPhjE9z4YpO2FudGltZXJpZGlhbj/Ou18+zrs/YW5nbGUozrswLM67KT5hbmdsZSjOuzAszrsxKSYmKM67MT3Ouyk6YW5nbGUozrsszrsxKT5hbmdsZSjOuzAszrsxKSYmKM67MD3Ouyk6zrsxPj3OuzA/KM67MD7OuyYmKM67MD3Ouykszrs+zrsxJiYozrsxPc67KSk6zrs+zrtfP2FuZ2xlKM67MCzOuyk+YW5nbGUozrswLM67MSkmJijOuzE9zrspOmFuZ2xlKM67LM67MSk+YW5nbGUozrswLM67MSkmJijOuzA9zrspfWVsc2UgcG9pbnQozrssz4YpO3AwPXAszrtfPc67fWZ1bmN0aW9uIGxpbmVTdGFydCgpe2JvdW5kLnBvaW50PWxpbmVQb2ludH1mdW5jdGlvbiBsaW5lRW5kKCl7cmFuZ2VbMF09zrswLHJhbmdlWzFdPc67MSxib3VuZC5wb2ludD1wb2ludCxwMD1udWxsfWZ1bmN0aW9uIHJpbmdQb2ludCjOuyzPhil7aWYocDApe3ZhciBkzrs9zrstzrtfO2TOu1N1bSs9YWJzKGTOuyk+MTgwP2TOuysoZM67PjA/MzYwOi0zNjApOmTOu31lbHNlIM67X189zrssz4ZfXz3PhjtkM19nZW9fYXJlYS5wb2ludCjOuyzPhiksbGluZVBvaW50KM67LM+GKX1mdW5jdGlvbiByaW5nU3RhcnQoKXtkM19nZW9fYXJlYS5saW5lU3RhcnQoKX1mdW5jdGlvbiByaW5nRW5kKCl7cmluZ1BvaW50KM67X18sz4ZfXyksZDNfZ2VvX2FyZWEubGluZUVuZCgpLGFicyhkzrtTdW0pPs61JiYozrswPS0ozrsxPTE4MCkpLHJhbmdlWzBdPc67MCxyYW5nZVsxXT3OuzEscDA9bnVsbH1mdW5jdGlvbiBhbmdsZSjOuzAszrsxKXtyZXR1cm4ozrsxLT3OuzApPDA/zrsxKzM2MDrOuzF9ZnVuY3Rpb24gY29tcGFyZVJhbmdlcyhhLGIpe3JldHVybiBhWzBdLWJbMF19ZnVuY3Rpb24gd2l0aGluUmFuZ2UoeCxyYW5nZSl7cmV0dXJuIHJhbmdlWzBdPD1yYW5nZVsxXT9yYW5nZVswXTw9eCYmeDw9cmFuZ2VbMV06eDxyYW5nZVswXXx8cmFuZ2VbMV08eH12YXIgzrswLM+GMCzOuzEsz4YxLM67XyzOu19fLM+GX18scDAsZM67U3VtLHJhbmdlcyxyYW5nZSxib3VuZD17cG9pbnQ6cG9pbnQsbGluZVN0YXJ0OmxpbmVTdGFydCxsaW5lRW5kOmxpbmVFbmQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7Ym91bmQucG9pbnQ9cmluZ1BvaW50LGJvdW5kLmxpbmVTdGFydD1yaW5nU3RhcnQsYm91bmQubGluZUVuZD1yaW5nRW5kLGTOu1N1bT0wLGQzX2dlb19hcmVhLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7ZDNfZ2VvX2FyZWEucG9seWdvbkVuZCgpLGJvdW5kLnBvaW50PXBvaW50LGJvdW5kLmxpbmVTdGFydD1saW5lU3RhcnQsYm91bmQubGluZUVuZD1saW5lRW5kLDA+ZDNfZ2VvX2FyZWFSaW5nU3VtPyjOuzA9LSjOuzE9MTgwKSzPhjA9LSjPhjE9OTApKTpkzrtTdW0+zrU/z4YxPTkwOi3OtT5kzrtTdW0mJijPhjA9LTkwKSxyYW5nZVswXT3OuzAscmFuZ2VbMV09zrsxfX07cmV0dXJuIGZ1bmN0aW9uKGZlYXR1cmUpe8+GMT3OuzE9LSjOuzA9z4YwPTEvMCkscmFuZ2VzPVtdLGQzLmdlby5zdHJlYW0oZmVhdHVyZSxib3VuZCk7dmFyIG49cmFuZ2VzLmxlbmd0aDtpZihuKXtyYW5nZXMuc29ydChjb21wYXJlUmFuZ2VzKTtmb3IodmFyIGIsaT0xLGE9cmFuZ2VzWzBdLG1lcmdlZD1bYV07bj5pOysraSliPXJhbmdlc1tpXSx3aXRoaW5SYW5nZShiWzBdLGEpfHx3aXRoaW5SYW5nZShiWzFdLGEpPyhhbmdsZShhWzBdLGJbMV0pPmFuZ2xlKGFbMF0sYVsxXSkmJihhWzFdPWJbMV0pLGFuZ2xlKGJbMF0sYVsxXSk+YW5nbGUoYVswXSxhWzFdKSYmKGFbMF09YlswXSkpOm1lcmdlZC5wdXNoKGE9Yik7Zm9yKHZhciBkzrssYixiZXN0PS0oMS8wKSxuPW1lcmdlZC5sZW5ndGgtMSxpPTAsYT1tZXJnZWRbbl07bj49aTthPWIsKytpKWI9bWVyZ2VkW2ldLChkzrs9YW5nbGUoYVsxXSxiWzBdKSk+YmVzdCYmKGJlc3Q9ZM67LM67MD1iWzBdLM67MT1hWzFdKX1yZXR1cm4gcmFuZ2VzPXJhbmdlPW51bGwszrswPT09MS8wfHzPhjA9PT0xLzA/W1tOYU4sTmFOXSxbTmFOLE5hTl1dOltbzrswLM+GMF0sW867MSzPhjFdXX19KCksZDMuZ2VvLmNlbnRyb2lkPWZ1bmN0aW9uKG9iamVjdCl7ZDNfZ2VvX2NlbnRyb2lkVzA9ZDNfZ2VvX2NlbnRyb2lkVzE9ZDNfZ2VvX2NlbnRyb2lkWDA9ZDNfZ2VvX2NlbnRyb2lkWTA9ZDNfZ2VvX2NlbnRyb2lkWjA9ZDNfZ2VvX2NlbnRyb2lkWDE9ZDNfZ2VvX2NlbnRyb2lkWTE9ZDNfZ2VvX2NlbnRyb2lkWjE9ZDNfZ2VvX2NlbnRyb2lkWDI9ZDNfZ2VvX2NlbnRyb2lkWTI9ZDNfZ2VvX2NlbnRyb2lkWjI9MCxkMy5nZW8uc3RyZWFtKG9iamVjdCxkM19nZW9fY2VudHJvaWQpO3ZhciB4PWQzX2dlb19jZW50cm9pZFgyLHk9ZDNfZ2VvX2NlbnRyb2lkWTIsej1kM19nZW9fY2VudHJvaWRaMixtPXgqeCt5Knkreip6O3JldHVybiDOtTI+bSYmKHg9ZDNfZ2VvX2NlbnRyb2lkWDEseT1kM19nZW9fY2VudHJvaWRZMSx6PWQzX2dlb19jZW50cm9pZFoxLM61PmQzX2dlb19jZW50cm9pZFcxJiYoeD1kM19nZW9fY2VudHJvaWRYMCx5PWQzX2dlb19jZW50cm9pZFkwLHo9ZDNfZ2VvX2NlbnRyb2lkWjApLG09eCp4K3kqeSt6KnoszrUyPm0pP1tOYU4sTmFOXTpbTWF0aC5hdGFuMih5LHgpKmQzX2RlZ3JlZXMsZDNfYXNpbih6L01hdGguc3FydChtKSkqZDNfZGVncmVlc119O3ZhciBkM19nZW9fY2VudHJvaWRXMCxkM19nZW9fY2VudHJvaWRXMSxkM19nZW9fY2VudHJvaWRYMCxkM19nZW9fY2VudHJvaWRZMCxkM19nZW9fY2VudHJvaWRaMCxkM19nZW9fY2VudHJvaWRYMSxkM19nZW9fY2VudHJvaWRZMSxkM19nZW9fY2VudHJvaWRaMSxkM19nZW9fY2VudHJvaWRYMixkM19nZW9fY2VudHJvaWRZMixkM19nZW9fY2VudHJvaWRaMixkM19nZW9fY2VudHJvaWQ9e3NwaGVyZTpkM19ub29wLHBvaW50OmQzX2dlb19jZW50cm9pZFBvaW50LGxpbmVTdGFydDpkM19nZW9fY2VudHJvaWRMaW5lU3RhcnQsbGluZUVuZDpkM19nZW9fY2VudHJvaWRMaW5lRW5kLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2QzX2dlb19jZW50cm9pZC5saW5lU3RhcnQ9ZDNfZ2VvX2NlbnRyb2lkUmluZ1N0YXJ0fSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7ZDNfZ2VvX2NlbnRyb2lkLmxpbmVTdGFydD1kM19nZW9fY2VudHJvaWRMaW5lU3RhcnR9fSxkM19nZW9fY2xpcEFudGltZXJpZGlhbj1kM19nZW9fY2xpcChkM190cnVlLGQzX2dlb19jbGlwQW50aW1lcmlkaWFuTGluZSxkM19nZW9fY2xpcEFudGltZXJpZGlhbkludGVycG9sYXRlLFstz4AsLc+ALzJdKSxkM19nZW9fY2xpcEV4dGVudE1BWD0xZTk7ZDMuZ2VvLmNsaXBFeHRlbnQ9ZnVuY3Rpb24oKXt2YXIgeDAseTAseDEseTEsc3RyZWFtLGNsaXAsY2xpcEV4dGVudD17c3RyZWFtOmZ1bmN0aW9uKG91dHB1dCl7cmV0dXJuIHN0cmVhbSYmKHN0cmVhbS52YWxpZD0hMSksc3RyZWFtPWNsaXAob3V0cHV0KSxzdHJlYW0udmFsaWQ9ITAsc3RyZWFtfSxleHRlbnQ6ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGNsaXA9ZDNfZ2VvX2NsaXBFeHRlbnQoeDA9K19bMF1bMF0seTA9K19bMF1bMV0seDE9K19bMV1bMF0seTE9K19bMV1bMV0pLHN0cmVhbSYmKHN0cmVhbS52YWxpZD0hMSxzdHJlYW09bnVsbCksY2xpcEV4dGVudCk6W1t4MCx5MF0sW3gxLHkxXV19fTtyZXR1cm4gY2xpcEV4dGVudC5leHRlbnQoW1swLDBdLFs5NjAsNTAwXV0pfSwoZDMuZ2VvLmNvbmljRXF1YWxBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2dlb19jb25pYyhkM19nZW9fY29uaWNFcXVhbEFyZWEpfSkucmF3PWQzX2dlb19jb25pY0VxdWFsQXJlYSxkMy5nZW8uYWxiZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLmdlby5jb25pY0VxdWFsQXJlYSgpLnJvdGF0ZShbOTYsMF0pLmNlbnRlcihbLS42LDM4LjddKS5wYXJhbGxlbHMoWzI5LjUsNDUuNV0pLnNjYWxlKDEwNzApfSxkMy5nZW8uYWxiZXJzVXNhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYWxiZXJzVXNhKGNvb3JkaW5hdGVzKXt2YXIgeD1jb29yZGluYXRlc1swXSx5PWNvb3JkaW5hdGVzWzFdO3JldHVybiBwb2ludD1udWxsLGxvd2VyNDhQb2ludCh4LHkpLHBvaW50fHwoYWxhc2thUG9pbnQoeCx5KSxwb2ludCl8fGhhd2FpaVBvaW50KHgseSkscG9pbnR9dmFyIHBvaW50LGxvd2VyNDhQb2ludCxhbGFza2FQb2ludCxoYXdhaWlQb2ludCxsb3dlcjQ4PWQzLmdlby5hbGJlcnMoKSxhbGFza2E9ZDMuZ2VvLmNvbmljRXF1YWxBcmVhKCkucm90YXRlKFsxNTQsMF0pLmNlbnRlcihbLTIsNTguNV0pLnBhcmFsbGVscyhbNTUsNjVdKSxoYXdhaWk9ZDMuZ2VvLmNvbmljRXF1YWxBcmVhKCkucm90YXRlKFsxNTcsMF0pLmNlbnRlcihbLTMsMTkuOV0pLnBhcmFsbGVscyhbOCwxOF0pLHBvaW50U3RyZWFtPXtwb2ludDpmdW5jdGlvbih4LHkpe3BvaW50PVt4LHldfX07cmV0dXJuIGFsYmVyc1VzYS5pbnZlcnQ9ZnVuY3Rpb24oY29vcmRpbmF0ZXMpe3ZhciBrPWxvd2VyNDguc2NhbGUoKSx0PWxvd2VyNDgudHJhbnNsYXRlKCkseD0oY29vcmRpbmF0ZXNbMF0tdFswXSkvayx5PShjb29yZGluYXRlc1sxXS10WzFdKS9rO3JldHVybih5Pj0uMTImJi4yMzQ+eSYmeD49LS40MjUmJi0uMjE0Png/YWxhc2thOnk+PS4xNjYmJi4yMzQ+eSYmeD49LS4yMTQmJi0uMTE1Png/aGF3YWlpOmxvd2VyNDgpLmludmVydChjb29yZGluYXRlcyl9LGFsYmVyc1VzYS5zdHJlYW09ZnVuY3Rpb24oc3RyZWFtKXt2YXIgbG93ZXI0OFN0cmVhbT1sb3dlcjQ4LnN0cmVhbShzdHJlYW0pLGFsYXNrYVN0cmVhbT1hbGFza2Euc3RyZWFtKHN0cmVhbSksaGF3YWlpU3RyZWFtPWhhd2FpaS5zdHJlYW0oc3RyZWFtKTtyZXR1cm57cG9pbnQ6ZnVuY3Rpb24oeCx5KXtsb3dlcjQ4U3RyZWFtLnBvaW50KHgseSksYWxhc2thU3RyZWFtLnBvaW50KHgseSksaGF3YWlpU3RyZWFtLnBvaW50KHgseSl9LHNwaGVyZTpmdW5jdGlvbigpe2xvd2VyNDhTdHJlYW0uc3BoZXJlKCksYWxhc2thU3RyZWFtLnNwaGVyZSgpLGhhd2FpaVN0cmVhbS5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7bG93ZXI0OFN0cmVhbS5saW5lU3RhcnQoKSxhbGFza2FTdHJlYW0ubGluZVN0YXJ0KCksaGF3YWlpU3RyZWFtLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bG93ZXI0OFN0cmVhbS5saW5lRW5kKCksYWxhc2thU3RyZWFtLmxpbmVFbmQoKSxoYXdhaWlTdHJlYW0ubGluZUVuZCgpfSxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtsb3dlcjQ4U3RyZWFtLnBvbHlnb25TdGFydCgpLGFsYXNrYVN0cmVhbS5wb2x5Z29uU3RhcnQoKSxoYXdhaWlTdHJlYW0ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtsb3dlcjQ4U3RyZWFtLnBvbHlnb25FbmQoKSxhbGFza2FTdHJlYW0ucG9seWdvbkVuZCgpLGhhd2FpaVN0cmVhbS5wb2x5Z29uRW5kKCl9fX0sYWxiZXJzVXNhLnByZWNpc2lvbj1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obG93ZXI0OC5wcmVjaXNpb24oXyksYWxhc2thLnByZWNpc2lvbihfKSxoYXdhaWkucHJlY2lzaW9uKF8pLGFsYmVyc1VzYSk6bG93ZXI0OC5wcmVjaXNpb24oKX0sYWxiZXJzVXNhLnNjYWxlPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsb3dlcjQ4LnNjYWxlKF8pLGFsYXNrYS5zY2FsZSguMzUqXyksaGF3YWlpLnNjYWxlKF8pLGFsYmVyc1VzYS50cmFuc2xhdGUobG93ZXI0OC50cmFuc2xhdGUoKSkpOmxvd2VyNDguc2NhbGUoKX0sYWxiZXJzVXNhLnRyYW5zbGF0ZT1mdW5jdGlvbihfKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbG93ZXI0OC50cmFuc2xhdGUoKTt2YXIgaz1sb3dlcjQ4LnNjYWxlKCkseD0rX1swXSx5PStfWzFdO3JldHVybiBsb3dlcjQ4UG9pbnQ9bG93ZXI0OC50cmFuc2xhdGUoXykuY2xpcEV4dGVudChbW3gtLjQ1NSprLHktLjIzOCprXSxbeCsuNDU1KmsseSsuMjM4KmtdXSkuc3RyZWFtKHBvaW50U3RyZWFtKS5wb2ludCxhbGFza2FQb2ludD1hbGFza2EudHJhbnNsYXRlKFt4LS4zMDcqayx5Ky4yMDEqa10pLmNsaXBFeHRlbnQoW1t4LS40MjUqayvOtSx5Ky4xMiprK861XSxbeC0uMjE0KmstzrUseSsuMjM0KmstzrVdXSkuc3RyZWFtKHBvaW50U3RyZWFtKS5wb2ludCxoYXdhaWlQb2ludD1oYXdhaWkudHJhbnNsYXRlKFt4LS4yMDUqayx5Ky4yMTIqa10pLmNsaXBFeHRlbnQoW1t4LS4yMTQqayvOtSx5Ky4xNjYqayvOtV0sW3gtLjExNSprLc61LHkrLjIzNCprLc61XV0pLnN0cmVhbShwb2ludFN0cmVhbSkucG9pbnQsYWxiZXJzVXNhfSxhbGJlcnNVc2Euc2NhbGUoMTA3MCl9O3ZhciBkM19nZW9fcGF0aEFyZWFTdW0sZDNfZ2VvX3BhdGhBcmVhUG9seWdvbixkM19nZW9fcGF0aEJvdW5kc1gwLGQzX2dlb19wYXRoQm91bmRzWTAsZDNfZ2VvX3BhdGhCb3VuZHNYMSxkM19nZW9fcGF0aEJvdW5kc1kxLGQzX2dlb19wYXRoQXJlYT17cG9pbnQ6ZDNfbm9vcCxsaW5lU3RhcnQ6ZDNfbm9vcCxsaW5lRW5kOmQzX25vb3AscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7ZDNfZ2VvX3BhdGhBcmVhUG9seWdvbj0wLGQzX2dlb19wYXRoQXJlYS5saW5lU3RhcnQ9ZDNfZ2VvX3BhdGhBcmVhUmluZ1N0YXJ0fSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7ZDNfZ2VvX3BhdGhBcmVhLmxpbmVTdGFydD1kM19nZW9fcGF0aEFyZWEubGluZUVuZD1kM19nZW9fcGF0aEFyZWEucG9pbnQ9ZDNfbm9vcCxkM19nZW9fcGF0aEFyZWFTdW0rPWFicyhkM19nZW9fcGF0aEFyZWFQb2x5Z29uLzIpfX0sZDNfZ2VvX3BhdGhCb3VuZHM9e3BvaW50OmQzX2dlb19wYXRoQm91bmRzUG9pbnQsbGluZVN0YXJ0OmQzX25vb3AsbGluZUVuZDpkM19ub29wLHBvbHlnb25TdGFydDpkM19ub29wLHBvbHlnb25FbmQ6ZDNfbm9vcH0sZDNfZ2VvX3BhdGhDZW50cm9pZD17cG9pbnQ6ZDNfZ2VvX3BhdGhDZW50cm9pZFBvaW50LGxpbmVTdGFydDpkM19nZW9fcGF0aENlbnRyb2lkTGluZVN0YXJ0LGxpbmVFbmQ6ZDNfZ2VvX3BhdGhDZW50cm9pZExpbmVFbmQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7ZDNfZ2VvX3BhdGhDZW50cm9pZC5saW5lU3RhcnQ9ZDNfZ2VvX3BhdGhDZW50cm9pZFJpbmdTdGFydH0scG9seWdvbkVuZDpmdW5jdGlvbigpe2QzX2dlb19wYXRoQ2VudHJvaWQucG9pbnQ9ZDNfZ2VvX3BhdGhDZW50cm9pZFBvaW50LGQzX2dlb19wYXRoQ2VudHJvaWQubGluZVN0YXJ0PWQzX2dlb19wYXRoQ2VudHJvaWRMaW5lU3RhcnQsZDNfZ2VvX3BhdGhDZW50cm9pZC5saW5lRW5kPWQzX2dlb19wYXRoQ2VudHJvaWRMaW5lRW5kfX07ZDMuZ2VvLnBhdGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBwYXRoKG9iamVjdCl7cmV0dXJuIG9iamVjdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHBvaW50UmFkaXVzJiZjb250ZXh0U3RyZWFtLnBvaW50UmFkaXVzKCtwb2ludFJhZGl1cy5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGNhY2hlU3RyZWFtJiZjYWNoZVN0cmVhbS52YWxpZHx8KGNhY2hlU3RyZWFtPXByb2plY3RTdHJlYW0oY29udGV4dFN0cmVhbSkpLFxuZDMuZ2VvLnN0cmVhbShvYmplY3QsY2FjaGVTdHJlYW0pKSxjb250ZXh0U3RyZWFtLnJlc3VsdCgpfWZ1bmN0aW9uIHJlc2V0KCl7cmV0dXJuIGNhY2hlU3RyZWFtPW51bGwscGF0aH12YXIgcHJvamVjdGlvbixjb250ZXh0LHByb2plY3RTdHJlYW0sY29udGV4dFN0cmVhbSxjYWNoZVN0cmVhbSxwb2ludFJhZGl1cz00LjU7cmV0dXJuIHBhdGguYXJlYT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBkM19nZW9fcGF0aEFyZWFTdW09MCxkMy5nZW8uc3RyZWFtKG9iamVjdCxwcm9qZWN0U3RyZWFtKGQzX2dlb19wYXRoQXJlYSkpLGQzX2dlb19wYXRoQXJlYVN1bX0scGF0aC5jZW50cm9pZD1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBkM19nZW9fY2VudHJvaWRYMD1kM19nZW9fY2VudHJvaWRZMD1kM19nZW9fY2VudHJvaWRaMD1kM19nZW9fY2VudHJvaWRYMT1kM19nZW9fY2VudHJvaWRZMT1kM19nZW9fY2VudHJvaWRaMT1kM19nZW9fY2VudHJvaWRYMj1kM19nZW9fY2VudHJvaWRZMj1kM19nZW9fY2VudHJvaWRaMj0wLGQzLmdlby5zdHJlYW0ob2JqZWN0LHByb2plY3RTdHJlYW0oZDNfZ2VvX3BhdGhDZW50cm9pZCkpLGQzX2dlb19jZW50cm9pZFoyP1tkM19nZW9fY2VudHJvaWRYMi9kM19nZW9fY2VudHJvaWRaMixkM19nZW9fY2VudHJvaWRZMi9kM19nZW9fY2VudHJvaWRaMl06ZDNfZ2VvX2NlbnRyb2lkWjE/W2QzX2dlb19jZW50cm9pZFgxL2QzX2dlb19jZW50cm9pZFoxLGQzX2dlb19jZW50cm9pZFkxL2QzX2dlb19jZW50cm9pZFoxXTpkM19nZW9fY2VudHJvaWRaMD9bZDNfZ2VvX2NlbnRyb2lkWDAvZDNfZ2VvX2NlbnRyb2lkWjAsZDNfZ2VvX2NlbnRyb2lkWTAvZDNfZ2VvX2NlbnRyb2lkWjBdOltOYU4sTmFOXX0scGF0aC5ib3VuZHM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gZDNfZ2VvX3BhdGhCb3VuZHNYMT1kM19nZW9fcGF0aEJvdW5kc1kxPS0oZDNfZ2VvX3BhdGhCb3VuZHNYMD1kM19nZW9fcGF0aEJvdW5kc1kwPTEvMCksZDMuZ2VvLnN0cmVhbShvYmplY3QscHJvamVjdFN0cmVhbShkM19nZW9fcGF0aEJvdW5kcykpLFtbZDNfZ2VvX3BhdGhCb3VuZHNYMCxkM19nZW9fcGF0aEJvdW5kc1kwXSxbZDNfZ2VvX3BhdGhCb3VuZHNYMSxkM19nZW9fcGF0aEJvdW5kc1kxXV19LHBhdGgucHJvamVjdGlvbj1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocHJvamVjdFN0cmVhbT0ocHJvamVjdGlvbj1fKT9fLnN0cmVhbXx8ZDNfZ2VvX3BhdGhQcm9qZWN0U3RyZWFtKF8pOmQzX2lkZW50aXR5LHJlc2V0KCkpOnByb2plY3Rpb259LHBhdGguY29udGV4dD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oY29udGV4dFN0cmVhbT1udWxsPT0oY29udGV4dD1fKT9uZXcgZDNfZ2VvX3BhdGhCdWZmZXI6bmV3IGQzX2dlb19wYXRoQ29udGV4dChfKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBwb2ludFJhZGl1cyYmY29udGV4dFN0cmVhbS5wb2ludFJhZGl1cyhwb2ludFJhZGl1cykscmVzZXQoKSk6Y29udGV4dH0scGF0aC5wb2ludFJhZGl1cz1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocG9pbnRSYWRpdXM9XCJmdW5jdGlvblwiPT10eXBlb2YgXz9fOihjb250ZXh0U3RyZWFtLnBvaW50UmFkaXVzKCtfKSwrXykscGF0aCk6cG9pbnRSYWRpdXN9LHBhdGgucHJvamVjdGlvbihkMy5nZW8uYWxiZXJzVXNhKCkpLmNvbnRleHQobnVsbCl9LGQzLmdlby50cmFuc2Zvcm09ZnVuY3Rpb24obWV0aG9kcyl7cmV0dXJue3N0cmVhbTpmdW5jdGlvbihzdHJlYW0pe3ZhciB0cmFuc2Zvcm09bmV3IGQzX2dlb190cmFuc2Zvcm0oc3RyZWFtKTtmb3IodmFyIGsgaW4gbWV0aG9kcyl0cmFuc2Zvcm1ba109bWV0aG9kc1trXTtyZXR1cm4gdHJhbnNmb3JtfX19LGQzX2dlb190cmFuc2Zvcm0ucHJvdG90eXBlPXtwb2ludDpmdW5jdGlvbih4LHkpe3RoaXMuc3RyZWFtLnBvaW50KHgseSl9LHNwaGVyZTpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnNwaGVyZSgpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5saW5lU3RhcnQoKX0sbGluZUVuZDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5wb2x5Z29uRW5kKCl9fSxkMy5nZW8ucHJvamVjdGlvbj1kM19nZW9fcHJvamVjdGlvbixkMy5nZW8ucHJvamVjdGlvbk11dGF0b3I9ZDNfZ2VvX3Byb2plY3Rpb25NdXRhdG9yLChkMy5nZW8uZXF1aXJlY3Rhbmd1bGFyPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2dlb19wcm9qZWN0aW9uKGQzX2dlb19lcXVpcmVjdGFuZ3VsYXIpfSkucmF3PWQzX2dlb19lcXVpcmVjdGFuZ3VsYXIuaW52ZXJ0PWQzX2dlb19lcXVpcmVjdGFuZ3VsYXIsZDMuZ2VvLnJvdGF0aW9uPWZ1bmN0aW9uKHJvdGF0ZSl7ZnVuY3Rpb24gZm9yd2FyZChjb29yZGluYXRlcyl7cmV0dXJuIGNvb3JkaW5hdGVzPXJvdGF0ZShjb29yZGluYXRlc1swXSpkM19yYWRpYW5zLGNvb3JkaW5hdGVzWzFdKmQzX3JhZGlhbnMpLGNvb3JkaW5hdGVzWzBdKj1kM19kZWdyZWVzLGNvb3JkaW5hdGVzWzFdKj1kM19kZWdyZWVzLGNvb3JkaW5hdGVzfXJldHVybiByb3RhdGU9ZDNfZ2VvX3JvdGF0aW9uKHJvdGF0ZVswXSUzNjAqZDNfcmFkaWFucyxyb3RhdGVbMV0qZDNfcmFkaWFucyxyb3RhdGUubGVuZ3RoPjI/cm90YXRlWzJdKmQzX3JhZGlhbnM6MCksZm9yd2FyZC5pbnZlcnQ9ZnVuY3Rpb24oY29vcmRpbmF0ZXMpe3JldHVybiBjb29yZGluYXRlcz1yb3RhdGUuaW52ZXJ0KGNvb3JkaW5hdGVzWzBdKmQzX3JhZGlhbnMsY29vcmRpbmF0ZXNbMV0qZDNfcmFkaWFucyksY29vcmRpbmF0ZXNbMF0qPWQzX2RlZ3JlZXMsY29vcmRpbmF0ZXNbMV0qPWQzX2RlZ3JlZXMsY29vcmRpbmF0ZXN9LGZvcndhcmR9LGQzX2dlb19pZGVudGl0eVJvdGF0aW9uLmludmVydD1kM19nZW9fZXF1aXJlY3Rhbmd1bGFyLGQzLmdlby5jaXJjbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjaXJjbGUoKXt2YXIgY2VudGVyPVwiZnVuY3Rpb25cIj09dHlwZW9mIG9yaWdpbj9vcmlnaW4uYXBwbHkodGhpcyxhcmd1bWVudHMpOm9yaWdpbixyb3RhdGU9ZDNfZ2VvX3JvdGF0aW9uKC1jZW50ZXJbMF0qZDNfcmFkaWFucywtY2VudGVyWzFdKmQzX3JhZGlhbnMsMCkuaW52ZXJ0LHJpbmc9W107cmV0dXJuIGludGVycG9sYXRlKG51bGwsbnVsbCwxLHtwb2ludDpmdW5jdGlvbih4LHkpe3JpbmcucHVzaCh4PXJvdGF0ZSh4LHkpKSx4WzBdKj1kM19kZWdyZWVzLHhbMV0qPWQzX2RlZ3JlZXN9fSkse3R5cGU6XCJQb2x5Z29uXCIsY29vcmRpbmF0ZXM6W3JpbmddfX12YXIgYW5nbGUsaW50ZXJwb2xhdGUsb3JpZ2luPVswLDBdLHByZWNpc2lvbj02O3JldHVybiBjaXJjbGUub3JpZ2luPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvcmlnaW49eCxjaXJjbGUpOm9yaWdpbn0sY2lyY2xlLmFuZ2xlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpbnRlcnBvbGF0ZT1kM19nZW9fY2lyY2xlSW50ZXJwb2xhdGUoKGFuZ2xlPSt4KSpkM19yYWRpYW5zLHByZWNpc2lvbipkM19yYWRpYW5zKSxjaXJjbGUpOmFuZ2xlfSxjaXJjbGUucHJlY2lzaW9uPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpbnRlcnBvbGF0ZT1kM19nZW9fY2lyY2xlSW50ZXJwb2xhdGUoYW5nbGUqZDNfcmFkaWFucywocHJlY2lzaW9uPStfKSpkM19yYWRpYW5zKSxjaXJjbGUpOnByZWNpc2lvbn0sY2lyY2xlLmFuZ2xlKDkwKX0sZDMuZ2VvLmRpc3RhbmNlPWZ1bmN0aW9uKGEsYil7dmFyIHQszpTOuz0oYlswXS1hWzBdKSpkM19yYWRpYW5zLM+GMD1hWzFdKmQzX3JhZGlhbnMsz4YxPWJbMV0qZDNfcmFkaWFucyxzaW7OlM67PU1hdGguc2luKM6UzrspLGNvc86Uzrs9TWF0aC5jb3MozpTOuyksc2luz4YwPU1hdGguc2luKM+GMCksY29zz4YwPU1hdGguY29zKM+GMCksc2luz4YxPU1hdGguc2luKM+GMSksY29zz4YxPU1hdGguY29zKM+GMSk7cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zcXJ0KCh0PWNvc8+GMSpzaW7OlM67KSp0Kyh0PWNvc8+GMCpzaW7PhjEtc2luz4YwKmNvc8+GMSpjb3POlM67KSp0KSxzaW7PhjAqc2luz4YxK2Nvc8+GMCpjb3PPhjEqY29zzpTOuyl9LGQzLmdlby5ncmF0aWN1bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBncmF0aWN1bGUoKXtyZXR1cm57dHlwZTpcIk11bHRpTGluZVN0cmluZ1wiLGNvb3JkaW5hdGVzOmxpbmVzKCl9fWZ1bmN0aW9uIGxpbmVzKCl7cmV0dXJuIGQzLnJhbmdlKE1hdGguY2VpbChYMC9EWCkqRFgsWDEsRFgpLm1hcChYKS5jb25jYXQoZDMucmFuZ2UoTWF0aC5jZWlsKFkwL0RZKSpEWSxZMSxEWSkubWFwKFkpKS5jb25jYXQoZDMucmFuZ2UoTWF0aC5jZWlsKHgwL2R4KSpkeCx4MSxkeCkuZmlsdGVyKGZ1bmN0aW9uKHgpe3JldHVybiBhYnMoeCVEWCk+zrV9KS5tYXAoeCkpLmNvbmNhdChkMy5yYW5nZShNYXRoLmNlaWwoeTAvZHkpKmR5LHkxLGR5KS5maWx0ZXIoZnVuY3Rpb24oeSl7cmV0dXJuIGFicyh5JURZKT7OtX0pLm1hcCh5KSl9dmFyIHgxLHgwLFgxLFgwLHkxLHkwLFkxLFkwLHgseSxYLFksZHg9MTAsZHk9ZHgsRFg9OTAsRFk9MzYwLHByZWNpc2lvbj0yLjU7cmV0dXJuIGdyYXRpY3VsZS5saW5lcz1mdW5jdGlvbigpe3JldHVybiBsaW5lcygpLm1hcChmdW5jdGlvbihjb29yZGluYXRlcyl7cmV0dXJue3R5cGU6XCJMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6Y29vcmRpbmF0ZXN9fSl9LGdyYXRpY3VsZS5vdXRsaW5lPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJQb2x5Z29uXCIsY29vcmRpbmF0ZXM6W1goWDApLmNvbmNhdChZKFkxKS5zbGljZSgxKSxYKFgxKS5yZXZlcnNlKCkuc2xpY2UoMSksWShZMCkucmV2ZXJzZSgpLnNsaWNlKDEpKV19fSxncmF0aWN1bGUuZXh0ZW50PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2dyYXRpY3VsZS5tYWpvckV4dGVudChfKS5taW5vckV4dGVudChfKTpncmF0aWN1bGUubWlub3JFeHRlbnQoKX0sZ3JhdGljdWxlLm1ham9yRXh0ZW50PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhYMD0rX1swXVswXSxYMT0rX1sxXVswXSxZMD0rX1swXVsxXSxZMT0rX1sxXVsxXSxYMD5YMSYmKF89WDAsWDA9WDEsWDE9XyksWTA+WTEmJihfPVkwLFkwPVkxLFkxPV8pLGdyYXRpY3VsZS5wcmVjaXNpb24ocHJlY2lzaW9uKSk6W1tYMCxZMF0sW1gxLFkxXV19LGdyYXRpY3VsZS5taW5vckV4dGVudD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeDA9K19bMF1bMF0seDE9K19bMV1bMF0seTA9K19bMF1bMV0seTE9K19bMV1bMV0seDA+eDEmJihfPXgwLHgwPXgxLHgxPV8pLHkwPnkxJiYoXz15MCx5MD15MSx5MT1fKSxncmF0aWN1bGUucHJlY2lzaW9uKHByZWNpc2lvbikpOltbeDAseTBdLFt4MSx5MV1dfSxncmF0aWN1bGUuc3RlcD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9ncmF0aWN1bGUubWFqb3JTdGVwKF8pLm1pbm9yU3RlcChfKTpncmF0aWN1bGUubWlub3JTdGVwKCl9LGdyYXRpY3VsZS5tYWpvclN0ZXA9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KERYPStfWzBdLERZPStfWzFdLGdyYXRpY3VsZSk6W0RYLERZXX0sZ3JhdGljdWxlLm1pbm9yU3RlcD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZHg9K19bMF0sZHk9K19bMV0sZ3JhdGljdWxlKTpbZHgsZHldfSxncmF0aWN1bGUucHJlY2lzaW9uPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwcmVjaXNpb249K18seD1kM19nZW9fZ3JhdGljdWxlWCh5MCx5MSw5MCkseT1kM19nZW9fZ3JhdGljdWxlWSh4MCx4MSxwcmVjaXNpb24pLFg9ZDNfZ2VvX2dyYXRpY3VsZVgoWTAsWTEsOTApLFk9ZDNfZ2VvX2dyYXRpY3VsZVkoWDAsWDEscHJlY2lzaW9uKSxncmF0aWN1bGUpOnByZWNpc2lvbn0sZ3JhdGljdWxlLm1ham9yRXh0ZW50KFtbLTE4MCwtOTArzrVdLFsxODAsOTAtzrVdXSkubWlub3JFeHRlbnQoW1stMTgwLC04MC3OtV0sWzE4MCw4MCvOtV1dKX0sZDMuZ2VvLmdyZWF0QXJjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZ3JlYXRBcmMoKXtyZXR1cm57dHlwZTpcIkxpbmVTdHJpbmdcIixjb29yZGluYXRlczpbc291cmNlX3x8c291cmNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0YXJnZXRffHx0YXJnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpXX19dmFyIHNvdXJjZV8sdGFyZ2V0Xyxzb3VyY2U9ZDNfc291cmNlLHRhcmdldD1kM190YXJnZXQ7cmV0dXJuIGdyZWF0QXJjLmRpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLmdlby5kaXN0YW5jZShzb3VyY2VffHxzb3VyY2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRhcmdldF98fHRhcmdldC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxncmVhdEFyYy5zb3VyY2U9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNvdXJjZT1fLHNvdXJjZV89XCJmdW5jdGlvblwiPT10eXBlb2YgXz9udWxsOl8sZ3JlYXRBcmMpOnNvdXJjZX0sZ3JlYXRBcmMudGFyZ2V0PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0YXJnZXQ9Xyx0YXJnZXRfPVwiZnVuY3Rpb25cIj09dHlwZW9mIF8/bnVsbDpfLGdyZWF0QXJjKTp0YXJnZXR9LGdyZWF0QXJjLnByZWNpc2lvbj1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2dyZWF0QXJjOjB9LGdyZWF0QXJjfSxkMy5nZW8uaW50ZXJwb2xhdGU9ZnVuY3Rpb24oc291cmNlLHRhcmdldCl7cmV0dXJuIGQzX2dlb19pbnRlcnBvbGF0ZShzb3VyY2VbMF0qZDNfcmFkaWFucyxzb3VyY2VbMV0qZDNfcmFkaWFucyx0YXJnZXRbMF0qZDNfcmFkaWFucyx0YXJnZXRbMV0qZDNfcmFkaWFucyl9LGQzLmdlby5sZW5ndGg9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gZDNfZ2VvX2xlbmd0aFN1bT0wLGQzLmdlby5zdHJlYW0ob2JqZWN0LGQzX2dlb19sZW5ndGgpLGQzX2dlb19sZW5ndGhTdW19O3ZhciBkM19nZW9fbGVuZ3RoU3VtLGQzX2dlb19sZW5ndGg9e3NwaGVyZTpkM19ub29wLHBvaW50OmQzX25vb3AsbGluZVN0YXJ0OmQzX2dlb19sZW5ndGhMaW5lU3RhcnQsbGluZUVuZDpkM19ub29wLHBvbHlnb25TdGFydDpkM19ub29wLHBvbHlnb25FbmQ6ZDNfbm9vcH0sZDNfZ2VvX2F6aW11dGhhbEVxdWFsQXJlYT1kM19nZW9fYXppbXV0aGFsKGZ1bmN0aW9uKGNvc867Y29zz4Ype3JldHVybiBNYXRoLnNxcnQoMi8oMStjb3POu2Nvc8+GKSl9LGZ1bmN0aW9uKM+BKXtyZXR1cm4gMipNYXRoLmFzaW4oz4EvMil9KTsoZDMuZ2VvLmF6aW11dGhhbEVxdWFsQXJlYT1mdW5jdGlvbigpe3JldHVybiBkM19nZW9fcHJvamVjdGlvbihkM19nZW9fYXppbXV0aGFsRXF1YWxBcmVhKX0pLnJhdz1kM19nZW9fYXppbXV0aGFsRXF1YWxBcmVhO3ZhciBkM19nZW9fYXppbXV0aGFsRXF1aWRpc3RhbnQ9ZDNfZ2VvX2F6aW11dGhhbChmdW5jdGlvbihjb3POu2Nvc8+GKXt2YXIgYz1NYXRoLmFjb3MoY29zzrtjb3PPhik7cmV0dXJuIGMmJmMvTWF0aC5zaW4oYyl9LGQzX2lkZW50aXR5KTsoZDMuZ2VvLmF6aW11dGhhbEVxdWlkaXN0YW50PWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2dlb19wcm9qZWN0aW9uKGQzX2dlb19hemltdXRoYWxFcXVpZGlzdGFudCl9KS5yYXc9ZDNfZ2VvX2F6aW11dGhhbEVxdWlkaXN0YW50LChkMy5nZW8uY29uaWNDb25mb3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfZ2VvX2NvbmljKGQzX2dlb19jb25pY0NvbmZvcm1hbCl9KS5yYXc9ZDNfZ2VvX2NvbmljQ29uZm9ybWFsLChkMy5nZW8uY29uaWNFcXVpZGlzdGFudD1mdW5jdGlvbigpe3JldHVybiBkM19nZW9fY29uaWMoZDNfZ2VvX2NvbmljRXF1aWRpc3RhbnQpfSkucmF3PWQzX2dlb19jb25pY0VxdWlkaXN0YW50O3ZhciBkM19nZW9fZ25vbW9uaWM9ZDNfZ2VvX2F6aW11dGhhbChmdW5jdGlvbihjb3POu2Nvc8+GKXtyZXR1cm4gMS9jb3POu2Nvc8+GfSxNYXRoLmF0YW4pOyhkMy5nZW8uZ25vbW9uaWM9ZnVuY3Rpb24oKXtyZXR1cm4gZDNfZ2VvX3Byb2plY3Rpb24oZDNfZ2VvX2dub21vbmljKX0pLnJhdz1kM19nZW9fZ25vbW9uaWMsZDNfZ2VvX21lcmNhdG9yLmludmVydD1mdW5jdGlvbih4LHkpe3JldHVyblt4LDIqTWF0aC5hdGFuKE1hdGguZXhwKHkpKS1oYWxmz4BdfSwoZDMuZ2VvLm1lcmNhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2dlb19tZXJjYXRvclByb2plY3Rpb24oZDNfZ2VvX21lcmNhdG9yKX0pLnJhdz1kM19nZW9fbWVyY2F0b3I7dmFyIGQzX2dlb19vcnRob2dyYXBoaWM9ZDNfZ2VvX2F6aW11dGhhbChmdW5jdGlvbigpe3JldHVybiAxfSxNYXRoLmFzaW4pOyhkMy5nZW8ub3J0aG9ncmFwaGljPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2dlb19wcm9qZWN0aW9uKGQzX2dlb19vcnRob2dyYXBoaWMpfSkucmF3PWQzX2dlb19vcnRob2dyYXBoaWM7dmFyIGQzX2dlb19zdGVyZW9ncmFwaGljPWQzX2dlb19hemltdXRoYWwoZnVuY3Rpb24oY29zzrtjb3PPhil7cmV0dXJuIDEvKDErY29zzrtjb3PPhil9LGZ1bmN0aW9uKM+BKXtyZXR1cm4gMipNYXRoLmF0YW4oz4EpfSk7KGQzLmdlby5zdGVyZW9ncmFwaGljPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2dlb19wcm9qZWN0aW9uKGQzX2dlb19zdGVyZW9ncmFwaGljKX0pLnJhdz1kM19nZW9fc3RlcmVvZ3JhcGhpYyxkM19nZW9fdHJhbnN2ZXJzZU1lcmNhdG9yLmludmVydD1mdW5jdGlvbih4LHkpe3JldHVyblsteSwyKk1hdGguYXRhbihNYXRoLmV4cCh4KSktaGFsZs+AXX0sKGQzLmdlby50cmFuc3ZlcnNlTWVyY2F0b3I9ZnVuY3Rpb24oKXt2YXIgcHJvamVjdGlvbj1kM19nZW9fbWVyY2F0b3JQcm9qZWN0aW9uKGQzX2dlb190cmFuc3ZlcnNlTWVyY2F0b3IpLGNlbnRlcj1wcm9qZWN0aW9uLmNlbnRlcixyb3RhdGU9cHJvamVjdGlvbi5yb3RhdGU7cmV0dXJuIHByb2plY3Rpb24uY2VudGVyPWZ1bmN0aW9uKF8pe3JldHVybiBfP2NlbnRlcihbLV9bMV0sX1swXV0pOihfPWNlbnRlcigpLFtfWzFdLC1fWzBdXSl9LHByb2plY3Rpb24ucm90YXRlPWZ1bmN0aW9uKF8pe3JldHVybiBfP3JvdGF0ZShbX1swXSxfWzFdLF8ubGVuZ3RoPjI/X1syXSs5MDo5MF0pOihfPXJvdGF0ZSgpLFtfWzBdLF9bMV0sX1syXS05MF0pfSxyb3RhdGUoWzAsMCw5MF0pfSkucmF3PWQzX2dlb190cmFuc3ZlcnNlTWVyY2F0b3IsZDMuZ2VvbT17fSxkMy5nZW9tLmh1bGw9ZnVuY3Rpb24odmVydGljZXMpe2Z1bmN0aW9uIGh1bGwoZGF0YSl7aWYoZGF0YS5sZW5ndGg8MylyZXR1cm5bXTt2YXIgaSxmeD1kM19mdW5jdG9yKHgpLGZ5PWQzX2Z1bmN0b3IoeSksbj1kYXRhLmxlbmd0aCxwb2ludHM9W10sZmxpcHBlZFBvaW50cz1bXTtmb3IoaT0wO24+aTtpKyspcG9pbnRzLnB1c2goWytmeC5jYWxsKHRoaXMsZGF0YVtpXSxpKSwrZnkuY2FsbCh0aGlzLGRhdGFbaV0saSksaV0pO2Zvcihwb2ludHMuc29ydChkM19nZW9tX2h1bGxPcmRlciksaT0wO24+aTtpKyspZmxpcHBlZFBvaW50cy5wdXNoKFtwb2ludHNbaV1bMF0sLXBvaW50c1tpXVsxXV0pO3ZhciB1cHBlcj1kM19nZW9tX2h1bGxVcHBlcihwb2ludHMpLGxvd2VyPWQzX2dlb21faHVsbFVwcGVyKGZsaXBwZWRQb2ludHMpLHNraXBMZWZ0PWxvd2VyWzBdPT09dXBwZXJbMF0sc2tpcFJpZ2h0PWxvd2VyW2xvd2VyLmxlbmd0aC0xXT09PXVwcGVyW3VwcGVyLmxlbmd0aC0xXSxwb2x5Z29uPVtdO2ZvcihpPXVwcGVyLmxlbmd0aC0xO2k+PTA7LS1pKXBvbHlnb24ucHVzaChkYXRhW3BvaW50c1t1cHBlcltpXV1bMl1dKTtmb3IoaT0rc2tpcExlZnQ7aTxsb3dlci5sZW5ndGgtc2tpcFJpZ2h0OysraSlwb2x5Z29uLnB1c2goZGF0YVtwb2ludHNbbG93ZXJbaV1dWzJdXSk7cmV0dXJuIHBvbHlnb259dmFyIHg9ZDNfZ2VvbV9wb2ludFgseT1kM19nZW9tX3BvaW50WTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9odWxsKHZlcnRpY2VzKTooaHVsbC54PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh4PV8saHVsbCk6eH0saHVsbC55PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh5PV8saHVsbCk6eX0saHVsbCl9LGQzLmdlb20ucG9seWdvbj1mdW5jdGlvbihjb29yZGluYXRlcyl7cmV0dXJuIGQzX3N1YmNsYXNzKGNvb3JkaW5hdGVzLGQzX2dlb21fcG9seWdvblByb3RvdHlwZSksY29vcmRpbmF0ZXN9O3ZhciBkM19nZW9tX3BvbHlnb25Qcm90b3R5cGU9ZDMuZ2VvbS5wb2x5Z29uLnByb3RvdHlwZT1bXTtkM19nZW9tX3BvbHlnb25Qcm90b3R5cGUuYXJlYT1mdW5jdGlvbigpe2Zvcih2YXIgYSxpPS0xLG49dGhpcy5sZW5ndGgsYj10aGlzW24tMV0sYXJlYT0wOysraTxuOylhPWIsYj10aGlzW2ldLGFyZWErPWFbMV0qYlswXS1hWzBdKmJbMV07cmV0dXJuLjUqYXJlYX0sZDNfZ2VvbV9wb2x5Z29uUHJvdG90eXBlLmNlbnRyb2lkPWZ1bmN0aW9uKGspe3ZhciBhLGMsaT0tMSxuPXRoaXMubGVuZ3RoLHg9MCx5PTAsYj10aGlzW24tMV07Zm9yKGFyZ3VtZW50cy5sZW5ndGh8fChrPS0xLyg2KnRoaXMuYXJlYSgpKSk7KytpPG47KWE9YixiPXRoaXNbaV0sYz1hWzBdKmJbMV0tYlswXSphWzFdLHgrPShhWzBdK2JbMF0pKmMseSs9KGFbMV0rYlsxXSkqYztyZXR1cm5beCprLHkqa119LGQzX2dlb21fcG9seWdvblByb3RvdHlwZS5jbGlwPWZ1bmN0aW9uKHN1YmplY3Qpe2Zvcih2YXIgaW5wdXQsaixtLGIsYyxkLGNsb3NlZD1kM19nZW9tX3BvbHlnb25DbG9zZWQoc3ViamVjdCksaT0tMSxuPXRoaXMubGVuZ3RoLWQzX2dlb21fcG9seWdvbkNsb3NlZCh0aGlzKSxhPXRoaXNbbi0xXTsrK2k8bjspe2ZvcihpbnB1dD1zdWJqZWN0LnNsaWNlKCksc3ViamVjdC5sZW5ndGg9MCxiPXRoaXNbaV0sYz1pbnB1dFsobT1pbnB1dC5sZW5ndGgtY2xvc2VkKS0xXSxqPS0xOysrajxtOylkPWlucHV0W2pdLGQzX2dlb21fcG9seWdvbkluc2lkZShkLGEsYik/KGQzX2dlb21fcG9seWdvbkluc2lkZShjLGEsYil8fHN1YmplY3QucHVzaChkM19nZW9tX3BvbHlnb25JbnRlcnNlY3QoYyxkLGEsYikpLHN1YmplY3QucHVzaChkKSk6ZDNfZ2VvbV9wb2x5Z29uSW5zaWRlKGMsYSxiKSYmc3ViamVjdC5wdXNoKGQzX2dlb21fcG9seWdvbkludGVyc2VjdChjLGQsYSxiKSksYz1kO2Nsb3NlZCYmc3ViamVjdC5wdXNoKHN1YmplY3RbMF0pLGE9Yn1yZXR1cm4gc3ViamVjdH07dmFyIGQzX2dlb21fdm9yb25vaUVkZ2VzLGQzX2dlb21fdm9yb25vaUNlbGxzLGQzX2dlb21fdm9yb25vaUJlYWNoZXMsZDNfZ2VvbV92b3Jvbm9pRmlyc3RDaXJjbGUsZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlcyxkM19nZW9tX3Zvcm9ub2lCZWFjaFBvb2w9W10sZDNfZ2VvbV92b3Jvbm9pQ2lyY2xlUG9vbD1bXTtkM19nZW9tX3Zvcm9ub2lDZWxsLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlZGdlLGhhbGZFZGdlcz10aGlzLmVkZ2VzLGlIYWxmRWRnZT1oYWxmRWRnZXMubGVuZ3RoO2lIYWxmRWRnZS0tOyllZGdlPWhhbGZFZGdlc1tpSGFsZkVkZ2VdLmVkZ2UsZWRnZS5iJiZlZGdlLmF8fGhhbGZFZGdlcy5zcGxpY2UoaUhhbGZFZGdlLDEpO3JldHVybiBoYWxmRWRnZXMuc29ydChkM19nZW9tX3Zvcm9ub2lIYWxmRWRnZU9yZGVyKSxoYWxmRWRnZXMubGVuZ3RofSxkM19nZW9tX3Zvcm9ub2lIYWxmRWRnZS5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZS5sPT09dGhpcy5zaXRlP3RoaXMuZWRnZS5hOnRoaXMuZWRnZS5ifSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlLmw9PT10aGlzLnNpdGU/dGhpcy5lZGdlLmI6dGhpcy5lZGdlLmF9fSxkM19nZW9tX3Zvcm9ub2lSZWRCbGFja1RyZWUucHJvdG90eXBlPXtpbnNlcnQ6ZnVuY3Rpb24oYWZ0ZXIsbm9kZSl7dmFyIHBhcmVudCxncmFuZHBhLHVuY2xlO2lmKGFmdGVyKXtpZihub2RlLlA9YWZ0ZXIsbm9kZS5OPWFmdGVyLk4sYWZ0ZXIuTiYmKGFmdGVyLk4uUD1ub2RlKSxhZnRlci5OPW5vZGUsYWZ0ZXIuUil7Zm9yKGFmdGVyPWFmdGVyLlI7YWZ0ZXIuTDspYWZ0ZXI9YWZ0ZXIuTDthZnRlci5MPW5vZGV9ZWxzZSBhZnRlci5SPW5vZGU7cGFyZW50PWFmdGVyfWVsc2UgdGhpcy5fPyhhZnRlcj1kM19nZW9tX3Zvcm9ub2lSZWRCbGFja0ZpcnN0KHRoaXMuXyksbm9kZS5QPW51bGwsbm9kZS5OPWFmdGVyLGFmdGVyLlA9YWZ0ZXIuTD1ub2RlLHBhcmVudD1hZnRlcik6KG5vZGUuUD1ub2RlLk49bnVsbCx0aGlzLl89bm9kZSxwYXJlbnQ9bnVsbCk7Zm9yKG5vZGUuTD1ub2RlLlI9bnVsbCxub2RlLlU9cGFyZW50LG5vZGUuQz0hMCxhZnRlcj1ub2RlO3BhcmVudCYmcGFyZW50LkM7KWdyYW5kcGE9cGFyZW50LlUscGFyZW50PT09Z3JhbmRwYS5MPyh1bmNsZT1ncmFuZHBhLlIsdW5jbGUmJnVuY2xlLkM/KHBhcmVudC5DPXVuY2xlLkM9ITEsZ3JhbmRwYS5DPSEwLGFmdGVyPWdyYW5kcGEpOihhZnRlcj09PXBhcmVudC5SJiYoZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tSb3RhdGVMZWZ0KHRoaXMscGFyZW50KSxhZnRlcj1wYXJlbnQscGFyZW50PWFmdGVyLlUpLHBhcmVudC5DPSExLGdyYW5kcGEuQz0hMCxkM19nZW9tX3Zvcm9ub2lSZWRCbGFja1JvdGF0ZVJpZ2h0KHRoaXMsZ3JhbmRwYSkpKToodW5jbGU9Z3JhbmRwYS5MLHVuY2xlJiZ1bmNsZS5DPyhwYXJlbnQuQz11bmNsZS5DPSExLGdyYW5kcGEuQz0hMCxhZnRlcj1ncmFuZHBhKTooYWZ0ZXI9PT1wYXJlbnQuTCYmKGQzX2dlb21fdm9yb25vaVJlZEJsYWNrUm90YXRlUmlnaHQodGhpcyxwYXJlbnQpLGFmdGVyPXBhcmVudCxwYXJlbnQ9YWZ0ZXIuVSkscGFyZW50LkM9ITEsZ3JhbmRwYS5DPSEwLGQzX2dlb21fdm9yb25vaVJlZEJsYWNrUm90YXRlTGVmdCh0aGlzLGdyYW5kcGEpKSkscGFyZW50PWFmdGVyLlU7dGhpcy5fLkM9ITF9LHJlbW92ZTpmdW5jdGlvbihub2RlKXtub2RlLk4mJihub2RlLk4uUD1ub2RlLlApLG5vZGUuUCYmKG5vZGUuUC5OPW5vZGUuTiksbm9kZS5OPW5vZGUuUD1udWxsO3ZhciBzaWJsaW5nLG5leHQscmVkLHBhcmVudD1ub2RlLlUsbGVmdD1ub2RlLkwscmlnaHQ9bm9kZS5SO2lmKG5leHQ9bGVmdD9yaWdodD9kM19nZW9tX3Zvcm9ub2lSZWRCbGFja0ZpcnN0KHJpZ2h0KTpsZWZ0OnJpZ2h0LHBhcmVudD9wYXJlbnQuTD09PW5vZGU/cGFyZW50Lkw9bmV4dDpwYXJlbnQuUj1uZXh0OnRoaXMuXz1uZXh0LGxlZnQmJnJpZ2h0PyhyZWQ9bmV4dC5DLG5leHQuQz1ub2RlLkMsbmV4dC5MPWxlZnQsbGVmdC5VPW5leHQsbmV4dCE9PXJpZ2h0PyhwYXJlbnQ9bmV4dC5VLG5leHQuVT1ub2RlLlUsbm9kZT1uZXh0LlIscGFyZW50Lkw9bm9kZSxuZXh0LlI9cmlnaHQscmlnaHQuVT1uZXh0KToobmV4dC5VPXBhcmVudCxwYXJlbnQ9bmV4dCxub2RlPW5leHQuUikpOihyZWQ9bm9kZS5DLG5vZGU9bmV4dCksbm9kZSYmKG5vZGUuVT1wYXJlbnQpLCFyZWQpe2lmKG5vZGUmJm5vZGUuQylyZXR1cm4gdm9pZChub2RlLkM9ITEpO2Rve2lmKG5vZGU9PT10aGlzLl8pYnJlYWs7aWYobm9kZT09PXBhcmVudC5MKXtpZihzaWJsaW5nPXBhcmVudC5SLHNpYmxpbmcuQyYmKHNpYmxpbmcuQz0hMSxwYXJlbnQuQz0hMCxkM19nZW9tX3Zvcm9ub2lSZWRCbGFja1JvdGF0ZUxlZnQodGhpcyxwYXJlbnQpLHNpYmxpbmc9cGFyZW50LlIpLHNpYmxpbmcuTCYmc2libGluZy5MLkN8fHNpYmxpbmcuUiYmc2libGluZy5SLkMpe3NpYmxpbmcuUiYmc2libGluZy5SLkN8fChzaWJsaW5nLkwuQz0hMSxzaWJsaW5nLkM9ITAsZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tSb3RhdGVSaWdodCh0aGlzLHNpYmxpbmcpLHNpYmxpbmc9cGFyZW50LlIpLHNpYmxpbmcuQz1wYXJlbnQuQyxwYXJlbnQuQz1zaWJsaW5nLlIuQz0hMSxkM19nZW9tX3Zvcm9ub2lSZWRCbGFja1JvdGF0ZUxlZnQodGhpcyxwYXJlbnQpLG5vZGU9dGhpcy5fO2JyZWFrfX1lbHNlIGlmKHNpYmxpbmc9cGFyZW50Lkwsc2libGluZy5DJiYoc2libGluZy5DPSExLHBhcmVudC5DPSEwLGQzX2dlb21fdm9yb25vaVJlZEJsYWNrUm90YXRlUmlnaHQodGhpcyxwYXJlbnQpLHNpYmxpbmc9cGFyZW50LkwpLHNpYmxpbmcuTCYmc2libGluZy5MLkN8fHNpYmxpbmcuUiYmc2libGluZy5SLkMpe3NpYmxpbmcuTCYmc2libGluZy5MLkN8fChzaWJsaW5nLlIuQz0hMSxzaWJsaW5nLkM9ITAsZDNfZ2VvbV92b3Jvbm9pUmVkQmxhY2tSb3RhdGVMZWZ0KHRoaXMsc2libGluZyksc2libGluZz1wYXJlbnQuTCksc2libGluZy5DPXBhcmVudC5DLHBhcmVudC5DPXNpYmxpbmcuTC5DPSExLGQzX2dlb21fdm9yb25vaVJlZEJsYWNrUm90YXRlUmlnaHQodGhpcyxwYXJlbnQpLG5vZGU9dGhpcy5fO2JyZWFrfXNpYmxpbmcuQz0hMCxub2RlPXBhcmVudCxwYXJlbnQ9cGFyZW50LlV9d2hpbGUoIW5vZGUuQyk7bm9kZSYmKG5vZGUuQz0hMSl9fX0sZDMuZ2VvbS52b3Jvbm9pPWZ1bmN0aW9uKHBvaW50cyl7ZnVuY3Rpb24gdm9yb25vaShkYXRhKXt2YXIgcG9seWdvbnM9bmV3IEFycmF5KGRhdGEubGVuZ3RoKSx4MD1jbGlwRXh0ZW50WzBdWzBdLHkwPWNsaXBFeHRlbnRbMF1bMV0seDE9Y2xpcEV4dGVudFsxXVswXSx5MT1jbGlwRXh0ZW50WzFdWzFdO3JldHVybiBkM19nZW9tX3Zvcm9ub2koc2l0ZXMoZGF0YSksY2xpcEV4dGVudCkuY2VsbHMuZm9yRWFjaChmdW5jdGlvbihjZWxsLGkpe3ZhciBlZGdlcz1jZWxsLmVkZ2VzLHNpdGU9Y2VsbC5zaXRlLHBvbHlnb249cG9seWdvbnNbaV09ZWRnZXMubGVuZ3RoP2VkZ2VzLm1hcChmdW5jdGlvbihlKXt2YXIgcz1lLnN0YXJ0KCk7cmV0dXJuW3MueCxzLnldfSk6c2l0ZS54Pj14MCYmc2l0ZS54PD14MSYmc2l0ZS55Pj15MCYmc2l0ZS55PD15MT9bW3gwLHkxXSxbeDEseTFdLFt4MSx5MF0sW3gwLHkwXV06W107cG9seWdvbi5wb2ludD1kYXRhW2ldfSkscG9seWdvbnN9ZnVuY3Rpb24gc2l0ZXMoZGF0YSl7cmV0dXJuIGRhdGEubWFwKGZ1bmN0aW9uKGQsaSl7cmV0dXJue3g6TWF0aC5yb3VuZChmeChkLGkpL861KSrOtSx5Ok1hdGgucm91bmQoZnkoZCxpKS/OtSkqzrUsaTppfX0pfXZhciB4PWQzX2dlb21fcG9pbnRYLHk9ZDNfZ2VvbV9wb2ludFksZng9eCxmeT15LGNsaXBFeHRlbnQ9ZDNfZ2VvbV92b3Jvbm9pQ2xpcEV4dGVudDtyZXR1cm4gcG9pbnRzP3Zvcm9ub2kocG9pbnRzKToodm9yb25vaS5saW5rcz1mdW5jdGlvbihkYXRhKXtyZXR1cm4gZDNfZ2VvbV92b3Jvbm9pKHNpdGVzKGRhdGEpKS5lZGdlcy5maWx0ZXIoZnVuY3Rpb24oZWRnZSl7cmV0dXJuIGVkZ2UubCYmZWRnZS5yfSkubWFwKGZ1bmN0aW9uKGVkZ2Upe3JldHVybntzb3VyY2U6ZGF0YVtlZGdlLmwuaV0sdGFyZ2V0OmRhdGFbZWRnZS5yLmldfX0pfSx2b3Jvbm9pLnRyaWFuZ2xlcz1mdW5jdGlvbihkYXRhKXt2YXIgdHJpYW5nbGVzPVtdO3JldHVybiBkM19nZW9tX3Zvcm9ub2koc2l0ZXMoZGF0YSkpLmNlbGxzLmZvckVhY2goZnVuY3Rpb24oY2VsbCxpKXtmb3IodmFyIGUwLHMwLHNpdGU9Y2VsbC5zaXRlLGVkZ2VzPWNlbGwuZWRnZXMuc29ydChkM19nZW9tX3Zvcm9ub2lIYWxmRWRnZU9yZGVyKSxqPS0xLG09ZWRnZXMubGVuZ3RoLGUxPWVkZ2VzW20tMV0uZWRnZSxzMT1lMS5sPT09c2l0ZT9lMS5yOmUxLmw7KytqPG07KWUwPWUxLHMwPXMxLGUxPWVkZ2VzW2pdLmVkZ2UsczE9ZTEubD09PXNpdGU/ZTEucjplMS5sLGk8czAuaSYmaTxzMS5pJiZkM19nZW9tX3Zvcm9ub2lUcmlhbmdsZUFyZWEoc2l0ZSxzMCxzMSk8MCYmdHJpYW5nbGVzLnB1c2goW2RhdGFbaV0sZGF0YVtzMC5pXSxkYXRhW3MxLmldXSl9KSx0cmlhbmdsZXN9LHZvcm9ub2kueD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZng9ZDNfZnVuY3Rvcih4PV8pLHZvcm9ub2kpOnh9LHZvcm9ub2kueT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZnk9ZDNfZnVuY3Rvcih5PV8pLHZvcm9ub2kpOnl9LHZvcm9ub2kuY2xpcEV4dGVudD1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oY2xpcEV4dGVudD1udWxsPT1fP2QzX2dlb21fdm9yb25vaUNsaXBFeHRlbnQ6Xyx2b3Jvbm9pKTpjbGlwRXh0ZW50PT09ZDNfZ2VvbV92b3Jvbm9pQ2xpcEV4dGVudD9udWxsOmNsaXBFeHRlbnR9LHZvcm9ub2kuc2l6ZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD92b3Jvbm9pLmNsaXBFeHRlbnQoXyYmW1swLDBdLF9dKTpjbGlwRXh0ZW50PT09ZDNfZ2VvbV92b3Jvbm9pQ2xpcEV4dGVudD9udWxsOmNsaXBFeHRlbnQmJmNsaXBFeHRlbnRbMV19LHZvcm9ub2kpfTt2YXIgZDNfZ2VvbV92b3Jvbm9pQ2xpcEV4dGVudD1bWy0xZTYsLTFlNl0sWzFlNiwxZTZdXTtkMy5nZW9tLmRlbGF1bmF5PWZ1bmN0aW9uKHZlcnRpY2VzKXtyZXR1cm4gZDMuZ2VvbS52b3Jvbm9pKCkudHJpYW5nbGVzKHZlcnRpY2VzKX0sZDMuZ2VvbS5xdWFkdHJlZT1mdW5jdGlvbihwb2ludHMseDEseTEseDIseTIpe2Z1bmN0aW9uIHF1YWR0cmVlKGRhdGEpe2Z1bmN0aW9uIGluc2VydChuLGQseCx5LHgxLHkxLHgyLHkyKXtpZighaXNOYU4oeCkmJiFpc05hTih5KSlpZihuLmxlYWYpe3ZhciBueD1uLngsbnk9bi55O2lmKG51bGwhPW54KWlmKGFicyhueC14KSthYnMobnkteSk8LjAxKWluc2VydENoaWxkKG4sZCx4LHkseDEseTEseDIseTIpO2Vsc2V7dmFyIG5Qb2ludD1uLnBvaW50O24ueD1uLnk9bi5wb2ludD1udWxsLGluc2VydENoaWxkKG4sblBvaW50LG54LG55LHgxLHkxLHgyLHkyKSxpbnNlcnRDaGlsZChuLGQseCx5LHgxLHkxLHgyLHkyKX1lbHNlIG4ueD14LG4ueT15LG4ucG9pbnQ9ZH1lbHNlIGluc2VydENoaWxkKG4sZCx4LHkseDEseTEseDIseTIpfWZ1bmN0aW9uIGluc2VydENoaWxkKG4sZCx4LHkseDEseTEseDIseTIpe3ZhciB4bT0uNSooeDEreDIpLHltPS41Kih5MSt5MikscmlnaHQ9eD49eG0sYmVsb3c9eT49eW0saT1iZWxvdzw8MXxyaWdodDtuLmxlYWY9ITEsbj1uLm5vZGVzW2ldfHwobi5ub2Rlc1tpXT1kM19nZW9tX3F1YWR0cmVlTm9kZSgpKSxyaWdodD94MT14bTp4Mj14bSxiZWxvdz95MT15bTp5Mj15bSxpbnNlcnQobixkLHgseSx4MSx5MSx4Mix5Mil9dmFyIGQseHMseXMsaSxuLHgxXyx5MV8seDJfLHkyXyxmeD1kM19mdW5jdG9yKHgpLGZ5PWQzX2Z1bmN0b3IoeSk7aWYobnVsbCE9eDEpeDFfPXgxLHkxXz15MSx4Ml89eDIseTJfPXkyO2Vsc2UgaWYoeDJfPXkyXz0tKHgxXz15MV89MS8wKSx4cz1bXSx5cz1bXSxuPWRhdGEubGVuZ3RoLGNvbXBhdClmb3IoaT0wO24+aTsrK2kpZD1kYXRhW2ldLGQueDx4MV8mJih4MV89ZC54KSxkLnk8eTFfJiYoeTFfPWQueSksZC54PngyXyYmKHgyXz1kLngpLGQueT55Ml8mJih5Ml89ZC55KSx4cy5wdXNoKGQueCkseXMucHVzaChkLnkpO2Vsc2UgZm9yKGk9MDtuPmk7KytpKXt2YXIgeF89K2Z4KGQ9ZGF0YVtpXSxpKSx5Xz0rZnkoZCxpKTt4MV8+eF8mJih4MV89eF8pLHkxXz55XyYmKHkxXz15XykseF8+eDJfJiYoeDJfPXhfKSx5Xz55Ml8mJih5Ml89eV8pLHhzLnB1c2goeF8pLHlzLnB1c2goeV8pfXZhciBkeD14Ml8teDFfLGR5PXkyXy15MV87ZHg+ZHk/eTJfPXkxXytkeDp4Ml89eDFfK2R5O3ZhciByb290PWQzX2dlb21fcXVhZHRyZWVOb2RlKCk7aWYocm9vdC5hZGQ9ZnVuY3Rpb24oZCl7aW5zZXJ0KHJvb3QsZCwrZngoZCwrK2kpLCtmeShkLGkpLHgxXyx5MV8seDJfLHkyXyl9LHJvb3QudmlzaXQ9ZnVuY3Rpb24oZil7ZDNfZ2VvbV9xdWFkdHJlZVZpc2l0KGYscm9vdCx4MV8seTFfLHgyXyx5Ml8pfSxyb290LmZpbmQ9ZnVuY3Rpb24ocG9pbnQpe3JldHVybiBkM19nZW9tX3F1YWR0cmVlRmluZChyb290LHBvaW50WzBdLHBvaW50WzFdLHgxXyx5MV8seDJfLHkyXyl9LGk9LTEsbnVsbD09eDEpe2Zvcig7KytpPG47KWluc2VydChyb290LGRhdGFbaV0seHNbaV0seXNbaV0seDFfLHkxXyx4Ml8seTJfKTstLWl9ZWxzZSBkYXRhLmZvckVhY2gocm9vdC5hZGQpO3JldHVybiB4cz15cz1kYXRhPWQ9bnVsbCxyb290fXZhciBjb21wYXQseD1kM19nZW9tX3BvaW50WCx5PWQzX2dlb21fcG9pbnRZO3JldHVybihjb21wYXQ9YXJndW1lbnRzLmxlbmd0aCk/KHg9ZDNfZ2VvbV9xdWFkdHJlZUNvbXBhdFgseT1kM19nZW9tX3F1YWR0cmVlQ29tcGF0WSwzPT09Y29tcGF0JiYoeTI9eTEseDI9eDEseTE9eDE9MCkscXVhZHRyZWUocG9pbnRzKSk6KHF1YWR0cmVlLng9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHg9XyxxdWFkdHJlZSk6eH0scXVhZHRyZWUueT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeT1fLHF1YWR0cmVlKTp5fSxxdWFkdHJlZS5leHRlbnQ9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG51bGw9PV8/eDE9eTE9eDI9eTI9bnVsbDooeDE9K19bMF1bMF0seTE9K19bMF1bMV0seDI9K19bMV1bMF0seTI9K19bMV1bMV0pLHF1YWR0cmVlKTpudWxsPT14MT9udWxsOltbeDEseTFdLFt4Mix5Ml1dfSxxdWFkdHJlZS5zaXplPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhudWxsPT1fP3gxPXkxPXgyPXkyPW51bGw6KHgxPXkxPTAseDI9K19bMF0seTI9K19bMV0pLHF1YWR0cmVlKTpudWxsPT14MT9udWxsOlt4Mi14MSx5Mi15MV19LHF1YWR0cmVlKX0sZDMuaW50ZXJwb2xhdGVSZ2I9ZDNfaW50ZXJwb2xhdGVSZ2IsZDMuaW50ZXJwb2xhdGVPYmplY3Q9ZDNfaW50ZXJwb2xhdGVPYmplY3QsZDMuaW50ZXJwb2xhdGVOdW1iZXI9ZDNfaW50ZXJwb2xhdGVOdW1iZXIsZDMuaW50ZXJwb2xhdGVTdHJpbmc9ZDNfaW50ZXJwb2xhdGVTdHJpbmc7dmFyIGQzX2ludGVycG9sYXRlX251bWJlckE9L1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLGQzX2ludGVycG9sYXRlX251bWJlckI9bmV3IFJlZ0V4cChkM19pbnRlcnBvbGF0ZV9udW1iZXJBLnNvdXJjZSxcImdcIik7ZDMuaW50ZXJwb2xhdGU9ZDNfaW50ZXJwb2xhdGUsZDMuaW50ZXJwb2xhdG9ycz1bZnVuY3Rpb24oYSxiKXt2YXIgdD10eXBlb2YgYjtyZXR1cm4oXCJzdHJpbmdcIj09PXQ/ZDNfcmdiX25hbWVzLmhhcyhiLnRvTG93ZXJDYXNlKCkpfHwvXigjfHJnYlxcKHxoc2xcXCgpL2kudGVzdChiKT9kM19pbnRlcnBvbGF0ZVJnYjpkM19pbnRlcnBvbGF0ZVN0cmluZzpiIGluc3RhbmNlb2YgZDNfY29sb3I/ZDNfaW50ZXJwb2xhdGVSZ2I6QXJyYXkuaXNBcnJheShiKT9kM19pbnRlcnBvbGF0ZUFycmF5Olwib2JqZWN0XCI9PT10JiZpc05hTihiKT9kM19pbnRlcnBvbGF0ZU9iamVjdDpkM19pbnRlcnBvbGF0ZU51bWJlcikoYSxiKX1dLGQzLmludGVycG9sYXRlQXJyYXk9ZDNfaW50ZXJwb2xhdGVBcnJheTt2YXIgZDNfZWFzZV9kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGQzX2lkZW50aXR5fSxkM19lYXNlPWQzLm1hcCh7bGluZWFyOmQzX2Vhc2VfZGVmYXVsdCxwb2x5OmQzX2Vhc2VfcG9seSxxdWFkOmZ1bmN0aW9uKCl7cmV0dXJuIGQzX2Vhc2VfcXVhZH0sY3ViaWM6ZnVuY3Rpb24oKXtyZXR1cm4gZDNfZWFzZV9jdWJpY30sc2luOmZ1bmN0aW9uKCl7cmV0dXJuIGQzX2Vhc2Vfc2lufSxleHA6ZnVuY3Rpb24oKXtyZXR1cm4gZDNfZWFzZV9leHB9LGNpcmNsZTpmdW5jdGlvbigpe3JldHVybiBkM19lYXNlX2NpcmNsZX0sZWxhc3RpYzpkM19lYXNlX2VsYXN0aWMsYmFjazpkM19lYXNlX2JhY2ssYm91bmNlOmZ1bmN0aW9uKCl7cmV0dXJuIGQzX2Vhc2VfYm91bmNlfX0pLGQzX2Vhc2VfbW9kZT1kMy5tYXAoe1wiaW5cIjpkM19pZGVudGl0eSxvdXQ6ZDNfZWFzZV9yZXZlcnNlLFwiaW4tb3V0XCI6ZDNfZWFzZV9yZWZsZWN0LFwib3V0LWluXCI6ZnVuY3Rpb24oZil7cmV0dXJuIGQzX2Vhc2VfcmVmbGVjdChkM19lYXNlX3JldmVyc2UoZikpfX0pO2QzLmVhc2U9ZnVuY3Rpb24obmFtZSl7dmFyIGk9bmFtZS5pbmRleE9mKFwiLVwiKSx0PWk+PTA/bmFtZS5zbGljZSgwLGkpOm5hbWUsbT1pPj0wP25hbWUuc2xpY2UoaSsxKTpcImluXCI7cmV0dXJuIHQ9ZDNfZWFzZS5nZXQodCl8fGQzX2Vhc2VfZGVmYXVsdCxtPWQzX2Vhc2VfbW9kZS5nZXQobSl8fGQzX2lkZW50aXR5LGQzX2Vhc2VfY2xhbXAobSh0LmFwcGx5KG51bGwsZDNfYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cywxKSkpKX0sZDMuaW50ZXJwb2xhdGVIY2w9ZDNfaW50ZXJwb2xhdGVIY2wsZDMuaW50ZXJwb2xhdGVIc2w9ZDNfaW50ZXJwb2xhdGVIc2wsZDMuaW50ZXJwb2xhdGVMYWI9ZDNfaW50ZXJwb2xhdGVMYWIsZDMuaW50ZXJwb2xhdGVSb3VuZD1kM19pbnRlcnBvbGF0ZVJvdW5kLGQzLnRyYW5zZm9ybT1mdW5jdGlvbihzdHJpbmcpe3ZhciBnPWQzX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkMy5ucy5wcmVmaXguc3ZnLFwiZ1wiKTtyZXR1cm4oZDMudHJhbnNmb3JtPWZ1bmN0aW9uKHN0cmluZyl7aWYobnVsbCE9c3RyaW5nKXtnLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLHN0cmluZyk7dmFyIHQ9Zy50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpfXJldHVybiBuZXcgZDNfdHJhbnNmb3JtKHQ/dC5tYXRyaXg6ZDNfdHJhbnNmb3JtSWRlbnRpdHkpfSkoc3RyaW5nKX0sZDNfdHJhbnNmb3JtLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwidHJhbnNsYXRlKFwiK3RoaXMudHJhbnNsYXRlK1wiKXJvdGF0ZShcIit0aGlzLnJvdGF0ZStcIilza2V3WChcIit0aGlzLnNrZXcrXCIpc2NhbGUoXCIrdGhpcy5zY2FsZStcIilcIn07dmFyIGQzX3RyYW5zZm9ybUlkZW50aXR5PXthOjEsYjowLGM6MCxkOjEsZTowLGY6MH07ZDMuaW50ZXJwb2xhdGVUcmFuc2Zvcm09ZDNfaW50ZXJwb2xhdGVUcmFuc2Zvcm0sZDMubGF5b3V0PXt9LGQzLmxheW91dC5idW5kbGU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obGlua3Mpe2Zvcih2YXIgcGF0aHM9W10saT0tMSxuPWxpbmtzLmxlbmd0aDsrK2k8bjspcGF0aHMucHVzaChkM19sYXlvdXRfYnVuZGxlUGF0aChsaW5rc1tpXSkpO3JldHVybiBwYXRoc319LGQzLmxheW91dC5jaG9yZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHJlbGF5b3V0KCl7dmFyIGsseCx4MCxpLGosc3ViZ3JvdXBzPXt9LGdyb3VwU3Vtcz1bXSxncm91cEluZGV4PWQzLnJhbmdlKG4pLHN1Ymdyb3VwSW5kZXg9W107Zm9yKGNob3Jkcz1bXSxncm91cHM9W10saz0wLGk9LTE7KytpPG47KXtmb3IoeD0wLGo9LTE7KytqPG47KXgrPW1hdHJpeFtpXVtqXTtncm91cFN1bXMucHVzaCh4KSxzdWJncm91cEluZGV4LnB1c2goZDMucmFuZ2UobikpLGsrPXh9Zm9yKHNvcnRHcm91cHMmJmdyb3VwSW5kZXguc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBzb3J0R3JvdXBzKGdyb3VwU3Vtc1thXSxncm91cFN1bXNbYl0pfSksc29ydFN1Ymdyb3VwcyYmc3ViZ3JvdXBJbmRleC5mb3JFYWNoKGZ1bmN0aW9uKGQsaSl7ZC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIHNvcnRTdWJncm91cHMobWF0cml4W2ldW2FdLG1hdHJpeFtpXVtiXSl9KX0pLGs9KM+ELXBhZGRpbmcqbikvayx4PTAsaT0tMTsrK2k8bjspe2Zvcih4MD14LGo9LTE7KytqPG47KXt2YXIgZGk9Z3JvdXBJbmRleFtpXSxkaj1zdWJncm91cEluZGV4W2RpXVtqXSx2PW1hdHJpeFtkaV1bZGpdLGEwPXgsYTE9eCs9diprO3N1Ymdyb3Vwc1tkaStcIi1cIitkal09e2luZGV4OmRpLHN1YmluZGV4OmRqLHN0YXJ0QW5nbGU6YTAsZW5kQW5nbGU6YTEsdmFsdWU6dn19Z3JvdXBzW2RpXT17aW5kZXg6ZGksc3RhcnRBbmdsZTp4MCxlbmRBbmdsZTp4LHZhbHVlOih4LXgwKS9rfSx4Kz1wYWRkaW5nfWZvcihpPS0xOysraTxuOylmb3Ioaj1pLTE7KytqPG47KXt2YXIgc291cmNlPXN1Ymdyb3Vwc1tpK1wiLVwiK2pdLHRhcmdldD1zdWJncm91cHNbaitcIi1cIitpXTsoc291cmNlLnZhbHVlfHx0YXJnZXQudmFsdWUpJiZjaG9yZHMucHVzaChzb3VyY2UudmFsdWU8dGFyZ2V0LnZhbHVlP3tzb3VyY2U6dGFyZ2V0LHRhcmdldDpzb3VyY2V9Ontzb3VyY2U6c291cmNlLHRhcmdldDp0YXJnZXR9KX1zb3J0Q2hvcmRzJiZyZXNvcnQoKX1mdW5jdGlvbiByZXNvcnQoKXtjaG9yZHMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBzb3J0Q2hvcmRzKChhLnNvdXJjZS52YWx1ZSthLnRhcmdldC52YWx1ZSkvMiwoYi5zb3VyY2UudmFsdWUrYi50YXJnZXQudmFsdWUpLzIpfSl9dmFyIGNob3Jkcyxncm91cHMsbWF0cml4LG4sc29ydEdyb3Vwcyxzb3J0U3ViZ3JvdXBzLHNvcnRDaG9yZHMsY2hvcmQ9e30scGFkZGluZz0wO3JldHVybiBjaG9yZC5tYXRyaXg9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49KG1hdHJpeD14KSYmbWF0cml4Lmxlbmd0aCxjaG9yZHM9Z3JvdXBzPW51bGwsY2hvcmQpOm1hdHJpeH0sY2hvcmQucGFkZGluZz1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocGFkZGluZz14LGNob3Jkcz1ncm91cHM9bnVsbCxjaG9yZCk6cGFkZGluZ30sY2hvcmQuc29ydEdyb3Vwcz1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oc29ydEdyb3Vwcz14LGNob3Jkcz1ncm91cHM9bnVsbCxjaG9yZCk6c29ydEdyb3Vwc30sY2hvcmQuc29ydFN1Ymdyb3Vwcz1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oc29ydFN1Ymdyb3Vwcz14LGNob3Jkcz1udWxsLGNob3JkKTpzb3J0U3ViZ3JvdXBzfSxjaG9yZC5zb3J0Q2hvcmRzPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzb3J0Q2hvcmRzPXgsY2hvcmRzJiZyZXNvcnQoKSxjaG9yZCk6c29ydENob3Jkc30sY2hvcmQuY2hvcmRzPWZ1bmN0aW9uKCl7cmV0dXJuIGNob3Jkc3x8cmVsYXlvdXQoKSxjaG9yZHN9LGNob3JkLmdyb3Vwcz1mdW5jdGlvbigpe3JldHVybiBncm91cHN8fHJlbGF5b3V0KCksZ3JvdXBzfSxjaG9yZH0sZDMubGF5b3V0LmZvcmNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcmVwdWxzZShub2RlKXtyZXR1cm4gZnVuY3Rpb24ocXVhZCx4MSxfLHgyKXtpZihxdWFkLnBvaW50IT09bm9kZSl7dmFyIGR4PXF1YWQuY3gtbm9kZS54LGR5PXF1YWQuY3ktbm9kZS55LGR3PXgyLXgxLGRuPWR4KmR4K2R5KmR5O2lmKGRuPmR3KmR3L3RoZXRhMil7aWYoY2hhcmdlRGlzdGFuY2UyPmRuKXt2YXIgaz1xdWFkLmNoYXJnZS9kbjtub2RlLnB4LT1keCprLG5vZGUucHktPWR5Kmt9cmV0dXJuITB9aWYocXVhZC5wb2ludCYmZG4mJmNoYXJnZURpc3RhbmNlMj5kbil7dmFyIGs9cXVhZC5wb2ludENoYXJnZS9kbjtub2RlLnB4LT1keCprLG5vZGUucHktPWR5Kmt9fXJldHVybiFxdWFkLmNoYXJnZX19ZnVuY3Rpb24gZHJhZ21vdmUoZCl7ZC5weD1kMy5ldmVudC54LGQucHk9ZDMuZXZlbnQueSxmb3JjZS5yZXN1bWUoKX12YXIgZHJhZyxhbHBoYSxkaXN0YW5jZXMsc3RyZW5ndGhzLGNoYXJnZXMsZm9yY2U9e30sZXZlbnQ9ZDMuZGlzcGF0Y2goXCJzdGFydFwiLFwidGlja1wiLFwiZW5kXCIpLHNpemU9WzEsMV0sZnJpY3Rpb249LjksbGlua0Rpc3RhbmNlPWQzX2xheW91dF9mb3JjZUxpbmtEaXN0YW5jZSxsaW5rU3RyZW5ndGg9ZDNfbGF5b3V0X2ZvcmNlTGlua1N0cmVuZ3RoLGNoYXJnZT0tMzAsY2hhcmdlRGlzdGFuY2UyPWQzX2xheW91dF9mb3JjZUNoYXJnZURpc3RhbmNlMixncmF2aXR5PS4xLHRoZXRhMj0uNjQsbm9kZXM9W10sbGlua3M9W107cmV0dXJuIGZvcmNlLnRpY2s9ZnVuY3Rpb24oKXtpZigoYWxwaGEqPS45OSk8LjAwNSlyZXR1cm4gZXZlbnQuZW5kKHt0eXBlOlwiZW5kXCIsYWxwaGE6YWxwaGE9MH0pLCEwO3ZhciBxLGksbyxzLHQsbCxrLHgseSxuPW5vZGVzLmxlbmd0aCxtPWxpbmtzLmxlbmd0aDtmb3IoaT0wO20+aTsrK2kpbz1saW5rc1tpXSxzPW8uc291cmNlLHQ9by50YXJnZXQseD10Lngtcy54LHk9dC55LXMueSwobD14KngreSp5KSYmKGw9YWxwaGEqc3RyZW5ndGhzW2ldKigobD1NYXRoLnNxcnQobCkpLWRpc3RhbmNlc1tpXSkvbCx4Kj1sLHkqPWwsdC54LT14KihrPXMud2VpZ2h0Lyh0LndlaWdodCtzLndlaWdodCkpLHQueS09eSprLHMueCs9eCooaz0xLWspLHMueSs9eSprKTtpZigoaz1hbHBoYSpncmF2aXR5KSYmKHg9c2l6ZVswXS8yLHk9c2l6ZVsxXS8yLGk9LTEsaykpZm9yKDsrK2k8bjspbz1ub2Rlc1tpXSxvLngrPSh4LW8ueCkqayxvLnkrPSh5LW8ueSkqaztpZihjaGFyZ2UpZm9yKGQzX2xheW91dF9mb3JjZUFjY3VtdWxhdGUocT1kMy5nZW9tLnF1YWR0cmVlKG5vZGVzKSxhbHBoYSxjaGFyZ2VzKSxpPS0xOysraTxuOykobz1ub2Rlc1tpXSkuZml4ZWR8fHEudmlzaXQocmVwdWxzZShvKSk7Zm9yKGk9LTE7KytpPG47KW89bm9kZXNbaV0sby5maXhlZD8oby54PW8ucHgsby55PW8ucHkpOihvLngtPShvLnB4LShvLnB4PW8ueCkpKmZyaWN0aW9uLG8ueS09KG8ucHktKG8ucHk9by55KSkqZnJpY3Rpb24pO2V2ZW50LnRpY2soe3R5cGU6XCJ0aWNrXCIsYWxwaGE6YWxwaGF9KX0sZm9yY2Uubm9kZXM9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG5vZGVzPXgsZm9yY2UpOm5vZGVzfSxmb3JjZS5saW5rcz1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obGlua3M9eCxmb3JjZSk6bGlua3N9LGZvcmNlLnNpemU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNpemU9eCxmb3JjZSk6c2l6ZX0sZm9yY2UubGlua0Rpc3RhbmNlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsaW5rRGlzdGFuY2U9XCJmdW5jdGlvblwiPT10eXBlb2YgeD94Oit4LGZvcmNlKTpsaW5rRGlzdGFuY2V9LGZvcmNlLmRpc3RhbmNlPWZvcmNlLmxpbmtEaXN0YW5jZSxmb3JjZS5saW5rU3RyZW5ndGg9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGxpbmtTdHJlbmd0aD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB4P3g6K3gsZm9yY2UpOmxpbmtTdHJlbmd0aH0sZm9yY2UuZnJpY3Rpb249ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGZyaWN0aW9uPSt4LGZvcmNlKTpmcmljdGlvbn0sZm9yY2UuY2hhcmdlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjaGFyZ2U9XCJmdW5jdGlvblwiPT10eXBlb2YgeD94Oit4LGZvcmNlKTpjaGFyZ2V9LGZvcmNlLmNoYXJnZURpc3RhbmNlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjaGFyZ2VEaXN0YW5jZTI9eCp4LGZvcmNlKTpNYXRoLnNxcnQoY2hhcmdlRGlzdGFuY2UyKX0sZm9yY2UuZ3Jhdml0eT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZ3Jhdml0eT0reCxmb3JjZSk6Z3Jhdml0eX0sZm9yY2UudGhldGE9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoZXRhMj14KngsZm9yY2UpOk1hdGguc3FydCh0aGV0YTIpfSxmb3JjZS5hbHBoYT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD0reCxhbHBoYT9hbHBoYT14PjA/eDowOng+MCYmKGV2ZW50LnN0YXJ0KHt0eXBlOlwic3RhcnRcIixhbHBoYTphbHBoYT14fSksZDMudGltZXIoZm9yY2UudGljaykpLGZvcmNlKTphbHBoYX0sZm9yY2Uuc3RhcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBwb3NpdGlvbihkaW1lbnNpb24sc2l6ZSl7aWYoIW5laWdoYm9ycyl7Zm9yKG5laWdoYm9ycz1uZXcgQXJyYXkobiksaj0wO24+ajsrK2opbmVpZ2hib3JzW2pdPVtdO2ZvcihqPTA7bT5qOysrail7dmFyIG89bGlua3Nbal07bmVpZ2hib3JzW28uc291cmNlLmluZGV4XS5wdXNoKG8udGFyZ2V0KSxuZWlnaGJvcnNbby50YXJnZXQuaW5kZXhdLnB1c2goby5zb3VyY2UpfX1mb3IodmFyIHgsY2FuZGlkYXRlcz1uZWlnaGJvcnNbaV0saj0tMSxsPWNhbmRpZGF0ZXMubGVuZ3RoOysrajxsOylpZighaXNOYU4oeD1jYW5kaWRhdGVzW2pdW2RpbWVuc2lvbl0pKXJldHVybiB4O3JldHVybiBNYXRoLnJhbmRvbSgpKnNpemV9dmFyIGksbmVpZ2hib3JzLG8sbj1ub2Rlcy5sZW5ndGgsbT1saW5rcy5sZW5ndGgsdz1zaXplWzBdLGg9c2l6ZVsxXTtmb3IoaT0wO24+aTsrK2kpKG89bm9kZXNbaV0pLmluZGV4PWksby53ZWlnaHQ9MDtmb3IoaT0wO20+aTsrK2kpbz1saW5rc1tpXSxcIm51bWJlclwiPT10eXBlb2Ygby5zb3VyY2UmJihvLnNvdXJjZT1ub2Rlc1tvLnNvdXJjZV0pLFwibnVtYmVyXCI9PXR5cGVvZiBvLnRhcmdldCYmKG8udGFyZ2V0PW5vZGVzW28udGFyZ2V0XSksKytvLnNvdXJjZS53ZWlnaHQsKytvLnRhcmdldC53ZWlnaHQ7Zm9yKGk9MDtuPmk7KytpKW89bm9kZXNbaV0saXNOYU4oby54KSYmKG8ueD1wb3NpdGlvbihcInhcIix3KSksaXNOYU4oby55KSYmKG8ueT1wb3NpdGlvbihcInlcIixoKSksaXNOYU4oby5weCkmJihvLnB4PW8ueCksaXNOYU4oby5weSkmJihvLnB5PW8ueSk7aWYoZGlzdGFuY2VzPVtdLFwiZnVuY3Rpb25cIj09dHlwZW9mIGxpbmtEaXN0YW5jZSlmb3IoaT0wO20+aTsrK2kpZGlzdGFuY2VzW2ldPStsaW5rRGlzdGFuY2UuY2FsbCh0aGlzLGxpbmtzW2ldLGkpO2Vsc2UgZm9yKGk9MDttPmk7KytpKWRpc3RhbmNlc1tpXT1saW5rRGlzdGFuY2U7aWYoc3RyZW5ndGhzPVtdLFwiZnVuY3Rpb25cIj09dHlwZW9mIGxpbmtTdHJlbmd0aClmb3IoaT0wO20+aTsrK2kpc3RyZW5ndGhzW2ldPStsaW5rU3RyZW5ndGguY2FsbCh0aGlzLGxpbmtzW2ldLGkpO2Vsc2UgZm9yKGk9MDttPmk7KytpKXN0cmVuZ3Roc1tpXT1saW5rU3RyZW5ndGg7aWYoY2hhcmdlcz1bXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjaGFyZ2UpZm9yKGk9MDtuPmk7KytpKWNoYXJnZXNbaV09K2NoYXJnZS5jYWxsKHRoaXMsbm9kZXNbaV0saSk7ZWxzZSBmb3IoaT0wO24+aTsrK2kpY2hhcmdlc1tpXT1jaGFyZ2U7cmV0dXJuIGZvcmNlLnJlc3VtZSgpfSxmb3JjZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gZm9yY2UuYWxwaGEoLjEpfSxmb3JjZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGZvcmNlLmFscGhhKDApfSxmb3JjZS5kcmFnPWZ1bmN0aW9uKCl7cmV0dXJuIGRyYWd8fChkcmFnPWQzLmJlaGF2aW9yLmRyYWcoKS5vcmlnaW4oZDNfaWRlbnRpdHkpLm9uKFwiZHJhZ3N0YXJ0LmZvcmNlXCIsZDNfbGF5b3V0X2ZvcmNlRHJhZ3N0YXJ0KS5vbihcImRyYWcuZm9yY2VcIixkcmFnbW92ZSkub24oXCJkcmFnZW5kLmZvcmNlXCIsZDNfbGF5b3V0X2ZvcmNlRHJhZ2VuZCkpLGFyZ3VtZW50cy5sZW5ndGg/dm9pZCB0aGlzLm9uKFwibW91c2VvdmVyLmZvcmNlXCIsZDNfbGF5b3V0X2ZvcmNlTW91c2VvdmVyKS5vbihcIm1vdXNlb3V0LmZvcmNlXCIsZDNfbGF5b3V0X2ZvcmNlTW91c2VvdXQpLmNhbGwoZHJhZyk6ZHJhZ30sZDMucmViaW5kKGZvcmNlLGV2ZW50LFwib25cIil9O3ZhciBkM19sYXlvdXRfZm9yY2VMaW5rRGlzdGFuY2U9MjAsZDNfbGF5b3V0X2ZvcmNlTGlua1N0cmVuZ3RoPTEsZDNfbGF5b3V0X2ZvcmNlQ2hhcmdlRGlzdGFuY2UyPTEvMDtkMy5sYXlvdXQuaGllcmFyY2h5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaGllcmFyY2h5KHJvb3Qpe3ZhciBub2RlLHN0YWNrPVtyb290XSxub2Rlcz1bXTtmb3Iocm9vdC5kZXB0aD0wO251bGwhPShub2RlPXN0YWNrLnBvcCgpKTspaWYobm9kZXMucHVzaChub2RlKSwoY2hpbGRzPWNoaWxkcmVuLmNhbGwoaGllcmFyY2h5LG5vZGUsbm9kZS5kZXB0aCkpJiYobj1jaGlsZHMubGVuZ3RoKSl7Zm9yKHZhciBuLGNoaWxkcyxjaGlsZDstLW4+PTA7KXN0YWNrLnB1c2goY2hpbGQ9Y2hpbGRzW25dKSxjaGlsZC5wYXJlbnQ9bm9kZSxjaGlsZC5kZXB0aD1ub2RlLmRlcHRoKzE7dmFsdWUmJihub2RlLnZhbHVlPTApLG5vZGUuY2hpbGRyZW49Y2hpbGRzfWVsc2UgdmFsdWUmJihub2RlLnZhbHVlPSt2YWx1ZS5jYWxsKGhpZXJhcmNoeSxub2RlLG5vZGUuZGVwdGgpfHwwKSxkZWxldGUgbm9kZS5jaGlsZHJlbjtyZXR1cm4gZDNfbGF5b3V0X2hpZXJhcmNoeVZpc2l0QWZ0ZXIocm9vdCxmdW5jdGlvbihub2RlKXt2YXIgY2hpbGRzLHBhcmVudDtzb3J0JiYoY2hpbGRzPW5vZGUuY2hpbGRyZW4pJiZjaGlsZHMuc29ydChzb3J0KSx2YWx1ZSYmKHBhcmVudD1ub2RlLnBhcmVudCkmJihwYXJlbnQudmFsdWUrPW5vZGUudmFsdWUpfSksbm9kZXN9dmFyIHNvcnQ9ZDNfbGF5b3V0X2hpZXJhcmNoeVNvcnQsY2hpbGRyZW49ZDNfbGF5b3V0X2hpZXJhcmNoeUNoaWxkcmVuLHZhbHVlPWQzX2xheW91dF9oaWVyYXJjaHlWYWx1ZTtyZXR1cm4gaGllcmFyY2h5LnNvcnQ9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNvcnQ9eCxoaWVyYXJjaHkpOnNvcnR9LGhpZXJhcmNoeS5jaGlsZHJlbj1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oY2hpbGRyZW49eCxoaWVyYXJjaHkpOmNoaWxkcmVufSxoaWVyYXJjaHkudmFsdWU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHZhbHVlPXgsaGllcmFyY2h5KTp2YWx1ZX0saGllcmFyY2h5LnJldmFsdWU9ZnVuY3Rpb24ocm9vdCl7cmV0dXJuIHZhbHVlJiYoZDNfbGF5b3V0X2hpZXJhcmNoeVZpc2l0QmVmb3JlKHJvb3QsZnVuY3Rpb24obm9kZSl7bm9kZS5jaGlsZHJlbiYmKG5vZGUudmFsdWU9MCl9KSxkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRBZnRlcihyb290LGZ1bmN0aW9uKG5vZGUpe3ZhciBwYXJlbnQ7bm9kZS5jaGlsZHJlbnx8KG5vZGUudmFsdWU9K3ZhbHVlLmNhbGwoaGllcmFyY2h5LG5vZGUsbm9kZS5kZXB0aCl8fDApLChwYXJlbnQ9bm9kZS5wYXJlbnQpJiYocGFyZW50LnZhbHVlKz1ub2RlLnZhbHVlKX0pKSxyb290fSxoaWVyYXJjaHl9LGQzLmxheW91dC5wYXJ0aXRpb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBwb3NpdGlvbihub2RlLHgsZHgsZHkpe3ZhciBjaGlsZHJlbj1ub2RlLmNoaWxkcmVuO2lmKG5vZGUueD14LG5vZGUueT1ub2RlLmRlcHRoKmR5LG5vZGUuZHg9ZHgsbm9kZS5keT1keSxjaGlsZHJlbiYmKG49Y2hpbGRyZW4ubGVuZ3RoKSl7dmFyIG4sYyxkLGk9LTE7Zm9yKGR4PW5vZGUudmFsdWU/ZHgvbm9kZS52YWx1ZTowOysraTxuOylwb3NpdGlvbihjPWNoaWxkcmVuW2ldLHgsZD1jLnZhbHVlKmR4LGR5KSx4Kz1kfX1mdW5jdGlvbiBkZXB0aChub2RlKXt2YXIgY2hpbGRyZW49bm9kZS5jaGlsZHJlbixkPTA7aWYoY2hpbGRyZW4mJihuPWNoaWxkcmVuLmxlbmd0aCkpZm9yKHZhciBuLGk9LTE7KytpPG47KWQ9TWF0aC5tYXgoZCxkZXB0aChjaGlsZHJlbltpXSkpO3JldHVybiAxK2R9ZnVuY3Rpb24gcGFydGl0aW9uKGQsaSl7dmFyIG5vZGVzPWhpZXJhcmNoeS5jYWxsKHRoaXMsZCxpKTtyZXR1cm4gcG9zaXRpb24obm9kZXNbMF0sMCxzaXplWzBdLHNpemVbMV0vZGVwdGgobm9kZXNbMF0pKSxub2Rlc312YXIgaGllcmFyY2h5PWQzLmxheW91dC5oaWVyYXJjaHkoKSxzaXplPVsxLDFdO3JldHVybiBwYXJ0aXRpb24uc2l6ZT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oc2l6ZT14LHBhcnRpdGlvbik6c2l6ZX0sZDNfbGF5b3V0X2hpZXJhcmNoeVJlYmluZChwYXJ0aXRpb24saGllcmFyY2h5KX0sZDMubGF5b3V0LnBpZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHBpZShkYXRhKXt2YXIgdixuPWRhdGEubGVuZ3RoLHZhbHVlcz1kYXRhLm1hcChmdW5jdGlvbihkLGkpe3JldHVybit2YWx1ZS5jYWxsKHBpZSxkLGkpfSksYT0rKFwiZnVuY3Rpb25cIj09dHlwZW9mIHN0YXJ0QW5nbGU/c3RhcnRBbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6c3RhcnRBbmdsZSksZGE9KFwiZnVuY3Rpb25cIj09dHlwZW9mIGVuZEFuZ2xlP2VuZEFuZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTplbmRBbmdsZSktYSxwPU1hdGgubWluKE1hdGguYWJzKGRhKS9uLCsoXCJmdW5jdGlvblwiPT10eXBlb2YgcGFkQW5nbGU/cGFkQW5nbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpOnBhZEFuZ2xlKSkscGE9cCooMD5kYT8tMToxKSxrPShkYS1uKnBhKS9kMy5zdW0odmFsdWVzKSxpbmRleD1kMy5yYW5nZShuKSxhcmNzPVtdO3JldHVybiBudWxsIT1zb3J0JiZpbmRleC5zb3J0KHNvcnQ9PT1kM19sYXlvdXRfcGllU29ydEJ5VmFsdWU/ZnVuY3Rpb24oaSxqKXtyZXR1cm4gdmFsdWVzW2pdLXZhbHVlc1tpXX06ZnVuY3Rpb24oaSxqKXtyZXR1cm4gc29ydChkYXRhW2ldLGRhdGFbal0pfSksaW5kZXguZm9yRWFjaChmdW5jdGlvbihpKXthcmNzW2ldPXtkYXRhOmRhdGFbaV0sdmFsdWU6dj12YWx1ZXNbaV0sc3RhcnRBbmdsZTphLGVuZEFuZ2xlOmErPXYqaytwYSxwYWRBbmdsZTpwfX0pLGFyY3N9dmFyIHZhbHVlPU51bWJlcixzb3J0PWQzX2xheW91dF9waWVTb3J0QnlWYWx1ZSxzdGFydEFuZ2xlPTAsZW5kQW5nbGU9z4QscGFkQW5nbGU9MDtyZXR1cm4gcGllLnZhbHVlPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2YWx1ZT1fLHBpZSk6dmFsdWV9LHBpZS5zb3J0PWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzb3J0PV8scGllKTpzb3J0fSxwaWUuc3RhcnRBbmdsZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oc3RhcnRBbmdsZT1fLHBpZSk6c3RhcnRBbmdsZX0scGllLmVuZEFuZ2xlPWZ1bmN0aW9uKF8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlbmRBbmdsZT1fLHBpZSk6ZW5kQW5nbGV9LHBpZS5wYWRBbmdsZT1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocGFkQW5nbGU9XyxwaWUpOnBhZEFuZ2xlfSxwaWV9O3ZhciBkM19sYXlvdXRfcGllU29ydEJ5VmFsdWU9e307ZDMubGF5b3V0LnN0YWNrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gc3RhY2soZGF0YSxpbmRleCl7aWYoIShuPWRhdGEubGVuZ3RoKSlyZXR1cm4gZGF0YTt2YXIgc2VyaWVzPWRhdGEubWFwKGZ1bmN0aW9uKGQsaSl7cmV0dXJuIHZhbHVlcy5jYWxsKHN0YWNrLGQsaSl9KSxwb2ludHM9c2VyaWVzLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24odixpKXtyZXR1cm5beC5jYWxsKHN0YWNrLHYsaSkseS5jYWxsKHN0YWNrLHYsaSldfSl9KSxvcmRlcnM9b3JkZXIuY2FsbChzdGFjayxwb2ludHMsaW5kZXgpO3Nlcmllcz1kMy5wZXJtdXRlKHNlcmllcyxvcmRlcnMpLHBvaW50cz1kMy5wZXJtdXRlKHBvaW50cyxvcmRlcnMpO3ZhciBuLGksaixvLG9mZnNldHM9b2Zmc2V0LmNhbGwoc3RhY2sscG9pbnRzLGluZGV4KSxtPXNlcmllc1swXS5sZW5ndGg7Zm9yKGo9MDttPmo7KytqKWZvcihvdXQuY2FsbChzdGFjayxzZXJpZXNbMF1bal0sbz1vZmZzZXRzW2pdLHBvaW50c1swXVtqXVsxXSksaT0xO24+aTsrK2kpb3V0LmNhbGwoc3RhY2ssc2VyaWVzW2ldW2pdLG8rPXBvaW50c1tpLTFdW2pdWzFdLHBvaW50c1tpXVtqXVsxXSk7cmV0dXJuIGRhdGF9dmFyIHZhbHVlcz1kM19pZGVudGl0eSxvcmRlcj1kM19sYXlvdXRfc3RhY2tPcmRlckRlZmF1bHQsb2Zmc2V0PWQzX2xheW91dF9zdGFja09mZnNldFplcm8sb3V0PWQzX2xheW91dF9zdGFja091dCx4PWQzX2xheW91dF9zdGFja1gseT1kM19sYXlvdXRfc3RhY2tZO3JldHVybiBzdGFjay52YWx1ZXM9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHZhbHVlcz14LHN0YWNrKTp2YWx1ZXN9LHN0YWNrLm9yZGVyPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvcmRlcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB4P3g6ZDNfbGF5b3V0X3N0YWNrT3JkZXJzLmdldCh4KXx8ZDNfbGF5b3V0X3N0YWNrT3JkZXJEZWZhdWx0LHN0YWNrKTpvcmRlcn0sc3RhY2sub2Zmc2V0PWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvZmZzZXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgeD94OmQzX2xheW91dF9zdGFja09mZnNldHMuZ2V0KHgpfHxkM19sYXlvdXRfc3RhY2tPZmZzZXRaZXJvLHN0YWNrKTpvZmZzZXR9LHN0YWNrLng9ZnVuY3Rpb24oeil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHg9eixzdGFjayk6eH0sc3RhY2sueT1mdW5jdGlvbih6KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeT16LHN0YWNrKTp5fSxzdGFjay5vdXQ9ZnVuY3Rpb24oeil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG91dD16LHN0YWNrKTpvdXR9LHN0YWNrfTt2YXIgZDNfbGF5b3V0X3N0YWNrT3JkZXJzPWQzLm1hcCh7XCJpbnNpZGUtb3V0XCI6ZnVuY3Rpb24oZGF0YSl7dmFyIGksaixuPWRhdGEubGVuZ3RoLG1heD1kYXRhLm1hcChkM19sYXlvdXRfc3RhY2tNYXhJbmRleCksc3Vtcz1kYXRhLm1hcChkM19sYXlvdXRfc3RhY2tSZWR1Y2VTdW0pLGluZGV4PWQzLnJhbmdlKG4pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gbWF4W2FdLW1heFtiXX0pLHRvcD0wLGJvdHRvbT0wLHRvcHM9W10sYm90dG9tcz1bXTtmb3IoaT0wO24+aTsrK2kpaj1pbmRleFtpXSxib3R0b20+dG9wPyh0b3ArPXN1bXNbal0sdG9wcy5wdXNoKGopKTooYm90dG9tKz1zdW1zW2pdLFxuYm90dG9tcy5wdXNoKGopKTtyZXR1cm4gYm90dG9tcy5yZXZlcnNlKCkuY29uY2F0KHRvcHMpfSxyZXZlcnNlOmZ1bmN0aW9uKGRhdGEpe3JldHVybiBkMy5yYW5nZShkYXRhLmxlbmd0aCkucmV2ZXJzZSgpfSxcImRlZmF1bHRcIjpkM19sYXlvdXRfc3RhY2tPcmRlckRlZmF1bHR9KSxkM19sYXlvdXRfc3RhY2tPZmZzZXRzPWQzLm1hcCh7c2lsaG91ZXR0ZTpmdW5jdGlvbihkYXRhKXt2YXIgaSxqLG8sbj1kYXRhLmxlbmd0aCxtPWRhdGFbMF0ubGVuZ3RoLHN1bXM9W10sbWF4PTAseTA9W107Zm9yKGo9MDttPmo7KytqKXtmb3IoaT0wLG89MDtuPmk7aSsrKW8rPWRhdGFbaV1bal1bMV07bz5tYXgmJihtYXg9byksc3Vtcy5wdXNoKG8pfWZvcihqPTA7bT5qOysrail5MFtqXT0obWF4LXN1bXNbal0pLzI7cmV0dXJuIHkwfSx3aWdnbGU6ZnVuY3Rpb24oZGF0YSl7dmFyIGksaixrLHMxLHMyLHMzLGR4LG8sbzAsbj1kYXRhLmxlbmd0aCx4PWRhdGFbMF0sbT14Lmxlbmd0aCx5MD1bXTtmb3IoeTBbMF09bz1vMD0wLGo9MTttPmo7KytqKXtmb3IoaT0wLHMxPTA7bj5pOysraSlzMSs9ZGF0YVtpXVtqXVsxXTtmb3IoaT0wLHMyPTAsZHg9eFtqXVswXS14W2otMV1bMF07bj5pOysraSl7Zm9yKGs9MCxzMz0oZGF0YVtpXVtqXVsxXS1kYXRhW2ldW2otMV1bMV0pLygyKmR4KTtpPms7KytrKXMzKz0oZGF0YVtrXVtqXVsxXS1kYXRhW2tdW2otMV1bMV0pL2R4O3MyKz1zMypkYXRhW2ldW2pdWzFdfXkwW2pdPW8tPXMxP3MyL3MxKmR4OjAsbzA+byYmKG8wPW8pfWZvcihqPTA7bT5qOysrail5MFtqXS09bzA7cmV0dXJuIHkwfSxleHBhbmQ6ZnVuY3Rpb24oZGF0YSl7dmFyIGksaixvLG49ZGF0YS5sZW5ndGgsbT1kYXRhWzBdLmxlbmd0aCxrPTEvbix5MD1bXTtmb3Ioaj0wO20+ajsrK2ope2ZvcihpPTAsbz0wO24+aTtpKyspbys9ZGF0YVtpXVtqXVsxXTtpZihvKWZvcihpPTA7bj5pO2krKylkYXRhW2ldW2pdWzFdLz1vO2Vsc2UgZm9yKGk9MDtuPmk7aSsrKWRhdGFbaV1bal1bMV09a31mb3Ioaj0wO20+ajsrK2opeTBbal09MDtyZXR1cm4geTB9LHplcm86ZDNfbGF5b3V0X3N0YWNrT2Zmc2V0WmVyb30pO2QzLmxheW91dC5oaXN0b2dyYW09ZnVuY3Rpb24oKXtmdW5jdGlvbiBoaXN0b2dyYW0oZGF0YSxpKXtmb3IodmFyIGJpbix4LGJpbnM9W10sdmFsdWVzPWRhdGEubWFwKHZhbHVlcix0aGlzKSxyYW5nZT1yYW5nZXIuY2FsbCh0aGlzLHZhbHVlcyxpKSx0aHJlc2hvbGRzPWJpbm5lci5jYWxsKHRoaXMscmFuZ2UsdmFsdWVzLGkpLGk9LTEsbj12YWx1ZXMubGVuZ3RoLG09dGhyZXNob2xkcy5sZW5ndGgtMSxrPWZyZXF1ZW5jeT8xOjEvbjsrK2k8bTspYmluPWJpbnNbaV09W10sYmluLmR4PXRocmVzaG9sZHNbaSsxXS0oYmluLng9dGhyZXNob2xkc1tpXSksYmluLnk9MDtpZihtPjApZm9yKGk9LTE7KytpPG47KXg9dmFsdWVzW2ldLHg+PXJhbmdlWzBdJiZ4PD1yYW5nZVsxXSYmKGJpbj1iaW5zW2QzLmJpc2VjdCh0aHJlc2hvbGRzLHgsMSxtKS0xXSxiaW4ueSs9ayxiaW4ucHVzaChkYXRhW2ldKSk7cmV0dXJuIGJpbnN9dmFyIGZyZXF1ZW5jeT0hMCx2YWx1ZXI9TnVtYmVyLHJhbmdlcj1kM19sYXlvdXRfaGlzdG9ncmFtUmFuZ2UsYmlubmVyPWQzX2xheW91dF9oaXN0b2dyYW1CaW5TdHVyZ2VzO3JldHVybiBoaXN0b2dyYW0udmFsdWU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHZhbHVlcj14LGhpc3RvZ3JhbSk6dmFsdWVyfSxoaXN0b2dyYW0ucmFuZ2U9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHJhbmdlcj1kM19mdW5jdG9yKHgpLGhpc3RvZ3JhbSk6cmFuZ2VyfSxoaXN0b2dyYW0uYmlucz1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYmlubmVyPVwibnVtYmVyXCI9PXR5cGVvZiB4P2Z1bmN0aW9uKHJhbmdlKXtyZXR1cm4gZDNfbGF5b3V0X2hpc3RvZ3JhbUJpbkZpeGVkKHJhbmdlLHgpfTpkM19mdW5jdG9yKHgpLGhpc3RvZ3JhbSk6YmlubmVyfSxoaXN0b2dyYW0uZnJlcXVlbmN5PWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmcmVxdWVuY3k9ISF4LGhpc3RvZ3JhbSk6ZnJlcXVlbmN5fSxoaXN0b2dyYW19LGQzLmxheW91dC5wYWNrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcGFjayhkLGkpe3ZhciBub2Rlcz1oaWVyYXJjaHkuY2FsbCh0aGlzLGQsaSkscm9vdD1ub2Rlc1swXSx3PXNpemVbMF0saD1zaXplWzFdLHI9bnVsbD09cmFkaXVzP01hdGguc3FydDpcImZ1bmN0aW9uXCI9PXR5cGVvZiByYWRpdXM/cmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIHJhZGl1c307aWYocm9vdC54PXJvb3QueT0wLGQzX2xheW91dF9oaWVyYXJjaHlWaXNpdEFmdGVyKHJvb3QsZnVuY3Rpb24oZCl7ZC5yPStyKGQudmFsdWUpfSksZDNfbGF5b3V0X2hpZXJhcmNoeVZpc2l0QWZ0ZXIocm9vdCxkM19sYXlvdXRfcGFja1NpYmxpbmdzKSxwYWRkaW5nKXt2YXIgZHI9cGFkZGluZyoocmFkaXVzPzE6TWF0aC5tYXgoMipyb290LnIvdywyKnJvb3Quci9oKSkvMjtkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRBZnRlcihyb290LGZ1bmN0aW9uKGQpe2Qucis9ZHJ9KSxkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRBZnRlcihyb290LGQzX2xheW91dF9wYWNrU2libGluZ3MpLGQzX2xheW91dF9oaWVyYXJjaHlWaXNpdEFmdGVyKHJvb3QsZnVuY3Rpb24oZCl7ZC5yLT1kcn0pfXJldHVybiBkM19sYXlvdXRfcGFja1RyYW5zZm9ybShyb290LHcvMixoLzIscmFkaXVzPzE6MS9NYXRoLm1heCgyKnJvb3Quci93LDIqcm9vdC5yL2gpKSxub2Rlc312YXIgcmFkaXVzLGhpZXJhcmNoeT1kMy5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChkM19sYXlvdXRfcGFja1NvcnQpLHBhZGRpbmc9MCxzaXplPVsxLDFdO3JldHVybiBwYWNrLnNpemU9ZnVuY3Rpb24oXyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNpemU9XyxwYWNrKTpzaXplfSxwYWNrLnJhZGl1cz1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocmFkaXVzPW51bGw9PV98fFwiZnVuY3Rpb25cIj09dHlwZW9mIF8/XzorXyxwYWNrKTpyYWRpdXN9LHBhY2sucGFkZGluZz1mdW5jdGlvbihfKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocGFkZGluZz0rXyxwYWNrKTpwYWRkaW5nfSxkM19sYXlvdXRfaGllcmFyY2h5UmViaW5kKHBhY2ssaGllcmFyY2h5KX0sZDMubGF5b3V0LnRyZWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0cmVlKGQsaSl7dmFyIG5vZGVzPWhpZXJhcmNoeS5jYWxsKHRoaXMsZCxpKSxyb290MD1ub2Rlc1swXSxyb290MT13cmFwVHJlZShyb290MCk7aWYoZDNfbGF5b3V0X2hpZXJhcmNoeVZpc2l0QWZ0ZXIocm9vdDEsZmlyc3RXYWxrKSxyb290MS5wYXJlbnQubT0tcm9vdDEueixkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRCZWZvcmUocm9vdDEsc2Vjb25kV2Fsayksbm9kZVNpemUpZDNfbGF5b3V0X2hpZXJhcmNoeVZpc2l0QmVmb3JlKHJvb3QwLHNpemVOb2RlKTtlbHNle3ZhciBsZWZ0PXJvb3QwLHJpZ2h0PXJvb3QwLGJvdHRvbT1yb290MDtkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRCZWZvcmUocm9vdDAsZnVuY3Rpb24obm9kZSl7bm9kZS54PGxlZnQueCYmKGxlZnQ9bm9kZSksbm9kZS54PnJpZ2h0LngmJihyaWdodD1ub2RlKSxub2RlLmRlcHRoPmJvdHRvbS5kZXB0aCYmKGJvdHRvbT1ub2RlKX0pO3ZhciB0eD1zZXBhcmF0aW9uKGxlZnQscmlnaHQpLzItbGVmdC54LGt4PXNpemVbMF0vKHJpZ2h0Lngrc2VwYXJhdGlvbihyaWdodCxsZWZ0KS8yK3R4KSxreT1zaXplWzFdLyhib3R0b20uZGVwdGh8fDEpO2QzX2xheW91dF9oaWVyYXJjaHlWaXNpdEJlZm9yZShyb290MCxmdW5jdGlvbihub2RlKXtub2RlLng9KG5vZGUueCt0eCkqa3gsbm9kZS55PW5vZGUuZGVwdGgqa3l9KX1yZXR1cm4gbm9kZXN9ZnVuY3Rpb24gd3JhcFRyZWUocm9vdDApe2Zvcih2YXIgbm9kZTEscm9vdDE9e0E6bnVsbCxjaGlsZHJlbjpbcm9vdDBdfSxxdWV1ZT1bcm9vdDFdO251bGwhPShub2RlMT1xdWV1ZS5wb3AoKSk7KWZvcih2YXIgY2hpbGQsY2hpbGRyZW49bm9kZTEuY2hpbGRyZW4saT0wLG49Y2hpbGRyZW4ubGVuZ3RoO24+aTsrK2kpcXVldWUucHVzaCgoY2hpbGRyZW5baV09Y2hpbGQ9e186Y2hpbGRyZW5baV0scGFyZW50Om5vZGUxLGNoaWxkcmVuOihjaGlsZD1jaGlsZHJlbltpXS5jaGlsZHJlbikmJmNoaWxkLnNsaWNlKCl8fFtdLEE6bnVsbCxhOm51bGwsejowLG06MCxjOjAsczowLHQ6bnVsbCxpOml9KS5hPWNoaWxkKTtyZXR1cm4gcm9vdDEuY2hpbGRyZW5bMF19ZnVuY3Rpb24gZmlyc3RXYWxrKHYpe3ZhciBjaGlsZHJlbj12LmNoaWxkcmVuLHNpYmxpbmdzPXYucGFyZW50LmNoaWxkcmVuLHc9di5pP3NpYmxpbmdzW3YuaS0xXTpudWxsO2lmKGNoaWxkcmVuLmxlbmd0aCl7ZDNfbGF5b3V0X3RyZWVTaGlmdCh2KTt2YXIgbWlkcG9pbnQ9KGNoaWxkcmVuWzBdLnorY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoLTFdLnopLzI7dz8odi56PXcueitzZXBhcmF0aW9uKHYuXyx3Ll8pLHYubT12LnotbWlkcG9pbnQpOnYuej1taWRwb2ludH1lbHNlIHcmJih2Lno9dy56K3NlcGFyYXRpb24odi5fLHcuXykpO3YucGFyZW50LkE9YXBwb3J0aW9uKHYsdyx2LnBhcmVudC5BfHxzaWJsaW5nc1swXSl9ZnVuY3Rpb24gc2Vjb25kV2Fsayh2KXt2Ll8ueD12Lnordi5wYXJlbnQubSx2Lm0rPXYucGFyZW50Lm19ZnVuY3Rpb24gYXBwb3J0aW9uKHYsdyxhbmNlc3Rvcil7aWYodyl7Zm9yKHZhciBzaGlmdCx2aXA9dix2b3A9dix2aW09dyx2b209dmlwLnBhcmVudC5jaGlsZHJlblswXSxzaXA9dmlwLm0sc29wPXZvcC5tLHNpbT12aW0ubSxzb209dm9tLm07dmltPWQzX2xheW91dF90cmVlUmlnaHQodmltKSx2aXA9ZDNfbGF5b3V0X3RyZWVMZWZ0KHZpcCksdmltJiZ2aXA7KXZvbT1kM19sYXlvdXRfdHJlZUxlZnQodm9tKSx2b3A9ZDNfbGF5b3V0X3RyZWVSaWdodCh2b3ApLHZvcC5hPXYsc2hpZnQ9dmltLnorc2ltLXZpcC56LXNpcCtzZXBhcmF0aW9uKHZpbS5fLHZpcC5fKSxzaGlmdD4wJiYoZDNfbGF5b3V0X3RyZWVNb3ZlKGQzX2xheW91dF90cmVlQW5jZXN0b3IodmltLHYsYW5jZXN0b3IpLHYsc2hpZnQpLHNpcCs9c2hpZnQsc29wKz1zaGlmdCksc2ltKz12aW0ubSxzaXArPXZpcC5tLHNvbSs9dm9tLm0sc29wKz12b3AubTt2aW0mJiFkM19sYXlvdXRfdHJlZVJpZ2h0KHZvcCkmJih2b3AudD12aW0sdm9wLm0rPXNpbS1zb3ApLHZpcCYmIWQzX2xheW91dF90cmVlTGVmdCh2b20pJiYodm9tLnQ9dmlwLHZvbS5tKz1zaXAtc29tLGFuY2VzdG9yPXYpfXJldHVybiBhbmNlc3Rvcn1mdW5jdGlvbiBzaXplTm9kZShub2RlKXtub2RlLngqPXNpemVbMF0sbm9kZS55PW5vZGUuZGVwdGgqc2l6ZVsxXX12YXIgaGllcmFyY2h5PWQzLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KG51bGwpLnZhbHVlKG51bGwpLHNlcGFyYXRpb249ZDNfbGF5b3V0X3RyZWVTZXBhcmF0aW9uLHNpemU9WzEsMV0sbm9kZVNpemU9bnVsbDtyZXR1cm4gdHJlZS5zZXBhcmF0aW9uPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzZXBhcmF0aW9uPXgsdHJlZSk6c2VwYXJhdGlvbn0sdHJlZS5zaXplPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhub2RlU2l6ZT1udWxsPT0oc2l6ZT14KT9zaXplTm9kZTpudWxsLHRyZWUpOm5vZGVTaXplP251bGw6c2l6ZX0sdHJlZS5ub2RlU2l6ZT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obm9kZVNpemU9bnVsbD09KHNpemU9eCk/bnVsbDpzaXplTm9kZSx0cmVlKTpub2RlU2l6ZT9zaXplOm51bGx9LGQzX2xheW91dF9oaWVyYXJjaHlSZWJpbmQodHJlZSxoaWVyYXJjaHkpfSxkMy5sYXlvdXQuY2x1c3Rlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGNsdXN0ZXIoZCxpKXt2YXIgcHJldmlvdXNOb2RlLG5vZGVzPWhpZXJhcmNoeS5jYWxsKHRoaXMsZCxpKSxyb290PW5vZGVzWzBdLHg9MDtkM19sYXlvdXRfaGllcmFyY2h5VmlzaXRBZnRlcihyb290LGZ1bmN0aW9uKG5vZGUpe3ZhciBjaGlsZHJlbj1ub2RlLmNoaWxkcmVuO2NoaWxkcmVuJiZjaGlsZHJlbi5sZW5ndGg/KG5vZGUueD1kM19sYXlvdXRfY2x1c3RlclgoY2hpbGRyZW4pLG5vZGUueT1kM19sYXlvdXRfY2x1c3RlclkoY2hpbGRyZW4pKToobm9kZS54PXByZXZpb3VzTm9kZT94Kz1zZXBhcmF0aW9uKG5vZGUscHJldmlvdXNOb2RlKTowLG5vZGUueT0wLHByZXZpb3VzTm9kZT1ub2RlKX0pO3ZhciBsZWZ0PWQzX2xheW91dF9jbHVzdGVyTGVmdChyb290KSxyaWdodD1kM19sYXlvdXRfY2x1c3RlclJpZ2h0KHJvb3QpLHgwPWxlZnQueC1zZXBhcmF0aW9uKGxlZnQscmlnaHQpLzIseDE9cmlnaHQueCtzZXBhcmF0aW9uKHJpZ2h0LGxlZnQpLzI7cmV0dXJuIGQzX2xheW91dF9oaWVyYXJjaHlWaXNpdEFmdGVyKHJvb3Qsbm9kZVNpemU/ZnVuY3Rpb24obm9kZSl7bm9kZS54PShub2RlLngtcm9vdC54KSpzaXplWzBdLG5vZGUueT0ocm9vdC55LW5vZGUueSkqc2l6ZVsxXX06ZnVuY3Rpb24obm9kZSl7bm9kZS54PShub2RlLngteDApLyh4MS14MCkqc2l6ZVswXSxub2RlLnk9KDEtKHJvb3QueT9ub2RlLnkvcm9vdC55OjEpKSpzaXplWzFdfSksbm9kZXN9dmFyIGhpZXJhcmNoeT1kMy5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChudWxsKS52YWx1ZShudWxsKSxzZXBhcmF0aW9uPWQzX2xheW91dF90cmVlU2VwYXJhdGlvbixzaXplPVsxLDFdLG5vZGVTaXplPSExO3JldHVybiBjbHVzdGVyLnNlcGFyYXRpb249ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNlcGFyYXRpb249eCxjbHVzdGVyKTpzZXBhcmF0aW9ufSxjbHVzdGVyLnNpemU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG5vZGVTaXplPW51bGw9PShzaXplPXgpLGNsdXN0ZXIpOm5vZGVTaXplP251bGw6c2l6ZX0sY2x1c3Rlci5ub2RlU2l6ZT1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obm9kZVNpemU9bnVsbCE9KHNpemU9eCksY2x1c3Rlcik6bm9kZVNpemU/c2l6ZTpudWxsfSxkM19sYXlvdXRfaGllcmFyY2h5UmViaW5kKGNsdXN0ZXIsaGllcmFyY2h5KX0sZDMubGF5b3V0LnRyZWVtYXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzY2FsZShjaGlsZHJlbixrKXtmb3IodmFyIGNoaWxkLGFyZWEsaT0tMSxuPWNoaWxkcmVuLmxlbmd0aDsrK2k8bjspYXJlYT0oY2hpbGQ9Y2hpbGRyZW5baV0pLnZhbHVlKigwPms/MDprKSxjaGlsZC5hcmVhPWlzTmFOKGFyZWEpfHwwPj1hcmVhPzA6YXJlYX1mdW5jdGlvbiBzcXVhcmlmeShub2RlKXt2YXIgY2hpbGRyZW49bm9kZS5jaGlsZHJlbjtpZihjaGlsZHJlbiYmY2hpbGRyZW4ubGVuZ3RoKXt2YXIgY2hpbGQsc2NvcmUsbixyZWN0PXBhZChub2RlKSxyb3c9W10scmVtYWluaW5nPWNoaWxkcmVuLnNsaWNlKCksYmVzdD0xLzAsdT1cInNsaWNlXCI9PT1tb2RlP3JlY3QuZHg6XCJkaWNlXCI9PT1tb2RlP3JlY3QuZHk6XCJzbGljZS1kaWNlXCI9PT1tb2RlPzEmbm9kZS5kZXB0aD9yZWN0LmR5OnJlY3QuZHg6TWF0aC5taW4ocmVjdC5keCxyZWN0LmR5KTtmb3Ioc2NhbGUocmVtYWluaW5nLHJlY3QuZHgqcmVjdC5keS9ub2RlLnZhbHVlKSxyb3cuYXJlYT0wOyhuPXJlbWFpbmluZy5sZW5ndGgpPjA7KXJvdy5wdXNoKGNoaWxkPXJlbWFpbmluZ1tuLTFdKSxyb3cuYXJlYSs9Y2hpbGQuYXJlYSxcInNxdWFyaWZ5XCIhPT1tb2RlfHwoc2NvcmU9d29yc3Qocm93LHUpKTw9YmVzdD8ocmVtYWluaW5nLnBvcCgpLGJlc3Q9c2NvcmUpOihyb3cuYXJlYS09cm93LnBvcCgpLmFyZWEscG9zaXRpb24ocm93LHUscmVjdCwhMSksdT1NYXRoLm1pbihyZWN0LmR4LHJlY3QuZHkpLHJvdy5sZW5ndGg9cm93LmFyZWE9MCxiZXN0PTEvMCk7cm93Lmxlbmd0aCYmKHBvc2l0aW9uKHJvdyx1LHJlY3QsITApLHJvdy5sZW5ndGg9cm93LmFyZWE9MCksY2hpbGRyZW4uZm9yRWFjaChzcXVhcmlmeSl9fWZ1bmN0aW9uIHN0aWNraWZ5KG5vZGUpe3ZhciBjaGlsZHJlbj1ub2RlLmNoaWxkcmVuO2lmKGNoaWxkcmVuJiZjaGlsZHJlbi5sZW5ndGgpe3ZhciBjaGlsZCxyZWN0PXBhZChub2RlKSxyZW1haW5pbmc9Y2hpbGRyZW4uc2xpY2UoKSxyb3c9W107Zm9yKHNjYWxlKHJlbWFpbmluZyxyZWN0LmR4KnJlY3QuZHkvbm9kZS52YWx1ZSkscm93LmFyZWE9MDtjaGlsZD1yZW1haW5pbmcucG9wKCk7KXJvdy5wdXNoKGNoaWxkKSxyb3cuYXJlYSs9Y2hpbGQuYXJlYSxudWxsIT1jaGlsZC56JiYocG9zaXRpb24ocm93LGNoaWxkLno/cmVjdC5keDpyZWN0LmR5LHJlY3QsIXJlbWFpbmluZy5sZW5ndGgpLHJvdy5sZW5ndGg9cm93LmFyZWE9MCk7Y2hpbGRyZW4uZm9yRWFjaChzdGlja2lmeSl9fWZ1bmN0aW9uIHdvcnN0KHJvdyx1KXtmb3IodmFyIHIscz1yb3cuYXJlYSxybWF4PTAscm1pbj0xLzAsaT0tMSxuPXJvdy5sZW5ndGg7KytpPG47KShyPXJvd1tpXS5hcmVhKSYmKHJtaW4+ciYmKHJtaW49cikscj5ybWF4JiYocm1heD1yKSk7cmV0dXJuIHMqPXMsdSo9dSxzP01hdGgubWF4KHUqcm1heCpyYXRpby9zLHMvKHUqcm1pbipyYXRpbykpOjEvMH1mdW5jdGlvbiBwb3NpdGlvbihyb3csdSxyZWN0LGZsdXNoKXt2YXIgbyxpPS0xLG49cm93Lmxlbmd0aCx4PXJlY3QueCx5PXJlY3QueSx2PXU/cm91bmQocm93LmFyZWEvdSk6MDtpZih1PT1yZWN0LmR4KXtmb3IoKGZsdXNofHx2PnJlY3QuZHkpJiYodj1yZWN0LmR5KTsrK2k8bjspbz1yb3dbaV0sby54PXgsby55PXksby5keT12LHgrPW8uZHg9TWF0aC5taW4ocmVjdC54K3JlY3QuZHgteCx2P3JvdW5kKG8uYXJlYS92KTowKTtvLno9ITAsby5keCs9cmVjdC54K3JlY3QuZHgteCxyZWN0LnkrPXYscmVjdC5keS09dn1lbHNle2ZvcigoZmx1c2h8fHY+cmVjdC5keCkmJih2PXJlY3QuZHgpOysraTxuOylvPXJvd1tpXSxvLng9eCxvLnk9eSxvLmR4PXYseSs9by5keT1NYXRoLm1pbihyZWN0LnkrcmVjdC5keS15LHY/cm91bmQoby5hcmVhL3YpOjApO28uej0hMSxvLmR5Kz1yZWN0LnkrcmVjdC5keS15LHJlY3QueCs9dixyZWN0LmR4LT12fX1mdW5jdGlvbiB0cmVlbWFwKGQpe3ZhciBub2Rlcz1zdGlja2llc3x8aGllcmFyY2h5KGQpLHJvb3Q9bm9kZXNbMF07cmV0dXJuIHJvb3QueD0wLHJvb3QueT0wLHJvb3QuZHg9c2l6ZVswXSxyb290LmR5PXNpemVbMV0sc3RpY2tpZXMmJmhpZXJhcmNoeS5yZXZhbHVlKHJvb3QpLHNjYWxlKFtyb290XSxyb290LmR4KnJvb3QuZHkvcm9vdC52YWx1ZSksKHN0aWNraWVzP3N0aWNraWZ5OnNxdWFyaWZ5KShyb290KSxzdGlja3kmJihzdGlja2llcz1ub2Rlcyksbm9kZXN9dmFyIHN0aWNraWVzLGhpZXJhcmNoeT1kMy5sYXlvdXQuaGllcmFyY2h5KCkscm91bmQ9TWF0aC5yb3VuZCxzaXplPVsxLDFdLHBhZGRpbmc9bnVsbCxwYWQ9ZDNfbGF5b3V0X3RyZWVtYXBQYWROdWxsLHN0aWNreT0hMSxtb2RlPVwic3F1YXJpZnlcIixyYXRpbz0uNSooMStNYXRoLnNxcnQoNSkpO3JldHVybiB0cmVlbWFwLnNpemU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNpemU9eCx0cmVlbWFwKTpzaXplfSx0cmVlbWFwLnBhZGRpbmc9ZnVuY3Rpb24oeCl7ZnVuY3Rpb24gcGFkRnVuY3Rpb24obm9kZSl7dmFyIHA9eC5jYWxsKHRyZWVtYXAsbm9kZSxub2RlLmRlcHRoKTtyZXR1cm4gbnVsbD09cD9kM19sYXlvdXRfdHJlZW1hcFBhZE51bGwobm9kZSk6ZDNfbGF5b3V0X3RyZWVtYXBQYWQobm9kZSxcIm51bWJlclwiPT10eXBlb2YgcD9bcCxwLHAscF06cCl9ZnVuY3Rpb24gcGFkQ29uc3RhbnQobm9kZSl7cmV0dXJuIGQzX2xheW91dF90cmVlbWFwUGFkKG5vZGUseCl9aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHBhZGRpbmc7dmFyIHR5cGU7cmV0dXJuIHBhZD1udWxsPT0ocGFkZGluZz14KT9kM19sYXlvdXRfdHJlZW1hcFBhZE51bGw6XCJmdW5jdGlvblwiPT0odHlwZT10eXBlb2YgeCk/cGFkRnVuY3Rpb246XCJudW1iZXJcIj09PXR5cGU/KHg9W3gseCx4LHhdLHBhZENvbnN0YW50KTpwYWRDb25zdGFudCx0cmVlbWFwfSx0cmVlbWFwLnJvdW5kPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyb3VuZD14P01hdGgucm91bmQ6TnVtYmVyLHRyZWVtYXApOnJvdW5kIT1OdW1iZXJ9LHRyZWVtYXAuc3RpY2t5PWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzdGlja3k9eCxzdGlja2llcz1udWxsLHRyZWVtYXApOnN0aWNreX0sdHJlZW1hcC5yYXRpbz1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocmF0aW89eCx0cmVlbWFwKTpyYXRpb30sdHJlZW1hcC5tb2RlPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhtb2RlPXgrXCJcIix0cmVlbWFwKTptb2RlfSxkM19sYXlvdXRfaGllcmFyY2h5UmViaW5kKHRyZWVtYXAsaGllcmFyY2h5KX0sZDMucmFuZG9tPXtub3JtYWw6ZnVuY3Rpb24owrUsz4Mpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIDI+biYmKM+DPTEpLDE+biYmKMK1PTApLGZ1bmN0aW9uKCl7dmFyIHgseSxyO2RvIHg9MipNYXRoLnJhbmRvbSgpLTEseT0yKk1hdGgucmFuZG9tKCktMSxyPXgqeCt5Knk7d2hpbGUoIXJ8fHI+MSk7cmV0dXJuIMK1K8+DKngqTWF0aC5zcXJ0KC0yKk1hdGgubG9nKHIpL3IpfX0sbG9nTm9ybWFsOmZ1bmN0aW9uKCl7dmFyIHJhbmRvbT1kMy5yYW5kb20ubm9ybWFsLmFwcGx5KGQzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZXhwKHJhbmRvbSgpKX19LGJhdGVzOmZ1bmN0aW9uKG0pe3ZhciByYW5kb209ZDMucmFuZG9tLmlyd2luSGFsbChtKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gcmFuZG9tKCkvbX19LGlyd2luSGFsbDpmdW5jdGlvbihtKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHM9MCxqPTA7bT5qO2orKylzKz1NYXRoLnJhbmRvbSgpO3JldHVybiBzfX19LGQzLnNjYWxlPXt9O3ZhciBkM19zY2FsZV9uaWNlSWRlbnRpdHk9e2Zsb29yOmQzX2lkZW50aXR5LGNlaWw6ZDNfaWRlbnRpdHl9O2QzLnNjYWxlLmxpbmVhcj1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9saW5lYXIoWzAsMV0sWzAsMV0sZDNfaW50ZXJwb2xhdGUsITEpfTt2YXIgZDNfc2NhbGVfbGluZWFyRm9ybWF0U2lnbmlmaWNhbnQ9e3M6MSxnOjEscDoxLHI6MSxlOjF9O2QzLnNjYWxlLmxvZz1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9sb2coZDMuc2NhbGUubGluZWFyKCkuZG9tYWluKFswLDFdKSwxMCwhMCxbMSwxMF0pfTt2YXIgZDNfc2NhbGVfbG9nRm9ybWF0PWQzLmZvcm1hdChcIi4wZVwiKSxkM19zY2FsZV9sb2dOaWNlTmVnYXRpdmU9e2Zsb29yOmZ1bmN0aW9uKHgpe3JldHVybi1NYXRoLmNlaWwoLXgpfSxjZWlsOmZ1bmN0aW9uKHgpe3JldHVybi1NYXRoLmZsb29yKC14KX19O2QzLnNjYWxlLnBvdz1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9wb3coZDMuc2NhbGUubGluZWFyKCksMSxbMCwxXSl9LGQzLnNjYWxlLnNxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZDMuc2NhbGUucG93KCkuZXhwb25lbnQoLjUpfSxkMy5zY2FsZS5vcmRpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3NjYWxlX29yZGluYWwoW10se3Q6XCJyYW5nZVwiLGE6W1tdXX0pfSxkMy5zY2FsZS5jYXRlZ29yeTEwPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShkM19jYXRlZ29yeTEwKX0sZDMuc2NhbGUuY2F0ZWdvcnkyMD1mdW5jdGlvbigpe3JldHVybiBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoZDNfY2F0ZWdvcnkyMCl9LGQzLnNjYWxlLmNhdGVnb3J5MjBiPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShkM19jYXRlZ29yeTIwYil9LGQzLnNjYWxlLmNhdGVnb3J5MjBjPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShkM19jYXRlZ29yeTIwYyl9O3ZhciBkM19jYXRlZ29yeTEwPVsyMDYyMjYwLDE2NzQ0MjA2LDI5MjQ1ODgsMTQwMzQ3MjgsOTcyNTg4NSw5MTk3MTMxLDE0OTA3MzMwLDgzNTU3MTEsMTIzNjkxODYsMTU1NjE3NV0ubWFwKGQzX3JnYlN0cmluZyksZDNfY2F0ZWdvcnkyMD1bMjA2MjI2MCwxMTQ1NDQ0MCwxNjc0NDIwNiwxNjc1OTY3MiwyOTI0NTg4LDEwMDE4Njk4LDE0MDM0NzI4LDE2NzUwNzQyLDk3MjU4ODUsMTI5NTU4NjEsOTE5NzEzMSwxMjg4NTE0MCwxNDkwNzMzMCwxNjIzNDE5NCw4MzU1NzExLDEzMDkyODA3LDEyMzY5MTg2LDE0NDA4NTg5LDE1NTYxNzUsMTA0MTA3MjVdLm1hcChkM19yZ2JTdHJpbmcpLGQzX2NhdGVnb3J5MjBiPVszNzUwNzc3LDUzOTU2MTksNzA0MDcxOSwxMDI2NDI4Niw2NTE5MDk3LDkyMTY1OTQsMTE5MTUxMTUsMTM1NTY2MzYsOTIwMjk5MywxMjQyNjgwOSwxNTE4NjUxNCwxNTE5MDkzMiw4NjY2MTY5LDExMzU2NDkwLDE0MDQ5NjQzLDE1MTc3MzcyLDgwNzc2ODMsMTA4MzQzMjQsMTM1Mjg1MDksMTQ1ODk2NTRdLm1hcChkM19yZ2JTdHJpbmcpLGQzX2NhdGVnb3J5MjBjPVszMjQ0NzMzLDcwNTcxMTAsMTA0MDY2MjUsMTMwMzI0MzEsMTUwOTUwNTMsMTY2MTY3NjQsMTY2MjUyNTksMTY2MzQwMTgsMzI1MzA3Niw3NjUyNDcwLDEwNjA3MDAzLDEzMTAxNTA0LDc2OTUyODEsMTAzOTQzMTIsMTIzNjkzNzIsMTQzNDI4OTEsNjUxMzUwNyw5ODY4OTUwLDEyNDM0ODc3LDE0Mjc3MDgxXS5tYXAoZDNfcmdiU3RyaW5nKTtkMy5zY2FsZS5xdWFudGlsZT1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV9xdWFudGlsZShbXSxbXSl9LGQzLnNjYWxlLnF1YW50aXplPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3NjYWxlX3F1YW50aXplKDAsMSxbMCwxXSl9LGQzLnNjYWxlLnRocmVzaG9sZD1mdW5jdGlvbigpe3JldHVybiBkM19zY2FsZV90aHJlc2hvbGQoWy41XSxbMCwxXSl9LGQzLnNjYWxlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3NjYWxlX2lkZW50aXR5KFswLDFdKX0sZDMuc3ZnPXt9LGQzLnN2Zy5hcmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhcmMoKXt2YXIgcjA9TWF0aC5tYXgoMCwraW5uZXJSYWRpdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxyMT1NYXRoLm1heCgwLCtvdXRlclJhZGl1cy5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGEwPXN0YXJ0QW5nbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLWhhbGbPgCxhMT1lbmRBbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyktaGFsZs+ALGRhPU1hdGguYWJzKGExLWEwKSxjdz1hMD5hMT8wOjE7aWYocjA+cjEmJihyYz1yMSxyMT1yMCxyMD1yYyksZGE+Pc+EzrUpcmV0dXJuIGNpcmNsZVNlZ21lbnQocjEsY3cpKyhyMD9jaXJjbGVTZWdtZW50KHIwLDEtY3cpOlwiXCIpK1wiWlwiO3ZhciByYyxjcixycCxhcCx4MCx5MCx4MSx5MSx4Mix5Mix4Myx5MyxwMD0wLHAxPTAscGF0aD1bXTtpZigoYXA9KCtwYWRBbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDApLzIpJiYocnA9cGFkUmFkaXVzPT09ZDNfc3ZnX2FyY0F1dG8/TWF0aC5zcXJ0KHIwKnIwK3IxKnIxKTorcGFkUmFkaXVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxjd3x8KHAxKj0tMSkscjEmJihwMT1kM19hc2luKHJwL3IxKk1hdGguc2luKGFwKSkpLHIwJiYocDA9ZDNfYXNpbihycC9yMCpNYXRoLnNpbihhcCkpKSkscjEpe3gwPXIxKk1hdGguY29zKGEwK3AxKSx5MD1yMSpNYXRoLnNpbihhMCtwMSkseDE9cjEqTWF0aC5jb3MoYTEtcDEpLHkxPXIxKk1hdGguc2luKGExLXAxKTt2YXIgbDE9TWF0aC5hYnMoYTEtYTAtMipwMSk8Pc+APzA6MTtpZihwMSYmZDNfc3ZnX2FyY1N3ZWVwKHgwLHkwLHgxLHkxKT09PWN3XmwxKXt2YXIgaDE9KGEwK2ExKS8yO3gwPXIxKk1hdGguY29zKGgxKSx5MD1yMSpNYXRoLnNpbihoMSkseDE9eTE9bnVsbH19ZWxzZSB4MD15MD0wO2lmKHIwKXt4Mj1yMCpNYXRoLmNvcyhhMS1wMCkseTI9cjAqTWF0aC5zaW4oYTEtcDApLHgzPXIwKk1hdGguY29zKGEwK3AwKSx5Mz1yMCpNYXRoLnNpbihhMCtwMCk7dmFyIGwwPU1hdGguYWJzKGEwLWExKzIqcDApPD3PgD8wOjE7aWYocDAmJmQzX3N2Z19hcmNTd2VlcCh4Mix5Mix4Myx5Myk9PT0xLWN3XmwwKXt2YXIgaDA9KGEwK2ExKS8yO3gyPXIwKk1hdGguY29zKGgwKSx5Mj1yMCpNYXRoLnNpbihoMCkseDM9eTM9bnVsbH19ZWxzZSB4Mj15Mj0wO2lmKChyYz1NYXRoLm1pbihNYXRoLmFicyhyMS1yMCkvMiwrY29ybmVyUmFkaXVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpPi4wMDEpe2NyPXIxPnIwXmN3PzA6MTt2YXIgb2M9bnVsbD09eDM/W3gyLHkyXTpudWxsPT14MT9beDAseTBdOmQzX2dlb21fcG9seWdvbkludGVyc2VjdChbeDAseTBdLFt4Myx5M10sW3gxLHkxXSxbeDIseTJdKSxheD14MC1vY1swXSxheT15MC1vY1sxXSxieD14MS1vY1swXSxieT15MS1vY1sxXSxrYz0xL01hdGguc2luKE1hdGguYWNvcygoYXgqYngrYXkqYnkpLyhNYXRoLnNxcnQoYXgqYXgrYXkqYXkpKk1hdGguc3FydChieCpieCtieSpieSkpKS8yKSxsYz1NYXRoLnNxcnQob2NbMF0qb2NbMF0rb2NbMV0qb2NbMV0pO2lmKG51bGwhPXgxKXt2YXIgcmMxPU1hdGgubWluKHJjLChyMS1sYykvKGtjKzEpKSx0MzA9ZDNfc3ZnX2FyY0Nvcm5lclRhbmdlbnRzKG51bGw9PXgzP1t4Mix5Ml06W3gzLHkzXSxbeDAseTBdLHIxLHJjMSxjdyksdDEyPWQzX3N2Z19hcmNDb3JuZXJUYW5nZW50cyhbeDEseTFdLFt4Mix5Ml0scjEscmMxLGN3KTtyYz09PXJjMT9wYXRoLnB1c2goXCJNXCIsdDMwWzBdLFwiQVwiLHJjMSxcIixcIixyYzEsXCIgMCAwLFwiLGNyLFwiIFwiLHQzMFsxXSxcIkFcIixyMSxcIixcIixyMSxcIiAwIFwiLDEtY3deZDNfc3ZnX2FyY1N3ZWVwKHQzMFsxXVswXSx0MzBbMV1bMV0sdDEyWzFdWzBdLHQxMlsxXVsxXSksXCIsXCIsY3csXCIgXCIsdDEyWzFdLFwiQVwiLHJjMSxcIixcIixyYzEsXCIgMCAwLFwiLGNyLFwiIFwiLHQxMlswXSk6cGF0aC5wdXNoKFwiTVwiLHQzMFswXSxcIkFcIixyYzEsXCIsXCIscmMxLFwiIDAgMSxcIixjcixcIiBcIix0MTJbMF0pfWVsc2UgcGF0aC5wdXNoKFwiTVwiLHgwLFwiLFwiLHkwKTtpZihudWxsIT14Myl7dmFyIHJjMD1NYXRoLm1pbihyYywocjAtbGMpLyhrYy0xKSksdDAzPWQzX3N2Z19hcmNDb3JuZXJUYW5nZW50cyhbeDAseTBdLFt4Myx5M10scjAsLXJjMCxjdyksdDIxPWQzX3N2Z19hcmNDb3JuZXJUYW5nZW50cyhbeDIseTJdLG51bGw9PXgxP1t4MCx5MF06W3gxLHkxXSxyMCwtcmMwLGN3KTtyYz09PXJjMD9wYXRoLnB1c2goXCJMXCIsdDIxWzBdLFwiQVwiLHJjMCxcIixcIixyYzAsXCIgMCAwLFwiLGNyLFwiIFwiLHQyMVsxXSxcIkFcIixyMCxcIixcIixyMCxcIiAwIFwiLGN3XmQzX3N2Z19hcmNTd2VlcCh0MjFbMV1bMF0sdDIxWzFdWzFdLHQwM1sxXVswXSx0MDNbMV1bMV0pLFwiLFwiLDEtY3csXCIgXCIsdDAzWzFdLFwiQVwiLHJjMCxcIixcIixyYzAsXCIgMCAwLFwiLGNyLFwiIFwiLHQwM1swXSk6cGF0aC5wdXNoKFwiTFwiLHQyMVswXSxcIkFcIixyYzAsXCIsXCIscmMwLFwiIDAgMCxcIixjcixcIiBcIix0MDNbMF0pfWVsc2UgcGF0aC5wdXNoKFwiTFwiLHgyLFwiLFwiLHkyKX1lbHNlIHBhdGgucHVzaChcIk1cIix4MCxcIixcIix5MCksbnVsbCE9eDEmJnBhdGgucHVzaChcIkFcIixyMSxcIixcIixyMSxcIiAwIFwiLGwxLFwiLFwiLGN3LFwiIFwiLHgxLFwiLFwiLHkxKSxwYXRoLnB1c2goXCJMXCIseDIsXCIsXCIseTIpLG51bGwhPXgzJiZwYXRoLnB1c2goXCJBXCIscjAsXCIsXCIscjAsXCIgMCBcIixsMCxcIixcIiwxLWN3LFwiIFwiLHgzLFwiLFwiLHkzKTtyZXR1cm4gcGF0aC5wdXNoKFwiWlwiKSxwYXRoLmpvaW4oXCJcIil9ZnVuY3Rpb24gY2lyY2xlU2VnbWVudChyMSxjdyl7cmV0dXJuXCJNMCxcIityMStcIkFcIityMStcIixcIityMStcIiAwIDEsXCIrY3crXCIgMCxcIistcjErXCJBXCIrcjErXCIsXCIrcjErXCIgMCAxLFwiK2N3K1wiIDAsXCIrcjF9dmFyIGlubmVyUmFkaXVzPWQzX3N2Z19hcmNJbm5lclJhZGl1cyxvdXRlclJhZGl1cz1kM19zdmdfYXJjT3V0ZXJSYWRpdXMsY29ybmVyUmFkaXVzPWQzX3plcm8scGFkUmFkaXVzPWQzX3N2Z19hcmNBdXRvLHN0YXJ0QW5nbGU9ZDNfc3ZnX2FyY1N0YXJ0QW5nbGUsZW5kQW5nbGU9ZDNfc3ZnX2FyY0VuZEFuZ2xlLHBhZEFuZ2xlPWQzX3N2Z19hcmNQYWRBbmdsZTtyZXR1cm4gYXJjLmlubmVyUmFkaXVzPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpbm5lclJhZGl1cz1kM19mdW5jdG9yKHYpLGFyYyk6aW5uZXJSYWRpdXN9LGFyYy5vdXRlclJhZGl1cz1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ob3V0ZXJSYWRpdXM9ZDNfZnVuY3Rvcih2KSxhcmMpOm91dGVyUmFkaXVzfSxhcmMuY29ybmVyUmFkaXVzPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjb3JuZXJSYWRpdXM9ZDNfZnVuY3Rvcih2KSxhcmMpOmNvcm5lclJhZGl1c30sYXJjLnBhZFJhZGl1cz1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocGFkUmFkaXVzPXY9PWQzX3N2Z19hcmNBdXRvP2QzX3N2Z19hcmNBdXRvOmQzX2Z1bmN0b3IodiksYXJjKTpwYWRSYWRpdXN9LGFyYy5zdGFydEFuZ2xlPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzdGFydEFuZ2xlPWQzX2Z1bmN0b3IodiksYXJjKTpzdGFydEFuZ2xlfSxhcmMuZW5kQW5nbGU9ZnVuY3Rpb24odil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGVuZEFuZ2xlPWQzX2Z1bmN0b3IodiksYXJjKTplbmRBbmdsZX0sYXJjLnBhZEFuZ2xlPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwYWRBbmdsZT1kM19mdW5jdG9yKHYpLGFyYyk6cGFkQW5nbGV9LGFyYy5jZW50cm9pZD1mdW5jdGlvbigpe3ZhciByPSgraW5uZXJSYWRpdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpKyArb3V0ZXJSYWRpdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpKS8yLGE9KCtzdGFydEFuZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSsgK2VuZEFuZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkvMi1oYWxmz4A7cmV0dXJuW01hdGguY29zKGEpKnIsTWF0aC5zaW4oYSkqcl19LGFyY307dmFyIGQzX3N2Z19hcmNBdXRvPVwiYXV0b1wiO2QzLnN2Zy5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3N2Z19saW5lKGQzX2lkZW50aXR5KX07dmFyIGQzX3N2Z19saW5lSW50ZXJwb2xhdG9ycz1kMy5tYXAoe2xpbmVhcjpkM19zdmdfbGluZUxpbmVhcixcImxpbmVhci1jbG9zZWRcIjpkM19zdmdfbGluZUxpbmVhckNsb3NlZCxzdGVwOmQzX3N2Z19saW5lU3RlcCxcInN0ZXAtYmVmb3JlXCI6ZDNfc3ZnX2xpbmVTdGVwQmVmb3JlLFwic3RlcC1hZnRlclwiOmQzX3N2Z19saW5lU3RlcEFmdGVyLGJhc2lzOmQzX3N2Z19saW5lQmFzaXMsXCJiYXNpcy1vcGVuXCI6ZDNfc3ZnX2xpbmVCYXNpc09wZW4sXCJiYXNpcy1jbG9zZWRcIjpkM19zdmdfbGluZUJhc2lzQ2xvc2VkLGJ1bmRsZTpkM19zdmdfbGluZUJ1bmRsZSxjYXJkaW5hbDpkM19zdmdfbGluZUNhcmRpbmFsLFwiY2FyZGluYWwtb3BlblwiOmQzX3N2Z19saW5lQ2FyZGluYWxPcGVuLFwiY2FyZGluYWwtY2xvc2VkXCI6ZDNfc3ZnX2xpbmVDYXJkaW5hbENsb3NlZCxtb25vdG9uZTpkM19zdmdfbGluZU1vbm90b25lfSk7ZDNfc3ZnX2xpbmVJbnRlcnBvbGF0b3JzLmZvckVhY2goZnVuY3Rpb24oa2V5LHZhbHVlKXt2YWx1ZS5rZXk9a2V5LHZhbHVlLmNsb3NlZD0vLWNsb3NlZCQvLnRlc3Qoa2V5KX0pO3ZhciBkM19zdmdfbGluZUJhc2lzQmV6aWVyMT1bMCwyLzMsMS8zLDBdLGQzX3N2Z19saW5lQmFzaXNCZXppZXIyPVswLDEvMywyLzMsMF0sZDNfc3ZnX2xpbmVCYXNpc0JlemllcjM9WzAsMS82LDIvMywxLzZdO2QzLnN2Zy5saW5lLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBsaW5lPWQzX3N2Z19saW5lKGQzX3N2Z19saW5lUmFkaWFsKTtyZXR1cm4gbGluZS5yYWRpdXM9bGluZS54LGRlbGV0ZSBsaW5lLngsbGluZS5hbmdsZT1saW5lLnksZGVsZXRlIGxpbmUueSxsaW5lfSxkM19zdmdfbGluZVN0ZXBCZWZvcmUucmV2ZXJzZT1kM19zdmdfbGluZVN0ZXBBZnRlcixkM19zdmdfbGluZVN0ZXBBZnRlci5yZXZlcnNlPWQzX3N2Z19saW5lU3RlcEJlZm9yZSxkMy5zdmcuYXJlYT1mdW5jdGlvbigpe3JldHVybiBkM19zdmdfYXJlYShkM19pZGVudGl0eSl9LGQzLnN2Zy5hcmVhLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBhcmVhPWQzX3N2Z19hcmVhKGQzX3N2Z19saW5lUmFkaWFsKTtyZXR1cm4gYXJlYS5yYWRpdXM9YXJlYS54LGRlbGV0ZSBhcmVhLngsYXJlYS5pbm5lclJhZGl1cz1hcmVhLngwLGRlbGV0ZSBhcmVhLngwLGFyZWEub3V0ZXJSYWRpdXM9YXJlYS54MSxkZWxldGUgYXJlYS54MSxhcmVhLmFuZ2xlPWFyZWEueSxkZWxldGUgYXJlYS55LGFyZWEuc3RhcnRBbmdsZT1hcmVhLnkwLGRlbGV0ZSBhcmVhLnkwLGFyZWEuZW5kQW5nbGU9YXJlYS55MSxkZWxldGUgYXJlYS55MSxhcmVhfSxkMy5zdmcuY2hvcmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjaG9yZChkLGkpe3ZhciBzPXN1Ymdyb3VwKHRoaXMsc291cmNlLGQsaSksdD1zdWJncm91cCh0aGlzLHRhcmdldCxkLGkpO3JldHVyblwiTVwiK3MucDArYXJjKHMucixzLnAxLHMuYTEtcy5hMCkrKGVxdWFscyhzLHQpP2N1cnZlKHMucixzLnAxLHMucixzLnAwKTpjdXJ2ZShzLnIscy5wMSx0LnIsdC5wMCkrYXJjKHQucix0LnAxLHQuYTEtdC5hMCkrY3VydmUodC5yLHQucDEscy5yLHMucDApKStcIlpcIn1mdW5jdGlvbiBzdWJncm91cChzZWxmLGYsZCxpKXt2YXIgc3ViZ3JvdXA9Zi5jYWxsKHNlbGYsZCxpKSxyPXJhZGl1cy5jYWxsKHNlbGYsc3ViZ3JvdXAsaSksYTA9c3RhcnRBbmdsZS5jYWxsKHNlbGYsc3ViZ3JvdXAsaSktaGFsZs+ALGExPWVuZEFuZ2xlLmNhbGwoc2VsZixzdWJncm91cCxpKS1oYWxmz4A7cmV0dXJue3I6cixhMDphMCxhMTphMSxwMDpbcipNYXRoLmNvcyhhMCkscipNYXRoLnNpbihhMCldLHAxOltyKk1hdGguY29zKGExKSxyKk1hdGguc2luKGExKV19fWZ1bmN0aW9uIGVxdWFscyhhLGIpe3JldHVybiBhLmEwPT1iLmEwJiZhLmExPT1iLmExfWZ1bmN0aW9uIGFyYyhyLHAsYSl7cmV0dXJuXCJBXCIrcitcIixcIityK1wiIDAgXCIrICsoYT7PgCkrXCIsMSBcIitwfWZ1bmN0aW9uIGN1cnZlKHIwLHAwLHIxLHAxKXtyZXR1cm5cIlEgMCwwIFwiK3AxfXZhciBzb3VyY2U9ZDNfc291cmNlLHRhcmdldD1kM190YXJnZXQscmFkaXVzPWQzX3N2Z19jaG9yZFJhZGl1cyxzdGFydEFuZ2xlPWQzX3N2Z19hcmNTdGFydEFuZ2xlLGVuZEFuZ2xlPWQzX3N2Z19hcmNFbmRBbmdsZTtyZXR1cm4gY2hvcmQucmFkaXVzPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyYWRpdXM9ZDNfZnVuY3Rvcih2KSxjaG9yZCk6cmFkaXVzfSxjaG9yZC5zb3VyY2U9ZnVuY3Rpb24odil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNvdXJjZT1kM19mdW5jdG9yKHYpLGNob3JkKTpzb3VyY2V9LGNob3JkLnRhcmdldD1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGFyZ2V0PWQzX2Z1bmN0b3IodiksY2hvcmQpOnRhcmdldH0sY2hvcmQuc3RhcnRBbmdsZT1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oc3RhcnRBbmdsZT1kM19mdW5jdG9yKHYpLGNob3JkKTpzdGFydEFuZ2xlfSxjaG9yZC5lbmRBbmdsZT1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZW5kQW5nbGU9ZDNfZnVuY3Rvcih2KSxjaG9yZCk6ZW5kQW5nbGV9LGNob3JkfSxkMy5zdmcuZGlhZ29uYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkaWFnb25hbChkLGkpe3ZhciBwMD1zb3VyY2UuY2FsbCh0aGlzLGQsaSkscDM9dGFyZ2V0LmNhbGwodGhpcyxkLGkpLG09KHAwLnkrcDMueSkvMixwPVtwMCx7eDpwMC54LHk6bX0se3g6cDMueCx5Om19LHAzXTtyZXR1cm4gcD1wLm1hcChwcm9qZWN0aW9uKSxcIk1cIitwWzBdK1wiQ1wiK3BbMV0rXCIgXCIrcFsyXStcIiBcIitwWzNdfXZhciBzb3VyY2U9ZDNfc291cmNlLHRhcmdldD1kM190YXJnZXQscHJvamVjdGlvbj1kM19zdmdfZGlhZ29uYWxQcm9qZWN0aW9uO3JldHVybiBkaWFnb25hbC5zb3VyY2U9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNvdXJjZT1kM19mdW5jdG9yKHgpLGRpYWdvbmFsKTpzb3VyY2V9LGRpYWdvbmFsLnRhcmdldD1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGFyZ2V0PWQzX2Z1bmN0b3IoeCksZGlhZ29uYWwpOnRhcmdldH0sZGlhZ29uYWwucHJvamVjdGlvbj1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocHJvamVjdGlvbj14LGRpYWdvbmFsKTpwcm9qZWN0aW9ufSxkaWFnb25hbH0sZDMuc3ZnLmRpYWdvbmFsLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBkaWFnb25hbD1kMy5zdmcuZGlhZ29uYWwoKSxwcm9qZWN0aW9uPWQzX3N2Z19kaWFnb25hbFByb2plY3Rpb24scHJvamVjdGlvbl89ZGlhZ29uYWwucHJvamVjdGlvbjtyZXR1cm4gZGlhZ29uYWwucHJvamVjdGlvbj1mdW5jdGlvbih4KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9wcm9qZWN0aW9uXyhkM19zdmdfZGlhZ29uYWxSYWRpYWxQcm9qZWN0aW9uKHByb2plY3Rpb249eCkpOnByb2plY3Rpb259LGRpYWdvbmFsfSxkMy5zdmcuc3ltYm9sPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gc3ltYm9sKGQsaSl7cmV0dXJuKGQzX3N2Z19zeW1ib2xzLmdldCh0eXBlLmNhbGwodGhpcyxkLGkpKXx8ZDNfc3ZnX3N5bWJvbENpcmNsZSkoc2l6ZS5jYWxsKHRoaXMsZCxpKSl9dmFyIHR5cGU9ZDNfc3ZnX3N5bWJvbFR5cGUsc2l6ZT1kM19zdmdfc3ltYm9sU2l6ZTtyZXR1cm4gc3ltYm9sLnR5cGU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHR5cGU9ZDNfZnVuY3Rvcih4KSxzeW1ib2wpOnR5cGV9LHN5bWJvbC5zaXplPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzaXplPWQzX2Z1bmN0b3IoeCksc3ltYm9sKTpzaXplfSxzeW1ib2x9O3ZhciBkM19zdmdfc3ltYm9scz1kMy5tYXAoe2NpcmNsZTpkM19zdmdfc3ltYm9sQ2lyY2xlLGNyb3NzOmZ1bmN0aW9uKHNpemUpe3ZhciByPU1hdGguc3FydChzaXplLzUpLzI7cmV0dXJuXCJNXCIrLTMqcitcIixcIistcitcIkhcIistcitcIlZcIistMypyK1wiSFwiK3IrXCJWXCIrLXIrXCJIXCIrMypyK1wiVlwiK3IrXCJIXCIrcitcIlZcIiszKnIrXCJIXCIrLXIrXCJWXCIrcitcIkhcIistMypyK1wiWlwifSxkaWFtb25kOmZ1bmN0aW9uKHNpemUpe3ZhciByeT1NYXRoLnNxcnQoc2l6ZS8oMipkM19zdmdfc3ltYm9sVGFuMzApKSxyeD1yeSpkM19zdmdfc3ltYm9sVGFuMzA7cmV0dXJuXCJNMCxcIistcnkrXCJMXCIrcngrXCIsMCAwLFwiK3J5K1wiIFwiKy1yeCtcIiwwWlwifSxzcXVhcmU6ZnVuY3Rpb24oc2l6ZSl7dmFyIHI9TWF0aC5zcXJ0KHNpemUpLzI7cmV0dXJuXCJNXCIrLXIrXCIsXCIrLXIrXCJMXCIrcitcIixcIistcitcIiBcIityK1wiLFwiK3IrXCIgXCIrLXIrXCIsXCIrcitcIlpcIn0sXCJ0cmlhbmdsZS1kb3duXCI6ZnVuY3Rpb24oc2l6ZSl7dmFyIHJ4PU1hdGguc3FydChzaXplL2QzX3N2Z19zeW1ib2xTcXJ0Mykscnk9cngqZDNfc3ZnX3N5bWJvbFNxcnQzLzI7cmV0dXJuXCJNMCxcIityeStcIkxcIityeCtcIixcIistcnkrXCIgXCIrLXJ4K1wiLFwiKy1yeStcIlpcIn0sXCJ0cmlhbmdsZS11cFwiOmZ1bmN0aW9uKHNpemUpe3ZhciByeD1NYXRoLnNxcnQoc2l6ZS9kM19zdmdfc3ltYm9sU3FydDMpLHJ5PXJ4KmQzX3N2Z19zeW1ib2xTcXJ0My8yO3JldHVyblwiTTAsXCIrLXJ5K1wiTFwiK3J4K1wiLFwiK3J5K1wiIFwiKy1yeCtcIixcIityeStcIlpcIn19KTtkMy5zdmcuc3ltYm9sVHlwZXM9ZDNfc3ZnX3N5bWJvbHMua2V5cygpO3ZhciBkM19zdmdfc3ltYm9sU3FydDM9TWF0aC5zcXJ0KDMpLGQzX3N2Z19zeW1ib2xUYW4zMD1NYXRoLnRhbigzMCpkM19yYWRpYW5zKTtkM19zZWxlY3Rpb25Qcm90b3R5cGUudHJhbnNpdGlvbj1mdW5jdGlvbihuYW1lKXtmb3IodmFyIHN1Ymdyb3VwLG5vZGUsaWQ9ZDNfdHJhbnNpdGlvbkluaGVyaXRJZHx8KytkM190cmFuc2l0aW9uSWQsbnM9ZDNfdHJhbnNpdGlvbk5hbWVzcGFjZShuYW1lKSxzdWJncm91cHM9W10sdHJhbnNpdGlvbj1kM190cmFuc2l0aW9uSW5oZXJpdHx8e3RpbWU6RGF0ZS5ub3coKSxlYXNlOmQzX2Vhc2VfY3ViaWNJbk91dCxkZWxheTowLGR1cmF0aW9uOjI1MH0saj0tMSxtPXRoaXMubGVuZ3RoOysrajxtOyl7c3ViZ3JvdXBzLnB1c2goc3ViZ3JvdXA9W10pO2Zvcih2YXIgZ3JvdXA9dGhpc1tqXSxpPS0xLG49Z3JvdXAubGVuZ3RoOysraTxuOykobm9kZT1ncm91cFtpXSkmJmQzX3RyYW5zaXRpb25Ob2RlKG5vZGUsaSxucyxpZCx0cmFuc2l0aW9uKSxzdWJncm91cC5wdXNoKG5vZGUpfXJldHVybiBkM190cmFuc2l0aW9uKHN1Ymdyb3VwcyxucyxpZCl9LGQzX3NlbGVjdGlvblByb3RvdHlwZS5pbnRlcnJ1cHQ9ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXMuZWFjaChudWxsPT1uYW1lP2QzX3NlbGVjdGlvbl9pbnRlcnJ1cHQ6ZDNfc2VsZWN0aW9uX2ludGVycnVwdE5TKGQzX3RyYW5zaXRpb25OYW1lc3BhY2UobmFtZSkpKX07dmFyIGQzX3RyYW5zaXRpb25Jbmhlcml0SWQsZDNfdHJhbnNpdGlvbkluaGVyaXQsZDNfc2VsZWN0aW9uX2ludGVycnVwdD1kM19zZWxlY3Rpb25faW50ZXJydXB0TlMoZDNfdHJhbnNpdGlvbk5hbWVzcGFjZSgpKSxkM190cmFuc2l0aW9uUHJvdG90eXBlPVtdLGQzX3RyYW5zaXRpb25JZD0wO2QzX3RyYW5zaXRpb25Qcm90b3R5cGUuY2FsbD1kM19zZWxlY3Rpb25Qcm90b3R5cGUuY2FsbCxkM190cmFuc2l0aW9uUHJvdG90eXBlLmVtcHR5PWQzX3NlbGVjdGlvblByb3RvdHlwZS5lbXB0eSxkM190cmFuc2l0aW9uUHJvdG90eXBlLm5vZGU9ZDNfc2VsZWN0aW9uUHJvdG90eXBlLm5vZGUsZDNfdHJhbnNpdGlvblByb3RvdHlwZS5zaXplPWQzX3NlbGVjdGlvblByb3RvdHlwZS5zaXplLGQzLnRyYW5zaXRpb249ZnVuY3Rpb24oc2VsZWN0aW9uLG5hbWUpe3JldHVybiBzZWxlY3Rpb24mJnNlbGVjdGlvbi50cmFuc2l0aW9uP2QzX3RyYW5zaXRpb25Jbmhlcml0SWQ/c2VsZWN0aW9uLnRyYW5zaXRpb24obmFtZSk6c2VsZWN0aW9uOmQzLnNlbGVjdGlvbigpLnRyYW5zaXRpb24oc2VsZWN0aW9uKX0sZDMudHJhbnNpdGlvbi5wcm90b3R5cGU9ZDNfdHJhbnNpdGlvblByb3RvdHlwZSxkM190cmFuc2l0aW9uUHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihzZWxlY3Rvcil7dmFyIHN1Ymdyb3VwLHN1Ym5vZGUsbm9kZSxpZD10aGlzLmlkLG5zPXRoaXMubmFtZXNwYWNlLHN1Ymdyb3Vwcz1bXTtzZWxlY3Rvcj1kM19zZWxlY3Rpb25fc2VsZWN0b3Ioc2VsZWN0b3IpO2Zvcih2YXIgaj0tMSxtPXRoaXMubGVuZ3RoOysrajxtOyl7c3ViZ3JvdXBzLnB1c2goc3ViZ3JvdXA9W10pO2Zvcih2YXIgZ3JvdXA9dGhpc1tqXSxpPS0xLG49Z3JvdXAubGVuZ3RoOysraTxuOykobm9kZT1ncm91cFtpXSkmJihzdWJub2RlPXNlbGVjdG9yLmNhbGwobm9kZSxub2RlLl9fZGF0YV9fLGksaikpPyhcIl9fZGF0YV9fXCJpbiBub2RlJiYoc3Vibm9kZS5fX2RhdGFfXz1ub2RlLl9fZGF0YV9fKSxkM190cmFuc2l0aW9uTm9kZShzdWJub2RlLGksbnMsaWQsbm9kZVtuc11baWRdKSxzdWJncm91cC5wdXNoKHN1Ym5vZGUpKTpzdWJncm91cC5wdXNoKG51bGwpfXJldHVybiBkM190cmFuc2l0aW9uKHN1Ymdyb3VwcyxucyxpZCl9LGQzX3RyYW5zaXRpb25Qcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKHNlbGVjdG9yKXt2YXIgc3ViZ3JvdXAsc3Vibm9kZXMsbm9kZSxzdWJub2RlLHRyYW5zaXRpb24saWQ9dGhpcy5pZCxucz10aGlzLm5hbWVzcGFjZSxzdWJncm91cHM9W107c2VsZWN0b3I9ZDNfc2VsZWN0aW9uX3NlbGVjdG9yQWxsKHNlbGVjdG9yKTtmb3IodmFyIGo9LTEsbT10aGlzLmxlbmd0aDsrK2o8bTspZm9yKHZhciBncm91cD10aGlzW2pdLGk9LTEsbj1ncm91cC5sZW5ndGg7KytpPG47KWlmKG5vZGU9Z3JvdXBbaV0pe3RyYW5zaXRpb249bm9kZVtuc11baWRdLHN1Ym5vZGVzPXNlbGVjdG9yLmNhbGwobm9kZSxub2RlLl9fZGF0YV9fLGksaiksc3ViZ3JvdXBzLnB1c2goc3ViZ3JvdXA9W10pO2Zvcih2YXIgaz0tMSxvPXN1Ym5vZGVzLmxlbmd0aDsrK2s8bzspKHN1Ym5vZGU9c3Vibm9kZXNba10pJiZkM190cmFuc2l0aW9uTm9kZShzdWJub2RlLGssbnMsaWQsdHJhbnNpdGlvbiksc3ViZ3JvdXAucHVzaChzdWJub2RlKX1yZXR1cm4gZDNfdHJhbnNpdGlvbihzdWJncm91cHMsbnMsaWQpfSxkM190cmFuc2l0aW9uUHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihmaWx0ZXIpe3ZhciBzdWJncm91cCxncm91cCxub2RlLHN1Ymdyb3Vwcz1bXTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBmaWx0ZXImJihmaWx0ZXI9ZDNfc2VsZWN0aW9uX2ZpbHRlcihmaWx0ZXIpKTtmb3IodmFyIGo9MCxtPXRoaXMubGVuZ3RoO20+ajtqKyspe3N1Ymdyb3Vwcy5wdXNoKHN1Ymdyb3VwPVtdKTtmb3IodmFyIGdyb3VwPXRoaXNbal0saT0wLG49Z3JvdXAubGVuZ3RoO24+aTtpKyspKG5vZGU9Z3JvdXBbaV0pJiZmaWx0ZXIuY2FsbChub2RlLG5vZGUuX19kYXRhX18saSxqKSYmc3ViZ3JvdXAucHVzaChub2RlKX1yZXR1cm4gZDNfdHJhbnNpdGlvbihzdWJncm91cHMsdGhpcy5uYW1lc3BhY2UsdGhpcy5pZCl9LGQzX3RyYW5zaXRpb25Qcm90b3R5cGUudHdlZW49ZnVuY3Rpb24obmFtZSx0d2Vlbil7dmFyIGlkPXRoaXMuaWQsbnM9dGhpcy5uYW1lc3BhY2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzLm5vZGUoKVtuc11baWRdLnR3ZWVuLmdldChuYW1lKTpkM19zZWxlY3Rpb25fZWFjaCh0aGlzLG51bGw9PXR3ZWVuP2Z1bmN0aW9uKG5vZGUpe25vZGVbbnNdW2lkXS50d2Vlbi5yZW1vdmUobmFtZSl9OmZ1bmN0aW9uKG5vZGUpe25vZGVbbnNdW2lkXS50d2Vlbi5zZXQobmFtZSx0d2Vlbil9KX0sZDNfdHJhbnNpdGlvblByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKG5hbWVOUyx2YWx1ZSl7ZnVuY3Rpb24gYXR0ck51bGwoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKX1mdW5jdGlvbiBhdHRyTnVsbE5TKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwpfWZ1bmN0aW9uIGF0dHJUd2VlbihiKXtyZXR1cm4gbnVsbD09Yj9hdHRyTnVsbDooYis9XCJcIixmdW5jdGlvbigpe3ZhciBpLGE9dGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7cmV0dXJuIGEhPT1iJiYoaT1pbnRlcnBvbGF0ZShhLGIpLGZ1bmN0aW9uKHQpe3RoaXMuc2V0QXR0cmlidXRlKG5hbWUsaSh0KSl9KX0pfWZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGIpe3JldHVybiBudWxsPT1iP2F0dHJOdWxsTlM6KGIrPVwiXCIsZnVuY3Rpb24oKXt2YXIgaSxhPXRoaXMuZ2V0QXR0cmlidXRlTlMobmFtZS5zcGFjZSxuYW1lLmxvY2FsKTtyZXR1cm4gYSE9PWImJihpPWludGVycG9sYXRlKGEsYiksZnVuY3Rpb24odCl7dGhpcy5zZXRBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwsaSh0KSl9KX0pfWlmKGFyZ3VtZW50cy5sZW5ndGg8Mil7Zm9yKHZhbHVlIGluIG5hbWVOUyl0aGlzLmF0dHIodmFsdWUsbmFtZU5TW3ZhbHVlXSk7cmV0dXJuIHRoaXN9dmFyIGludGVycG9sYXRlPVwidHJhbnNmb3JtXCI9PW5hbWVOUz9kM19pbnRlcnBvbGF0ZVRyYW5zZm9ybTpkM19pbnRlcnBvbGF0ZSxuYW1lPWQzLm5zLnF1YWxpZnkobmFtZU5TKTtyZXR1cm4gZDNfdHJhbnNpdGlvbl90d2Vlbih0aGlzLFwiYXR0ci5cIituYW1lTlMsdmFsdWUsbmFtZS5sb2NhbD9hdHRyVHdlZW5OUzphdHRyVHdlZW4pfSxkM190cmFuc2l0aW9uUHJvdG90eXBlLmF0dHJUd2Vlbj1mdW5jdGlvbihuYW1lTlMsdHdlZW4pe2Z1bmN0aW9uIGF0dHJUd2VlbihkLGkpe3ZhciBmPXR3ZWVuLmNhbGwodGhpcyxkLGksdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSkpO3JldHVybiBmJiZmdW5jdGlvbih0KXt0aGlzLnNldEF0dHJpYnV0ZShuYW1lLGYodCkpfX1mdW5jdGlvbiBhdHRyVHdlZW5OUyhkLGkpe3ZhciBmPXR3ZWVuLmNhbGwodGhpcyxkLGksdGhpcy5nZXRBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwpKTtyZXR1cm4gZiYmZnVuY3Rpb24odCl7dGhpcy5zZXRBdHRyaWJ1dGVOUyhuYW1lLnNwYWNlLG5hbWUubG9jYWwsZih0KSl9fXZhciBuYW1lPWQzLm5zLnF1YWxpZnkobmFtZU5TKTtyZXR1cm4gdGhpcy50d2VlbihcImF0dHIuXCIrbmFtZU5TLG5hbWUubG9jYWw/YXR0clR3ZWVuTlM6YXR0clR3ZWVuKX0sZDNfdHJhbnNpdGlvblByb3RvdHlwZS5zdHlsZT1mdW5jdGlvbihuYW1lLHZhbHVlLHByaW9yaXR5KXtmdW5jdGlvbiBzdHlsZU51bGwoKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpfWZ1bmN0aW9uIHN0eWxlU3RyaW5nKGIpe3JldHVybiBudWxsPT1iP3N0eWxlTnVsbDooYis9XCJcIixmdW5jdGlvbigpe3ZhciBpLGE9ZDNfd2luZG93KHRoaXMpLmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO3JldHVybiBhIT09YiYmKGk9ZDNfaW50ZXJwb2xhdGUoYSxiKSxmdW5jdGlvbih0KXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsaSh0KSxwcmlvcml0eSl9KX0pfXZhciBuPWFyZ3VtZW50cy5sZW5ndGg7aWYoMz5uKXtpZihcInN0cmluZ1wiIT10eXBlb2YgbmFtZSl7Mj5uJiYodmFsdWU9XCJcIik7Zm9yKHByaW9yaXR5IGluIG5hbWUpdGhpcy5zdHlsZShwcmlvcml0eSxuYW1lW3ByaW9yaXR5XSx2YWx1ZSk7cmV0dXJuIHRoaXN9cHJpb3JpdHk9XCJcIn1yZXR1cm4gZDNfdHJhbnNpdGlvbl90d2Vlbih0aGlzLFwic3R5bGUuXCIrbmFtZSx2YWx1ZSxzdHlsZVN0cmluZyl9LGQzX3RyYW5zaXRpb25Qcm90b3R5cGUuc3R5bGVUd2Vlbj1mdW5jdGlvbihuYW1lLHR3ZWVuLHByaW9yaXR5KXtmdW5jdGlvbiBzdHlsZVR3ZWVuKGQsaSl7dmFyIGY9dHdlZW4uY2FsbCh0aGlzLGQsaSxkM193aW5kb3codGhpcykuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLG51bGwpLmdldFByb3BlcnR5VmFsdWUobmFtZSkpO3JldHVybiBmJiZmdW5jdGlvbih0KXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsZih0KSxwcmlvcml0eSl9fXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihwcmlvcml0eT1cIlwiKSx0aGlzLnR3ZWVuKFwic3R5bGUuXCIrbmFtZSxzdHlsZVR3ZWVuKX0sZDNfdHJhbnNpdGlvblByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZDNfdHJhbnNpdGlvbl90d2Vlbih0aGlzLFwidGV4dFwiLHZhbHVlLGQzX3RyYW5zaXRpb25fdGV4dCl9LGQzX3RyYW5zaXRpb25Qcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIG5zPXRoaXMubmFtZXNwYWNlO3JldHVybiB0aGlzLmVhY2goXCJlbmQudHJhbnNpdGlvblwiLGZ1bmN0aW9uKCl7dmFyIHA7dGhpc1tuc10uY291bnQ8MiYmKHA9dGhpcy5wYXJlbnROb2RlKSYmcC5yZW1vdmVDaGlsZCh0aGlzKX0pfSxkM190cmFuc2l0aW9uUHJvdG90eXBlLmVhc2U9ZnVuY3Rpb24odmFsdWUpe3ZhciBpZD10aGlzLmlkLG5zPXRoaXMubmFtZXNwYWNlO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDE/dGhpcy5ub2RlKClbbnNdW2lkXS5lYXNlOihcImZ1bmN0aW9uXCIhPXR5cGVvZiB2YWx1ZSYmKHZhbHVlPWQzLmVhc2UuYXBwbHkoZDMsYXJndW1lbnRzKSksZDNfc2VsZWN0aW9uX2VhY2godGhpcyxmdW5jdGlvbihub2RlKXtub2RlW25zXVtpZF0uZWFzZT12YWx1ZX0pKX0sZDNfdHJhbnNpdGlvblByb3RvdHlwZS5kZWxheT1mdW5jdGlvbih2YWx1ZSl7dmFyIGlkPXRoaXMuaWQsbnM9dGhpcy5uYW1lc3BhY2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MT90aGlzLm5vZGUoKVtuc11baWRdLmRlbGF5OmQzX3NlbGVjdGlvbl9lYWNoKHRoaXMsXCJmdW5jdGlvblwiPT10eXBlb2YgdmFsdWU/ZnVuY3Rpb24obm9kZSxpLGope25vZGVbbnNdW2lkXS5kZWxheT0rdmFsdWUuY2FsbChub2RlLG5vZGUuX19kYXRhX18saSxqKX06KHZhbHVlPSt2YWx1ZSxmdW5jdGlvbihub2RlKXtub2RlW25zXVtpZF0uZGVsYXk9dmFsdWV9KSl9LGQzX3RyYW5zaXRpb25Qcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24odmFsdWUpe3ZhciBpZD10aGlzLmlkLG5zPXRoaXMubmFtZXNwYWNlO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDE/dGhpcy5ub2RlKClbbnNdW2lkXS5kdXJhdGlvbjpkM19zZWxlY3Rpb25fZWFjaCh0aGlzLFwiZnVuY3Rpb25cIj09dHlwZW9mIHZhbHVlP2Z1bmN0aW9uKG5vZGUsaSxqKXtub2RlW25zXVtpZF0uZHVyYXRpb249TWF0aC5tYXgoMSx2YWx1ZS5jYWxsKG5vZGUsbm9kZS5fX2RhdGFfXyxpLGopKX06KHZhbHVlPU1hdGgubWF4KDEsdmFsdWUpLGZ1bmN0aW9uKG5vZGUpe25vZGVbbnNdW2lkXS5kdXJhdGlvbj12YWx1ZX0pKX0sZDNfdHJhbnNpdGlvblByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3ZhciBpZD10aGlzLmlkLG5zPXRoaXMubmFtZXNwYWNlO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7dmFyIGluaGVyaXQ9ZDNfdHJhbnNpdGlvbkluaGVyaXQsaW5oZXJpdElkPWQzX3RyYW5zaXRpb25Jbmhlcml0SWQ7dHJ5e2QzX3RyYW5zaXRpb25Jbmhlcml0SWQ9aWQsZDNfc2VsZWN0aW9uX2VhY2godGhpcyxmdW5jdGlvbihub2RlLGksail7ZDNfdHJhbnNpdGlvbkluaGVyaXQ9bm9kZVtuc11baWRdLHR5cGUuY2FsbChub2RlLG5vZGUuX19kYXRhX18saSxqKX0pfWZpbmFsbHl7ZDNfdHJhbnNpdGlvbkluaGVyaXQ9aW5oZXJpdCxkM190cmFuc2l0aW9uSW5oZXJpdElkPWluaGVyaXRJZH19ZWxzZSBkM19zZWxlY3Rpb25fZWFjaCh0aGlzLGZ1bmN0aW9uKG5vZGUpe3ZhciB0cmFuc2l0aW9uPW5vZGVbbnNdW2lkXTsodHJhbnNpdGlvbi5ldmVudHx8KHRyYW5zaXRpb24uZXZlbnQ9ZDMuZGlzcGF0Y2goXCJzdGFydFwiLFwiZW5kXCIsXCJpbnRlcnJ1cHRcIikpKS5vbih0eXBlLGxpc3RlbmVyKX0pO3JldHVybiB0aGlzfSxkM190cmFuc2l0aW9uUHJvdG90eXBlLnRyYW5zaXRpb249ZnVuY3Rpb24oKXtmb3IodmFyIHN1Ymdyb3VwLGdyb3VwLG5vZGUsdHJhbnNpdGlvbixpZDA9dGhpcy5pZCxpZDE9KytkM190cmFuc2l0aW9uSWQsbnM9dGhpcy5uYW1lc3BhY2Usc3ViZ3JvdXBzPVtdLGo9MCxtPXRoaXMubGVuZ3RoO20+ajtqKyspe3N1Ymdyb3Vwcy5wdXNoKHN1Ymdyb3VwPVtdKTtmb3IodmFyIGdyb3VwPXRoaXNbal0saT0wLG49Z3JvdXAubGVuZ3RoO24+aTtpKyspKG5vZGU9Z3JvdXBbaV0pJiYodHJhbnNpdGlvbj1ub2RlW25zXVtpZDBdLGQzX3RyYW5zaXRpb25Ob2RlKG5vZGUsaSxucyxpZDEse3RpbWU6dHJhbnNpdGlvbi50aW1lLGVhc2U6dHJhbnNpdGlvbi5lYXNlLGRlbGF5OnRyYW5zaXRpb24uZGVsYXkrdHJhbnNpdGlvbi5kdXJhdGlvbixkdXJhdGlvbjp0cmFuc2l0aW9uLmR1cmF0aW9ufSkpLHN1Ymdyb3VwLnB1c2gobm9kZSl9cmV0dXJuIGQzX3RyYW5zaXRpb24oc3ViZ3JvdXBzLG5zLGlkMSl9LGQzLnN2Zy5heGlzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYXhpcyhnKXtnLmVhY2goZnVuY3Rpb24oKXt2YXIgdGlja1RyYW5zZm9ybSxnPWQzLnNlbGVjdCh0aGlzKSxzY2FsZTA9dGhpcy5fX2NoYXJ0X198fHNjYWxlLHNjYWxlMT10aGlzLl9fY2hhcnRfXz1zY2FsZS5jb3B5KCksdGlja3M9bnVsbD09dGlja1ZhbHVlcz9zY2FsZTEudGlja3M/c2NhbGUxLnRpY2tzLmFwcGx5KHNjYWxlMSx0aWNrQXJndW1lbnRzXyk6c2NhbGUxLmRvbWFpbigpOnRpY2tWYWx1ZXMsdGlja0Zvcm1hdD1udWxsPT10aWNrRm9ybWF0Xz9zY2FsZTEudGlja0Zvcm1hdD9zY2FsZTEudGlja0Zvcm1hdC5hcHBseShzY2FsZTEsdGlja0FyZ3VtZW50c18pOmQzX2lkZW50aXR5OnRpY2tGb3JtYXRfLHRpY2s9Zy5zZWxlY3RBbGwoXCIudGlja1wiKS5kYXRhKHRpY2tzLHNjYWxlMSksdGlja0VudGVyPXRpY2suZW50ZXIoKS5pbnNlcnQoXCJnXCIsXCIuZG9tYWluXCIpLmF0dHIoXCJjbGFzc1wiLFwidGlja1wiKS5zdHlsZShcIm9wYWNpdHlcIizOtSksdGlja0V4aXQ9ZDMudHJhbnNpdGlvbih0aWNrLmV4aXQoKSkuc3R5bGUoXCJvcGFjaXR5XCIszrUpLnJlbW92ZSgpLHRpY2tVcGRhdGU9ZDMudHJhbnNpdGlvbih0aWNrLm9yZGVyKCkpLnN0eWxlKFwib3BhY2l0eVwiLDEpLHRpY2tTcGFjaW5nPU1hdGgubWF4KGlubmVyVGlja1NpemUsMCkrdGlja1BhZGRpbmcscmFuZ2U9ZDNfc2NhbGVSYW5nZShzY2FsZTEpLHBhdGg9Zy5zZWxlY3RBbGwoXCIuZG9tYWluXCIpLmRhdGEoWzBdKSxwYXRoVXBkYXRlPShwYXRoLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixcImRvbWFpblwiKSxkMy50cmFuc2l0aW9uKHBhdGgpKTt0aWNrRW50ZXIuYXBwZW5kKFwibGluZVwiKSx0aWNrRW50ZXIuYXBwZW5kKFwidGV4dFwiKTt2YXIgeDEseDIseTEseTIsbGluZUVudGVyPXRpY2tFbnRlci5zZWxlY3QoXCJsaW5lXCIpLGxpbmVVcGRhdGU9dGlja1VwZGF0ZS5zZWxlY3QoXCJsaW5lXCIpLHRleHQ9dGljay5zZWxlY3QoXCJ0ZXh0XCIpLnRleHQodGlja0Zvcm1hdCksdGV4dEVudGVyPXRpY2tFbnRlci5zZWxlY3QoXCJ0ZXh0XCIpLHRleHRVcGRhdGU9dGlja1VwZGF0ZS5zZWxlY3QoXCJ0ZXh0XCIpLHNpZ249XCJ0b3BcIj09PW9yaWVudHx8XCJsZWZ0XCI9PT1vcmllbnQ/LTE6MTtpZihcImJvdHRvbVwiPT09b3JpZW50fHxcInRvcFwiPT09b3JpZW50Pyh0aWNrVHJhbnNmb3JtPWQzX3N2Z19heGlzWCx4MT1cInhcIix5MT1cInlcIix4Mj1cIngyXCIseTI9XCJ5MlwiLHRleHQuYXR0cihcImR5XCIsMD5zaWduP1wiMGVtXCI6XCIuNzFlbVwiKS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIikscGF0aFVwZGF0ZS5hdHRyKFwiZFwiLFwiTVwiK3JhbmdlWzBdK1wiLFwiK3NpZ24qb3V0ZXJUaWNrU2l6ZStcIlYwSFwiK3JhbmdlWzFdK1wiVlwiK3NpZ24qb3V0ZXJUaWNrU2l6ZSkpOih0aWNrVHJhbnNmb3JtPWQzX3N2Z19heGlzWSx4MT1cInlcIix5MT1cInhcIix4Mj1cInkyXCIseTI9XCJ4MlwiLHRleHQuYXR0cihcImR5XCIsXCIuMzJlbVwiKS5zdHlsZShcInRleHQtYW5jaG9yXCIsMD5zaWduP1wiZW5kXCI6XCJzdGFydFwiKSxwYXRoVXBkYXRlLmF0dHIoXCJkXCIsXCJNXCIrc2lnbipvdXRlclRpY2tTaXplK1wiLFwiK3JhbmdlWzBdK1wiSDBWXCIrcmFuZ2VbMV0rXCJIXCIrc2lnbipvdXRlclRpY2tTaXplKSksbGluZUVudGVyLmF0dHIoeTIsc2lnbippbm5lclRpY2tTaXplKSx0ZXh0RW50ZXIuYXR0cih5MSxzaWduKnRpY2tTcGFjaW5nKSxsaW5lVXBkYXRlLmF0dHIoeDIsMCkuYXR0cih5MixzaWduKmlubmVyVGlja1NpemUpLHRleHRVcGRhdGUuYXR0cih4MSwwKS5hdHRyKHkxLHNpZ24qdGlja1NwYWNpbmcpLHNjYWxlMS5yYW5nZUJhbmQpe3ZhciB4PXNjYWxlMSxkeD14LnJhbmdlQmFuZCgpLzI7c2NhbGUwPXNjYWxlMT1mdW5jdGlvbihkKXtyZXR1cm4geChkKStkeH19ZWxzZSBzY2FsZTAucmFuZ2VCYW5kP3NjYWxlMD1zY2FsZTE6dGlja0V4aXQuY2FsbCh0aWNrVHJhbnNmb3JtLHNjYWxlMSxzY2FsZTApO3RpY2tFbnRlci5jYWxsKHRpY2tUcmFuc2Zvcm0sc2NhbGUwLHNjYWxlMSksdGlja1VwZGF0ZS5jYWxsKHRpY2tUcmFuc2Zvcm0sc2NhbGUxLHNjYWxlMSl9KX12YXIgdGlja0Zvcm1hdF8sc2NhbGU9ZDMuc2NhbGUubGluZWFyKCksb3JpZW50PWQzX3N2Z19heGlzRGVmYXVsdE9yaWVudCxpbm5lclRpY2tTaXplPTYsb3V0ZXJUaWNrU2l6ZT02LHRpY2tQYWRkaW5nPTMsdGlja0FyZ3VtZW50c189WzEwXSx0aWNrVmFsdWVzPW51bGw7cmV0dXJuIGF4aXMuc2NhbGU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHNjYWxlPXgsYXhpcyk6c2NhbGV9LGF4aXMub3JpZW50PWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvcmllbnQ9eCBpbiBkM19zdmdfYXhpc09yaWVudHM/eCtcIlwiOmQzX3N2Z19heGlzRGVmYXVsdE9yaWVudCxheGlzKTpvcmllbnR9LGF4aXMudGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGlja0FyZ3VtZW50c189YXJndW1lbnRzLGF4aXMpOnRpY2tBcmd1bWVudHNffSxheGlzLnRpY2tWYWx1ZXM9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRpY2tWYWx1ZXM9eCxheGlzKTp0aWNrVmFsdWVzfSxheGlzLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRpY2tGb3JtYXRfPXgsYXhpcyk6dGlja0Zvcm1hdF99LGF4aXMudGlja1NpemU9ZnVuY3Rpb24oeCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gbj8oaW5uZXJUaWNrU2l6ZT0reCxvdXRlclRpY2tTaXplPSthcmd1bWVudHNbbi0xXSxheGlzKTppbm5lclRpY2tTaXplfSxheGlzLmlubmVyVGlja1NpemU9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGlubmVyVGlja1NpemU9K3gsYXhpcyk6aW5uZXJUaWNrU2l6ZX0sYXhpcy5vdXRlclRpY2tTaXplPWZ1bmN0aW9uKHgpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvdXRlclRpY2tTaXplPSt4LGF4aXMpOm91dGVyVGlja1NpemV9LGF4aXMudGlja1BhZGRpbmc9ZnVuY3Rpb24oeCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRpY2tQYWRkaW5nPSt4LFxuYXhpcyk6dGlja1BhZGRpbmd9LGF4aXMudGlja1N1YmRpdmlkZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZheGlzfSxheGlzfTt2YXIgZDNfc3ZnX2F4aXNEZWZhdWx0T3JpZW50PVwiYm90dG9tXCIsZDNfc3ZnX2F4aXNPcmllbnRzPXt0b3A6MSxyaWdodDoxLGJvdHRvbToxLGxlZnQ6MX07ZDMuc3ZnLmJydXNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYnJ1c2goZyl7Zy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9ZDMuc2VsZWN0KHRoaXMpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcImFsbFwiKS5zdHlsZShcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiLFwicmdiYSgwLDAsMCwwKVwiKS5vbihcIm1vdXNlZG93bi5icnVzaFwiLGJydXNoc3RhcnQpLm9uKFwidG91Y2hzdGFydC5icnVzaFwiLGJydXNoc3RhcnQpLGJhY2tncm91bmQ9Zy5zZWxlY3RBbGwoXCIuYmFja2dyb3VuZFwiKS5kYXRhKFswXSk7YmFja2dyb3VuZC5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJiYWNrZ3JvdW5kXCIpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLnN0eWxlKFwiY3Vyc29yXCIsXCJjcm9zc2hhaXJcIiksZy5zZWxlY3RBbGwoXCIuZXh0ZW50XCIpLmRhdGEoWzBdKS5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJleHRlbnRcIikuc3R5bGUoXCJjdXJzb3JcIixcIm1vdmVcIik7dmFyIHJlc2l6ZT1nLnNlbGVjdEFsbChcIi5yZXNpemVcIikuZGF0YShyZXNpemVzLGQzX2lkZW50aXR5KTtyZXNpemUuZXhpdCgpLnJlbW92ZSgpLHJlc2l6ZS5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCl7cmV0dXJuXCJyZXNpemUgXCIrZH0pLnN0eWxlKFwiY3Vyc29yXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQzX3N2Z19icnVzaEN1cnNvcltkXX0pLmFwcGVuZChcInJlY3RcIikuYXR0cihcInhcIixmdW5jdGlvbihkKXtyZXR1cm4vW2V3XSQvLnRlc3QoZCk/LTM6bnVsbH0pLmF0dHIoXCJ5XCIsZnVuY3Rpb24oZCl7cmV0dXJuL15bbnNdLy50ZXN0KGQpPy0zOm51bGx9KS5hdHRyKFwid2lkdGhcIiw2KS5hdHRyKFwiaGVpZ2h0XCIsNikuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikscmVzaXplLnN0eWxlKFwiZGlzcGxheVwiLGJydXNoLmVtcHR5KCk/XCJub25lXCI6bnVsbCk7dmFyIHJhbmdlLGdVcGRhdGU9ZDMudHJhbnNpdGlvbihnKSxiYWNrZ3JvdW5kVXBkYXRlPWQzLnRyYW5zaXRpb24oYmFja2dyb3VuZCk7eCYmKHJhbmdlPWQzX3NjYWxlUmFuZ2UoeCksYmFja2dyb3VuZFVwZGF0ZS5hdHRyKFwieFwiLHJhbmdlWzBdKS5hdHRyKFwid2lkdGhcIixyYW5nZVsxXS1yYW5nZVswXSkscmVkcmF3WChnVXBkYXRlKSkseSYmKHJhbmdlPWQzX3NjYWxlUmFuZ2UoeSksYmFja2dyb3VuZFVwZGF0ZS5hdHRyKFwieVwiLHJhbmdlWzBdKS5hdHRyKFwiaGVpZ2h0XCIscmFuZ2VbMV0tcmFuZ2VbMF0pLHJlZHJhd1koZ1VwZGF0ZSkpLHJlZHJhdyhnVXBkYXRlKX0pfWZ1bmN0aW9uIHJlZHJhdyhnKXtnLnNlbGVjdEFsbChcIi5yZXNpemVcIikuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGQpe3JldHVyblwidHJhbnNsYXRlKFwiK3hFeHRlbnRbKy9lJC8udGVzdChkKV0rXCIsXCIreUV4dGVudFsrL15zLy50ZXN0KGQpXStcIilcIn0pfWZ1bmN0aW9uIHJlZHJhd1goZyl7Zy5zZWxlY3QoXCIuZXh0ZW50XCIpLmF0dHIoXCJ4XCIseEV4dGVudFswXSksZy5zZWxlY3RBbGwoXCIuZXh0ZW50LC5uPnJlY3QsLnM+cmVjdFwiKS5hdHRyKFwid2lkdGhcIix4RXh0ZW50WzFdLXhFeHRlbnRbMF0pfWZ1bmN0aW9uIHJlZHJhd1koZyl7Zy5zZWxlY3QoXCIuZXh0ZW50XCIpLmF0dHIoXCJ5XCIseUV4dGVudFswXSksZy5zZWxlY3RBbGwoXCIuZXh0ZW50LC5lPnJlY3QsLnc+cmVjdFwiKS5hdHRyKFwiaGVpZ2h0XCIseUV4dGVudFsxXS15RXh0ZW50WzBdKX1mdW5jdGlvbiBicnVzaHN0YXJ0KCl7ZnVuY3Rpb24ga2V5ZG93bigpezMyPT1kMy5ldmVudC5rZXlDb2RlJiYoZHJhZ2dpbmd8fChjZW50ZXI9bnVsbCxvcmlnaW5bMF0tPXhFeHRlbnRbMV0sb3JpZ2luWzFdLT15RXh0ZW50WzFdLGRyYWdnaW5nPTIpLGQzX2V2ZW50UHJldmVudERlZmF1bHQoKSl9ZnVuY3Rpb24ga2V5dXAoKXszMj09ZDMuZXZlbnQua2V5Q29kZSYmMj09ZHJhZ2dpbmcmJihvcmlnaW5bMF0rPXhFeHRlbnRbMV0sb3JpZ2luWzFdKz15RXh0ZW50WzFdLGRyYWdnaW5nPTAsZDNfZXZlbnRQcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiBicnVzaG1vdmUoKXt2YXIgcG9pbnQ9ZDMubW91c2UodGFyZ2V0KSxtb3ZlZD0hMTtvZmZzZXQmJihwb2ludFswXSs9b2Zmc2V0WzBdLHBvaW50WzFdKz1vZmZzZXRbMV0pLGRyYWdnaW5nfHwoZDMuZXZlbnQuYWx0S2V5PyhjZW50ZXJ8fChjZW50ZXI9Wyh4RXh0ZW50WzBdK3hFeHRlbnRbMV0pLzIsKHlFeHRlbnRbMF0reUV4dGVudFsxXSkvMl0pLG9yaWdpblswXT14RXh0ZW50WysocG9pbnRbMF08Y2VudGVyWzBdKV0sb3JpZ2luWzFdPXlFeHRlbnRbKyhwb2ludFsxXTxjZW50ZXJbMV0pXSk6Y2VudGVyPW51bGwpLHJlc2l6aW5nWCYmbW92ZTEocG9pbnQseCwwKSYmKHJlZHJhd1goZyksbW92ZWQ9ITApLHJlc2l6aW5nWSYmbW92ZTEocG9pbnQseSwxKSYmKHJlZHJhd1koZyksbW92ZWQ9ITApLG1vdmVkJiYocmVkcmF3KGcpLGV2ZW50Xyh7dHlwZTpcImJydXNoXCIsbW9kZTpkcmFnZ2luZz9cIm1vdmVcIjpcInJlc2l6ZVwifSkpfWZ1bmN0aW9uIG1vdmUxKHBvaW50LHNjYWxlLGkpe3ZhciBtaW4sbWF4LHJhbmdlPWQzX3NjYWxlUmFuZ2Uoc2NhbGUpLHIwPXJhbmdlWzBdLHIxPXJhbmdlWzFdLHBvc2l0aW9uPW9yaWdpbltpXSxleHRlbnQ9aT95RXh0ZW50OnhFeHRlbnQsc2l6ZT1leHRlbnRbMV0tZXh0ZW50WzBdO3JldHVybiBkcmFnZ2luZyYmKHIwLT1wb3NpdGlvbixyMS09c2l6ZStwb3NpdGlvbiksbWluPShpP3lDbGFtcDp4Q2xhbXApP01hdGgubWF4KHIwLE1hdGgubWluKHIxLHBvaW50W2ldKSk6cG9pbnRbaV0sZHJhZ2dpbmc/bWF4PShtaW4rPXBvc2l0aW9uKStzaXplOihjZW50ZXImJihwb3NpdGlvbj1NYXRoLm1heChyMCxNYXRoLm1pbihyMSwyKmNlbnRlcltpXS1taW4pKSksbWluPnBvc2l0aW9uPyhtYXg9bWluLG1pbj1wb3NpdGlvbik6bWF4PXBvc2l0aW9uKSxleHRlbnRbMF0hPW1pbnx8ZXh0ZW50WzFdIT1tYXg/KGk/eUV4dGVudERvbWFpbj1udWxsOnhFeHRlbnREb21haW49bnVsbCxleHRlbnRbMF09bWluLGV4dGVudFsxXT1tYXgsITApOnZvaWQgMH1mdW5jdGlvbiBicnVzaGVuZCgpe2JydXNobW92ZSgpLGcuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwiYWxsXCIpLnNlbGVjdEFsbChcIi5yZXNpemVcIikuc3R5bGUoXCJkaXNwbGF5XCIsYnJ1c2guZW1wdHkoKT9cIm5vbmVcIjpudWxsKSxkMy5zZWxlY3QoXCJib2R5XCIpLnN0eWxlKFwiY3Vyc29yXCIsbnVsbCksdy5vbihcIm1vdXNlbW92ZS5icnVzaFwiLG51bGwpLm9uKFwibW91c2V1cC5icnVzaFwiLG51bGwpLm9uKFwidG91Y2htb3ZlLmJydXNoXCIsbnVsbCkub24oXCJ0b3VjaGVuZC5icnVzaFwiLG51bGwpLm9uKFwia2V5ZG93bi5icnVzaFwiLG51bGwpLm9uKFwia2V5dXAuYnJ1c2hcIixudWxsKSxkcmFnUmVzdG9yZSgpLGV2ZW50Xyh7dHlwZTpcImJydXNoZW5kXCJ9KX12YXIgY2VudGVyLG9mZnNldCx0YXJnZXQ9dGhpcyxldmVudFRhcmdldD1kMy5zZWxlY3QoZDMuZXZlbnQudGFyZ2V0KSxldmVudF89ZXZlbnQub2YodGFyZ2V0LGFyZ3VtZW50cyksZz1kMy5zZWxlY3QodGFyZ2V0KSxyZXNpemluZz1ldmVudFRhcmdldC5kYXR1bSgpLHJlc2l6aW5nWD0hL14obnxzKSQvLnRlc3QocmVzaXppbmcpJiZ4LHJlc2l6aW5nWT0hL14oZXx3KSQvLnRlc3QocmVzaXppbmcpJiZ5LGRyYWdnaW5nPWV2ZW50VGFyZ2V0LmNsYXNzZWQoXCJleHRlbnRcIiksZHJhZ1Jlc3RvcmU9ZDNfZXZlbnRfZHJhZ1N1cHByZXNzKHRhcmdldCksb3JpZ2luPWQzLm1vdXNlKHRhcmdldCksdz1kMy5zZWxlY3QoZDNfd2luZG93KHRhcmdldCkpLm9uKFwia2V5ZG93bi5icnVzaFwiLGtleWRvd24pLm9uKFwia2V5dXAuYnJ1c2hcIixrZXl1cCk7aWYoZDMuZXZlbnQuY2hhbmdlZFRvdWNoZXM/dy5vbihcInRvdWNobW92ZS5icnVzaFwiLGJydXNobW92ZSkub24oXCJ0b3VjaGVuZC5icnVzaFwiLGJydXNoZW5kKTp3Lm9uKFwibW91c2Vtb3ZlLmJydXNoXCIsYnJ1c2htb3ZlKS5vbihcIm1vdXNldXAuYnJ1c2hcIixicnVzaGVuZCksZy5pbnRlcnJ1cHQoKS5zZWxlY3RBbGwoXCIqXCIpLmludGVycnVwdCgpLGRyYWdnaW5nKW9yaWdpblswXT14RXh0ZW50WzBdLW9yaWdpblswXSxvcmlnaW5bMV09eUV4dGVudFswXS1vcmlnaW5bMV07ZWxzZSBpZihyZXNpemluZyl7dmFyIGV4PSsvdyQvLnRlc3QocmVzaXppbmcpLGV5PSsvXm4vLnRlc3QocmVzaXppbmcpO29mZnNldD1beEV4dGVudFsxLWV4XS1vcmlnaW5bMF0seUV4dGVudFsxLWV5XS1vcmlnaW5bMV1dLG9yaWdpblswXT14RXh0ZW50W2V4XSxvcmlnaW5bMV09eUV4dGVudFtleV19ZWxzZSBkMy5ldmVudC5hbHRLZXkmJihjZW50ZXI9b3JpZ2luLnNsaWNlKCkpO2cuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKS5zZWxlY3RBbGwoXCIucmVzaXplXCIpLnN0eWxlKFwiZGlzcGxheVwiLG51bGwpLGQzLnNlbGVjdChcImJvZHlcIikuc3R5bGUoXCJjdXJzb3JcIixldmVudFRhcmdldC5zdHlsZShcImN1cnNvclwiKSksZXZlbnRfKHt0eXBlOlwiYnJ1c2hzdGFydFwifSksYnJ1c2htb3ZlKCl9dmFyIHhFeHRlbnREb21haW4seUV4dGVudERvbWFpbixldmVudD1kM19ldmVudERpc3BhdGNoKGJydXNoLFwiYnJ1c2hzdGFydFwiLFwiYnJ1c2hcIixcImJydXNoZW5kXCIpLHg9bnVsbCx5PW51bGwseEV4dGVudD1bMCwwXSx5RXh0ZW50PVswLDBdLHhDbGFtcD0hMCx5Q2xhbXA9ITAscmVzaXplcz1kM19zdmdfYnJ1c2hSZXNpemVzWzBdO3JldHVybiBicnVzaC5ldmVudD1mdW5jdGlvbihnKXtnLmVhY2goZnVuY3Rpb24oKXt2YXIgZXZlbnRfPWV2ZW50Lm9mKHRoaXMsYXJndW1lbnRzKSxleHRlbnQxPXt4OnhFeHRlbnQseTp5RXh0ZW50LGk6eEV4dGVudERvbWFpbixqOnlFeHRlbnREb21haW59LGV4dGVudDA9dGhpcy5fX2NoYXJ0X198fGV4dGVudDE7dGhpcy5fX2NoYXJ0X189ZXh0ZW50MSxkM190cmFuc2l0aW9uSW5oZXJpdElkP2QzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZWFjaChcInN0YXJ0LmJydXNoXCIsZnVuY3Rpb24oKXt4RXh0ZW50RG9tYWluPWV4dGVudDAuaSx5RXh0ZW50RG9tYWluPWV4dGVudDAuaix4RXh0ZW50PWV4dGVudDAueCx5RXh0ZW50PWV4dGVudDAueSxldmVudF8oe3R5cGU6XCJicnVzaHN0YXJ0XCJ9KX0pLnR3ZWVuKFwiYnJ1c2g6YnJ1c2hcIixmdW5jdGlvbigpe3ZhciB4aT1kM19pbnRlcnBvbGF0ZUFycmF5KHhFeHRlbnQsZXh0ZW50MS54KSx5aT1kM19pbnRlcnBvbGF0ZUFycmF5KHlFeHRlbnQsZXh0ZW50MS55KTtyZXR1cm4geEV4dGVudERvbWFpbj15RXh0ZW50RG9tYWluPW51bGwsZnVuY3Rpb24odCl7eEV4dGVudD1leHRlbnQxLng9eGkodCkseUV4dGVudD1leHRlbnQxLnk9eWkodCksZXZlbnRfKHt0eXBlOlwiYnJ1c2hcIixtb2RlOlwicmVzaXplXCJ9KX19KS5lYWNoKFwiZW5kLmJydXNoXCIsZnVuY3Rpb24oKXt4RXh0ZW50RG9tYWluPWV4dGVudDEuaSx5RXh0ZW50RG9tYWluPWV4dGVudDEuaixldmVudF8oe3R5cGU6XCJicnVzaFwiLG1vZGU6XCJyZXNpemVcIn0pLGV2ZW50Xyh7dHlwZTpcImJydXNoZW5kXCJ9KX0pOihldmVudF8oe3R5cGU6XCJicnVzaHN0YXJ0XCJ9KSxldmVudF8oe3R5cGU6XCJicnVzaFwiLG1vZGU6XCJyZXNpemVcIn0pLGV2ZW50Xyh7dHlwZTpcImJydXNoZW5kXCJ9KSl9KX0sYnJ1c2gueD1mdW5jdGlvbih6KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD16LHJlc2l6ZXM9ZDNfc3ZnX2JydXNoUmVzaXplc1sheDw8MXwheV0sYnJ1c2gpOnh9LGJydXNoLnk9ZnVuY3Rpb24oeil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9eixyZXNpemVzPWQzX3N2Z19icnVzaFJlc2l6ZXNbIXg8PDF8IXldLGJydXNoKTp5fSxicnVzaC5jbGFtcD1mdW5jdGlvbih6KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeCYmeT8oeENsYW1wPSEhelswXSx5Q2xhbXA9ISF6WzFdKTp4P3hDbGFtcD0hIXo6eSYmKHlDbGFtcD0hIXopLGJydXNoKTp4JiZ5P1t4Q2xhbXAseUNsYW1wXTp4P3hDbGFtcDp5P3lDbGFtcDpudWxsfSxicnVzaC5leHRlbnQ9ZnVuY3Rpb24oeil7dmFyIHgwLHgxLHkwLHkxLHQ7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHgmJih4MD16WzBdLHgxPXpbMV0seSYmKHgwPXgwWzBdLHgxPXgxWzBdKSx4RXh0ZW50RG9tYWluPVt4MCx4MV0seC5pbnZlcnQmJih4MD14KHgwKSx4MT14KHgxKSkseDA+eDEmJih0PXgwLHgwPXgxLHgxPXQpLCh4MCE9eEV4dGVudFswXXx8eDEhPXhFeHRlbnRbMV0pJiYoeEV4dGVudD1beDAseDFdKSkseSYmKHkwPXpbMF0seTE9elsxXSx4JiYoeTA9eTBbMV0seTE9eTFbMV0pLHlFeHRlbnREb21haW49W3kwLHkxXSx5LmludmVydCYmKHkwPXkoeTApLHkxPXkoeTEpKSx5MD55MSYmKHQ9eTAseTA9eTEseTE9dCksKHkwIT15RXh0ZW50WzBdfHx5MSE9eUV4dGVudFsxXSkmJih5RXh0ZW50PVt5MCx5MV0pKSxicnVzaCk6KHgmJih4RXh0ZW50RG9tYWluPyh4MD14RXh0ZW50RG9tYWluWzBdLHgxPXhFeHRlbnREb21haW5bMV0pOih4MD14RXh0ZW50WzBdLHgxPXhFeHRlbnRbMV0seC5pbnZlcnQmJih4MD14LmludmVydCh4MCkseDE9eC5pbnZlcnQoeDEpKSx4MD54MSYmKHQ9eDAseDA9eDEseDE9dCkpKSx5JiYoeUV4dGVudERvbWFpbj8oeTA9eUV4dGVudERvbWFpblswXSx5MT15RXh0ZW50RG9tYWluWzFdKTooeTA9eUV4dGVudFswXSx5MT15RXh0ZW50WzFdLHkuaW52ZXJ0JiYoeTA9eS5pbnZlcnQoeTApLHkxPXkuaW52ZXJ0KHkxKSkseTA+eTEmJih0PXkwLHkwPXkxLHkxPXQpKSkseCYmeT9bW3gwLHkwXSxbeDEseTFdXTp4P1t4MCx4MV06eSYmW3kwLHkxXSl9LGJydXNoLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIGJydXNoLmVtcHR5KCl8fCh4RXh0ZW50PVswLDBdLHlFeHRlbnQ9WzAsMF0seEV4dGVudERvbWFpbj15RXh0ZW50RG9tYWluPW51bGwpLGJydXNofSxicnVzaC5lbXB0eT1mdW5jdGlvbigpe3JldHVybiEheCYmeEV4dGVudFswXT09eEV4dGVudFsxXXx8ISF5JiZ5RXh0ZW50WzBdPT15RXh0ZW50WzFdfSxkMy5yZWJpbmQoYnJ1c2gsZXZlbnQsXCJvblwiKX07dmFyIGQzX3N2Z19icnVzaEN1cnNvcj17bjpcIm5zLXJlc2l6ZVwiLGU6XCJldy1yZXNpemVcIixzOlwibnMtcmVzaXplXCIsdzpcImV3LXJlc2l6ZVwiLG53OlwibndzZS1yZXNpemVcIixuZTpcIm5lc3ctcmVzaXplXCIsc2U6XCJud3NlLXJlc2l6ZVwiLHN3OlwibmVzdy1yZXNpemVcIn0sZDNfc3ZnX2JydXNoUmVzaXplcz1bW1wiblwiLFwiZVwiLFwic1wiLFwid1wiLFwibndcIixcIm5lXCIsXCJzZVwiLFwic3dcIl0sW1wiZVwiLFwid1wiXSxbXCJuXCIsXCJzXCJdLFtdXSxkM190aW1lX2Zvcm1hdD1kM190aW1lLmZvcm1hdD1kM19sb2NhbGVfZW5VUy50aW1lRm9ybWF0LGQzX3RpbWVfZm9ybWF0VXRjPWQzX3RpbWVfZm9ybWF0LnV0YyxkM190aW1lX2Zvcm1hdElzbz1kM190aW1lX2Zvcm1hdFV0YyhcIiVZLSVtLSVkVCVIOiVNOiVTLiVMWlwiKTtkM190aW1lX2Zvcm1hdC5pc289RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcmJituZXcgRGF0ZShcIjIwMDAtMDEtMDFUMDA6MDA6MDAuMDAwWlwiKT9kM190aW1lX2Zvcm1hdElzb05hdGl2ZTpkM190aW1lX2Zvcm1hdElzbyxkM190aW1lX2Zvcm1hdElzb05hdGl2ZS5wYXJzZT1mdW5jdGlvbihzdHJpbmcpe3ZhciBkYXRlPW5ldyBEYXRlKHN0cmluZyk7cmV0dXJuIGlzTmFOKGRhdGUpP251bGw6ZGF0ZX0sZDNfdGltZV9mb3JtYXRJc29OYXRpdmUudG9TdHJpbmc9ZDNfdGltZV9mb3JtYXRJc28udG9TdHJpbmcsZDNfdGltZS5zZWNvbmQ9ZDNfdGltZV9pbnRlcnZhbChmdW5jdGlvbihkYXRlKXtyZXR1cm4gbmV3IGQzX2RhdGUoMWUzKk1hdGguZmxvb3IoZGF0ZS8xZTMpKX0sZnVuY3Rpb24oZGF0ZSxvZmZzZXQpe2RhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSsxZTMqTWF0aC5mbG9vcihvZmZzZXQpKX0sZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUuZ2V0U2Vjb25kcygpfSksZDNfdGltZS5zZWNvbmRzPWQzX3RpbWUuc2Vjb25kLnJhbmdlLGQzX3RpbWUuc2Vjb25kcy51dGM9ZDNfdGltZS5zZWNvbmQudXRjLnJhbmdlLGQzX3RpbWUubWludXRlPWQzX3RpbWVfaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIG5ldyBkM19kYXRlKDZlNCpNYXRoLmZsb29yKGRhdGUvNmU0KSl9LGZ1bmN0aW9uKGRhdGUsb2Zmc2V0KXtkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkrNmU0Kk1hdGguZmxvb3Iob2Zmc2V0KSl9LGZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLmdldE1pbnV0ZXMoKX0pLGQzX3RpbWUubWludXRlcz1kM190aW1lLm1pbnV0ZS5yYW5nZSxkM190aW1lLm1pbnV0ZXMudXRjPWQzX3RpbWUubWludXRlLnV0Yy5yYW5nZSxkM190aW1lLmhvdXI9ZDNfdGltZV9pbnRlcnZhbChmdW5jdGlvbihkYXRlKXt2YXIgdGltZXpvbmU9ZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLzYwO3JldHVybiBuZXcgZDNfZGF0ZSgzNmU1KihNYXRoLmZsb29yKGRhdGUvMzZlNS10aW1lem9uZSkrdGltZXpvbmUpKX0sZnVuY3Rpb24oZGF0ZSxvZmZzZXQpe2RhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSszNmU1Kk1hdGguZmxvb3Iob2Zmc2V0KSl9LGZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLmdldEhvdXJzKCl9KSxkM190aW1lLmhvdXJzPWQzX3RpbWUuaG91ci5yYW5nZSxkM190aW1lLmhvdXJzLnV0Yz1kM190aW1lLmhvdXIudXRjLnJhbmdlLGQzX3RpbWUubW9udGg9ZDNfdGltZV9pbnRlcnZhbChmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZT1kM190aW1lLmRheShkYXRlKSxkYXRlLnNldERhdGUoMSksZGF0ZX0sZnVuY3Rpb24oZGF0ZSxvZmZzZXQpe2RhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpK29mZnNldCl9LGZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLmdldE1vbnRoKCl9KSxkM190aW1lLm1vbnRocz1kM190aW1lLm1vbnRoLnJhbmdlLGQzX3RpbWUubW9udGhzLnV0Yz1kM190aW1lLm1vbnRoLnV0Yy5yYW5nZTt2YXIgZDNfdGltZV9zY2FsZVN0ZXBzPVsxZTMsNWUzLDE1ZTMsM2U0LDZlNCwzZTUsOWU1LDE4ZTUsMzZlNSwxMDhlNSwyMTZlNSw0MzJlNSw4NjRlNSwxNzI4ZTUsNjA0OGU1LDI1OTJlNiw3Nzc2ZTYsMzE1MzZlNl0sZDNfdGltZV9zY2FsZUxvY2FsTWV0aG9kcz1bW2QzX3RpbWUuc2Vjb25kLDFdLFtkM190aW1lLnNlY29uZCw1XSxbZDNfdGltZS5zZWNvbmQsMTVdLFtkM190aW1lLnNlY29uZCwzMF0sW2QzX3RpbWUubWludXRlLDFdLFtkM190aW1lLm1pbnV0ZSw1XSxbZDNfdGltZS5taW51dGUsMTVdLFtkM190aW1lLm1pbnV0ZSwzMF0sW2QzX3RpbWUuaG91ciwxXSxbZDNfdGltZS5ob3VyLDNdLFtkM190aW1lLmhvdXIsNl0sW2QzX3RpbWUuaG91ciwxMl0sW2QzX3RpbWUuZGF5LDFdLFtkM190aW1lLmRheSwyXSxbZDNfdGltZS53ZWVrLDFdLFtkM190aW1lLm1vbnRoLDFdLFtkM190aW1lLm1vbnRoLDNdLFtkM190aW1lLnllYXIsMV1dLGQzX3RpbWVfc2NhbGVMb2NhbEZvcm1hdD1kM190aW1lX2Zvcm1hdC5tdWx0aShbW1wiLiVMXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0TWlsbGlzZWNvbmRzKCl9XSxbXCI6JVNcIixmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRTZWNvbmRzKCl9XSxbXCIlSTolTVwiLGZ1bmN0aW9uKGQpe3JldHVybiBkLmdldE1pbnV0ZXMoKX1dLFtcIiVJICVwXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0SG91cnMoKX1dLFtcIiVhICVkXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0RGF5KCkmJjEhPWQuZ2V0RGF0ZSgpfV0sW1wiJWIgJWRcIixmdW5jdGlvbihkKXtyZXR1cm4gMSE9ZC5nZXREYXRlKCl9XSxbXCIlQlwiLGZ1bmN0aW9uKGQpe3JldHVybiBkLmdldE1vbnRoKCl9XSxbXCIlWVwiLGQzX3RydWVdXSksZDNfdGltZV9zY2FsZU1pbGxpc2Vjb25kcz17cmFuZ2U6ZnVuY3Rpb24oc3RhcnQsc3RvcCxzdGVwKXtyZXR1cm4gZDMucmFuZ2UoTWF0aC5jZWlsKHN0YXJ0L3N0ZXApKnN0ZXAsK3N0b3Asc3RlcCkubWFwKGQzX3RpbWVfc2NhbGVEYXRlKX0sZmxvb3I6ZDNfaWRlbnRpdHksY2VpbDpkM19pZGVudGl0eX07ZDNfdGltZV9zY2FsZUxvY2FsTWV0aG9kcy55ZWFyPWQzX3RpbWUueWVhcixkM190aW1lLnNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3RpbWVfc2NhbGUoZDMuc2NhbGUubGluZWFyKCksZDNfdGltZV9zY2FsZUxvY2FsTWV0aG9kcyxkM190aW1lX3NjYWxlTG9jYWxGb3JtYXQpfTt2YXIgZDNfdGltZV9zY2FsZVV0Y01ldGhvZHM9ZDNfdGltZV9zY2FsZUxvY2FsTWV0aG9kcy5tYXAoZnVuY3Rpb24obSl7cmV0dXJuW21bMF0udXRjLG1bMV1dfSksZDNfdGltZV9zY2FsZVV0Y0Zvcm1hdD1kM190aW1lX2Zvcm1hdFV0Yy5tdWx0aShbW1wiLiVMXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0VVRDTWlsbGlzZWNvbmRzKCl9XSxbXCI6JVNcIixmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRVVENTZWNvbmRzKCl9XSxbXCIlSTolTVwiLGZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFVUQ01pbnV0ZXMoKX1dLFtcIiVJICVwXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0VVRDSG91cnMoKX1dLFtcIiVhICVkXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0VVRDRGF5KCkmJjEhPWQuZ2V0VVRDRGF0ZSgpfV0sW1wiJWIgJWRcIixmdW5jdGlvbihkKXtyZXR1cm4gMSE9ZC5nZXRVVENEYXRlKCl9XSxbXCIlQlwiLGZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFVUQ01vbnRoKCl9XSxbXCIlWVwiLGQzX3RydWVdXSk7ZDNfdGltZV9zY2FsZVV0Y01ldGhvZHMueWVhcj1kM190aW1lLnllYXIudXRjLGQzX3RpbWUuc2NhbGUudXRjPWZ1bmN0aW9uKCl7cmV0dXJuIGQzX3RpbWVfc2NhbGUoZDMuc2NhbGUubGluZWFyKCksZDNfdGltZV9zY2FsZVV0Y01ldGhvZHMsZDNfdGltZV9zY2FsZVV0Y0Zvcm1hdCl9LGQzLnRleHQ9ZDNfeGhyVHlwZShmdW5jdGlvbihyZXF1ZXN0KXtyZXR1cm4gcmVxdWVzdC5yZXNwb25zZVRleHR9KSxkMy5qc29uPWZ1bmN0aW9uKHVybCxjYWxsYmFjayl7cmV0dXJuIGQzX3hocih1cmwsXCJhcHBsaWNhdGlvbi9qc29uXCIsZDNfanNvbixjYWxsYmFjayl9LGQzLmh0bWw9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gZDNfeGhyKHVybCxcInRleHQvaHRtbFwiLGQzX2h0bWwsY2FsbGJhY2spfSxkMy54bWw9ZDNfeGhyVHlwZShmdW5jdGlvbihyZXF1ZXN0KXtyZXR1cm4gcmVxdWVzdC5yZXNwb25zZVhNTH0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZDMpOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9ZDMpLHRoaXMuZDM9ZDN9KCk7IiwiIWZ1bmN0aW9uKGUsdCxuLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHJ0KGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtyPm47bisrKWR0KGVbbl0sdCl9ZnVuY3Rpb24gaXQoZSl7Zm9yKHZhciByLHQ9MCxuPWUubGVuZ3RoO24+dDt0Kyspcj1lW3RdLG50KHIsYltvdChyKV0pfWZ1bmN0aW9uIHN0KGUpe3JldHVybiBmdW5jdGlvbih0KXtqKHQpJiYoZHQodCxlKSxydCh0LnF1ZXJ5U2VsZWN0b3JBbGwodyksZSkpfX1mdW5jdGlvbiBvdChlKXt2YXIgdD1lLmdldEF0dHJpYnV0ZShcImlzXCIpLG49ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLHI9Uy5jYWxsKHksdD92K3QudG9VcHBlckNhc2UoKTpkK24pO3JldHVybiB0JiZyPi0xJiYhdXQobix0KT8tMTpyfWZ1bmN0aW9uIHV0KGUsdCl7cmV0dXJuLTE8dy5pbmRleE9mKGUrJ1tpcz1cIicrdCsnXCJdJyl9ZnVuY3Rpb24gYXQoZSl7dmFyIHQ9ZS5jdXJyZW50VGFyZ2V0LG49ZS5hdHRyQ2hhbmdlLHI9ZS5wcmV2VmFsdWUsaT1lLm5ld1ZhbHVlO1EmJnQuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJiZcInN0eWxlXCIhPT1lLmF0dHJOYW1lJiZ0LmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLmF0dHJOYW1lLG49PT1lW2FdP251bGw6cixuPT09ZVtsXT9udWxsOmkpfWZ1bmN0aW9uIGZ0KGUpe3ZhciB0PXN0KGUpO3JldHVybiBmdW5jdGlvbihlKXtYLnB1c2godCxlLnRhcmdldCl9fWZ1bmN0aW9uIGx0KGUpe0smJihLPSExLGUuY3VycmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGgsbHQpKSxydCgoZS50YXJnZXR8fHQpLnF1ZXJ5U2VsZWN0b3JBbGwodyksZS5kZXRhaWw9PT1vP286cyksQiYmcHQoKX1mdW5jdGlvbiBjdChlLHQpe3ZhciBuPXRoaXM7cS5jYWxsKG4sZSx0KSxHLmNhbGwobix7dGFyZ2V0Om59KX1mdW5jdGlvbiBodChlLHQpe0QoZSx0KSxldD9ldC5vYnNlcnZlKGUseik6KEomJihlLnNldEF0dHJpYnV0ZT1jdCxlW2ldPVooZSksZS5hZGRFdmVudExpc3RlbmVyKHAsRykpLGUuYWRkRXZlbnRMaXN0ZW5lcihjLGF0KSksZS5jcmVhdGVkQ2FsbGJhY2smJlEmJihlLmNyZWF0ZWQ9ITAsZS5jcmVhdGVkQ2FsbGJhY2soKSxlLmNyZWF0ZWQ9ITEpfWZ1bmN0aW9uIHB0KCl7Zm9yKHZhciBlLHQ9MCxuPUYubGVuZ3RoO24+dDt0KyspZT1GW3RdLEUuY29udGFpbnMoZSl8fChGLnNwbGljZSh0LDEpLGR0KGUsbykpfWZ1bmN0aW9uIGR0KGUsdCl7dmFyIG4scj1vdChlKTtyPi0xJiYodHQoZSxiW3JdKSxyPTAsdCE9PXN8fGVbc10/dD09PW8mJiFlW29dJiYoZVtzXT0hMSxlW29dPSEwLHI9MSk6KGVbb109ITEsZVtzXT0hMCxyPTEsQiYmUy5jYWxsKEYsZSk8MCYmRi5wdXNoKGUpKSxyJiYobj1lW3QrXCJDYWxsYmFja1wiXSkmJm4uY2FsbChlKSl9aWYoIShyIGluIHQpKXt2YXIgWCxHLFksWixldCx0dCxudCxpPVwiX19cIityKygxZTUqTWF0aC5yYW5kb20oKT4+MCkscz1cImF0dGFjaGVkXCIsbz1cImRldGFjaGVkXCIsdT1cImV4dGVuZHNcIixhPVwiQURESVRJT05cIixmPVwiTU9ESUZJQ0FUSU9OXCIsbD1cIlJFTU9WQUxcIixjPVwiRE9NQXR0ck1vZGlmaWVkXCIsaD1cIkRPTUNvbnRlbnRMb2FkZWRcIixwPVwiRE9NU3VidHJlZU1vZGlmaWVkXCIsZD1cIjxcIix2PVwiPVwiLG09L15bQS1aXVtBLVowLTldKig/Oi1bQS1aMC05XSspKyQvLGc9W1wiQU5OT1RBVElPTi1YTUxcIixcIkNPTE9SLVBST0ZJTEVcIixcIkZPTlQtRkFDRVwiLFwiRk9OVC1GQUNFLVNSQ1wiLFwiRk9OVC1GQUNFLVVSSVwiLFwiRk9OVC1GQUNFLUZPUk1BVFwiLFwiRk9OVC1GQUNFLU5BTUVcIixcIk1JU1NJTkctR0xZUEhcIl0seT1bXSxiPVtdLHc9XCJcIixFPXQuZG9jdW1lbnRFbGVtZW50LFM9eS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5sZW5ndGg7dC0tJiZ0aGlzW3RdIT09ZTspO3JldHVybiB0fSx4PW4ucHJvdG90eXBlLFQ9eC5oYXNPd25Qcm9wZXJ0eSxOPXguaXNQcm90b3R5cGVPZixDPW4uZGVmaW5lUHJvcGVydHksaz1uLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixMPW4uZ2V0T3duUHJvcGVydHlOYW1lcyxBPW4uZ2V0UHJvdG90eXBlT2YsTz1uLnNldFByb3RvdHlwZU9mLE09ISFuLl9fcHJvdG9fXyxfPW4uY3JlYXRlfHxmdW5jdGlvbiB2dChlKXtyZXR1cm4gZT8odnQucHJvdG90eXBlPWUsbmV3IHZ0KTp0aGlzfSxEPU98fChNP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX06TCYmaz9mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG4scj1MKHQpLGk9MCxzPXIubGVuZ3RoO3M+aTtpKyspbj1yW2ldLFQuY2FsbChlLG4pfHxDKGUsbixrKHQsbikpfXJldHVybiBmdW5jdGlvbih0LG4pe2RvIGUodCxuKTt3aGlsZSgobj1BKG4pKSYmIU4uY2FsbChuLHQpKTtyZXR1cm4gdH19KCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCllW25dPXRbbl07cmV0dXJuIGV9KSxQPWUuTXV0YXRpb25PYnNlcnZlcnx8ZS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLEg9KGUuSFRNTEVsZW1lbnR8fGUuRWxlbWVudHx8ZS5Ob2RlKS5wcm90b3R5cGUsQj0hTi5jYWxsKEgsRSksaj1CP2Z1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX06ZnVuY3Rpb24oZSl7cmV0dXJuIE4uY2FsbChILGUpfSxGPUImJltdLEk9SC5jbG9uZU5vZGUscT1ILnNldEF0dHJpYnV0ZSxSPUgucmVtb3ZlQXR0cmlidXRlLFU9dC5jcmVhdGVFbGVtZW50LHo9UCYme2F0dHJpYnV0ZXM6ITAsY2hhcmFjdGVyRGF0YTohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMH0sVz1QfHxmdW5jdGlvbihlKXtKPSExLEUucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLFcpfSxWPWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxlLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZS5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGUubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwxMCl9LCQ9ITEsSj0hMCxLPSEwLFE9ITA7T3x8TT8odHQ9ZnVuY3Rpb24oZSx0KXtOLmNhbGwodCxlKXx8aHQoZSx0KX0sbnQ9aHQpOih0dD1mdW5jdGlvbihlLHQpe2VbaV18fChlW2ldPW4oITApLGh0KGUsdCkpfSxudD10dCksQj8oSj0hMSxmdW5jdGlvbigpe3ZhciBlPWsoSCxcImFkZEV2ZW50TGlzdGVuZXJcIiksdD1lLnZhbHVlLG49ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEN1c3RvbUV2ZW50KGMse2J1YmJsZXM6ITB9KTt0LmF0dHJOYW1lPWUsdC5wcmV2VmFsdWU9dGhpcy5nZXRBdHRyaWJ1dGUoZSksdC5uZXdWYWx1ZT1udWxsLHRbbF09dC5hdHRyQ2hhbmdlPTIsUi5jYWxsKHRoaXMsZSksdGhpcy5kaXNwYXRjaEV2ZW50KHQpfSxyPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5oYXNBdHRyaWJ1dGUoZSkscj1uJiZ0aGlzLmdldEF0dHJpYnV0ZShlKSxpPW5ldyBDdXN0b21FdmVudChjLHtidWJibGVzOiEwfSk7cS5jYWxsKHRoaXMsZSx0KSxpLmF0dHJOYW1lPWUsaS5wcmV2VmFsdWU9bj9yOm51bGwsaS5uZXdWYWx1ZT10LG4/aVtmXT1pLmF0dHJDaGFuZ2U9MTppW2FdPWkuYXR0ckNoYW5nZT0wLHRoaXMuZGlzcGF0Y2hFdmVudChpKX0scz1mdW5jdGlvbihlKXt2YXIgcyx0PWUuY3VycmVudFRhcmdldCxuPXRbaV0scj1lLnByb3BlcnR5TmFtZTtuLmhhc093blByb3BlcnR5KHIpJiYobj1uW3JdLHM9bmV3IEN1c3RvbUV2ZW50KGMse2J1YmJsZXM6ITB9KSxzLmF0dHJOYW1lPW4ubmFtZSxzLnByZXZWYWx1ZT1uLnZhbHVlfHxudWxsLHMubmV3VmFsdWU9bi52YWx1ZT10W3JdfHxudWxsLG51bGw9PXMucHJldlZhbHVlP3NbYV09cy5hdHRyQ2hhbmdlPTA6c1tmXT1zLmF0dHJDaGFuZ2U9MSx0LmRpc3BhdGNoRXZlbnQocykpfTtlLnZhbHVlPWZ1bmN0aW9uKGUsbyx1KXtlPT09YyYmdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJnRoaXMuc2V0QXR0cmlidXRlIT09ciYmKHRoaXNbaV09e2NsYXNzTmFtZTp7bmFtZTpcImNsYXNzXCIsdmFsdWU6dGhpcy5jbGFzc05hbWV9fSx0aGlzLnNldEF0dHJpYnV0ZT1yLHRoaXMucmVtb3ZlQXR0cmlidXRlPW4sdC5jYWxsKHRoaXMsXCJwcm9wZXJ0eWNoYW5nZVwiLHMpKSx0LmNhbGwodGhpcyxlLG8sdSl9LEMoSCxcImFkZEV2ZW50TGlzdGVuZXJcIixlKX0oKSk6UHx8KEUuYWRkRXZlbnRMaXN0ZW5lcihjLFcpLEUuc2V0QXR0cmlidXRlKGksMSksRS5yZW1vdmVBdHRyaWJ1dGUoaSksSiYmKEc9ZnVuY3Rpb24oZSl7dmFyIG4scixzLHQ9dGhpcztpZih0PT09ZS50YXJnZXQpe249dFtpXSx0W2ldPXI9Wih0KTtmb3IocyBpbiByKXtpZighKHMgaW4gbikpcmV0dXJuIFkoMCx0LHMsbltzXSxyW3NdLGEpO2lmKHJbc10hPT1uW3NdKXJldHVybiBZKDEsdCxzLG5bc10scltzXSxmKX1mb3IocyBpbiBuKWlmKCEocyBpbiByKSlyZXR1cm4gWSgyLHQscyxuW3NdLHJbc10sbCl9fSxZPWZ1bmN0aW9uKGUsdCxuLHIsaSxzKXt2YXIgbz17YXR0ckNoYW5nZTplLGN1cnJlbnRUYXJnZXQ6dCxhdHRyTmFtZTpuLHByZXZWYWx1ZTpyLG5ld1ZhbHVlOml9O29bc109ZSxhdChvKX0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPXt9LGk9ZS5hdHRyaWJ1dGVzLHM9MCxvPWkubGVuZ3RoO28+cztzKyspdD1pW3NdLG49dC5uYW1lLFwic2V0QXR0cmlidXRlXCIhPT1uJiYocltuXT10LnZhbHVlKTtyZXR1cm4gcn0pKSx0W3JdPWZ1bmN0aW9uKG4scil7aWYocD1uLnRvVXBwZXJDYXNlKCksJHx8KCQ9ITAsUD8oZXQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtyPm47dChlW24rK10pKTt9cmV0dXJuIG5ldyBQKGZ1bmN0aW9uKHIpe2Zvcih2YXIgaSxzLG89MCx1PXIubGVuZ3RoO3U+bztvKyspaT1yW29dLFwiY2hpbGRMaXN0XCI9PT1pLnR5cGU/KG4oaS5hZGRlZE5vZGVzLGUpLG4oaS5yZW1vdmVkTm9kZXMsdCkpOihzPWkudGFyZ2V0LFEmJnMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJiZcInN0eWxlXCIhPT1pLmF0dHJpYnV0ZU5hbWUmJnMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGkuYXR0cmlidXRlTmFtZSxpLm9sZFZhbHVlLHMuZ2V0QXR0cmlidXRlKGkuYXR0cmlidXRlTmFtZSkpKX0pfShzdChzKSxzdChvKSksZXQub2JzZXJ2ZSh0LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pKTooWD1bXSxWKGZ1bmN0aW9uIEUoKXtmb3IoO1gubGVuZ3RoOylYLnNoaWZ0KCkuY2FsbChudWxsLFguc2hpZnQoKSk7VihFKX0pLHQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZFwiLGZ0KHMpKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLGZ0KG8pKSksdC5hZGRFdmVudExpc3RlbmVyKGgsbHQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixsdCksdC5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGUsbil7dmFyIHI9VS5hcHBseSh0LGFyZ3VtZW50cyksaT1cIlwiK2Uscz1TLmNhbGwoeSwobj92OmQpKyhufHxpKS50b1VwcGVyQ2FzZSgpKSxvPXM+LTE7cmV0dXJuIG4mJihyLnNldEF0dHJpYnV0ZShcImlzXCIsbj1uLnRvTG93ZXJDYXNlKCkpLG8mJihvPXV0KGkudG9VcHBlckNhc2UoKSxuKSkpLFE9IXQuY3JlYXRlRWxlbWVudC5pbm5lckhUTUxIZWxwZXIsbyYmbnQocixiW3NdKSxyfSxILmNsb25lTm9kZT1mdW5jdGlvbihlKXt2YXIgdD1JLmNhbGwodGhpcywhIWUpLG49b3QodCk7cmV0dXJuIG4+LTEmJm50KHQsYltuXSksZSYmaXQodC5xdWVyeVNlbGVjdG9yQWxsKHcpKSx0fSksLTI8Uy5jYWxsKHksditwKStTLmNhbGwoeSxkK3ApKXRocm93IG5ldyBFcnJvcihcIkEgXCIrbitcIiB0eXBlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKTtpZighbS50ZXN0KHApfHwtMTxTLmNhbGwoZyxwKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdHlwZSBcIituK1wiIGlzIGludmFsaWRcIik7dmFyIHAsaT1mdW5jdGlvbigpe3JldHVybiBmP3QuY3JlYXRlRWxlbWVudChsLHApOnQuY3JlYXRlRWxlbWVudChsKX0sYT1yfHx4LGY9VC5jYWxsKGEsdSksbD1mP3JbdV0udG9VcHBlckNhc2UoKTpwLGM9eS5wdXNoKChmP3Y6ZCkrcCktMTtyZXR1cm4gdz13LmNvbmNhdCh3Lmxlbmd0aD9cIixcIjpcIlwiLGY/bCsnW2lzPVwiJytuLnRvTG93ZXJDYXNlKCkrJ1wiXSc6bCksaS5wcm90b3R5cGU9YltjXT1ULmNhbGwoYSxcInByb3RvdHlwZVwiKT9hLnByb3RvdHlwZTpfKEgpLHJ0KHQucXVlcnlTZWxlY3RvckFsbCh3KSxzKSxpfX19KHdpbmRvdyxkb2N1bWVudCxPYmplY3QsXCJyZWdpc3RlckVsZW1lbnRcIik7IiwiIWZ1bmN0aW9uKGZvcm1kYil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZm9yRWFjaChsaXN0LGZuLHRoYXQpe3JldHVybiBBUlJBWS5mb3JFYWNoLmNhbGwobGlzdCxmbix0aGF0fHxsaXN0KX1mdW5jdGlvbiBmaWx0ZXIobGlzdCxmbix0aGF0KXtyZXR1cm4gQVJSQVkuZmlsdGVyLmNhbGwobGlzdCxmbix0aGF0fHxsaXN0KX1mdW5jdGlvbiBzbGljZShsaXN0LHN0YXJ0LGxlbil7cmV0dXJuIEFSUkFZLnNsaWNlLmNhbGwobGlzdCxzdGFydCxsZW4pfWZvcm1kYi52ZXJzaW9uPVwiMC4yLjBcIjt2YXIgRm9ybT1mdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGZvcm1kYi5Gb3JtPyh0aGlzLmVsZW1lbnQ9XCJvYmplY3RcIj09dHlwZW9mIGVsZW1lbnQ/ZWxlbWVudDpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnR8fFwiZm9ybVwiKSx0aGlzLl9pbnB1dHM9XCJbbmFtZV1cIix2b2lkIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpKTpuZXcgZm9ybWRiLkZvcm0oZWxlbWVudCl9LExJU1RFTkVSX1BST1BFUlRZPVwiX2VsZW1lbnRkYl9saXN0ZW5lclwiO0Zvcm0ucHJvdG90eXBlPXtnZXREYXRhOmZ1bmN0aW9uKCl7dmFyIGRhdGE9e307cmV0dXJuIHRoaXMuZ2V0SW5wdXRzKCkuZm9yRWFjaChmdW5jdGlvbihpbnB1dCl7Zm9ybWRiLnJlYWRJbnB1dChpbnB1dCxkYXRhKX0pLGRhdGF9LHNldERhdGE6ZnVuY3Rpb24oZGF0YSl7Zm9yKHZhciBrZXkgaW4gZGF0YSl0aGlzLnNldChrZXksZGF0YVtrZXldKTtyZXR1cm4gdGhpc30sZ2V0OmZ1bmN0aW9uKGtleSl7dmFyIGRhdGE9e307cmV0dXJuIHRoaXMuZ2V0SW5wdXRzQnlOYW1lKGtleSkuZm9yRWFjaChmdW5jdGlvbihpbnB1dCl7Zm9ybWRiLnJlYWRJbnB1dChpbnB1dCxkYXRhKX0pLGRhdGFba2V5XX0sc2V0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7dmFyIGRhdGE9e307cmV0dXJuIGRhdGFba2V5XT12YWx1ZSx0aGlzLmdldElucHV0c0J5TmFtZShrZXkpLmZvckVhY2goZnVuY3Rpb24oaW5wdXQpe2Zvcm1kYi53cml0ZUlucHV0KGlucHV0LGRhdGEpfSksdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQucmVzZXQpdGhpcy5lbGVtZW50LnJlc2V0KCk7ZWxzZXt2YXIgZGF0YT17fTt0aGlzLmdldElucHV0cygpLmZvckVhY2goZnVuY3Rpb24oaW5wdXQpe2Zvcm1kYi53cml0ZUlucHV0KGlucHV0LGRhdGEpfSl9cmV0dXJuIHRoaXN9LGdldElucHV0czpmdW5jdGlvbihmaWx0ZXIpe3ZhciBpbnB1dHM9c2xpY2UodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRzKSk7cmV0dXJuIGZpbHRlcj9pbnB1dHMuZmlsdGVyKGZpbHRlcik6aW5wdXRzfSxnZXRJbnB1dHNCeU5hbWU6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRzKGZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gaW5wdXQubmFtZT09bmFtZX0pfSxvbjpmdW5jdGlvbih0eXBlLGNhbGxiYWNrKXt2YXIgbGlzdGVuZXIsc2VsZj10aGlzO2lmKHR5cGUubWF0Y2goL15jaGFuZ2U6Lykpe3ZhciBuYW1lPXR5cGUuc3BsaXQoXCI6XCIpLnBvcCgpO2xpc3RlbmVyPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRhcmdldC5uYW1lPT09bmFtZT9jYWxsYmFjay5jYWxsKHNlbGYsZS50YXJnZXQudmFsdWUsZSk6dm9pZCAwfSxjYWxsYmFja1tMSVNURU5FUl9QUk9QRVJUWV09bGlzdGVuZXIsdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixsaXN0ZW5lcil9ZWxzZVwiY2hhbmdlXCI9PT10eXBlfHxcInN1Ym1pdFwiPT09dHlwZT8obGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoc2VsZixzZWxmLmdldERhdGEoKSxlKX0sY2FsbGJhY2tbTElTVEVORVJfUFJPUEVSVFldPWxpc3RlbmVyLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsbGlzdGVuZXIpKTp0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLGNhbGxiYWNrKTtyZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKHR5cGUsY2FsbGJhY2spe3JldHVybiB0eXBlLm1hdGNoKC9eY2hhbmdlOi8pJiYodHlwZT1cImNoYW5nZVwiKSx0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLGNhbGxiYWNrW0xJU1RFTkVSX1BST1BFUlRZXXx8Y2FsbGJhY2spLHRoaXN9LF9vbkNsaWNrOmZ1bmN0aW9uKGUpe3ZhciB0YXJnZXQ9ZS50YXJnZXQ7XCJzdWJtaXRcIj09PXRhcmdldC50eXBlJiZ0aGlzLmdldElucHV0cyhmdW5jdGlvbihpbnB1dCl7cmV0dXJuXCJzdWJtaXRcIj09PWlucHV0LnR5cGV9KS5mb3JFYWNoKGZ1bmN0aW9uKGlucHV0KXtpbnB1dC5wcmVzc2VkPWlucHV0PT09dGFyZ2V0fSl9fSxmb3JtZGIuRm9ybT1Gb3JtLGZvcm1kYi52YWxpZElucHV0PWZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gaW5wdXQubmFtZSYmIWlucHV0LmRpc2FibGVkfSxmb3JtZGIucmVhZElucHV0PWZ1bmN0aW9uKGlucHV0LGRhdGEpe2lmKCFmb3JtZGIudmFsaWRJbnB1dChpbnB1dCkpcmV0dXJuITE7dmFyIHZhbHVlO3N3aXRjaChpbnB1dC50eXBlKXtjYXNlXCJzZWxlY3Qtb25lXCI6dmFsdWU9aW5wdXQub3B0aW9uc1tpbnB1dC5zZWxlY3RlZEluZGV4XS52YWx1ZTticmVhaztjYXNlXCJzZWxlY3QtbXVsdGlwbGVcIjp2YWx1ZT1maWx0ZXIoaW5wdXQucXVlcnlTZWxlY3RvckFsbChcIm9wdGlvblwiKSxmdW5jdGlvbihvcHRpb24pe3JldHVybiBvcHRpb24uc2VsZWN0ZWR9KS5tYXAoZnVuY3Rpb24ob3B0aW9uKXtyZXR1cm4gb3B0aW9uLnZhbHVlfSk7YnJlYWs7Y2FzZVwiY2hlY2tib3hcIjppZighaW5wdXQuY2hlY2tlZClicmVhazt2YWx1ZT1kYXRhW2lucHV0Lm5hbWVdLEFycmF5LmlzQXJyYXkodmFsdWUpP3ZhbHVlLnB1c2goaW5wdXQudmFsdWUpOnZhbHVlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB2YWx1ZT9bdmFsdWUsaW5wdXQudmFsdWV8fCEwXTppbnB1dC52YWx1ZXx8ITA7YnJlYWs7Y2FzZVwicmFkaW9cIjppbnB1dC5jaGVja2VkJiYodmFsdWU9aW5wdXQudmFsdWUpO2JyZWFrO2Nhc2VcInN1Ym1pdFwiOmlucHV0LnByZXNzZWQmJih2YWx1ZT1pbnB1dC52YWx1ZSk7YnJlYWs7ZGVmYXVsdDp2YWx1ZT1pbnB1dC52YWx1ZX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgdmFsdWUmJlwiXCIhPT12YWx1ZT8oZGF0YVtpbnB1dC5uYW1lXT12YWx1ZSwhMCk6ITF9LGZvcm1kYi53cml0ZUlucHV0PWZ1bmN0aW9uKGlucHV0LGRhdGEpe2lmKCFmb3JtZGIudmFsaWRJbnB1dChpbnB1dCkpcmV0dXJuITE7dmFyIHZhbHVlPWRhdGFbaW5wdXQubmFtZV18fFwiXCIsbGlzdD1BcnJheS5pc0FycmF5KHZhbHVlKT92YWx1ZTpbdmFsdWVdO3N3aXRjaChsaXN0PWxpc3QubWFwKFN0cmluZyksaW5wdXQudHlwZSl7Y2FzZVwic2VsZWN0LW9uZVwiOnJldHVybiBmb3JFYWNoKGlucHV0Lm9wdGlvbnMsZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQ9b3B0aW9uLnZhbHVlPT12YWx1ZX0pLCEwO2Nhc2VcInNlbGVjdC1tdWx0aXBsZVwiOnJldHVybiBmb3JFYWNoKGlucHV0Lm9wdGlvbnMsZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQ9bGlzdC5pbmRleE9mKG9wdGlvbi52YWx1ZSk+LTF9KSwhMDtjYXNlXCJjaGVja2JveFwiOnJldHVybiBpbnB1dC5jaGVja2VkPWlucHV0LnZhbHVlP2xpc3QuaW5kZXhPZihpbnB1dC52YWx1ZSk+LTE6ISF2YWx1ZSwhMDtjYXNlXCJyYWRpb1wiOnJldHVybiBpbnB1dC5jaGVja2VkPXZhbHVlPT1pbnB1dC52YWx1ZSwhMH1yZXR1cm4gaW5wdXQudmFsdWU9dmFsdWUsITB9O3ZhciBBUlJBWT1bXX0oXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0czp0aGlzLmZvcm1kYj17fSk7IiwiZnVuY3Rpb24gYmluZE9iamVjdChub2RlLGRhdGEsZGlyZWN0aXZlcyl7Zm9yKHZhciBrZXkgaW4gZGF0YSlkYXRhLmhhc093blByb3BlcnR5KGtleSkmJmJpbmRLZXkobm9kZSxrZXksZGF0YVtrZXldLGRpcmVjdGl2ZXNba2V5XSk7cmV0dXJuIG5vZGV9ZnVuY3Rpb24gYmluZEFycmF5KG5vZGUsZGF0YSxkaXJlY3RpdmVzKXt2YXIgbm9kZXM9Z2V0Q2hpbGRyZW4obm9kZSksdGVtcGxhdGU9bm9kZVtBUlJBWV9URU1QTEFURV18fChub2RlW0FSUkFZX1RFTVBMQVRFXT1ub2Rlc1swXSksbm9kZUNvdW50PW5vZGVzLmxlbmd0aCxkYXRhQ291bnQ9ZGF0YS5sZW5ndGg7aWYoZGF0YUNvdW50Pm5vZGVDb3VudClmb3IodmFyIGxhc3Q9bm9kZXNbbm9kZUNvdW50LTFdfHx0ZW1wbGF0ZTtkYXRhQ291bnQ+bm9kZUNvdW50Oyl7dmFyIGNsb25lPXRlbXBsYXRlLmNsb25lTm9kZSghMCk7bm9kZUNvdW50PW5vZGVzLnB1c2gobm9kZS5pbnNlcnRCZWZvcmUoY2xvbmUsbGFzdC5uZXh0U2libGluZykpLGxhc3Q9Y2xvbmV9ZWxzZSBpZihub2RlQ291bnQ+ZGF0YUNvdW50KWZvcig7bm9kZUNvdW50PmRhdGFDb3VudDspe3ZhciBjaGlsZD1ub2Rlcy5zaGlmdCgpO25vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpLG5vZGVDb3VudC0tfWZvcih2YXIgaT0wO2RhdGFDb3VudD5pO2krKyl0YWdhbG9uZyhub2Rlc1tpXSxkYXRhW2ldLGRpcmVjdGl2ZXMpO3JldHVybiBub2RlfWZ1bmN0aW9uIGJpbmRLZXkobm9kZSxrZXksdmFsdWUsZGlyZWN0aXZlcyl7dmFyIHRhcmdldD1maW5kS2V5Tm9kZShub2RlLGtleSk7cmV0dXJuIHRhcmdldD90YWdhbG9uZyh0YXJnZXQsdmFsdWUsZGlyZWN0aXZlcyk6ITF9ZnVuY3Rpb24gYmluZFNjYWxhcihub2RlLGRhdGEsZGlyZWN0aXZlcyl7dmFyIHN0cmluZ2lmeT1kaXJlY3RpdmVzLnN0cmluZ2lmeXx8U3RyaW5nO3JldHVybiBub2RlLnRleHRDb250ZW50PXN0cmluZ2lmeS5jYWxsKG5vZGUsZGF0YSksbm9kZX1mdW5jdGlvbiBmaW5kS2V5Tm9kZShub2RlLGtleSl7dmFyIGNsYXNzZWQ9bm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGtleSlbMF07aWYoY2xhc3NlZClyZXR1cm4gY2xhc3NlZDtmb3IodmFyIGNoaWxkcmVuPW5vZGUucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWJpbmRdXCIpLGk9MCxsZW49Y2hpbGRyZW4ubGVuZ3RoO2xlbj5pO2krKylpZihjaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIik9PWtleSlyZXR1cm4gY2hpbGRyZW5baV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gZ2V0Q2hpbGRyZW4obm9kZSl7Zm9yKHZhciBjaGlsZHJlbj1bXSxjaGlsZD1ub2RlLmZpcnN0Q2hpbGQ7Y2hpbGQ7Y2hpbGQ9Y2hpbGQubmV4dFNpYmxpbmcpMT09PWNoaWxkLm5vZGVUeXBlJiZjaGlsZHJlbi5wdXNoKGNoaWxkKTtyZXR1cm4gY2hpbGRyZW59ZnVuY3Rpb24gYXBwbHlEaXJlY3RpdmVzKG5vZGUsZGF0YSxkaXJlY3RpdmVzKXtmdW5jdGlvbiBhY2Nlc3Moa2V5LGF0dHIpe3ZhciB2YWx1ZT1kaXJlY3RpdmVzW2tleV07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdmFsdWU/dmFsdWUuY2FsbChub2RlLGRhdGEpOnZhbHVlPT09ITA/ZGF0YVthdHRyfHxrZXldOlwib2JqZWN0XCI9PXR5cGVvZiB2YWx1ZT92YWx1ZTpkYXRhW3ZhbHVlXX12YXIgaW50ZXJwb2xhdGVkO2Zvcih2YXIga2V5IGluIGRpcmVjdGl2ZXMpaWYoXCJAXCI9PT1rZXkuY2hhckF0KDApKXt2YXIgYXR0cj1rZXkuc3Vic3RyKDEpLHZhbHVlPWFjY2VzcyhrZXksYXR0cil8fFwiXCI7bm9kZS5zZXRBdHRyaWJ1dGUoYXR0cix2YWx1ZSl9ZWxzZXtzd2l0Y2goa2V5KXtjYXNlXCJ0ZXh0XCI6bm9kZS50ZXh0Q29udGVudD1hY2Nlc3Moa2V5KXx8XCJcIn1cIm9iamVjdFwiPT10eXBlb2YgZGlyZWN0aXZlc1trZXldP2JpbmRLZXkobm9kZSxrZXksZGF0YSxkaXJlY3RpdmVzW2tleV0pOihpbnRlcnBvbGF0ZWR8fChpbnRlcnBvbGF0ZWQ9e30pLGludGVycG9sYXRlZFtrZXldPWFjY2VzcyhrZXkpKX1yZXR1cm4gaW50ZXJwb2xhdGVkP3RhZ2Fsb25nKG5vZGUsaW50ZXJwb2xhdGVkKTpub2RlfWZ1bmN0aW9uIGV4cGFuZEtleXMob2JqKXt2YXIgZXhwYW5kZWQ9e307Zm9yKHZhciBrZXkgaW4gb2JqKWlmKGtleS5pbmRleE9mKFwiLlwiKT4wKWZvcih2YXIgYml0cz1rZXkuc3BsaXQoXCIuXCIpLHZhbHVlPW9ialtrZXldLGQ9ZXhwYW5kZWQ7Yml0cy5sZW5ndGg7KWQ9ZFtiaXRzLnNoaWZ0KCldPWJpdHMubGVuZ3RoP3t9OnZhbHVlO2Vsc2UgZXhwYW5kZWRba2V5XT1vYmpba2V5XTtyZXR1cm4gZXhwYW5kZWR9Y29uc3QgQVJSQVlfVEVNUExBVEU9XCJfX2FycmF5X3RlbXBsYXRlX19cIjt2YXIgdGFnYWxvbmc9ZnVuY3Rpb24obm9kZSxkYXRhLGRpcmVjdGl2ZXMpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBub2RlKXt2YXIgc2VsZWN0b3I9bm9kZTtpZihub2RlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobm9kZSksIW5vZGUpdGhyb3cgbmV3IEVycm9yKFwibm8gc3VjaCBlbGVtZW50OiBcIitzZWxlY3Rvcil9cmV0dXJuIGRpcmVjdGl2ZXM9XCJvYmplY3RcIj09dHlwZW9mIGRpcmVjdGl2ZXM/ZXhwYW5kS2V5cyhkaXJlY3RpdmVzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkaXJlY3RpdmVzP2RpcmVjdGl2ZXMuY2FsbChub2RlLGRhdGEpfHx7fTp7fSxBcnJheS5pc0FycmF5KGRhdGEpP2JpbmRBcnJheShub2RlLGRhdGEsZGlyZWN0aXZlcyk6KGFwcGx5RGlyZWN0aXZlcyhub2RlLGRhdGEsZGlyZWN0aXZlcyksXCJvYmplY3RcIj09dHlwZW9mIGRhdGE/YmluZE9iamVjdChub2RlLGRhdGEsZGlyZWN0aXZlcyk6YmluZFNjYWxhcihub2RlLGRhdGEsZGlyZWN0aXZlcykpfTt0YWdhbG9uZy5vYmplY3Q9YmluZE9iamVjdCx0YWdhbG9uZy5hcnJheT1iaW5kQXJyYXksdGFnYWxvbmcuc2NhbGFyPWJpbmRTY2FsYXIsbW9kdWxlLmV4cG9ydHM9dGFnYWxvbmc7IiwiZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCl7ZHJhaW5pbmc9ITEsY3VycmVudFF1ZXVlLmxlbmd0aD9xdWV1ZT1jdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTpxdWV1ZUluZGV4PS0xLHF1ZXVlLmxlbmd0aCYmZHJhaW5RdWV1ZSgpfWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZighZHJhaW5pbmcpe3ZhciB0aW1lb3V0PXNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtkcmFpbmluZz0hMDtmb3IodmFyIGxlbj1xdWV1ZS5sZW5ndGg7bGVuOyl7Zm9yKGN1cnJlbnRRdWV1ZT1xdWV1ZSxxdWV1ZT1bXTsrK3F1ZXVlSW5kZXg8bGVuOyljdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7cXVldWVJbmRleD0tMSxsZW49cXVldWUubGVuZ3RofWN1cnJlbnRRdWV1ZT1udWxsLGRyYWluaW5nPSExLGNsZWFyVGltZW91dCh0aW1lb3V0KX19ZnVuY3Rpb24gSXRlbShmdW4sYXJyYXkpe3RoaXMuZnVuPWZ1bix0aGlzLmFycmF5PWFycmF5fWZ1bmN0aW9uIG5vb3AoKXt9dmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e30scXVldWU9W10sZHJhaW5pbmc9ITEsY3VycmVudFF1ZXVlLHF1ZXVlSW5kZXg9LTE7cHJvY2Vzcy5uZXh0VGljaz1mdW5jdGlvbihmdW4pe3ZhciBhcmdzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWFyZ3NbaS0xXT1hcmd1bWVudHNbaV07cXVldWUucHVzaChuZXcgSXRlbShmdW4sYXJncykpLDEhPT1xdWV1ZS5sZW5ndGh8fGRyYWluaW5nfHxzZXRUaW1lb3V0KGRyYWluUXVldWUsMCl9LEl0ZW0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHByb2Nlc3MudGl0bGU9XCJicm93c2VyXCIscHJvY2Vzcy5icm93c2VyPSEwLHByb2Nlc3MuZW52PXt9LHByb2Nlc3MuYXJndj1bXSxwcm9jZXNzLnZlcnNpb249XCJcIixwcm9jZXNzLnZlcnNpb25zPXt9LHByb2Nlc3Mub249bm9vcCxwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5vbmNlPW5vb3AscHJvY2Vzcy5vZmY9bm9vcCxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcCxwcm9jZXNzLmVtaXQ9bm9vcCxwcm9jZXNzLmJpbmRpbmc9ZnVuY3Rpb24obmFtZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHByb2Nlc3MuY2hkaXI9ZnVuY3Rpb24oZGlyKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH07IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLHByb3Ape3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLHByb3ApfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHFzLHNlcCxlcSxvcHRpb25zKXtzZXA9c2VwfHxcIiZcIixlcT1lcXx8XCI9XCI7dmFyIG9iaj17fTtpZihcInN0cmluZ1wiIT10eXBlb2YgcXN8fDA9PT1xcy5sZW5ndGgpcmV0dXJuIG9iajt2YXIgcmVnZXhwPS9cXCsvZztxcz1xcy5zcGxpdChzZXApO3ZhciBtYXhLZXlzPTFlMztvcHRpb25zJiZcIm51bWJlclwiPT10eXBlb2Ygb3B0aW9ucy5tYXhLZXlzJiYobWF4S2V5cz1vcHRpb25zLm1heEtleXMpO3ZhciBsZW49cXMubGVuZ3RoO21heEtleXM+MCYmbGVuPm1heEtleXMmJihsZW49bWF4S2V5cyk7Zm9yKHZhciBpPTA7bGVuPmk7KytpKXt2YXIga3N0cix2c3RyLGssdix4PXFzW2ldLnJlcGxhY2UocmVnZXhwLFwiJTIwXCIpLGlkeD14LmluZGV4T2YoZXEpO2lkeD49MD8oa3N0cj14LnN1YnN0cigwLGlkeCksdnN0cj14LnN1YnN0cihpZHgrMSkpOihrc3RyPXgsdnN0cj1cIlwiKSxrPWRlY29kZVVSSUNvbXBvbmVudChrc3RyKSx2PWRlY29kZVVSSUNvbXBvbmVudCh2c3RyKSxoYXNPd25Qcm9wZXJ0eShvYmosayk/aXNBcnJheShvYmpba10pP29ialtrXS5wdXNoKHYpOm9ialtrXT1bb2JqW2tdLHZdOm9ialtrXT12fXJldHVybiBvYmp9O3ZhciBpc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHhzKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpfTsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBtYXAoeHMsZil7aWYoeHMubWFwKXJldHVybiB4cy5tYXAoZik7Zm9yKHZhciByZXM9W10saT0wO2k8eHMubGVuZ3RoO2krKylyZXMucHVzaChmKHhzW2ldLGkpKTtyZXR1cm4gcmVzfXZhciBzdHJpbmdpZnlQcmltaXRpdmU9ZnVuY3Rpb24odil7c3dpdGNoKHR5cGVvZiB2KXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdjtjYXNlXCJib29sZWFuXCI6cmV0dXJuIHY/XCJ0cnVlXCI6XCJmYWxzZVwiO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc0Zpbml0ZSh2KT92OlwiXCI7ZGVmYXVsdDpyZXR1cm5cIlwifX07bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob2JqLHNlcCxlcSxuYW1lKXtyZXR1cm4gc2VwPXNlcHx8XCImXCIsZXE9ZXF8fFwiPVwiLG51bGw9PT1vYmomJihvYmo9dm9pZCAwKSxcIm9iamVjdFwiPT10eXBlb2Ygb2JqP21hcChvYmplY3RLZXlzKG9iaiksZnVuY3Rpb24oayl7dmFyIGtzPWVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpK2VxO3JldHVybiBpc0FycmF5KG9ialtrXSk/bWFwKG9ialtrXSxmdW5jdGlvbih2KXtyZXR1cm4ga3MrZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSl9KS5qb2luKHNlcCk6a3MrZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKX0pLmpvaW4oc2VwKTpuYW1lP2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpK2VxK2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk6XCJcIn07dmFyIGlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oeHMpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cyl9LG9iamVjdEtleXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKG9iail7dmFyIHJlcz1bXTtmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiZyZXMucHVzaChrZXkpO3JldHVybiByZXN9OyIsIlwidXNlIHN0cmljdFwiO2V4cG9ydHMuZGVjb2RlPWV4cG9ydHMucGFyc2U9cmVxdWlyZShcIi4vZGVjb2RlXCIpLGV4cG9ydHMuZW5jb2RlPWV4cG9ydHMuc3RyaW5naWZ5PXJlcXVpcmUoXCIuL2VuY29kZVwiKTsiXX0=
